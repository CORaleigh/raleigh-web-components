"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[407],{28210:function(e,t,r){r.r(t),r.d(t,{DictionaryLoader:function(){return w}});var n=r(93433),i=r(1413),o=r(29439),s=r(74165),a=r(37762),u=r(15861),l=r(15671),c=r(43144),p=r(78674),f=r(57714),y=r(23132),d=r(17436),h=r(75610),v=r(50526),m=r(3114),b=(r(66307),r(2760),r(25316),r(21583),r(91204),r(80262),r(30709),r(70441),r(36460),r(50448),r(22144),y.s.getLogger("esri.renderers.support.DictionaryLoader")),g={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}},w=function(){function e(t,r,n){(0,l.Z)(this,e),this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new d.e(100),this.url=t,this.config=r,this.fieldMap=n}return(0,c.Z)(e,[{key:"getSymbolFields",value:function(){return this._symbolFields}},{key:"getSymbolAsync",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,r){var n,i,o,u,l,c,f,d,v,m,b,g,w,x,k,S,Z,_,j,I,M,P,D,E,N,R,V=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r)),e.prev=1,e.next=4,this._dictionaryPromise;case 4:n=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(0,y.u)(e.t0)){e.next=11;break}return e.abrupt("return",(this._dictionaryPromise=null,null));case 11:if(i={},this.fieldMap){o=(0,a.Z)(this._symbolFields);try{for(o.s();!(u=o.n()).done;)l=u.value,(c=this.fieldMap[l])&&null!=t.attributes[c]?(f=""+t.attributes[c],i[l]=f):i[l]=""}catch(s){o.e(s)}finally{o.f()}}if((d=n(i,r))&&"string"==typeof d){e.next=16;break}return e.abrupt("return",null);case 16:if(v=(0,y.$)(d).toString(),!(m=this._symbolCache.get(v))){e.next=19;break}return e.abrupt("return",(m.catch((function(){V._symbolCache.pop(v)})),m));case 19:b=d.split(";"),g=[],w=[],x=(0,a.Z)(b),e.prev=21,x.s();case 23:if((k=x.n()).done){e.next=55;break}if(!(S=k.value)){e.next=53;break}if(!S.includes("po:")){e.next=31;break}3===(Z=S.substr(3).split("|")).length&&(_=Z[0],j=Z[1],I=Z[2],"DashTemplate"===j?I=I.split(" ").map((function(e){return Number(e)})):"Color"===j?(M=new p.l(I).toRgba(),I=[M[0],M[1],M[2],255*M[3]]):I=Number(I),w.push({primitiveName:_,propertyName:j,value:I})),e.next=53;break;case 31:if(!S.includes("|")){e.next=52;break}P=(0,a.Z)(S.split("|")),e.prev=33,P.s();case 35:if((D=P.n()).done){e.next=42;break}if(E=D.value,!this._itemNames.has(E)){e.next=40;break}return g.push(E),e.abrupt("break",42);case 40:e.next=35;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(33),P.e(e.t1);case 47:return e.prev=47,P.f(),e.finish(47);case 50:e.next=53;break;case 52:this._itemNames.has(S)&&g.push(S);case 53:e.next=23;break;case 55:e.next=60;break;case 57:e.prev=57,e.t2=e.catch(21),x.e(e.t2);case 60:return e.prev=60,x.f(),e.finish(60);case 63:return N=!(0,h.r)(t.geometry)||!t.geometry.hasZ&&"point"===t.geometry.type,R=this._cimPartsToCIMSymbol(g,w,N,r),e.abrupt("return",(this._symbolCache.put(v,R,1),R));case 65:case"end":return e.stop()}}),e,this,[[1,7],[21,57,60,63],[33,44,47,50]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetchResources",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var r,n,u,l,c,p,d,m,g,w,x,k,S,Z,_,j,I=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._dictionaryPromise){e.next=2;break}return e.abrupt("return",this._dictionaryPromise);case 2:if(this.url){e.next=4;break}return e.abrupt("return",void b.error("no valid URL!"));case 4:return r=(0,f.U)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:(0,h.r)(t)?t.signal:null}),e.next=7,Promise.all([r,(0,v.a)()]);case 7:if(n=e.sent,u=(0,o.Z)(n,1),l=u[0].data){e.next=12;break}throw this._dictionaryPromise=null,new y.a("esri.renderers.DictionaryRenderer","Bad dictionary data!");case 12:if(c=l.expression,p=l.authoringInfo,this._refSymbolUrlTemplate=this.url+"/"+l.cimRefTemplateUrl,this._itemNames=new Set(l.itemsNames),this._symbolFields=p.symbol,d={},this.config)for(g in m=this.config)d[g]=m[g];if(p.configuration){w=(0,a.Z)(p.configuration);try{for(w.s();!(x=w.n()).done;)k=x.value,d.hasOwnProperty(k.name)||(d[k.name]=k.value)}catch(s){w.e(s)}finally{w.f()}}if(S=[],(0,h.r)(t)&&t.fields&&this.fieldMap){Z=(0,a.Z)(this._symbolFields);try{for(j=function(){var e=_.value,r=I.fieldMap[e],n=t.fields.filter((function(e){return e.name===r}));n.length>0&&S.push((0,i.Z)((0,i.Z)({},n[0]),{},{name:e}))},Z.s();!(_=Z.n()).done;)j()}catch(s){Z.e(s)}finally{Z.f()}}return e.abrupt("return",(this._dictionaryPromise=(0,v.n)(c,(0,h.r)(t)?t.spatialReference:null,S,d).then((function(e){var t={scale:0};return function(r,n){var i=e.repurposeFeature({geometry:null,attributes:r});return t.scale=(0,h.r)(n)?n.scale:void 0,e.evaluate({$feature:i,$view:t})}})).catch((function(e){return b.error("Creating dictinoary expression failed:",e),null})),this._dictionaryPromise));case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_cimPartsToCIMSymbol",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,r,n,i){var o,u,l,c,p,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=new Array(t.length),u=0;u<t.length;u++)o[u]=this._getSymbolPart(t[u],i);return e.next=4,Promise.all(o);case 4:l=e.sent,c=this.fieldMap,p=(0,a.Z)(l);try{for(p.s();!(f=p.n()).done;)x(f.value,c)}catch(s){p.e(s)}finally{p.f()}return e.abrupt("return",new m.d({data:this._combineSymbolParts(l,r,n)}));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"_getSymbolPart",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,r){var n,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ongoingRequests.has(t)){e.next=2;break}return e.abrupt("return",this._ongoingRequests.get(t).then((function(e){return e.data})));case 2:return n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),o=(0,f.U)(n,(0,i.Z)({responseType:"json",query:{f:"json"}},r)),this._ongoingRequests.set(t,o),e.prev=4,e.next=7,o;case 7:return e.abrupt("return",e.sent.data);case 10:throw e.prev=10,e.t0=e.catch(4),this._ongoingRequests.delete(t),e.t0;case 13:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_combineSymbolParts",value:function(e,t,r){if(!e||0===e.length)return null;var o=(0,i.Z)({},e[0]);if(e.length>1){o.symbolLayers=[];var s,u=(0,a.Z)(e);try{for(u.s();!(s=u.n()).done;){var l,c=s.value;(l=o.symbolLayers).unshift.apply(l,(0,n.Z)(c.symbolLayers))}}catch(p){u.e(p)}finally{u.f()}}return r&&(o.callout=g),{type:"CIMSymbolReference",symbol:o,primitiveOverrides:t}}}]),e}();function x(e,t){if(e){var r=e.symbolLayers;if(r)for(var n=r.length;n--;){var i=r[n];i&&!1!==i.enable&&"CIMVectorMarker"===i.type&&k(i,t)}}}function k(e,t){var r=e.markerGraphics;if(r){var n,i=(0,a.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o){var s=o.symbol;if(s)switch(s.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":x(s,t);break;case"CIMTextSymbol":s.fieldMap=t}}}}catch(u){i.e(u)}finally{i.f()}}}},17436:function(e,t,r){r.d(t,{e:function(){return s}});var n=r(15671),i=r(43144),o=r(25316),s=function(){function e(t,r){(0,n.Z)(this,e),this._storage=new o.h,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return(0,i.Z)(e,[{key:"put",value:function(e,t,r){this._storage.put(e,t,r,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}}]),e}()},53373:function(e,t,r){r.d(t,{r:function(){return s},s:function(){return a}});var n=r(75610),i=new Set;function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r&&i.has(t)||(r&&i.add(t),e.warn("\ud83d\uded1 DEPRECATED - ".concat(t)))}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,n.a)("esri-deprecation-warnings")){var i=r.moduleName;a(e,"Property: ".concat((i?i+"::":"")+t),r)}}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,n.a)("esri-deprecation-warnings")){var i=r.replacement,s=r.version,a=r.see,u=r.warnOnce,l=t;i&&(l+="\n\t\ud83d\udee0\ufe0f Replacement: ".concat(i)),s&&(l+="\n\t\u2699\ufe0f Version: ".concat(s)),a&&(l+="\n\t\ud83d\udd17 See ".concat(a," for more details.")),o(e,l,u)}}},94872:function(e,t,r){r.d(t,{a:function(){return a},d:function(){return h},f:function(){return l},i:function(){return u},l:function(){return f},m:function(){return y},s:function(){return p},y:function(){return d}});var n=r(37762),i=r(2760),o=r(78880),s=r(3969),a=2.4;function u(e){return(0,o.e)(e*a)}function l(e){return(0,o.u)(e)/a}function c(e,t,r,n){var o=t.color,s=t.ratio,a=r.color,u=r.ratio;if(u===s){var l=1e-6;1===u?s-=l:u+=l}var c=(0,i.o)((n-s)/(u-s),0,1);(0,i.j)(e,o.toArray(),a.toArray(),c)}function p(e){var t=new Uint8ClampedArray(2048);if(e=e.filter((function(e){var t=e.ratio;return t>=0&&t<=1})).sort((function(e,t){return e.ratio-t.ratio})).map((function(e){var t=e.color,r=e.ratio;return{color:t,ratio:Math.max(r,.001)}})),e.length<1)return t;for(var r=e[0],n=e[0],i=1,o=(0,s.n)(),a=0;a<512;a++){for(var u=(a+.5)/512;u>n.ratio&&i<e.length;)r=n,n=e[i++];c(o,r,n,u),t.set(o,4*a)}return t}function f(e,t,r,i){var s,a,u=t.radius,l=t.fieldOffset,c=t.field,p=Math.round((0,o.u)(u)),f=new Float64Array(r*i),y=Number.NEGATIVE_INFINITY,h=function(e,t){return null!=e?"string"==typeof t?function(t){return-1*+t.readAttribute(e)}:function(r){return+r.readAttribute(e)+t}:function(e){return 1}}(c,l),v=new Set,m=(0,n.Z)(e);try{for(m.s();!(a=m.n()).done;)for(var b=a.value.getCursor();b.next();){var g=b.getObjectId();if(!v.has(g)){v.add(g);var w=b.readLegacyPointGeometry(),x=128;if(!(w.x<-x||w.x>=r+x||w.y<-x||w.y>i+x))for(var k=+h(b),S=Math.max(0,Math.round(w.x)-p),Z=Math.max(0,Math.round(w.y)-p),_=Math.min(i,Math.round(w.y)+p),j=Math.min(r,Math.round(w.x)+p),I=Z;I<_;I++)for(var M=S;M<j;M++){var P=I*r+M,D=d(w.x-M,w.y-I,p);(s=f[P]+=D*k)>y&&(y=s)}}}}catch(E){m.e(E)}finally{m.f()}return{matrix:f.buffer,max:y}}function y(e,t,r,n,o,s){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);var a=e.getImageData(0,0,t,t);r&&n&&a.data.set(new Uint8ClampedArray(function(e,t,r,n,o){for(var s=new Uint32Array(e*e),a=("buffer"in t?t:new Float64Array(t)),u=("buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer)),l=u.length/(o-n),c=0;c<a.length;c++){var p=a[c],f=Math.floor((p-n)*l);s[c]=u[(0,i.o)(f,0,u.length-1)]}return s.buffer}(t,r,n,o,s))),e.putImageData(a,0,0)}function d(e,t,r){var n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))/r;return n>1?0:3/(Math.PI*Math.pow(r,2))*Math.pow(1-Math.pow(n,2),2)}function h(e,t){return"function"==typeof e?e:e?"string"==typeof t?function(t){return-1*+t[e]}:function(r){return+r[e]+t}:function(){return 1}}},407:function(e,t,r){r.d(t,{a:function(){return ie},b:function(){return B},n:function(){return oe},o:function(){return ue},p:function(){return ne},t:function(){return se}});var n,i=r(44925),o=r(37762),s=r(74165),a=r(15861),u=r(15671),l=r(43144),c=r(11752),p=r(61120),f=r(60136),y=r(29388),d=r(23132),h=r(67154),v=r(75610),m=r(30709),b=r(50526),g=r(28210),w=r(78674),x=r(77389),k=r(50448),S=r(70441),Z=r(24980),_=r(53373),j=r(78880),I=r(2157),M=r(94872),P=["blurRadius","maxPixelIntensity","minPixelIntensity"],D=n=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).config=null,n.fieldMap=null,n.scaleExpression=null,n.scaleExpressionTitle=null,n.url=null,n.type="dictionary",n}return(0,l.Z)(r,[{key:"_loader",get:function(){return new g.DictionaryLoader(this.url,this.config,this.fieldMap)}},{key:"writeData",value:function(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}},{key:"writeVisualVariables",value:function(e,t,n,i){(null===i||void 0===i?void 0:i.origin)||(0,c.Z)((0,p.Z)(r.prototype),"writeVisualVariables",this).call(this,e,t,n,i)}},{key:"clone",value:function(){return new n({config:(0,v.m)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,v.m)(this.fieldMap),url:(0,v.m)(this.url),visualVariables:(0,v.m)(this.visualVariables)})}},{key:"getSymbolAsync",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._loader.getSymbolAsync(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"collectRequiredFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){var n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:if(e.t0=this.scaleExpression,!e.t0){e.next=6;break}return e.next=6,(0,b.b)(t,r,this.scaleExpression);case 6:for(n in this.fieldMap)i=this.fieldMap[n],r.has(i)&&t.add(i);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"arcadeRequired",get:function(){return!0}},{key:"getSymbol",value:function(){return null}},{key:"getSymbols",value:function(){return[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return"".concat(this.url,"-").concat(JSON.stringify(this.fieldMap))}},{key:"getSymbolFields",value:function(){return this._loader.getSymbolFields()}}]),r}((0,h.v)(h.p));(0,d.e)([(0,d.d)({type:g.DictionaryLoader})],D.prototype,"_loader",null),(0,d.e)([(0,d.d)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],D.prototype,"config",void 0),(0,d.e)([(0,d.d)({type:Object,json:{write:!0}})],D.prototype,"fieldMap",void 0),(0,d.e)([(0,d.d)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],D.prototype,"scaleExpression",void 0),(0,d.e)([(0,m.r)("scaleExpression")],D.prototype,"writeData",null),(0,d.e)([(0,d.d)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy:function(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],D.prototype,"scaleExpressionTitle",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],D.prototype,"url",void 0),(0,d.e)([(0,m.r)("visualVariables")],D.prototype,"writeVisualVariables",null);var E,N=D=n=(0,d.e)([(0,d.n)("esri.renderers.DictionaryRenderer")],D),R=d.s.getLogger("esri.renderers.support.AttributeColorInfo"),V=E=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).color=null,n.field=null,n.label=null,n.valueExpression=null,n.valueExpressionTitle=null,n}return(0,l.Z)(r,[{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(R.error(".field: field must be a string value"),null):(0,d.a8)(e)}},{key:"getAttributeHash",value:function(){return"".concat(this.field,"-").concat(this.valueExpression)}},{key:"clone",value:function(){return new E({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}]),r}(S.l);(0,d.e)([(0,d.d)({type:w.l,json:{type:[Number],write:!0}})],V.prototype,"color",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],V.prototype,"field",void 0),(0,d.e)([(0,d.q)("field")],V.prototype,"castField",null),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],V.prototype,"label",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],V.prototype,"valueExpression",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],V.prototype,"valueExpressionTitle",void 0);var C,A=V=E=(0,d.e)([(0,d.n)("esri.renderers.support.AttributeColorInfo")],V),T=C=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(){var e;return(0,u.Z)(this,r),(e=t.apply(this,arguments)).unit=null,e}return(0,l.Z)(r,[{key:"clone",value:function(){return new C({unit:this.unit})}}]),r}(S.l);(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],T.prototype,"unit",void 0);var O,F=T=C=(0,d.e)([(0,d.n)("esri.renderers.support.DotDensityLegendOptions")],T),q=O=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).attributes=null,n.backgroundColor=new w.l([0,0,0,0]),n.blendDots=!0,n.dotBlendingEnabled=!0,n.dotShape="square",n.dotSize=1,n.legendOptions=null,n.outline=new Z.m,n.dotValue=null,n.referenceDotValue=null,n.referenceScale=null,n.seed=1,n.type="dot-density",n}return(0,l.Z)(r,[{key:"calculateDotValue",value:function(e){if(null==this.referenceScale)return this.dotValue;var t=e/this.referenceScale*this.dotValue;return t<1?1:t}},{key:"getSymbol",value:function(){return new Z.S({outline:this.outline})}},{key:"getSymbolAsync",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSymbol());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[this.getSymbol()]}},{key:"getAttributeHash",value:function(){return this.attributes&&this.attributes.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return JSON.stringify(this.outline)}},{key:"clone",value:function(){return new O({attributes:(0,v.m)(this.attributes),backgroundColor:(0,v.m)(this.backgroundColor),dotBlendingEnabled:(0,v.m)(this.dotBlendingEnabled),dotShape:(0,v.m)(this.dotShape),dotSize:(0,v.m)(this.dotSize),dotValue:(0,v.m)(this.dotValue),legendOptions:(0,v.m)(this.legendOptions),outline:(0,v.m)(this.outline),referenceScale:(0,v.m)(this.referenceScale),visualVariables:(0,v.m)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}},{key:"getControllerHash",value:function(){return"".concat(this.attributes.map((function(e){return e.field||e.valueExpression||""})),"-").concat(this.outline&&JSON.stringify(this.outline.toJSON())||"")}},{key:"collectRequiredFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){var n,i,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:n=(0,o.Z)(this.attributes),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=14;break}if(a=i.value,e.t0=a.valueExpression,!e.t0){e.next=11;break}return e.next=11,(0,b.b)(t,r,a.valueExpression);case 11:a.field&&t.add(a.field);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(3),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[3,16,19,22]])})));return function(t,r){return e.apply(this,arguments)}}()}]),r}((0,h.v)(h.p));(0,d.e)([(0,d.d)({type:[A],json:{write:!0}})],q.prototype,"attributes",void 0),(0,d.e)([(0,d.d)({type:w.l,json:{write:!0}})],q.prototype,"backgroundColor",void 0),(0,d.e)([(0,d.d)({type:Boolean}),(0,x.o)("dotBlendingEnabled")],q.prototype,"blendDots",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],q.prototype,"dotBlendingEnabled",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!1}})],q.prototype,"dotShape",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],q.prototype,"dotSize",void 0),(0,d.e)([(0,d.d)({type:F,json:{write:!0}})],q.prototype,"legendOptions",void 0),(0,d.e)([(0,d.d)({type:Z.m,json:{default:null,write:!0}})],q.prototype,"outline",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],q.prototype,"dotValue",void 0),(0,d.e)([(0,d.d)({type:Number}),(0,x.o)("dotValue")],q.prototype,"referenceDotValue",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],q.prototype,"referenceScale",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],q.prototype,"seed",void 0),(0,d.e)([(0,k.r)({dotDensity:"dot-density"})],q.prototype,"type",void 0);var L,H=q=O=(0,d.e)([(0,d.n)("esri.renderers.DotDensityRenderer")],q),U=L=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).color=null,n.ratio=null,n}return(0,l.Z)(r,[{key:"clone",value:function(){return new L({color:this.color,ratio:this.ratio})}}]),r}(S.l);(0,d.e)([(0,d.d)({type:w.l,json:{type:[d.S],default:null,write:!0}})],U.prototype,"color",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],U.prototype,"ratio",void 0);var z,B=U=L=(0,d.e)([(0,d.n)("esri.renderers.support.HeatmapColorStop")],U),G=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(){var e;return(0,u.Z)(this,r),(e=t.apply(this,arguments)).minLabel=null,e.maxLabel=null,e.title=null,e}return(0,l.Z)(r)}((0,I.l)(S.l));(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],G.prototype,"minLabel",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],G.prototype,"maxLabel",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],G.prototype,"title",void 0),G=(0,d.e)([(0,d.n)("esri.renderers.support.HeatmapLegendOptions")],G);var J=d.s.getLogger("esri.renderers.HeatmapRenderer");function Y(e){if(null!=e){var t=e.maxDensity,r=e.minDensity,n=e.radius;if(null!=t||null!=r||null!=n){e.blurRadius,e.maxPixelIntensity,e.minPixelIntensity;return(0,i.Z)(e,P)}}return e}var $=z=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).authoringInfo=null,n.colorStops=[new B({ratio:0,color:new w.l("rgba(255, 140, 0, 0)")}),new B({ratio:.75,color:new w.l("rgba(255, 140, 0, 1)")}),new B({ratio:.9,color:new w.l("rgba(255, 0,   0, 1)")})],n.field=null,n.fieldOffset=0,n.legendOptions=null,n.maxDensity=.04,n.minDensity=0,n.radius=18,n.referenceScale=0,n.type="heatmap",n.valueExpression=null,n.valueExpressionTitle=null,n._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1},n}return(0,l.Z)(r,[{key:"normalizeCtorArgs",value:function(e){return Y(e)}},{key:"blurRadius",get:function(){return(0,M.f)(this.radius)},set:function(e){var t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",(0,M.i)(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}},{key:"maxPixelIntensity",get:function(){return this.maxDensity/this._pixelIntensityToDensity},set:function(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}},{key:"minPixelIntensity",get:function(){return this.minDensity/this._pixelIntensityToDensity},set:function(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}},{key:"_pixelIntensityToDensity",get:function(){return 24/(Math.pow(M.a,2)*Math.pow(this.blurRadius,4))}},{key:"_warnAboutDeprecatedGaussianBlurProp",value:function(e,t){var r=this;this._warnedProps[e]||"user"===(0,d.Q)(this).getDefaultOrigin()&&(this._warnedProps[e]=!0,(0,d.B)((function(){(0,_.r)(J,e,{replacement:"".concat(String(t)," (suggested value: ").concat(r._get(t),")"),version:"4.24"})})))}},{key:"read",value:function(e,t){e=Y(e),(0,c.Z)((0,p.Z)(r.prototype),"read",this).call(this,e,t)}},{key:"getSymbol",value:function(){var e=0!==this.referenceScale?5:1,t=Math.min(this.radius*e,(0,j.e)(256));return new Z.y({size:t})}},{key:"getSymbolAsync",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSymbol());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[this.getSymbol()]}},{key:"collectRequiredFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){var n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.field,i=this.valueExpression,e.t0=n&&"string"==typeof n,!e.t0){e.next=5;break}return e.next=5,(0,b.F)(t,r,n);case 5:if(e.t1=i&&"string"==typeof i,!e.t1){e.next=9;break}return e.next=9,(0,b.b)(t,r,i);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAttributeHash",value:function(){return null}},{key:"getMeshHash",value:function(){return"".concat(JSON.stringify(this.colorStops),".").concat(this.blurRadius,".").concat(this.field)}},{key:"clone",value:function(){return new z({colorStops:(0,v.m)(this.colorStops),field:this.field,legendOptions:(0,v.m)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}]),r}(h.p);(0,d.e)([(0,d.d)({type:h.j,json:{write:!1}})],$.prototype,"authoringInfo",void 0),(0,d.e)([(0,d.d)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],$.prototype,"blurRadius",null),(0,d.e)([(0,d.d)({type:[B],json:{write:!0}})],$.prototype,"colorStops",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],$.prototype,"field",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:{overridePolicy:function(e,t,r){return{enabled:null==r}}},origins:{"web-scene":{write:!1}}}})],$.prototype,"fieldOffset",void 0),(0,d.e)([(0,d.d)({type:G,json:{write:!0}})],$.prototype,"legendOptions",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],$.prototype,"maxDensity",void 0),(0,d.e)([(0,d.d)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],$.prototype,"maxPixelIntensity",null),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],$.prototype,"minDensity",void 0),(0,d.e)([(0,d.d)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],$.prototype,"minPixelIntensity",null),(0,d.e)([(0,d.d)({type:Number,cast:j.o,json:{write:!0}})],$.prototype,"radius",void 0),(0,d.e)([(0,d.d)({type:Number,range:{min:0},json:{default:0,write:!0}})],$.prototype,"referenceScale",void 0),(0,d.e)([(0,k.r)({heatmap:"heatmap"})],$.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],$.prototype,"valueExpression",void 0),(0,d.e)([(0,d.d)({type:String})],$.prototype,"valueExpressionTitle",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],$.prototype,"_pixelIntensityToDensity",null);var W=$=z=(0,d.e)([(0,d.n)("esri.renderers.HeatmapRenderer")],$),X=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(){var e;return(0,u.Z)(this,r),(e=t.apply(this,arguments)).color=new w.l([0,0,0,0]),e.label=null,e.threshold=0,e}return(0,l.Z)(r)}((0,I.l)(S.l));(0,d.e)([(0,d.d)({type:w.l,json:{write:!0}})],X.prototype,"color",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],X.prototype,"label",void 0),(0,d.e)([(0,d.d)({type:Number,range:{min:0,max:1},json:{write:!0}})],X.prototype,"threshold",void 0),X=(0,d.e)([(0,d.n)("esri.renderers.support.OthersCategory")],X);var Q=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(){var e;return(0,u.Z)(this,r),(e=t.apply(this,arguments)).title=null,e}return(0,l.Z)(r)}((0,I.l)(S.l));(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],Q.prototype,"title",void 0),Q=(0,d.e)([(0,d.n)("esri.renderers.support.PieChartLegendOptions")],Q);var K=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).attributes=null,n.backgroundFillSymbol=null,n.defaultColor=new w.l([0,0,0,0]),n.defaultLabel=null,n.holePercentage=0,n.othersCategory=new X,n.legendOptions=null,n.outline=null,n.size=12,n.type="pie-chart",n}return(0,l.Z)(r,[{key:"getSymbol",value:function(){var e;return new Z.y({size:this.size?this.size/2+((null===(e=this.outline)||void 0===e?void 0:e.width)||0):0})}},{key:"getSymbolAsync",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSymbol());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[this.getSymbol(),this.backgroundFillSymbol]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return this.getSymbols().reduce((function(e,t){return e+JSON.stringify(t)}),"")}},{key:"collectRequiredFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){var n,i,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:n=(0,o.Z)(this.attributes),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=14;break}if(a=i.value,e.t0=a.valueExpression,!e.t0){e.next=11;break}return e.next=11,(0,b.b)(t,r,a.valueExpression);case 11:a.field&&t.add(a.field);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(3),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[3,16,19,22]])})));return function(t,r){return e.apply(this,arguments)}}()}]),r}((0,h.v)((0,I.l)(h.p)));(0,d.e)([(0,d.d)({type:[A],json:{write:!0}})],K.prototype,"attributes",void 0),(0,d.e)([(0,d.d)({type:Z.S,json:{default:null,write:!0}})],K.prototype,"backgroundFillSymbol",void 0),(0,d.e)([(0,d.d)({type:w.l,json:{write:!0}})],K.prototype,"defaultColor",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],K.prototype,"defaultLabel",void 0),(0,d.e)([(0,d.d)({type:Number,range:{min:0,max:1},json:{write:!0}})],K.prototype,"holePercentage",void 0),(0,d.e)([(0,d.d)({type:X,json:{write:!0}})],K.prototype,"othersCategory",void 0),(0,d.e)([(0,d.d)({type:Q,json:{write:!0}})],K.prototype,"legendOptions",void 0),(0,d.e)([(0,d.d)({type:Z.m,json:{default:null,write:!0}})],K.prototype,"outline",void 0),(0,d.e)([(0,d.d)({type:Number,cast:j.o,json:{write:!0}})],K.prototype,"size",void 0),(0,d.e)([(0,k.r)({pieChart:"pie-chart"})],K.prototype,"type",void 0);var ee,te=K=(0,d.e)([(0,d.n)("esri.renderers.PieChartRenderer")],K),re=ee=function(e){(0,f.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).description=null,n.label=null,n.symbol=null,n.type="simple",n}return(0,l.Z)(r,[{key:"collectRequiredFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.collectSymbolFields(t,r),this.collectVVRequiredFields(t,r)]);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"collectSymbolFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.getSymbols().map((function(e){return e.collectRequiredFields(t,r)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(e,t){return this.symbol}},{key:"getSymbolAsync",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.symbol);case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return this.symbol?[this.symbol]:[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return this.getSymbols().reduce((function(e,t){return e+JSON.stringify(t)}),"")}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}},{key:"clone",value:function(){return new ee({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,v.m)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}}]),r}((0,h.v)(h.p));(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],re.prototype,"description",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],re.prototype,"label",void 0),(0,d.e)([(0,d.d)(h.l)],re.prototype,"symbol",void 0),(0,d.e)([(0,k.r)({simple:"simple"})],re.prototype,"type",void 0);var ne=re=ee=(0,d.e)([(0,d.n)("esri.renderers.SimpleRenderer")],re),ie={key:"type",base:h.p,typeMap:{heatmap:W,simple:ne,"unique-value":h.P,"class-breaks":h.N,"dot-density":H,dictionary:N,"pie-chart":te},errorContext:"renderer"},oe={key:"type",base:h.p,typeMap:{simple:ne,"unique-value":h.P,"class-breaks":h.N,heatmap:W},errorContext:"renderer"};function se(e,t){return ue(e,null,t)}var ae=(0,d.I)({types:ie});function ue(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r&&r.messages&&r.messages.push(new d.G("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):ae(e,t,r):null}},3969:function(e,t,r){function n(){return[0,0,0,0]}function i(e){return[e[0],e[1],e[2],e[3]]}function o(e,t,r,n){return[e,t,r,n]}function s(e){for(var t=[0,0,0,0],r=Math.min(4,e.length),n=0;n<r;++n)t[n]=e[n];return t}function a(e,t){return new Float64Array(e,t,4)}function u(){return[0,0,0,0]}function l(){return o(1,1,1,1)}function c(){return o(1,0,0,0)}function p(){return o(0,1,0,0)}function f(){return o(0,0,1,0)}function y(){return o(0,0,0,1)}r.d(t,{_:function(){return h},e:function(){return s},l:function(){return d},n:function(){return n},r:function(){return o},t:function(){return i},u:function(){return a}});var d=[0,0,0,0],h=l(),v=c(),m=p(),b=f(),g=y();Object.freeze(Object.defineProperty({__proto__:null,create:n,clone:i,fromValues:o,fromArray:s,createView:a,zeros:u,ones:l,unitX:c,unitY:p,unitZ:f,unitW:y,ZEROS:d,ONES:h,UNIT_X:v,UNIT_Y:m,UNIT_Z:b,UNIT_W:g},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=407.98a749dd.chunk.js.map