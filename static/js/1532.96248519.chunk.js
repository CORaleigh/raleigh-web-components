"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[1532],{31532:function(e,r,n){n.d(r,{$:function(){return $},C:function(){return S},J:function(){return Z},M:function(){return p},Q:function(){return Y},T:function(){return R},U:function(){return A},V:function(){return F},i:function(){return U},j:function(){return G},n:function(){return X},o:function(){return K},v:function(){return E}});var t,i,a=n(74165),o=n(1413),s=n(29439),f=n(15861),u=n(74384),l=n(48848),c=n(93661),h=n(47855),x=n(95249),v=n(46817),m=n(82474);function p(e,r,n){return!(0,x.A)(e,r,n)}function g(e,r,n){var t=p(e,r,n);if(t&&!(0,x.e)())throw new l.s("rasterprojectionhelper-project","projection engine is not loaded");return t}(i=t||(t={}))[i.None=0]="None",i[i.North=1]="North",i[i.South=2]="South",i[i.Both=3]="Both";var d=function(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(1===n[0])return[0,0];for(var i=1,a=-1,o=1,s=-1,f=0;f<e.length;f+=2)isNaN(e[f])||(i=i>e[f]?e[f]:i,a=a>e[f]?a:e[f],o=o>e[f+1]?e[f+1]:o,s=s>e[f+1]?s:e[f+1]);var u=r.cols,l=r.rows,c=(a-i)/u/n[0],h=(s-o)/l/n[1],x=2*t,v=0,m=!1,p=[0,0];for(f=0;f<u-3;f++){for(var g=0;g<l-3;g++){var d=f*l*2+2*g,y=(e[d]+e[d+4]+e[d+4*l]+e[d+4*l+4])/4,w=(e[d+1]+e[d+5]+e[d+4*l+1]+e[d+4*l+5])/4,M=Math.abs((y-e[d+2*l+2])/c),b=Math.abs((w-e[d+2*l+3])/h);if(M+b>v&&(v=M+b,p=[M,b]),x&&v>x){m=!0;break}}if(m)break}return p},y={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},w=new Map,M=new Map,b=500;function R(){return P.apply(this,arguments)}function P(){return(P=(0,f.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=(0,x.e)(),e.t0){e.next=4;break}return e.next=4,(0,x.t)();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,r,n){return g(e.spatialReference,r)?n?(0,x.i)(r,e.spatialReference,e):(0,x.i)(e.spatialReference,r,e):null}function S(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.spatialReference;if(i.equals(r))return e;g(i,r,t);var a,o=n.center,s=new v.w({xmin:o.x-e.x/2,xmax:o.x+e.x/2,ymin:o.y-e.y/2,ymax:o.y+e.y/2,spatialReference:i}),f=(0,x.r)(s,r,t),u=A(r);if((0,c.t)(f)||(0,c.r)(u)&&f.width>=u){var l=(0,h.$)(i)/(0,h.$)(r);a={x:e.x*l,y:e.y*l}}else a={x:f.width,y:f.height};return a}function k(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return(0,h.$)(e)?r/(0,h.$)(e):0}function G(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e.spatialReference;if(i.equals(r))return e;g(i,r,n);var a=(0,x.r)(e,r,n);return t&&a?(N([e],[a],i,r),a):a}function N(e,r,n,t){var i=B(n,!0),a=B(t,!0),o=k(n,b),s=k(t,b);if(o&&(0,c.r)(i)&&(0,c.r)(a))for(var f=0;f<e.length;f++){var u=r[f];if(u){var l=e[f].x,h=u.x;h>=a[1]-s&&Math.abs(l-i[0])<o?u.x-=a[1]-a[0]:h<=a[0]+s&&Math.abs(l-i[1])<o&&(u.x+=a[1]-a[0])}}}function T(e){var r=e.inSR,n=e.outSR,t=e.datumTransformation,i=e.preferPE;if(r.equals(n))return O(e,null).points;if(r.isWebMercator&&n.isWGS84||r.isWGS84&&n.isWebMercator)return function(e){var r=e.cols,n=e.rows,t=e.xres,i=e.yres,a=e.usePixelCenter,o=e.inSR,s=e.outSR,f=e.xmin,u=e.ymax;a&&(f+=t/2,u-=i/2);for(var l=[],c=[],h=Math.max(r,n),v=0;v<h;v++){var p=f+t*Math.min(r,v),g=u-i*Math.min(n,v),d=(0,x.r)(new m.w({x:p,y:g,spatialReference:o}),s);v<=r&&l.push(d.x),v<=n&&c.push(d.y)}for(var y=[],w=0;w<r;w++)for(var M=0;M<n;M++)y.push([l[w],c[M]]);return y}(e);if(g(r,n,t)&&i){if(r.isGeographic)return C(e);var a=_(r);if((0,c.r)(a))return C(e)}return function(e){var r=O(e,null).points,n=e.inSR,t=e.outSR,i=e.datumTransformation,a=r.map((function(e){return new m.w(e[0],e[1],n)})),o=(0,x.r)(a,t,i);return i&&N(a,o,n,t),o.map((function(e){return e?[e.x,e.y]:[NaN,NaN]}))}(e)}function C(e){var r=e.inSR,n=e.outSR,t=e.datumTransformation,i=O(e,_(r)),a=i.points,o=i.mask;if(!r.isGeographic){var f=r.wkid?x.E.coordsys(r.wkid):x.E.fromString(r.isGeographic?x.b.PE_TYPE_GEOGCS:x.b.PE_TYPE_PROJCS,r.wkt);x.c.projToGeog(f,a.length,a)}if((0,c.r)(t)&&t.steps.length){var u,l=179.9955;if(n.isGeographic&&(u=a.map((function(e){var r=(0,s.Z)(e,1)[0];return r>l?1:r<-l?-1:0}))),t.steps.forEach((function(e){var r=e.wkid?x.E.geogtran(e.wkid):x.E.fromString(x.b.PE_TYPE_GEOGTRAN,e.wkt);x.h.geogToGeog(r,a.length,a,null,e.isInverse?x.b.PE_TRANSFORM_2_TO_1:x.b.PE_TRANSFORM_1_TO_2)})),u)for(var h=0;h<a.length;h++){var v=u[h],m=a[h][0],p=m>l?1:m<-l?-1:0;v&&p&&v!==p&&(a[h][0]=v>0?m+360:m-360)}}if(!n.isGeographic){var g=_(n,!0),d=(0,c.r)(g)&&g.isEnvelope?[g.bbox[1],g.bbox[3]]:[-90,90];!function(e,r){for(var n=(0,s.Z)(r,2),t=n[0],i=n[1],a=0;a<e.length;a++){var o=e[a][1];(o<t||o>i)&&(e[a]=[NaN,NaN])}}(a,d);var y=n.wkid?x.E.coordsys(n.wkid):x.E.fromString(n.isGeographic?x.b.PE_TYPE_GEOGCS:x.b.PE_TYPE_PROJCS,n.wkt);x.c.geogToProj(y,a.length,a)}var w=a;if(o&&a.length!==o.length){w=[];for(var M=0,b=0;M<o.length;M++)o[M]?w.push(a[b++]):w.push([NaN,NaN])}return w}function _(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.wkid||e.wkt;if(!n||e.isGeographic)return null;if(n=String(n),w.has(n)){var t=w.get(n);return r?null===t||void 0===t?void 0:t.gcs:null===t||void 0===t?void 0:t.pcs}var i=e.wkid?x.E.coordsys(e.wkid):x.E.fromString(e.isGeographic?x.b.PE_TYPE_GEOGCS:x.b.PE_TYPE_PROJCS,e.wkt),a=z(i,k(e,1e-4)),o=z(i,0,!0);return w.set(n,{pcs:a,gcs:o}),r?o:a}function z(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=x.O.generate(e),i=n?e.horizonGcsGenerate():e.horizonPcsGenerate();if(!t||null===i||void 0===i||!i.length)return null;var a=!1,o=i.find((function(e){return 1===e.getInclusive()&&1===e.getKind()}));if(!o){if(o=i.find((function(e){return 1===e.getInclusive()&&0===e.getKind()})),!o)return null;a=!0}var f=n?0:(2===t.getNorthPoleLocation()?1:0)|(2===t.getSouthPoleLocation()?2:0),u=t.isPannableRectangle(),l=o.getCoord();if(a)return{isEnvelope:a,isPannable:u,vertices:l,coef:null,bbox:[l[0][0]-r,l[0][1]-r,l[1][0]+r,l[1][1]+r],poleLocation:f};for(var c=0,h=[],v=(0,s.Z)(l[0],2),m=v[0],p=v[1],g=(0,s.Z)(l[0],2),d=g[0],y=g[1],w=0,M=l.length;w<M;w++){++c===M&&(c=0);var b=(0,s.Z)(l[w],2),R=b[0],P=b[1],E=(0,s.Z)(l[c],2),S=E[0],k=E[1];if(k===P)h.push([R,S,P,k,2]);else{var G=(S-R)/(k-P||1e-4),N=R-G*P;P<k?h.push([G,N,P,k,0]):h.push([G,N,k,P,1])}m=m<R?m:R,p=p<P?p:P,d=d>R?d:R,y=y>P?y:P}return{isEnvelope:!1,isPannable:u,vertices:l,coef:h,bbox:[m,p,d,y],poleLocation:f}}function O(e,r){var n=[],t=e.cols,i=e.rows,a=e.xres,o=e.yres,f=e.usePixelCenter,u=e.xmin,l=e.ymax;if(f&&(u+=a/2,l-=o/2),(0,c.t)(r)){for(var h=0;h<t;h++)for(var x=0;x<i;x++)n.push([u+a*h,l-o*x]);return{points:n}}var v=new Uint8Array(t*i);if(r.isEnvelope){for(var m=(0,s.Z)(r.bbox,4),p=m[0],g=m[1],d=m[2],y=m[3],w=0,M=0;w<t;w++)for(var b=u+a*w,R=r.isPannable||b>=p&&b<=d,P=0;P<i;P++,M++){var E=l-o*P;R&&E>=g&&E<=y&&(n.push([b,E]),v[M]=1)}return{points:n,mask:v}}for(var S=r.coef,k=[],G=0;G<i;G++){for(var N=l-o*G,T=[],C=[],_=0;_<S.length;_++){var z=(0,s.Z)(S[_],5),O=z[0],W=z[1],Z=z[2],L=z[3],j=z[4];if(N===Z&&Z===L)T.push(O),T.push(W),C.push(2),C.push(2);else if(N>=Z&&N<=L){var A=O*N+W;T.push(A),C.push(j)}}var B=T;if(T.length>2){var I=2===C[0]?0:C[0],Y=T[0];B=[];for(var F=1;F<C.length;F++)2===C[F]&&F!==C.length-1||(C[F]!==I&&(B.push(0===I?Math.min(Y,T[F-1]):Math.max(Y,T[F-1])),I=C[F],Y=T[F]),F===C.length-1&&B.push(0===C[F]?Math.min(Y,T[F]):Math.max(Y,T[F])));B.sort((function(e,r){return e-r}))}else T[0]>T[1]&&(B=[T[1],T[0]]);k.push(B)}for(var $=0,q=0;$<t;$++)for(var J=u+a*$,X=0;X<i;X++,q++){var K=l-o*X,U=k[X];if(2===U.length)J>=U[0]&&J<=U[1]&&(n.push([J,K]),v[q]=1);else if(U.length>2){for(var Q=!1,V=0;V<U.length;V+=2)if(J>=U[V]&&J<=U[V+1]){Q=!0;break}Q&&(n.push([J,K]),v[q]=1)}}return{points:n,mask:v}}function W(e){var r=A(e[0].spatialReference);if(e.length<2||(0,c.t)(r))return e[0];for(var n=e[0],t=n.xmin,i=n.xmax,a=n.ymin,o=n.ymax,s=1;s<e.length;s++){var f=e[s];i=f.xmax+r*s,a=Math.min(a,f.ymin),o=Math.max(o,f.ymax)}return new v.w({xmin:t,xmax:i,ymin:a,ymax:o,spatialReference:e[0].spatialReference})}function Z(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=e.spatialReference;if(a.equals(r))return e;var o=Y(e),s=A(a,!0),f=A(r);if(0===o||(0,c.t)(s)||(0,c.t)(f)){var u=j(e,r,n,i);if((0,c.t)(s)&&(0,c.r)(f)&&Math.abs(u.width-f)<k(r)&&(0,x.e)()){var l=_(a);if((0,c.r)(l)&&l.poleLocation===t.None&&e.width<(l.bbox[2]-l.bbox[0])/2)return L(e,r)||u}return u}var h=e.clone().normalize();if(1===h.length&&e.xmax<s&&e.xmax-s/2>k(a))for(var m=e.xmin,p=e.xmax,g=0;g<=o;g++){var d=0===g?m:-s/2,y=g===o?p-s*g:s/2;h[g]=new v.w({xmin:d,xmax:y,ymin:e.ymin,ymax:e.ymax,spatialReference:a})}return W(h.map((function(e){return j(e,r,n,i)})).filter(c.r))}function L(e,r){var n=A(r);if((0,c.t)(n))return null;var t=e.xmin,i=e.ymin,a=e.xmax,o=e.ymax,s=e.spatialReference,f=new u.v({spatialReference:s,rings:[[[t,i],[a,i],[a,o],[t,o],[t,i]]]}),l=(0,x.r)(f,r);if(2!==l.rings.length||!l.rings[0].length||!l.rings[1].length)return null;for(var h=l.rings,m=k(s),p=new v.w({spatialReference:r}),g=0;g<2;g++){t=a=h[g][0][0],i=o=h[g][0][1];for(var d=0;d<h[g].length;d++)t=t>h[g][d][0]?h[g][d][0]:t,a=a<h[g][d][0]?h[g][d][0]:a,i=i>h[g][d][1]?h[g][d][1]:i,o=o<h[g][d][1]?h[g][d][1]:o;if(0===g)p.ymin=i,p.ymax=o,p.xmin=t,p.xmax=a;else if(p.ymin=Math.min(p.ymin,i),p.ymax=Math.max(p.ymax,o),Math.abs(a-n/2)<m)p.xmin=t,p.xmax=p.xmax+n;else{if(!(Math.abs(t+n/2)<m))return null;p.xmax=a+n}}return p}function j(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=e.spatialReference;if(a.equals(r)||!r)return e;g(a,r,n);var o=(0,x.r)(e,r,n);if(i&&r.isWebMercator&&o&&(o.ymax=Math.min(20037508.342787,o.ymax),o.ymin=Math.max(-20037508.342787,o.ymin),o.ymin>=o.ymax))return null;if(!t||!o)return o;var s=B(a,!0),f=B(r,!0);if((0,c.t)(s)||(0,c.t)(f))return o;var u=k(a,.001),l=k(a,b),h=k(r,.001);if(Math.abs(o.xmin-f[0])<h&&Math.abs(o.xmax-f[1])<h){var v=Math.abs(e.xmin-s[0]),p=Math.abs(s[1]-e.xmax);if(v<u&&p>l){o.xmin=f[0];var d=[];d.push(new m.w(e.xmax,e.ymin,a)),d.push(new m.w(e.xmax,(e.ymin+e.ymax)/2,a)),d.push(new m.w(e.xmax,e.ymax,a));var y=d.map((function(e){return G(e,r,n)})).filter((function(e){return!isNaN(null===e||void 0===e?void 0:e.x)})).map((function(e){return e.x}));o.xmax=Math.max.apply(null,y)}if(p<u&&v>l){o.xmax=f[1];var w=[];w.push(new m.w(e.xmin,e.ymin,a)),w.push(new m.w(e.xmin,(e.ymin+e.ymax)/2,a)),w.push(new m.w(e.xmin,e.ymax,a));var M=w.map((function(e){return G(e,r,n)})).filter((function(e){return!isNaN(null===e||void 0===e?void 0:e.x)})).map((function(e){return e.x}));o.xmin=Math.min.apply(null,M)}}else{var R=k(r,.001);Math.abs(o.xmin-f[0])<R&&(o.xmin=f[0]),Math.abs(o.xmax-f[1])<R&&(o.xmax=f[1])}return o}function A(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=r?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*y[e.wkid]||null}function B(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isGeographic)return[-180,180];var n=A(e,r);return(0,c.r)(n)?[-n/2,n/2]:null}function I(e,r,n,t){var i=(e-r)/n;return i-Math.floor(i)!=0?i=Math.floor(i):t&&(i-=1),i}function Y(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=A(e.spatialReference);if((0,c.t)(n))return 0;var t=r?0:-n/2,i=k(e.spatialReference),a=!r&&Math.abs(e.xmax-n/2)<i?n/2:e.xmax,o=!r&&Math.abs(e.xmin+n/2)<i?-n/2:e.xmin;return I(a,t,n,!0)-I(o,t,n,!1)}function F(e){var r=e.storageInfo.origin.x,n=A(e.spatialReference,!0);if((0,c.t)(n))return{originX:r,halfWorldWidth:null,pyramidsInfo:null};for(var t=n/2,i=e.nativePixelSize,a=e.storageInfo,o=e.extent,s=a.maximumPyramidLevel,f=a.blockWidth,u=a.pyramidScalingFactor,l=i.x,h=[],x=(0,c.r)(e.transform)&&"gcs-shift"===e.transform.type,v=r+(x?0:t),m=x?n-r:t-r,p=0;p<=s;p++){var g=(o.xmax-r)/l/f,d=g-Math.floor(g)==0?g:Math.ceil(g),y=m/l/f,w=y-Math.floor(y)==0?y:Math.ceil(y),M=Math.floor(v/l/f),b=Math.round(v/l)%f,R=(f-Math.round(m/l)%f)%f;h.push({resolutionX:l,blockWidth:f,datsetColumnCount:d,worldColumnCountFromOrigin:w,leftMargin:b,rightPadding:R,originColumnOffset:M}),l*=u}return{originX:r,halfWorldWidth:t,pyramidsInfo:h,hasGCSSShiftTransform:x}}function $(e){var r=e.isAdaptive&&null==e.spacing,n=e.spacing||[32,32],t=q(e),i={cols:t.size[0]+1,rows:t.size[1]+1},a=t.outofBoundPointCount>0&&t.outofBoundPointCount<t.offsets.length/2,s=t.outofBoundPointCount===t.offsets.length/2||r&&a?[0,0]:d(t.offsets,i,n,4),f=(s[0]+s[1])/2,u=e.projectedExtent.spatialReference,l=e.srcBufferExtent.spatialReference;if(r&&(a||f>4)&&(p(u,l,e.datumTransformation)&&(u.isGeographic||(0,c.r)(_(u))),n=[4,4],i={cols:(t=q((0,o.Z)((0,o.Z)({},e),{},{spacing:n}))).size[0]+1,rows:t.size[1]+1},s=d(t.offsets,i,n,4)),t.error=s,n[0]>1&&(t.coefficients=J(t.offsets,i,a)),e.includeGCSGrid&&!u.isGeographic&&!u.isWebMercator)if(l.isGeographic)t.gcsGrid={offsets:t.offsets,coefficients:t.coefficients,spacing:n};else{var h=_(u);if((0,c.r)(h)&&!h.isEnvelope){var v=function(e){if(!e||e.isGeographic)return e;var r,n=String(e.wkid||e.wkt);return M.has(n)?r=M.get(n):(r=(e.wkid?x.E.coordsys(e.wkid):x.E.fromString(x.b.PE_TYPE_PROJCS,e.wkt)).getGeogcs().getCode(),M.set(n,r)),new m.k({wkid:r})}(u),g=Z(e.projectedExtent,v),y=q((0,o.Z)((0,o.Z)({},e),{},{srcBufferExtent:g,spacing:n})).offsets,w=J(y,i,a);t.gcsGrid={offsets:y,coefficients:w,spacing:n}}}return t}function q(e){var r,n=e.projectedExtent,t=e.srcBufferExtent,i=e.pixelSize,a=e.datumTransformation,o=e.rasterTransform,s=n.spatialReference,f=t.spatialReference,u=g(s,f),l=n.xmin,h=n.ymin,x=n.xmax,v=n.ymax,p=A(f),d=(0,c.r)(p)&&(e.hasWrapAround||"gcs-shift"===(null===o||void 0===o?void 0:o.type)),y=e.spacing||[32,32],w=y[0]*i.x,M=y[1]*i.y,R=1===y[0],P=Math.ceil((x-l)/w-.1/y[0])+(R?0:1),E=Math.ceil((v-h)/M-.1/y[1])+(R?0:1),S=T({cols:P,rows:E,xmin:l,ymax:v,xres:w,yres:M,inSR:s,outSR:f,datumTransformation:a,preferPE:y[0]<=4,usePixelCenter:R}),G=[],N=0,C=R?-1:NaN,z=t.xmin,O=t.xmax,W=t.ymax,Z=t.width,L=t.height,j=k(f,b),B=(0,c.r)(p)&&z>0&&O>p/2,I=!1;if(u){var Y=_(s);I=(0,c.r)(Y)&&Y.poleLocation>0}for(var F=0;F<P;F++){for(var $=[],q=0;q<E;q++){var J=S[F*E+q];if(d&&J[0]>O&&J[0]>p/2-j?J[0]-=p:d&&0===F&&J[0]<0&&B&&!o&&(J[0]+=p),!J||isNaN(J[0])||isNaN(J[1]))G.push(C),G.push(C),$.push(null),N++;else{if(o){var X=o.inverseTransform(new m.w({x:J[0],y:J[1],spatialReference:f}));J=[X.x,X.y]}$.push(J),F>0&&d&&r[q]&&J[0]<r[q][0]&&(J[0]+=p,I&&J[0]>O&&J[0]>p&&(J[0]-=p)),G.push((J[0]-z)/Z),G.push((W-J[1])/L)}}r=$}return{offsets:G,error:null,coefficients:null,outofBoundPointCount:N,spacing:y,size:R?[P,E]:[P-1,E-1]}}function J(e,r,n){for(var t=r.cols,i=r.rows,a=new Float32Array((t-1)*(i-1)*2*6),o=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),s=new Float32Array([-1,1,0,0,-1,1,1,0,0]),f=0;f<t-1;f++){for(var u=0;u<i-1;u++){for(var l=f*i*2+2*u,c=e[l],h=e[l+1],x=e[l+2],v=e[l+3],m=e[l+=2*i],p=e[l+1],g=e[l+2],d=e[l+3],y=0,w=12*(u*(t-1)+f),M=0;M<3;M++)a[w++]=o[y++]*c+o[y++]*x+o[y++]*g;y=0;for(var b=0;b<3;b++)a[w++]=o[y++]*h+o[y++]*v+o[y++]*d;y=0;for(var R=0;R<3;R++)a[w++]=s[y++]*c+s[y++]*m+s[y++]*g;y=0;for(var P=0;P<3;P++)a[w++]=s[y++]*h+s[y++]*p+s[y++]*d}if(n)for(var E=0;E<a.length;E++)isNaN(a[E])&&(a[E]=-1)}return a}function X(e){var r=e.clone().normalize();return 1===r.length?r[0]:W(r)}function K(e,r,n){var t=r.storageInfo,i=r.pixelSize,a=0,o=!1,s=t.pyramidResolutions;if((0,c.r)(s)&&s.length){var f=(e.x+e.y)/2,u=s[s.length-1],l=(u.x+u.y)/2,x=(i.x+i.y)/2;if(f<=x)a=0;else if(f>=l)a=s.length,o=f/l>8;else for(var v,p=x,g=1;g<=s.length;g++){if(f<=(v=(s[g-1].x+s[g-1].y)/2)){f===v?a=g:"down"===n?(a=g-1,o=f/p>8):a="up"===n||f-p>v-f||f/p>2?g:g-1;break}p=v}var d=0===a?i:s[a-1];return o&&Math.min(d.x,d.y)*(0,h.$)(r.spatialReference)>19567&&(o=!1),{pyramidLevel:a,pyramidResolution:new m.w({x:d.x,y:d.y,spatialReference:r.spatialReference}),excessiveReading:o}}var y=Math.log(e.x/i.x)/Math.LN2,w=Math.log(e.y/i.y)/Math.LN2,M=r.storageInfo.maximumPyramidLevel||0;(a="down"===n?Math.floor(Math.min(y,w)):"up"===n?Math.ceil(Math.max(y,w)):Math.round((y+w)/2))<0?a=0:a>M&&(o=a>M+3,a=M);var b=Math.pow(2,a);return{pyramidLevel:a,pyramidResolution:new m.w({x:b*r.nativePixelSize.x,y:b*r.nativePixelSize.y,spatialReference:r.spatialReference}),excessiveReading:o}}function U(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e.extent,a=e.spatialReference,o=e.pixelSize,s=S(new m.w({x:o.x,y:o.y,spatialReference:a}),r,i);if(null==s)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};var f=(s.x+s.y)/2,u=(0,h.$)(r),l=f*u*96*39.37,x=r.isGeographic?256/n*295828763.7958547:256/n*591657527.591555,v="vector-magdir"===e.dataType||"vector-uv"===e.dataType,p=Z(i,r),g=Math.min(Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2),Math.ceil(Math.log(x/2/l)/Math.LN2));if(!v&&t&&(r.isGeographic||r.isWebMercator)&&(!(v=p.xmin*p.xmax<0)&&g<3)){var d=A(r);if((0,c.r)(d)){var y=Math.pow(2,g)*f*n,w=Math.ceil(d/y);v=1===w||2===w&&d/2-p.xmax<y}}var M,b=l,R=1.001;if(v){b=x;var P=r.isGeographic?1341104507446289e-21:.29858214164761665,E=P*(96*u*39.37),k=r.isGeographic?4326:3857;(M=S(new m.w({x:P,y:P,spatialReference:{wkid:k}}),a,p)).x*=b/E,M.y*=b/E}else{M={x:o.x,y:o.y};for(var G=0;b<x*(R/2)&&G<g;)G++,b*=2,M.x*=2,M.y*=2;Math.max(b,x)/Math.min(b,x)<=R&&(b=x)}for(var N=[b],T=[{x:M.x,y:M.y}],C=70.5310735,_=Math.min(C,l)/R;b>=_;)b/=2,M.x/=2,M.y/=2,N.push(b),T.push({x:M.x,y:M.y});return{projectedPixelSize:s,scales:N,srcResolutions:T,isCustomTilingScheme:!v}}}}]);
//# sourceMappingURL=1532.96248519.chunk.js.map