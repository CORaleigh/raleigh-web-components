"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[7597],{1241:function(e,t,r){r.d(t,{L:function(){return F},i:function(){return d},r:function(){return m},s:function(){return h},z:function(){return N}});var n=r(74165),a=r(1413),i=r(29439),u=r(15861),o=r(37762),s=r(75610),c=r(23132),f=r(36460),l=r(30709),p=r(30604),y=(r(91204),r(57714)),m={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new f.m({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:l.k.WebMercator}),minus180Line:new f.m({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:l.k.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new f.m({paths:[[[180,-180],[180,180]]],spatialReference:l.k.WGS84}),minus180Line:new f.m({paths:[[[-180,-180],[-180,180]]],spatialReference:l.k.WGS84})}};function d(e,t){return Math.ceil((e-t)/(2*t))}function h(e,t){var r,n=v(e),a=(0,o.Z)(n);try{for(a.s();!(r=a.n()).done;){var i,u=r.value,s=(0,o.Z)(u);try{for(s.s();!(i=s.n()).done;){i.value[0]+=t}}catch(c){s.e(c)}finally{s.f()}}}catch(c){a.e(c)}finally{a.f()}return e}function v(e){return(0,p.c)(e)?e.rings:e.paths}function g(e,t,r,n){return x.apply(this,arguments)}function x(){return x=(0,u.Z)((0,n.Z)().mark((function e(t,r,i,u){var o,s,c,f,l,m,d,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="string"==typeof t?(0,y.j)(t):t,s=r[0].spatialReference,c=(0,a.Z)((0,a.Z)({},u),{},{query:(0,a.Z)((0,a.Z)({},o.query),{},{f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:(0,p.v)(r[0]),geometries:r}),cutter:JSON.stringify(i)})}),e.next=5,(0,y.U)(o.path+"/cut",c);case 5:return f=e.sent,l=f.data,m=l.cutIndexes,d=l.geometries,h=void 0===d?[]:d,e.abrupt("return",{cutIndexes:m,geometries:h.map((function(e){var t=(0,p.d)(e);return t.spatialReference=s,t}))});case 11:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function S(e,t,r){return b.apply(this,arguments)}function b(){return b=(0,u.Z)((0,n.Z)().mark((function e(t,r,i){var u,o,s,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="string"==typeof t?(0,y.j)(t):t,o=r[0].spatialReference,s=(0,p.v)(r[0]),c=(0,a.Z)((0,a.Z)({},i),{},{query:(0,a.Z)((0,a.Z)({},u.query),{},{f:"json",sr:o.wkid?o.wkid:JSON.stringify(o),geometries:JSON.stringify(R(r))})}),e.t0=Z,e.next=4,(0,y.U)(u.path+"/simplify",c);case 4:return e.t1=e.sent.data,e.t2=s,e.t3=o,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function R(e){return{geometryType:(0,p.v)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function Z(e,t,r){var n=(0,p.a)(t);return e.map((function(e){var t=n.fromJSON(e);return t.spatialReference=r,t}))}var w=c.s.getLogger("esri.geometry.support.normalizeUtils");function O(e,t,r){if(t){var n=function(e,t){if(!(e instanceof f.m||e instanceof f.v)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw w.error(r),new c.a(r)}var n,a=v(e),i=[],u=(0,o.Z)(a);try{for(u.s();!(n=u.n()).done;){var s=n.value,l=[];i.push(l),l.push([s[0][0],s[0][1]]);for(var p=0;p<s.length-1;p++){var y=s[p][0],m=s[p][1],d=s[p+1][0],h=s[p+1][1],g=Math.sqrt((d-y)*(d-y)+(h-m)*(h-m)),x=(h-m)/g,S=(d-y)/g,b=g/t;if(b>1){for(var R=1;R<=b-1;R++){var Z=R*t,O=S*Z+y,E=x*Z+m;l.push([O,E])}var k=(g+Math.floor(b-1)*t)/2,F=S*k+y,j=x*k+m;l.push([F,j])}l.push([d,h])}}}catch(N){u.e(N)}finally{u.f()}return function(e){return"polygon"===e.type}(e)?new f.v({rings:i,spatialReference:e.spatialReference}):new f.m({paths:i,spatialReference:e.spatialReference})}(e,1e6);e=(0,l.a)(n,!0)}return r&&(e=h(e,r)),e}function E(e,t,r){if(Array.isArray(e)){var n=e[0];if(n>t){var a=d(n,t);e[0]=n+a*(-2*t)}else if(n<r){var i=d(n,r);e[0]=n+i*(-2*r)}}else{var u=e.x;if(u>t){var o=d(u,t);e=e.clone().offset(o*(-2*t),0)}else if(u<r){var s=d(u,r);e=e.clone().offset(s*(-2*r),0)}}return e}function k(e,t){for(var r=-1,n=function(n){for(var a=t.cutIndexes[n],i=t.geometries[n],u=v(i),s=function(e){var t=u[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,a=0;a<t.length;a++){var u=t[a][0];n=u>n?u:n}for(var o=-360*d(n=Number(n.toFixed(9)),180),s=0;s<t.length;s++){var c=i.getPoint(e,s);i.setPoint(e,s,c.clone().offset(o,0))}return!0}))},c=0;c<u.length;c++)s(c);if(a===r){if(function(e){return"polygon"===e[0].type}(e)){var f,l=(0,o.Z)(v(i));try{for(l.s();!(f=l.n()).done;){var p=f.value;e[a]=e[a].addRing(p)}}catch(g){l.e(g)}finally{l.f()}}else if(function(e){return"polyline"===e[0].type}(e)){var y,m=(0,o.Z)(v(i));try{for(m.s();!(y=m.n()).done;){var h=y.value;e[a]=e[a].addPath(h)}}catch(g){m.e(g)}finally{m.f()}}}else r=a,e[a]=i},a=0;a<t.cutIndexes.length;a++)n(a);return e}function F(e,t,r){return j.apply(this,arguments)}function j(){return j=(0,u.Z)((0,n.Z)().mark((function e(t,r,a){var i,u,c,p,y,v,x,b,R,Z,j,N,q,J,P,z,I,L,B,C,G,_,Q,M,V,A,T,X,D,U,W,H,K,Y,$,ee,te,re,ne,ae,ie;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",F([t],r));case 2:r&&"string"!=typeof r&&w.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead"),u="string"==typeof r?r:null!==(i=null===r||void 0===r?void 0:r.url)&&void 0!==i?i:s.b.geometryServiceUrl,j=0,N=[],q=[],J=(0,o.Z)(t);try{for(J.s();!(P=J.n()).done;)z=P.value,(0,s.t)(z)?q.push(z):(c||(c=z.spatialReference,p=(0,l.b)(c),y=c.isWebMercator,v=m[b=y?102100:4326].maxX,x=m[b].minX,R=m[b].plus180Line,Z=m[b].minus180Line),p?"mesh"===z.type?q.push(z):"point"===z.type?q.push(E(z.clone(),v,x)):"multipoint"===z.type?((I=z.clone()).points=I.points.map((function(e){return E(e,v,x)})),q.push(I)):"extent"===z.type?(L=z.clone()._normalize(!1,!1,p),q.push(L.rings?new f.v(L):L)):z.extent?(B=z.extent,C=d(B.xmin,x)*(2*v),G=0===C?z.clone():h(z.clone(),C),B.offset(C,0),B.intersects(R)&&B.xmax!==v?(j=B.xmax>j?B.xmax:j,G=O(G,y),N.push(G),q.push("cut")):B.intersects(Z)&&B.xmin!==x?(j=B.xmax*(2*v)>j?B.xmax*(2*v):j,G=O(G,y,360),N.push(G),q.push("cut")):q.push(G)):q.push(z.clone()):q.push(z))}catch(n){J.e(n)}finally{J.f()}for(_=d(j,v),Q=-90,M=_,V=new f.m;_>0;)A=360*_-180,V.addPath([[A,Q],[A,-1*Q]]),Q*=-1,_--;if(!(N.length>0&&M>0)){e.next=29;break}return e.t0=k,e.t1=N,e.next=16,g(u,N,V,a);case 16:for(e.t2=e.sent,T=(0,e.t0)(e.t1,e.t2),X=[],D=[],U=0;U<q.length;U++)"cut"!==(W=q[U])?D.push(W):(H=T.shift(),K=t[U],(0,s.r)(K)&&"polygon"===K.type&&K.rings&&K.rings.length>1&&H.rings.length>=K.rings.length?(X.push(H),D.push("simplify")):D.push(y?(0,l.R)(H):H));if(X.length){e.next=23;break}return e.abrupt("return",D);case 23:return e.next=25,S(u,X,a);case 25:for(Y=e.sent,$=[],ee=0;ee<D.length;ee++)"simplify"!==(te=D[ee])?$.push(te):$.push(y?(0,l.R)(Y.shift()):Y.shift());return e.abrupt("return",$);case 29:for(re=[],ne=0;ne<q.length;ne++)"cut"!==(ae=q[ne])?re.push(ae):(ie=N.shift(),re.push(!0===y?(0,l.R)(ie):ie));return e.abrupt("return",re);case 32:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function N(e,t){var r=(0,l.b)(t);if(r){var n=(0,i.Z)(r.valid,2),a=n[0],u=n[1],o=u-a;if(e<a)for(;e<a;)e+=o;if(e>u)for(;e>u;)e-=o}return e}},27597:function(e,t,r){r.r(t),r.d(t,{E:function(){return w},S:function(){return R},c:function(){return h},d:function(){return g},f:function(){return S},p:function(){return b},q:function(){return O},t:function(){return p},x:function(){return Z}});var n=r(74165),a=r(1413),i=r(15861),u=r(57714),o=r(75610),s=r(30604),c=r(1241),f=r(67417),l=r(28999);function p(e){var t={};for(var r in e)if("declaredClass"!==r){var n=e[r];if(null!=n&&"function"!=typeof n)if(Array.isArray(n)){t[r]=[];for(var a=0;a<n.length;a++)t[r][a]=p(n[a])}else"object"==typeof n?n.toJSON&&(t[r]=JSON.stringify(n)):t[r]=n}return t}var y="Layer does not support extent calculation.";function m(e,t){if(t&&"extent"===e.type)return"".concat(e.xmin,",").concat(e.ymin,",").concat(e.xmax,",").concat(e.ymax);if(t&&"point"===e.type)return"".concat(e.x,",").concat(e.y);var r=e.toJSON();return delete r.spatialReference,JSON.stringify(r)}function d(e,t){var r=e.geometry,n=e.toJSON();delete n.compactGeometryEnabled,delete n.defaultSpatialReferenceEnabled;var a,i,u,c=n;if((0,o.r)(r)&&(i=r.spatialReference,u=r.spatialReference.wkid||JSON.stringify(r.spatialReference),c.geometryType=(0,s.v)(r),c.geometry=m(r,e.compactGeometryEnabled),c.inSR=u),n.groupByFieldsForStatistics&&(c.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(c.objectIds=n.objectIds.join(",")),n.orderByFields&&(c.orderByFields=n.orderByFields.join(",")),!n.outFields||!n.returnDistinctValues&&(null!==t&&void 0!==t&&t.returnCountOnly||null!==t&&void 0!==t&&t.returnExtentOnly||null!==t&&void 0!==t&&t.returnIdsOnly)?delete c.outFields:n.outFields.includes("*")?c.outFields="*":c.outFields=n.outFields.join(","),n.outSR?(c.outSR=n.outSR.wkid||JSON.stringify(n.outSR),a=e.outSpatialReference):r&&(n.returnGeometry||n.returnCentroid)&&(c.outSR=c.inSR,a=i),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(c.outStatistics=JSON.stringify(n.outStatistics)),n.pixelSize&&(c.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&(0,o.r)(i)&&(0,o.r)(e.quantizationParameters)&&(0,o.r)(e.quantizationParameters.extent)&&i.equals(e.quantizationParameters.extent.spatialReference)&&delete n.quantizationParameters.extent.spatialReference,c.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.parameterValues&&(c.parameterValues=JSON.stringify(n.parameterValues)),n.rangeValues&&(c.rangeValues=JSON.stringify(n.rangeValues)),n.dynamicDataSource&&(c.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource),n.timeExtent){var f=n.timeExtent,l=f.start,p=f.end;null==l&&null==p||(c.time=l===p?l:"".concat(null==l?"null":l,",").concat(null==p?"null":p)),delete n.timeExtent}return e.defaultSpatialReferenceEnabled&&(0,o.r)(i)&&(0,o.r)(a)&&i.equals(a)&&(c.defaultSR=c.inSR,delete c.inSR,delete c.outSR),c}function h(e,t,r,n){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)((0,n.Z)().mark((function e(t,r,a,i){var u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.r)(r.timeExtent)||!r.timeExtent.isEmpty){e.next=4;break}e.t0={data:{features:[]}},e.next=7;break;case 4:return e.next=6,w(t,r,"json",i);case 6:e.t0=e.sent;case 7:return u=e.t0,e.abrupt("return",((0,l.r)(r,a,u.data),u));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,r,n){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)((0,n.Z)().mark((function e(t,r,a,i){var u,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.r)(r.timeExtent)||!r.timeExtent.isEmpty){e.next=2;break}return e.abrupt("return",{data:a.createFeatureResult()});case 2:return e.next=4,S(t,r,i);case 4:return u=e.sent,s=u,e.abrupt("return",(s.data=(0,f.t)(u.data,a),s));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,r){return w(e,t,"pbf",r)}function b(e,t,r){return(0,o.r)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):w(e,t,"json",r,{returnIdsOnly:!0})}function R(e,t,r){return(0,o.r)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):w(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}function Z(e,t,r){return(0,o.r)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):w(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then((function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(y);if(t.hasOwnProperty("count"))throw new Error(y);return e}))}function w(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s="string"==typeof e?(0,u.j)(e):e,f=t.geometry?[t.geometry]:[];return n.responseType="pbf"===r?"array-buffer":"json",(0,c.L)(f,null,n).then((function(e){var c=e&&e[0];(0,o.r)(c)&&((t=t.clone()).geometry=c);var f=p((0,a.Z)((0,a.Z)((0,a.Z)({},s.query),{},{f:r},i),d(t,i)));return(0,u.U)((0,u.G)(s.path,"query"),(0,a.Z)((0,a.Z)({},n),{},{query:(0,a.Z)((0,a.Z)({},f),n.query)}))}))}var O=Object.freeze({__proto__:null,encodeGeometry:m,executeQuery:h,executeQueryForCount:R,executeQueryForExtent:Z,executeQueryForIds:b,executeQueryPBF:g,executeQueryPBFBuffer:S,queryToQueryStringParameters:d,runQuery:w})}}]);
//# sourceMappingURL=7597.f17e8dcf.chunk.js.map