"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[9796],{87110:function(e,t,r){r.d(t,{s:function(){return d}});var n=r(74165),o=r(15671),s=r(43144),i=r(15861),a=r(42),u=r(50165),c=(r(52155),r(72577)),l=r(13994),f=r(61772),h=u.s.getLogger("esri.intl");function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.format,o=void 0===n?{}:n;return(0,u.h)(e,(function(e){return p(e,t,o)}))}function p(e,t,r){var n,o,s=e.indexOf(":");if(-1===s?n=e.trim():(n=e.slice(0,s).trim(),o=e.slice(s+1).trim()),!n)return"";var i=(0,u.j)(n,t);if(null==i)return"";var c=r[o]||r[n];return c?function(e,t){switch(t.type){case"date":return(0,a.L)(e,t.intlOptions);case"number":return(0,a.m)(e,t.intlOptions);default:return h.warn("missing format descriptor for key {key}"),v(e)}}(i,c):o?function(e,t){switch(t.toLowerCase()){case"dateformat":return(0,a.L)(e);case"numberformat":return(0,a.m)(e);default:return h.warn("inline format is unsupported since 4.12: ".concat(t)),/^(dateformat|datestring)/i.test(t)?(0,a.L)(e):/^numberformat/i.test(t)?(0,a.m)(e):v(e)}}(i,o):v(i)}function v(e){switch(typeof e){case"string":return e;case"number":return(0,a.m)(e);case"boolean":return""+e;default:return e instanceof Date?(0,a.L)(e):""}}function g(){return g=(0,i.Z)((0,n.Z)().mark((function e(t,r,o,s){var i,a,l,f,h,d,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.exec(o)){e.next=3;break}throw new u.a("esri-intl:invalid-bundle",'Bundle id "'.concat(o,'" is not compatible with the pattern "').concat(r,'"'));case 3:return a=i[1]?"".concat(i[1],"/"):"",l=i[2],f=(0,c.u)(s),h="".concat(a).concat(l,".json"),d=f?"".concat(a).concat(l,"_").concat(f,".json"):h,e.prev=4,e.next=7,m(t(d));case 7:case 17:p=e.sent,e.next=23;break;case 10:if(e.prev=10,e.t0=e.catch(4),d!==h){e.next=14;break}throw new u.a("intl:unknown-bundle",'Bundle "'.concat(o,'" cannot be loaded'),{error:e.t0});case 14:return e.prev=14,e.next=17,m(t(h));case 20:throw e.prev=20,e.t1=e.catch(14),new u.a("intl:unknown-bundle",'Bundle "'.concat(o,'" cannot be loaded'),{error:e.t1});case 23:return e.abrupt("return",p);case 24:case"end":return e.stop()}}),e,null,[[4,10],[14,20]])}))),g.apply(this,arguments)}function m(e){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.r)(_.fetchBundleAsset)){e.next=2;break}return e.abrupt("return",_.fetchBundleAsset(t));case 2:return e.next=4,(0,l.U)(t,{responseType:"text"});case 4:return r=e.sent,e.abrupt("return",JSON.parse(r.data));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){function e(t){var r,n=t.base,s=void 0===n?"":n,i=t.pattern,a=t.location,u=void 0===a?new URL(window.location.href):a;(0,o.Z)(this,e),r="string"==typeof u?function(e){return new URL(e,new URL(u,window.location.href)).href}:u instanceof URL?function(e){return new URL(e,u).href}:u,this.pattern="string"==typeof i?new RegExp("^".concat(i)):i,this.getAssetUrl=r,s=s?s.endsWith("/")?s:s+"/":"",this.matcher=new RegExp("^".concat(s,"(?:(.*)/)?(.*)$"))}return(0,s.Z)(e,[{key:"fetchMessageBundle",value:function(e,t){return function(e,t,r,n){return g.apply(this,arguments)}(this.getAssetUrl,this.matcher,e,t)}}]),e}();var y,_={};(0,c.l)((y={pattern:"esri/",location:f.a},new b(y)))},49796:function(e,t,r){r.d(t,{a:function(){return A},c:function(){return ce},e:function(){return m},u:function(){return he}});var n,o,s=r(74165),i=r(15861),a=r(1413),u=r(37762),c=r(15671),l=r(43144),f=r(50165),h=r(13994),d=r(61772),p=(r(87110),r(52155)),v="20220708",g="7fd01dbc0e83d753fcf101c8ff2a8d215430252d",m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.values().next().value};(0,c.Z)(this,e),this._peeker=t,this._items=new Set}return(0,l.Z)(e,[{key:"length",get:function(){return this._items.size}},{key:"clear",value:function(){this._items.clear()}},{key:"last",value:function(){if(0!==this._items.size){var e,t,r=(0,u.Z)(this._items);try{for(r.s();!(t=r.n()).done;)e=t.value}catch(n){r.e(n)}finally{r.f()}return e}}},{key:"peek",value:function(){if(0!==this._items.size)return this._peeker(this._items)}},{key:"push",value:function(e){this.contains(e)||this._items.add(e)}},{key:"contains",value:function(e){return this._items.has(e)}},{key:"pop",value:function(){if(0!==this.length){var e=this.peek();return this._items.delete((0,f.q)(e)),e}}},{key:"popLast",value:function(){if(0!==this.length){var e=this.last();return this._items.delete((0,f.q)(e)),e}}},{key:"remove",value:function(e){this._items.delete(e)}},{key:"filter",value:function(e){var t=this;return this._items.forEach((function(r){e(r)||t._items.delete(r)})),this}}]),e}();(o=n||(n={}))[o.HANDSHAKE=0]="HANDSHAKE",o[o.OPEN=1]="OPEN",o[o.OPENED=2]="OPENED",o[o.RESPONSE=3]="RESPONSE",o[o.INVOKE=4]="INVOKE",o[o.ABORT=5]="ABORT",o[o.CLOSE=6]="CLOSE",o[o.OPEN_PORT=7]="OPEN_PORT",o[o.ON=8]="ON";var k=0;function b(){return k++}function y(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function _(e,t,r,o){var s;t.type!==n.OPEN_PORT?t.type===n.INVOKE||t.type===n.RESPONSE?(!function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(r)?(s=P(o),t.data=r):(s=P(r.transferList),t.data=r.result),s?e.postMessage(t,s):e.postMessage(t)):e.postMessage(t):e.postMessage(t,[t.port])}function w(e){if(!e)return null;var t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function P(e){if(!e||!e.length)return null;if((0,f.c)("esri-workers-arraybuffer-transfer"))return e;var t=e.filter((function(e){return!function(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}(e)}));return t.length?t:null}var E={statsWorker:function(){return Promise.all([r.e(2335),r.e(7241)]).then(r.bind(r,77241))},geometryEngineWorker:function(){return Promise.all([r.e(6549),r.e(4032)]).then(r.bind(r,64032))},CSVSourceWorker:function(){return Promise.all([r.e(1340),r.e(8643),r.e(2637),r.e(2335),r.e(5940),r.e(1029),r.e(594),r.e(2748),r.e(1178)]).then(r.bind(r,21178))},EdgeProcessingWorker:function(){return Promise.all([r.e(3262),r.e(6821)]).then(r.bind(r,76821)).then((function(e){return e.E}))},ElevationSamplerWorker:function(){return Promise.all([r.e(1340),r.e(8643),r.e(3262),r.e(3935),r.e(2394)]).then(r.bind(r,62394))},FeatureServiceSnappingSourceWorker:function(){return Promise.all([r.e(1340),r.e(8643),r.e(2637),r.e(2763),r.e(2335),r.e(5940),r.e(1029),r.e(594),r.e(2298),r.e(392),r.e(2748),r.e(3543)]).then(r.bind(r,23543))},GeoJSONSourceWorker:function(){return Promise.all([r.e(1340),r.e(8643),r.e(2637),r.e(2335),r.e(5940),r.e(1029),r.e(594),r.e(2748),r.e(2607),r.e(6941)]).then(r.bind(r,86941))},LercWorker:function(){return r.e(3571).then(r.bind(r,3571))},MemorySourceWorker:function(){return Promise.all([r.e(1340),r.e(8643),r.e(2637),r.e(2335),r.e(5940),r.e(1029),r.e(594),r.e(2748),r.e(2607),r.e(7384)]).then(r.bind(r,97384))},PBFDecoderWorker:function(){return Promise.all([r.e(594),r.e(2298),r.e(2657)]).then(r.bind(r,62657))},Pipeline:function(){return Promise.all([r.e(1340),r.e(8643),r.e(6275),r.e(7692),r.e(2637),r.e(3441),r.e(2763),r.e(2335),r.e(5940),r.e(1029),r.e(594),r.e(2298),r.e(7639),r.e(392),r.e(2748),r.e(5915),r.e(3112),r.e(6784),r.e(8389),r.e(2692)]).then(r.bind(r,54240))},PointCloudWorker:function(){return Promise.all([r.e(1340),r.e(8643),r.e(4516),r.e(1621)]).then(r.bind(r,61621))},RasterWorker:function(){return Promise.all([r.e(1340),r.e(8643),r.e(5346),r.e(866),r.e(4806),r.e(7886),r.e(1800)]).then(r.bind(r,51800))},SceneLayerSnappingSourceWorker:function(){return Promise.all([r.e(1340),r.e(8643),r.e(2637),r.e(2335),r.e(5940),r.e(594),r.e(3262),r.e(4763),r.e(6202)]).then(r.bind(r,2199))},SceneLayerWorker:function(){return Promise.all([r.e(1340),r.e(4428)]).then(r.bind(r,34428)).then((function(e){return e.S}))},WFSSourceWorker:function(){return Promise.all([r.e(1340),r.e(8643),r.e(2637),r.e(2335),r.e(5940),r.e(1029),r.e(594),r.e(2748),r.e(5915),r.e(2607),r.e(4041),r.e(1043)]).then(r.bind(r,51043))},WorkerTileHandler:function(){return Promise.all([r.e(2671),r.e(6283),r.e(3419),r.e(3763)]).then(r.bind(r,72740))}},O=n,N=O.CLOSE,M=O.ABORT,S=O.INVOKE,I=O.RESPONSE,Z=O.OPEN_PORT,L=O.ON,J=function(){function e(t){(0,c.Z)(this,e),this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}return(0,l.Z)(e,[{key:"push",value:function(e){e.type===n.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}},{key:"clear",value:function(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}},{key:"_process",value:function(){this._timer=null;var e,t=(0,u.Z)(this._invokeMessages);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._cancelledJobIds.has(r.jobId)||this._invoke(r)}}catch(n){t.e(n)}finally{t.f()}this._cancelledJobIds.clear(),this._invokeMessages.length=0}}]),e}(),j=function(){function e(t,r,n){var o=this;(0,c.Z)(this,e),this._port=t,this._getNextJob=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new J((function(e){return o._onInvokeMessage(e)})),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}return(0,l.Z)(e,[{key:"close",value:function(){this._post({type:N}),this._close()}},{key:"isBusy",value:function(){return this._outJobs.size>0}},{key:"invoke",value:function(e,t,r){var n=this,o=r&&r.signal,s=r&&r.transferList;if(!this._port)return Promise.reject(new f.a("worker:port-closed","Cannot call invoke('".concat(e,"'), port is closed"),{methodName:e,data:t}));var i=b();return new Promise((function(r,a){if((0,f.u)(o))return n._processWork(),void a((0,f.v)());var u=(0,f.x)(o,(function(){var e=n._outJobs.get(i);e&&(n._outJobs.delete(i),n._processWork(),(0,f.z)(e.abortHandle),n._post({type:M,jobId:i}),a((0,f.v)()))})),c={resolve:r,reject:a,abortHandle:u,debugInfo:e};n._outJobs.set(i,c),n._post({type:S,jobId:i,methodName:e,abortable:null!=o},t,s)}))}},{key:"on",value:function(e,t){var r=new MessageChannel;function o(e){t(e.data)}return this._port.postMessage({type:n.ON,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",o),r.port1.start(),{remove:function(){r.port1.postMessage({type:n.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",o)}}}},{key:"jobAdded",value:function(){this._processWork()}},{key:"openPort",value:function(){var e=new MessageChannel;return this._post({type:Z,port:e.port2}),e.port1}},{key:"_processWork",value:function(){if(!(this._outJobs.size>=2)){var e=this._getNextJob();if(e){var t=e.methodName,r=e.data,n=e.invokeOptions,o=e.deferred;this.invoke(t,r,n).then((function(e){return o.resolve(e)})).catch((function(e){return o.reject(e)}))}}}},{key:"_close",value:function(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((function(e){(0,f.z)(e.abortHandle),e.reject((0,f.v)("Worker closing, aborting job calling '".concat(e.debugInfo,"'")))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}},{key:"_onMessage",value:function(e){var t=this;(0,f.r)(this._schedule)?this._schedule((function(){return t._processMessage(e)})):this._processMessage(e)}},{key:"_processMessage",value:function(e){var t=w(e);if(t)switch(t.type){case I:this._onResponseMessage(t);break;case S:this._invokeQueue.push(t);break;case M:this._onAbortMessage(t);break;case N:this._onCloseMessage();break;case Z:this._onOpenPortMessage(t);break;case L:this._onOnMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),t.delete(r))}},{key:"_onCloseMessage",value:function(){var t=this._client;this._close(),t&&"destroy"in t&&e.clients.get(this)===t&&t.destroy(),e.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}},{key:"_onInvokeMessage",value:function(e){var t,r=this,n=e.methodName,o=e.jobId,s=e.data,i=e.abortable?new AbortController:null,a=this._inJobs,u=this._client,c=u[n];try{if(!c&&n&&n.includes("."))for(var l=n.split("."),h=0;h<l.length-1;h++)c=(u=u[l[h]])[l[h+1]];if("function"!=typeof c)throw new TypeError("".concat(n," is not a function"));t=c.call(u,s,{client:this,signal:i?i.signal:null})}catch(he){return void this._post({type:I,jobId:o,error:y(he)})}(0,f.R)(t)?(a.set(o,{controller:i,promise:t}),t.then((function(e){a.has(o)&&(a.delete(o),r._post({type:I,jobId:o},e))}),(function(e){a.has(o)&&(a.delete(o),(0,f.I)(e)||r._post({type:I,jobId:o,error:y(e||{message:"Error encountered at method ".concat(n)})}))}))):this._post({type:I,jobId:o},t)}},{key:"_onOpenPortMessage",value:function(t){new e(t.port,{client:this._client},(function(){return null}))}},{key:"_onOnMessage",value:function(e){var t=e.port,r=this._client.on(e.eventType,(function(e){t.postMessage(e)})),o=(0,f.l)(e.port,"message",(function(e){w(e).type===n.CLOSE&&(o.remove(),r.remove(),t.close())}))}},{key:"_onResponseMessage",value:function(e){var t=e.jobId,r=e.error,n=e.data,o=this._outJobs;if(o.has(t)){var s=o.get(t);this._processWork(),o.delete(t),(0,f.z)(s.abortHandle),r?s.reject(f.a.fromJSON(JSON.parse(r))):s.resolve(n)}}},{key:"_post",value:function(e,t,r){return _(this._port,e,t,r)}}],[{key:"connect",value:function(t){var r,n=new MessageChannel;r="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;var o=new e(n.port1,{channel:n,client:r},(function(){return null}));return"object"==typeof r&&"remoteClient"in r&&(r.remoteClient=o),e.clients.set(o,r),n.port2}},{key:"loadWorker",value:function(e){var t=E[e];return t?t():Promise.resolve(null)}}]),e}();j.kernelInfo={revision:g,version:h.c,buildDate:v},j.clients=new Map;var x=f.s.getLogger("esri.core.workers.Connection"),A=function(){function e(){(0,c.Z)(this,e),this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new m}return(0,l.Z)(e,[{key:"destroy",value:function(){this.close()}},{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"open",value:function(e,t){var r=this;return new Promise((function(n,o){var s=!0,i=function(e){(0,f.W)(t.signal),s&&(s=!1,e())};r._clients.length=e.length,r._clientPromises.length=e.length,r._inUseClients.length=e.length;for(var a=function(s){var a=e[s];(0,f.R)(a)?r._clientPromises[s]=a.then((function(e){return r._clients[s]=new j(e,t,(function(){return r._ongoingJobsQueue.pop()})),i(n),r._clients[s]}),(function(){return i(o),null})):(r._clients[s]=new j(a,t,(function(){return r._ongoingJobsQueue.pop()})),r._clientPromises[s]=Promise.resolve(r._clients[s]),i(n))},u=0;u<e.length;++u)a(u)}))}},{key:"broadcast",value:function(e,t,r){for(var n=new Array(this._clientPromises.length),o=0;o<this._clientPromises.length;++o){var s=this._clientPromises[o];n[o]=s.then((function(n){return n.invoke(e,t,r)}))}return n}},{key:"close",value:function(){for(var e;e=this._ongoingJobsQueue.pop();)e.deferred.reject((0,f.v)("Worker closing, aborting job calling '".concat(e.methodName,"'")));var t,r=(0,u.Z)(this._clientPromises);try{for(r.s();!(t=r.n()).done;){t.value.then((function(e){return e.close()}))}}catch(n){r.e(n)}finally{r.f()}this._clients.length=0,this._clientPromises.length=0}},{key:"invoke",value:function(e,t,r){var n=null;Array.isArray(r)?(x.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:r}):n=r;var o=(0,f.T)();this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:n,deferred:o});for(var s=0;s<this._clientPromises.length;s++){var i=this._clients[s];i?i.jobAdded():this._clientPromises[s].then((function(e){return e.jobAdded()}))}return o.promise}},{key:"on",value:function(e,t){var r=this;return Promise.all(this._clientPromises).then((function(){return(0,f.w)(r._clients.map((function(r){return r.on(e,t)})))}))}},{key:"openPorts",value:function(){var e=this;return new Promise((function(t){for(var r=new Array(e._clientPromises.length),n=r.length,o=function(o){e._clientPromises[o].then((function(e){r[o]=e.openPort(),0==--n&&t(r)}))},s=0;s<e._clientPromises.length;++s)o(s)}))}},{key:"test",get:function(){return{numClients:this._clients.length}}}]),e}(),C={};function R(e){var t,r={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:(0,a.Z)({},e.has),map:(0,a.Z)({},e.map),packages:e.packages&&e.packages.concat()||[],paths:(0,a.Z)({},e.paths)};return e.hasOwnProperty("async")||(r.async=!0),e.hasOwnProperty("isDebug")||(r.isDebug=!1),e.baseUrl||(r.baseUrl=C.baseUrl),null!==(t=C.packages)&&void 0!==t&&t.forEach((function(e){!function(e,t){var r,n=(0,u.Z)(e);try{for(n.s();!(r=n.n()).done;)if(r.value.name===t.name)return}catch(o){n.e(o)}finally{n.f()}e.push(t)}(r.packages,e)})),r}var W,H,D=(0,l.Z)((function e(){var t=this;(0,c.Z)(this,e);var r=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((function(e){t[e]=function(){return r[e].apply(r,arguments)}}))})),U=function(){function e(){(0,c.Z)(this,e),this._dispatcher=new D,this._workerPostMessage({type:n.HANDSHAKE})}return(0,l.Z)(e,[{key:"terminate",value:function(){}},{key:"onmessage",get:function(){return this._onmessageHandler},set:function(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}},{key:"postMessage",value:function(e){var t=this;(0,f.ax)((function(){t._workerMessageHandler(new MessageEvent("message",{data:e}))}))}},{key:"dispatchEvent",value:function(e){return this._dispatcher.dispatchEvent(e)}},{key:"addEventListener",value:function(e,t,r){this._dispatcher.addEventListener(e,t,r)}},{key:"removeEventListener",value:function(e,t,r){this._dispatcher.removeEventListener(e,t,r)}},{key:"_workerPostMessage",value:function(e){var t=this;(0,f.ax)((function(){t.dispatchEvent(new MessageEvent("message",{data:e}))}))}},{key:"_workerMessageHandler",value:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var r,o,i,a,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=w(t))||r.type!==n.OPEN){e.next=13;break}return o=r.modulePath,i=r.jobId,e.next=5,j.loadWorker(o);case 5:if(a=e.sent,e.t0=a,e.t0){e.next=11;break}return e.next=10,import(o);case 10:a=e.sent;case 11:u=j.connect(a),this._workerPostMessage({type:n.OPENED,jobId:i,data:u});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),T=f.s.getLogger("esri.core.workers"),B=n.HANDSHAKE,z='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});',Q="Failed to create Worker. Fallback to execute module in main thread";function K(){return q.apply(this,arguments)}function q(){return q=(0,i.Z)((0,s.Z)().mark((function e(){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,f.c)("esri-workers")&&((0,f.c)("mozilla"),1)){e.next=2;break}return e.abrupt("return",F(new U));case 2:if(!W&&!H)try{t=z.replace('"{CONFIGURATION}"',"'".concat($(),"'")),W=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(R){H=R||{}}if(W)try{r=new Worker(W,{name:"esri-worker-"+G++})}catch(R){T.warn(Q,H),r=new U}else T.warn(Q,H),r=new U;return e.abrupt("return",F(r));case 5:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function F(e){return V.apply(this,arguments)}function V(){return V=(0,i.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){function r(o){var s=w(o);s&&s.type===B&&(t.removeEventListener("message",r),t.removeEventListener("error",n),e(t))}function n(e){e.preventDefault(),t.removeEventListener("message",r),t.removeEventListener("error",n),T.warn("Failed to create Worker. Fallback to execute module in main thread",e),(t=new U).addEventListener("message",r),t.addEventListener("error",n)}t.addEventListener("message",r),t.addEventListener("error",n)})));case 1:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function $(){var e;if(null!=f.f.default){var t=(0,a.Z)({},f.f);delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(f.f));e.assetsPath=(0,h.Q)(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=(0,p.l)(),e.has={"esri-csp-restrictions":(0,f.c)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,f.c)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":(0,f.c)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":(0,f.c)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,f.c)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,f.c)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,f.c)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,f.c)("esri-atomics"),"esri-shared-array-buffer":(0,f.c)("esri-shared-array-buffer"),"esri-tiles-debug":(0,f.c)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,f.c)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,f.c)("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=(0,h.Q)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=(0,h.Q)(e.workers.workerPath):e.workers.workerPath=(0,h.Q)((0,d.a)("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;var r=f.f.workers.loaderConfig,n=R({baseUrl:null===r||void 0===r?void 0:r.baseUrl,locale:(0,p.l)(),has:(0,a.Z)({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},null===r||void 0===r?void 0:r.has),map:(0,a.Z)({},null===r||void 0===r?void 0:r.map),paths:(0,a.Z)({},null===r||void 0===r?void 0:r.paths),packages:(null===r||void 0===r?void 0:r.packages)||[]}),o={version:h.c,buildDate:v,revision:g};return JSON.stringify({esriConfig:e,loaderConfig:n,kernelInfo:o})}var G=0,X=f.s.getLogger("esri.core.workers"),Y=n,ee=Y.ABORT,te=Y.INVOKE,re=Y.OPEN,ne=Y.OPENED,oe=Y.RESPONSE,se=function(){function e(t,r){(0,c.Z)(this,e),this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",(function(e){e.preventDefault(),X.error(e)}))}return(0,l.Z)(e,[{key:"terminate",value:function(){this.worker.terminate()}},{key:"open",value:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var r,n,o,i=this,a=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=r.signal,o=b(),e.abrupt("return",new Promise((function(e,r){var s={resolve:e,reject:r,abortHandle:(0,f.Z)(n,(function(){i._outJobs.delete(o),i._post({type:ee,jobId:o})}))};i._outJobs.set(o,s),i._post({type:re,jobId:o,modulePath:t})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onMessage",value:function(e){var t=w(e);if(t)switch(t.type){case ne:this._onOpenedMessage(t);break;case oe:this._onResponseMessage(t);break;case ee:this._onAbortMessage(t);break;case te:this._onInvokeMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);n&&(n.controller&&n.controller.abort(),t.delete(r))}},{key:"_onInvokeMessage",value:function(e){var t,r=this,n=e.methodName,o=e.jobId,s=e.data,i=e.abortable?new AbortController:null,a=this._inJobs,u=h.d[n];try{if("function"!=typeof u)throw new TypeError("".concat(n," is not a function"));t=u.call(null,s,{signal:i?i.signal:null})}catch(X){return void this._post({type:oe,jobId:o,error:y(X)})}(0,f.R)(t)?(a.set(o,{controller:i,promise:t}),t.then((function(e){a.has(o)&&(a.delete(o),r._post({type:oe,jobId:o},e))}),(function(e){a.has(o)&&(a.delete(o),e||(e={message:"Error encountered at method"+n}),(0,f.I)(e)||r._post({type:oe,jobId:o,error:y(e||{message:"Error encountered at method ".concat(n)})}))}))):this._post({type:oe,jobId:o},t)}},{key:"_onOpenedMessage",value:function(e){var t=e.jobId,r=e.data,n=this._outJobs.get(t);n&&(this._outJobs.delete(t),(0,f.z)(n.abortHandle),n.resolve(r))}},{key:"_onResponseMessage",value:function(e){var t=e.jobId,r=e.error,n=e.data,o=this._outJobs.get(t);o&&(this._outJobs.delete(t),(0,f.z)(o.abortHandle),r?o.reject(f.a.fromJSON(JSON.parse(r))):o.resolve(n))}},{key:"_post",value:function(e,t,r){return _(this.worker,e,t,r)}}],[{key:"create",value:function(){var t=(0,i.Z)((0,s.Z)().mark((function t(r){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K();case 2:return n=t.sent,t.abrupt("return",new e(n,r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),ie=(0,f.c)("esri-workers-debug")?1:(0,f.c)("host-browser")?navigator.hardwareConcurrency-1:0;ie||(ie=(0,f.c)("safari")&&(0,f.c)("mac")||(0,f.c)("trident")?7:2);var ae=0,ue=[];function ce(){ve()}function le(e,t){return fe.apply(this,arguments)}function fe(){return fe=(0,i.Z)((0,s.Z)().mark((function e(t,r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new A,e.next=3,n.open(t,r);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function he(e){return de.apply(this,arguments)}function de(){return de=(0,i.Z)((0,s.Z)().mark((function e(t){var r,n,o,i,u,c,l,h,d,p=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:{},"string"==typeof t){e.next=3;break}throw new f.a("workers:undefined-module","modulePath is missing");case 3:if(n=r.strategy||"distributed",(0,f.c)("host-webworker")&&!(0,f.c)("esri-workers")&&(n="local"),"local"!==n){e.next=16;break}return e.next=7,j.loadWorker(t);case 7:if(o=e.sent,e.t0=o,e.t0){e.next=13;break}return e.next=12,import(t);case 12:o=e.sent;case 13:return(0,f.W)(r.signal),i=r.client||o,e.abrupt("return",le([j.connect(o)],(0,a.Z)((0,a.Z)({},r),{},{client:i})));case 16:return e.next=18,ve();case 18:if((0,f.W)(r.signal),"dedicated"!==n){e.next=28;break}return u=ae++%ie,e.t1=le,e.next=24,ue[u].open(t,r);case 24:return e.t2=e.sent,e.t3=[e.t2],e.t4=r,e.abrupt("return",(0,e.t1)(e.t3,e.t4));case 28:if(!(r.maxNumWorkers&&r.maxNumWorkers>0)){e.next=34;break}if(!((c=Math.min(r.maxNumWorkers,ie))<ie)){e.next=34;break}for(l=new Array(c),h=0;h<c;++h)d=ae++%ie,l[h]=ue[d].open(t,r);return e.abrupt("return",le(l,r));case 34:return e.abrupt("return",le(ue.map((function(e){return e.open(t,r)})),r));case 35:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}var pe=null;function ve(){return ge.apply(this,arguments)}function ge(){return ge=(0,i.Z)((0,s.Z)().mark((function e(){var t,r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe){e.next=2;break}return e.abrupt("return",pe);case 2:for(new AbortController,t=[],r=function(e){var r=se.create(e).then((function(t){return ue[e]=t,t}));t.push(r)},n=0;n<ie;n++)r(n);return e.abrupt("return",pe=Promise.all(t));case 7:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}}}]);
//# sourceMappingURL=9796.aadcb2f9.chunk.js.map