"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[4054],{86548:function(e,t,n){n.d(t,{h:function(){return y},u:function(){return p}});var i=n(37762),r=n(15671),a=n(43144),s=n(23132),o=n(80175),u=n(75610),h=n(72820),l=n(78311),d=n(61495),c=n(62268),f=n(86068),v={minX:0,minY:0,maxX:0,maxY:0};function m(e,t,n){(function(e){v.minX=e[0],v.minY=e[1],v.maxX=e[2],v.maxY=e[3]})(t),e.search(v,n)}var y=function(){function e(){var t=this;(0,r.Z)(this,e),this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new c.h(9,(0,u.a)("esri-csp-restrictions")?function(e){return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}}:["[0]","[1]","[2]","[3]"]),this._loadIndex=function(){if(t._indexInvalid){var e=new Array(t._idByBounds.size),n=0;t._idByBounds.forEach((function(t,i){e[n++]=i})),t._indexInvalid=!1,t._index.clear(),t._index.load(e)}else t._boundsToLoad.length&&(t._index.load(t._boundsToLoad.filter((function(e){return t._idByBounds.has(e)}))),t._boundsToLoad.length=0)}}return(0,a.Z)(e,[{key:"fullBounds",get:function(){if(!this._boundsById.size)return null;var e,t=(0,l.D)(),n=(0,i.Z)(this._boundsById.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r&&(t[0]=Math.min(r[0],t[0]),t[1]=Math.min(r[1],t[1]),t[2]=Math.max(r[2],t[2]),t[3]=Math.max(r[3],t[3]))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"valid",get:function(){return!this._indexInvalid}},{key:"clear",value:function(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}},{key:"delete",value:function(e){var t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))}},{key:"forEachInBounds",value:function(e,t){var n=this;this._loadIndex(),m(this._index,e,(function(e){return t(n._idByBounds.get(e))}))}},{key:"get",value:function(e){return this._boundsById.get(e)}},{key:"has",value:function(e){return this._boundsById.has(e)}},{key:"invalidateIndex",value:function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}},{key:"set",value:function(e,t){if(!this._indexInvalid){var n=this._boundsById.get(e);n&&(this._index.remove(n),this._idByBounds.delete(n))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>5e4&&this._loadIndex()))}}]),e}(),p=function(){function e(t){(0,r.Z)(this,e),this.geometryInfo=t,this._boundsStore=new y,this._featuresById=new Map,this._markedIds=new Set,this.events=new o.n,this.featureAdapter=f.i}return(0,a.Z)(e,[{key:"geometryType",get:function(){return this.geometryInfo.geometryType}},{key:"hasM",get:function(){return this.geometryInfo.hasM}},{key:"hasZ",get:function(){return this.geometryInfo.hasZ}},{key:"numFeatures",get:function(){return this._featuresById.size}},{key:"fullBounds",get:function(){return this._boundsStore.fullBounds}},{key:"storeStatistics",get:function(){var e=0;return this._featuresById.forEach((function(t){(0,u.r)(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}},{key:"add",value:function(e){this._add(e),this._emitChanged()}},{key:"addMany",value:function(e){var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._add(r)}}catch(a){n.e(a)}finally{n.f()}this._emitChanged()}},{key:"clear",value:function(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}},{key:"removeById",value:function(e){var t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}},{key:"removeManyById",value:function(e){this._boundsStore.invalidateIndex();var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=this._featuresById.get(r);a&&this._remove(a)}}catch(s){n.e(s)}finally{n.f()}this._emitChanged()}},{key:"forEachBounds",value:function(e,t,n){var r,a=(0,i.Z)(e);try{for(a.s();!(r=a.n()).done;){var s=r.value,o=this._boundsStore.get(s.objectId);o&&t((0,h.O)(n,o))}}catch(u){a.e(u)}finally{a.f()}}},{key:"getFeature",value:function(e){return this._featuresById.get(e)}},{key:"has",value:function(e){return this._featuresById.has(e)}},{key:"toArray",value:function(){return Array.from(this._featuresById.values())}},{key:"forEach",value:function(e){this._featuresById.forEach((function(t){return e(t)}))}},{key:"forEachInBounds",value:function(e,t){var n=this;this._boundsStore.forEachInBounds(e,(function(e){t(n._featuresById.get(e))}))}},{key:"startMarkingUsedFeatures",value:function(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}},{key:"sweep",value:function(){var e=this,t=!1;this._featuresById.forEach((function(n,i){e._markedIds.has(i)||(t=!0,e._remove(n))})),this._markedIds.clear(),t&&this._emitChanged()}},{key:"_emitChanged",value:function(){this.events.emit("changed",void 0)}},{key:"_add",value:function(e){if(e){var t=e.objectId;if(null!=t){var n,i=this._featuresById.get(t);if(this._markedIds.add(t),i?(e.displayId=i.displayId,n=this._boundsStore.get(t),this._boundsStore.delete(t)):(0,u.r)(this.onFeatureAdd)&&this.onFeatureAdd(e),(0,u.t)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)return this._boundsStore.set(t,null),void this._featuresById.set(t,e);n=(0,d.g)((0,u.r)(n)?n:(0,l.u)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),(0,u.r)(n)&&this._boundsStore.set(t,n),this._featuresById.set(t,e)}else s.s.getLogger("esri.layers.graphics.data.FeatureStore").error(new s.a("featurestore:invalid-feature","feature id is missing",{feature:e}))}}},{key:"_remove",value:function(e){return(0,u.r)(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}]),e}()},44054:function(e,t,n){n.r(t),n.d(t,{GraphicsSnappingSource:function(){return w}});var i=n(4942),r=n(29439),a=n(74165),s=n(15861),o=n(37762),u=n(15671),h=n(43144),l=n(60136),d=n(29388),c=n(23132),f=n(75610),v=n(97033),m=n(36460),y=n(63022),p=n(45379),_=n(91204),x=n(61495),g=n(33642),k=n(86548),I=n(20880),B=n(56292),b=n(24789),w=(n(21583),n(77470),n(80175),n(36551),n(30709),n(70441),n(80262),n(2760),n(44455),n(57714),n(61340),n(33703),n(78311),n(69953),n(30604),n(1241),n(72820),n(62268),n(18392),n(86068),n(75370),n(25316),n(73554),n(60912),n(47626),n(81019),n(68826),n(61212),n(29709),n(78674),n(66307),n(50448),n(22144),n(83712),n(7513),n(75955),n(50526),n(14739),n(10780),n(55827),n(14181),n(80584),n(43920),n(57952),n(90584),n(84192),n(45332),n(6819),n(90138),n(97566),n(45414),n(58687),n(10815),n(2157),n(55269),n(83822),n(51451),n(41742),n(1773),n(77196),n(24980),n(3114),n(88370),n(96349),n(9055),n(79611),n(84538),n(49580),n(54841),n(92870),n(6794),n(81663),n(83996),n(97627),n(38304),n(96401),n(71573),n(58394),n(44344),n(48561),n(3969),n(55806),n(47672),n(64296),n(14432),n(6243),n(37783),n(74021),n(56864),n(64004),n(40273),n(72692),n(77389),n(32568),n(69202),n(27597),n(67417),n(15181),n(28999),n(15612),n(43124),n(69797),n(34860),n(36638),n(10590),n(19948),n(96636),n(30664),n(83024),n(407),n(67154),n(79054),n(47642),n(18411),n(43782),n(33976),n(28210),n(17436),n(53373),n(94872),n(79042),n(16485),n(92029),n(74575),n(9575),n(53249),n(72763),n(28681),n(38929),n(97866),n(68890),n(31513),n(25838),n(54539),n(19967),n(50338),n(28623),n(10312),n(95254),n(61099),n(12158),n(93874),n(62446),n(27264),n(50905),n(78945),n(70516),n(25279),n(22268),n(40452),n(60424),n(22225),n(38425),n(42471),n(78470),n(1665),n(38843),n(24892),n(48889),n(30150),n(53647),n(86270),n(87833),n(21523),n(71710),n(83059),n(4720),n(91309),n(25715),n(83262),n(2822),n(61349),n(32990),n(52376),n(94867),n(50982),n(21165),n(21984),n(48373),n(61473),n(14946),n(44365),n(86148),n(98907),n(66156),n(10534),n(25459),n(78556),n(77787),n(85511),n(87603),n(22051),n(21924),n(46123),n(75777),n(76071),n(42446),n(59819),n(64571),n(35773),n(34284),n(28194),n(23218),n(33898),n(42860),n(68433),n(29009),function(e){(0,l.Z)(n,e);var t=(0,d.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,e)).availability=1,i.sources={multipoint:null,point:null,polygon:null,polyline:null},i.loadedWkids=new Set,i.loadedWkts=new Set,i.pendingAdds=[],i}return(0,h.Z)(n,[{key:"updating",get:function(){return this.updatingHandles.updating}},{key:"layer",get:function(){return this.layerSource.layer}},{key:"destroy",value:function(){var e=this,t=this.pendingAdds;this.pendingAdds.length=0;var n,i=(0,o.Z)(t);try{for(i.s();!(n=i.n()).done;){n.value.task.abort()}}catch(r){i.e(r)}finally{i.f()}this._mapSources((function(t){return e._destroySource(t)}))}},{key:"initialize",value:function(){var e=this;this.handles.add([this.layer.on("graphic-update",(function(t){return e._onGraphicUpdate(t)})),this.updatingHandles.addOnCollectionChange((function(){return e.layer.graphics}),(function(t){return e._onGraphicsChanged(t)}))]),this._addMany(this.layer.graphics.toArray())}},{key:"fetchCandidates",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,n){var i,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.ak)(this._mapSources((function(e){return e.queryEngine.executeQueryForSnapping({point:t.coordinateHelper.vectorToPoint(t.point).toJSON(),distance:t.distance,types:t.types,query:(0,f.r)(t.filter)?t.filter.createQuery().toJSON():{where:"1=1"}},n).then((function(e){return e.candidates}))})));case 2:return i=e.sent,r=i.flat().map((function(e){return(0,b.o)(e,t.coordinateHelper,t.elevationInfo)})),e.abrupt("return",((0,B.a)(t.point,r),r));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){}},{key:"_onGraphicUpdate",value:function(e){switch(e.property){case"geometry":case"visible":this._remove(e.graphic),this._addMany([e.graphic])}}},{key:"_onGraphicsChanged",value:function(e){var t,n=(0,o.Z)(e.removed);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._remove(i)}}catch(r){n.e(r)}finally{n.f()}this._addMany(e.added)}},{key:"_addMany",value:function(e){var t,n=[],i=new Map,r=(0,o.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;(0,f.t)(a.geometry)||(this._needsInitializeProjection(a.geometry.spatialReference)?(n.push(a.geometry.spatialReference),i.set(a.uid,a)):this._add(a))}}catch(s){r.e(s)}finally{r.f()}this._createPendingAdd(n,i)}},{key:"_createPendingAdd",value:function(e,t){var n=this;if(e.length){var i=(0,c.al)(function(){var i=(0,s.Z)((0,a.Z)().mark((function i(s){var u,h,l,d;return(0,a.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,y.f)(e.map((function(e){return{source:e,dest:n.spatialReference}})),{signal:s});case 2:n._markLoadedSpatialReferences(e),u=(0,o.Z)(t);try{for(u.s();!(h=u.n()).done;)l=(0,r.Z)(h.value,2),d=l[1],n._add(d)}catch(a){u.e(a)}finally{u.f()}case 5:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());this.updatingHandles.addPromise(i.promise);var u={task:i,graphics:t},h=function(){return(0,f.A)(n.pendingAdds,u)};i.promise.then(h,h),this.pendingAdds.push(u)}}},{key:"_markLoadedSpatialReferences",value:function(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;null!=i.wkid&&this.loadedWkids.add(i.wkid),null!=i.wkt&&this.loadedWkts.add(i.wkt)}}catch(r){n.e(r)}finally{n.f()}}},{key:"_add",value:function(e){if(!(0,f.t)(e.geometry)&&e.visible){var t=e.geometry;if("mesh"!==t.type){"extent"===t.type&&(t=m.v.fromExtent(t));var n=this._ensureSource(t.type);if(!(0,f.t)(n)){var i=this._createOptimizedFeature(e.uid,t);(0,f.r)(i)&&n.featureStore.add(i)}}}}},{key:"_needsInitializeProjection",value:function(e){return(null==e.wkid||!this.loadedWkids.has(e.wkid))&&(null==e.wkt||!this.loadedWkts.has(e.wkt))&&!(0,y.A)(e,this.spatialReference)}},{key:"_createOptimizedFeature",value:function(e,t){var n=(0,y.r)((0,p.f)(t),this.spatialReference);return n?new g.s((0,x.t)(n,!1,!1),(0,i.Z)({},S,e),null,e):null}},{key:"_ensureSource",value:function(e){var t=this.sources[e];if((0,f.r)(t))return t;var n=this._createSource(e);return this.sources[e]=n,n}},{key:"_createSource",value:function(e){var t=_.a.toJSON(e),n=new k.u({geometryType:t,hasZ:!1,hasM:!1});return{featureStore:n,queryEngine:new I.Y({featureStore:n,fields:[{name:S,type:"esriFieldTypeOID",alias:S}],geometryType:t,hasM:!1,hasZ:!1,objectIdField:S,spatialReference:this.spatialReference,scheduler:(0,f.r)(this.view)&&"3d"===this.view.type?this.view.resourceController.scheduler:null}),type:e}}},{key:"_remove",value:function(e){var t=this;this._mapSources((function(n){return t._removeFromSource(n,e)}));var n,i=(0,o.Z)(this.pendingAdds);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.graphics.delete(e.uid),0===r.graphics.size&&r.task.abort()}}catch(a){i.e(a)}finally{i.f()}}},{key:"_removeFromSource",value:function(e,t){var n=t.uid;e.featureStore.has(n)&&e.featureStore.removeById(t.uid)}},{key:"_destroySource",value:function(e){e.queryEngine.destroy(),this.sources[e.type]=null}},{key:"_mapSources",value:function(e){var t=this.sources,n=t.point,i=t.polygon,r=t.polyline,a=t.multipoint,s=[];return(0,f.r)(n)&&s.push(e(n)),(0,f.r)(i)&&s.push(e(i)),(0,f.r)(r)&&s.push(e(r)),(0,f.r)(a)&&s.push(e(a)),s}}]),n}((0,v.a)(c.y)));(0,c.e)([(0,c.d)({constructOnly:!0})],w.prototype,"spatialReference",void 0),(0,c.e)([(0,c.d)({constructOnly:!0})],w.prototype,"layerSource",void 0),(0,c.e)([(0,c.d)({constructOnly:!0})],w.prototype,"view",void 0),(0,c.e)([(0,c.d)({readOnly:!0})],w.prototype,"updating",null),(0,c.e)([(0,c.d)({readOnly:!0})],w.prototype,"availability",void 0),w=(0,c.e)([(0,c.n)("esri.views.interactive.snapping.featureSources.GraphicsSnappingSource")],w);var S="OBJECTID"},62268:function(e,t,n){n.d(t,{h:function(){return d}});var i=n(60136),r=n(29388),a=n(37762),s=n(15671),o=n(43144),u=n(75610),h=n(23132),l=n(18392),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1?arguments[1]:void 0;(0,s.Z)(this,e),this.compareMinX=m,this.compareMinY=y,this._toBBox=function(e){return e},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this._toBBox=n:this._initFormat(n)),this.clear()}return(0,o.Z)(e,[{key:"destroy",value:function(){this.clear(),b.prune(),w.prune(),S.prune(),M.prune()}},{key:"all",value:function(e){this._all(this.data,e)}},{key:"search",value:function(e,t){var n=this.data,i=this._toBBox;if(I(e,n))for(b.clear();n;){for(var r=0,a=n.children.length;r<a;r++){var s=n.children[r],o=n.leaf?i(s):s;I(e,o)&&(n.leaf?t(s):k(e,o)?this._all(s,t):b.push(s))}n=b.pop()}}},{key:"collides",value:function(e){var t=this.data,n=this._toBBox;if(!I(e,t))return!1;for(b.clear();t;){for(var i=0,r=t.children.length;i<r;i++){var a=t.children[i],s=t.leaf?n(a):a;if(I(e,s)){if(t.leaf||k(e,s))return!0;b.push(a)}}t=b.pop()}return!1}},{key:"load",value:function(e){if(!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var i=this._build(e.slice(0,e.length),0,e.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this}},{key:"insert",value:function(e){return e&&this._insert(e,this.data.height-1),this}},{key:"clear",value:function(){return this.data=new X([]),this}},{key:"remove",value:function(e){if(!e)return this;var t,n=this.data,i=null,r=0,a=!1,s=this._toBBox(e);for(S.clear(),M.clear();n||S.length>0;){var o;if(n||(n=(0,u.q)(S.pop()),i=S.data[S.length-1],r=null!==(o=M.pop())&&void 0!==o?o:0,a=!0),n.leaf&&-1!==(t=(0,u.v)(n.children,e,n.children.length,n.indexHint)))return n.children.splice(t,1),S.push(n),this._condense(S),this;a||n.leaf||!k(n,s)?i?(r++,n=i.children[r],a=!1):n=null:(S.push(n),M.push(r),r=0,i=n,n=n.children[0])}return this}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(e){return this.data=e,this}},{key:"_all",value:function(e,t){var n=e;for(w.clear();n;){var i;if(!0===n.leaf){var r,s=(0,a.Z)(n.children);try{for(s.s();!(r=s.n()).done;){t(r.value)}}catch(o){s.e(o)}finally{s.f()}}else w.pushArray(n.children);n=null!==(i=w.pop())&&void 0!==i?i:null}}},{key:"_build",value:function(e,t,n,i){var r=n-t+1,a=this._maxEntries;if(r<=a){var s=new X(e.slice(t,n+1));return c(s,this._toBBox),s}i||(i=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,i-1)));var o=new Y([]);o.height=i;var u=Math.ceil(r/a),h=u*Math.ceil(Math.sqrt(a));B(e,t,n,h,this.compareMinX);for(var l=t;l<=n;l+=h){var d=Math.min(l+h-1,n);B(e,l,d,u,this.compareMinY);for(var f=l;f<=d;f+=u){var v=Math.min(f+u-1,d);o.children.push(this._build(e,f,v,i-1))}}return c(o,this._toBBox),o}},{key:"_chooseSubtree",value:function(e,t,n,i){for(;i.push(t),!0!==t.leaf&&i.length-1!==n;){for(var r=void 0,a=1/0,s=1/0,o=0,u=t.children.length;o<u;o++){var h=t.children[o],l=p(h),d=x(e,h)-l;d<s?(s=d,a=l<a?l:a,r=h):d===s&&l<a&&(a=l,r=h)}t=r||t.children[0]}return t}},{key:"_insert",value:function(e,t,n){var i=this._toBBox,r=n?e:i(e);S.clear();var a=this._chooseSubtree(r,this.data,t,S);for(a.children.push(e),v(a,r);t>=0&&S.data[t].children.length>this._maxEntries;)this._split(S,t),t--;this._adjustParentBBoxes(r,S,t)}},{key:"_split",value:function(e,t){var n=e.data[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var a=this._chooseSplitIndex(n,r,i);if(a){var s=n.children.splice(a,n.children.length-a),o=n.leaf?new X(s):new Y(s);o.height=n.height,c(n,this._toBBox),c(o,this._toBBox),t?e.data[t-1].children.push(o):this._splitRoot(n,o)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(e,t){this.data=new Y([e,t]),this.data.height=e.height+1,c(this.data,this._toBBox)}},{key:"_chooseSplitIndex",value:function(e,t,n){var i,r,a;i=r=1/0;for(var s=t;s<=n-t;s++){var o=f(e,0,s,this._toBBox),u=f(e,s,n,this._toBBox),h=g(o,u),l=p(o)+p(u);h<i?(i=h,a=s,r=l<r?l:r):h===i&&l<r&&(r=l,a=s)}return a}},{key:"_chooseSplitAxis",value:function(e,t,n){var i=e.leaf?this.compareMinX:m,r=e.leaf?this.compareMinY:y;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)}},{key:"_allDistMargin",value:function(e,t,n,i){e.children.sort(i);for(var r=this._toBBox,a=f(e,0,t,r),s=f(e,n-t,n,r),o=_(a)+_(s),u=t;u<n-t;u++){var h=e.children[u];v(a,e.leaf?r(h):h),o+=_(a)}for(var l=n-t-1;l>=t;l--){var d=e.children[l];v(s,e.leaf?r(d):d),o+=_(s)}return o}},{key:"_adjustParentBBoxes",value:function(e,t,n){for(var i=n;i>=0;i--)v(t.data[i],e)}},{key:"_condense",value:function(e){for(var t=e.length-1;t>=0;t--){var n=e.data[t];if(0===n.children.length)if(t>0){var i=e.data[t-1],r=i.children;r.splice((0,u.v)(r,n,r.length,i.indexHint),1)}else this.clear();else c(n,this._toBBox)}}},{key:"_initFormat",value:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}]),e}();function c(e,t){f(e,0,e.children.length,t,e)}function f(e,t,n,i,r){r||(r=new X([])),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a,s=t;s<n;s++)a=e.children[s],v(r,e.leaf?i(a):a);return r}function v(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function m(e,t){return e.minX-t.minX}function y(e,t){return e.minY-t.minY}function p(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function _(e){return e.maxX-e.minX+(e.maxY-e.minY)}function x(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function g(e,t){var n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,a-i)}function k(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function I(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function B(e,t,n,i,r){for(var a=[t,n];a.length;){var s=(0,u.q)(a.pop()),o=(0,u.q)(a.pop());if(!(s-o<=i)){var h=o+Math.ceil((s-o)/i/2)*i;(0,l.a)(e,h,o,s,r),a.push(o,h,h,s)}}}var b=new h.ab,w=new h.ab,S=new h.ab,M=new h.ab({deallocator:void 0}),Z=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.apply(this,arguments)).height=1,e.indexHint=new u.g,e}return(0,o.Z)(n)}((0,o.Z)((function e(){(0,s.Z)(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}))),X=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this)).children=e,i.leaf=!0,i}return(0,o.Z)(n)}(Z),Y=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this)).children=e,i.leaf=!1,i}return(0,o.Z)(n)}(Z)},45379:function(e,t,n){n.d(t,{f:function(){return v},p:function(){return f}});var i=n(43144),r=n(15671),a=n(37762),s=n(29439),o=n(75610),u=n(78311),h=n(36460),l=n(30604),d=n(1241),c=n(30709);function f(e){return m(e,!0)}function v(e){return m(e,!1)}function m(e,t){if((0,o.t)(e))return null;var n=e.spatialReference,i=(0,c.b)(n),r="toJSON"in e?e.toJSON():e;if(!i)return r;var a=(0,c.f)(n)?102100:4326,s=d.r[a].maxX,u=d.r[a].minX;if((0,l.l)(r))return p(r,s,u);if((0,l.f)(r))return r.points=r.points.map((function(e){return p(e,s,u)})),r;if((0,l.s)(r))return y(r,i);if((0,l.c)(r)||(0,l.y)(r)){var f=(0,h.c)(B,r),v={xmin:f[0],ymin:f[1],xmax:f[2],ymax:f[3]},m=(0,d.i)(v.xmin,u)*(2*s),_=0===m?r:(0,d.s)(r,m);return v.xmin+=m,v.xmax+=m,v.xmax>s?k(_,s,t):v.xmin<u?k(_,u,t):_}return r}function y(e,t){if(!t)return e;var n=function(e,t){var n=[],i=e.ymin,r=e.ymax,a=e.xmin,o=e.xmax,u=e.xmax-e.xmin,h=(0,s.Z)(t.valid,2),l=h[0],d=h[1],c=_(e.xmin,t),f=c.x,v=c.frameId,m=_(e.xmax,t),y=m.x,p=m.frameId,g=f===y&&u>0;if(u>2*d){var k={xmin:a<o?f:y,ymin:i,xmax:d,ymax:r},B={xmin:l,ymin:i,xmax:a<o?y:f,ymax:r},b={xmin:0,ymin:i,xmax:d,ymax:r},w={xmin:l,ymin:i,xmax:0,ymax:r},S=[],M=[];x(k,b)&&S.push(v),x(k,w)&&M.push(v),x(B,b)&&S.push(p),x(B,w)&&M.push(p);for(var Z=v+1;Z<p;Z++)S.push(Z),M.push(Z);n.push(new I(k,[v]),new I(B,[p]),new I(b,S),new I(w,M))}else f>y||g?n.push(new I({xmin:f,ymin:i,xmax:d,ymax:r},[v]),new I({xmin:l,ymin:i,xmax:y,ymax:r},[p])):n.push(new I({xmin:f,ymin:i,xmax:y,ymax:r},[v]));return n}(e,t).map((function(e){return e.extent}));return n.length<2?n[0]||e:n.length>2?(e.xmin=t.valid[0],e.xmax=t.valid[1],e):{rings:n.map((function(e){return[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]}))}}function p(e,t,n){if(Array.isArray(e)){var i=e[0];if(i>t){var r=(0,d.i)(i,t);e[0]=i+r*(-2*t)}else if(i<n){var a=(0,d.i)(i,n);e[0]=i+a*(-2*n)}}else{var s=e.x;if(s>t){var o=(0,d.i)(s,t);e.x+=o*(-2*t)}else if(s<n){var u=(0,d.i)(s,n);e.x+=u*(-2*n)}}return e}function _(e,t){var n,i=(0,s.Z)(t.valid,2),r=i[0],a=i[1],o=2*a,u=0;return e>a?(e-=(n=Math.ceil(Math.abs(e-a)/o))*o,u=n):e<r&&(e+=(n=Math.ceil(Math.abs(e-r)/o))*o,u=-n),{x:e,frameId:u}}function x(e,t){var n=t.xmin,i=t.ymin,r=t.xmax,a=t.ymax;return g(e,n,i)&&g(e,n,a)&&g(e,r,a)&&g(e,r,i)}function g(e,t,n){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax}function k(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(0,l.y)(e);if(i&&(0,h.i)(e),n)return(new b).cut(e,t);for(var r=i?e.rings:e.paths,s=i?4:2,o=r.length,u=-2*t,d=0;d<o;d++){var c=r[d];if(c&&c.length>=s){var f,v=[],m=(0,a.Z)(c);try{for(m.s();!(f=m.n()).done;){var y=f.value;v.push([y[0]+u,y[1]])}}catch(p){m.e(p)}finally{m.f()}r.push(v)}}return i?e.rings=r:e.paths=r,e}var I=(0,i.Z)((function e(t,n){(0,r.Z)(this,e),this.extent=t,this.frameIds=n})),B=(0,u.u)(),b=function(){function e(){(0,r.Z)(this,e),this.linesIn=[],this.linesOut=[]}return(0,i.Z)(e,[{key:"cut",value:function(e,t){var n;if(this.xCut=t,e.rings)this.closed=!0,n=e.rings,this.minPts=4;else{if(!e.paths)return null;this.closed=!1,n=e.paths,this.minPts=2}var i,r=(0,a.Z)(n);try{for(r.s();!(i=r.n()).done;){var s=i.value;if(s&&!(s.length<this.minPts)){var o,u=!0,h=(0,a.Z)(s);try{for(h.s();!(o=h.n()).done;){var l=o.value;u?(this.moveTo(l),u=!1):this.lineTo(l)}}catch(g){h.e(g)}finally{h.f()}this.closed&&this.close()}}}catch(g){r.e(g)}finally{r.f()}this._pushLineIn(),this._pushLineOut(),n=[];var d,c=(0,a.Z)(this.linesIn);try{for(c.s();!(d=c.n()).done;){var f=d.value;f&&f.length>=this.minPts&&n.push(f)}}catch(g){c.e(g)}finally{c.f()}var v,m=-2*this.xCut,y=(0,a.Z)(this.linesOut);try{for(y.s();!(v=y.n()).done;){var p=v.value;if(p&&p.length>=this.minPts){var _,x=(0,a.Z)(p);try{for(x.s();!(_=x.n()).done;){_.value[0]+=m}}catch(g){x.e(g)}finally{x.f()}n.push(p)}}}catch(g){y.e(g)}finally{y.f()}return this.closed?e.rings=n:e.paths=n,e}},{key:"moveTo",value:function(e){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(e[0]),this._moveTo(e[0],e[1],this._prevSide),this._prevPt=e,this._firstPt=e}},{key:"lineTo",value:function(e){var t=this._side(e[0]);if(t*this._prevSide==-1){var n=this._intersect(this._prevPt,e);this._lineTo(this.xCut,n,0),this._prevSide=0,this._lineTo(e[0],e[1],t)}else this._lineTo(e[0],e[1],t);this._prevSide=t,this._prevPt=e}},{key:"close",value:function(){var e=this._firstPt,t=this._prevPt;e[0]===t[0]&&e[1]===t[1]||this.lineTo(e),this._checkClosingPt(this.lineIn),this._checkClosingPt(this.lineOut)}},{key:"_moveTo",value:function(e,t,n){this.closed?(this.lineIn.push([n<=0?e:this.xCut,t]),this.lineOut.push([n>=0?e:this.xCut,t])):(n<=0&&this.lineIn.push([e,t]),n>=0&&this.lineOut.push([e,t]))}},{key:"_lineTo",value:function(e,t,n){this.closed?(this._addPolyVertex(this.lineIn,n<=0?e:this.xCut,t),this._addPolyVertex(this.lineOut,n>=0?e:this.xCut,t)):n<0?(0===this._prevSide&&this._pushLineOut(),this.lineIn.push([e,t])):n>0?(0===this._prevSide&&this._pushLineIn(),this.lineOut.push([e,t])):this._prevSide<0?(this.lineIn.push([e,t]),this.lineOut.push([e,t])):this._prevSide>0&&(this.lineOut.push([e,t]),this.lineIn.push([e,t]))}},{key:"_addPolyVertex",value:function(e,t,n){var i=e.length;i>1&&e[i-1][0]===t&&e[i-2][0]===t?e[i-1][1]=n:e.push([t,n])}},{key:"_checkClosingPt",value:function(e){var t=e.length;t>3&&e[0][0]===this.xCut&&e[t-2][0]===this.xCut&&e[1][0]===this.xCut&&(e[0][1]=e[t-2][1],e.pop())}},{key:"_side",value:function(e){return e<this.xCut?-1:e>this.xCut?1:0}},{key:"_intersect",value:function(e,t){var n=(this.xCut-e[0])/(t[0]-e[0]);return e[1]+n*(t[1]-e[1])}},{key:"_pushLineIn",value:function(){this.lineIn&&this.lineIn.length>=this.minPts&&this.linesIn.push(this.lineIn),this.lineIn=[]}},{key:"_pushLineOut",value:function(){this.lineOut&&this.lineOut.length>=this.minPts&&this.linesOut.push(this.lineOut),this.lineOut=[]}}]),e}()},86068:function(e,t,n){n.d(t,{i:function(){return s}});var i=n(75610),r=n(75370),a=n(33642),s={getObjectId:function(e){return e.objectId},getAttributes:function(e){return e.attributes},getAttribute:function(e,t){return e.attributes[t]},cloneWithGeometry:function(e,t){return new a.s(t,e.attributes,null,e.objectId)},getGeometry:function(e){return e.geometry},getCentroid:function(e,t){return(0,i.t)(e.centroid)&&(e.centroid=(0,r.e)(new a.t,e.geometry,t.hasZ,t.hasM)),e.centroid}}},24789:function(e,t,n){n.d(t,{o:function(){return r}});var i=n(56292);function r(e,t,n){switch(e.type){case"edge":return new i.e({coordinateHelper:t,edgeStart:t.pointToVector(e.start),edgeEnd:t.pointToVector(e.end),targetPoint:t.pointToVector(e.target),objectId:e.objectId,elevationInfo:n});case"vertex":return new i.r({coordinateHelper:t,targetPoint:t.pointToVector(e.target),objectId:e.objectId,elevationInfo:n})}}}}]);
//# sourceMappingURL=4054.53282471.chunk.js.map