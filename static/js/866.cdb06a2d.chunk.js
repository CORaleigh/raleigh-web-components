"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[866],{60866:function(r,e,t){t.d(e,{D:function(){return q},F:function(){return L},M:function(){return b},S:function(){return U},a:function(){return K},b:function(){return w},d:function(){return k},h:function(){return p},l:function(){return m},m:function(){return M},p:function(){return y},u:function(){return T}});var n=t(74165),a=t(37762),i=t(15861),o=t(29439),l=t(13994),u=t(50165),h=t(25346),s=(t(33530),t(2760)),f=t(77322),c=t(96263),v=new Map;v.set("meter-per-second",1),v.set("kilometer-per-hour",.277778),v.set("knots",.514444),v.set("feet-per-second",.3048),v.set("mile-per-hour",.44704);var d=180/Math.PI,p=new l.s({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function m(r,e){return v.get(r)/v.get(e)||1}function g(r){return(450-r)%360}function w(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",t=(0,o.Z)(r,2),n=t[0],a=t[1],i=Math.sqrt(n*n+a*a),l=Math.atan2(a,n)*d;return l=(360+l)%360,"geographic"===e&&(l=g(l)),[i,l]}function x(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",t=r[1];"geographic"===e&&(t=g(t)),t%=360;var n=r[0];return[n*Math.cos(t/d),n*Math.sin(t/d)]}function y(r,e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"geographic";if(!(0,h.i)(r)||(0,u.t)(t))return r;for(var a="vector-magdir"===e?r.clone():(0,u.g)(M(r,e)),i=a.pixels[1],o=0;o<i.length;o++)i[o]="geographic"===n?(i[o]+t[o]+270)%360:(i[o]+360-t[o])%360;return"vector-magdir"===e?a:M(a,"vector-magdir")}function M(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"geographic",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!(0,h.i)(r))return r;for(var a=r.pixels,i=r.width,l=r.height,u=i*l,s=a[0],f=a[1],c=r.pixelType.startsWith("f")?r.pixelType:"f32",v=h.u.createEmptyBand(c,u),d=h.u.createEmptyBand(c,u),p=0,m=0;m<l;m++)for(var g=0;g<i;g++){var y,M,k,b;"vector-uv"===e?(y=w([s[p],f[p]],t),M=(0,o.Z)(y,2),v[p]=M[0],d[p]=M[1],v[p]*=n):(k=x([s[p],f[p]],t),b=(0,o.Z)(k,2),v[p]=b[0],d[p]=b[1],v[p]*=n,d[p]*=n),p++}var Z=new h.u({pixelType:c,width:r.width,height:r.height,mask:r.mask,validPixelCount:r.validPixelCount,maskIsAlpha:r.maskIsAlpha,pixels:[v,d]});return Z.updateStatistics(),Z}function k(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(1===t||!(0,h.i)(r))return r;for(var n=r.clone(),a=n.pixels,i=n.width,o=n.height,l=a[0],u=a[1],s=0,f=0;f<o;f++)for(var c=0;c<i;c++)"vector-uv"===e?(l[s]*=t,u[s]*=t):l[s]*=t,s++;return n.updateStatistics(),n}function b(r,e,t,n,a){if((0,u.t)(a)||!a.spatialReference.equals(r.spatialReference))return{extent:r,width:Math.round(e/n),height:Math.round(t/n),resolution:r.width/e};var i=a.xmin,o=a.ymax,l=(r.xmax-r.xmin)/e*n,h=(r.ymax-r.ymin)/t*n,s=(l+h)/2;return r.xmin=i+Math.floor((r.xmin-i)/l)*l,r.xmax=i+Math.ceil((r.xmax-i)/l)*l,r.ymin=o+Math.floor((r.ymin-o)/h)*h,r.ymax=o+Math.ceil((r.ymax-o)/h)*h,{extent:r,width:Math.round(r.width/l),height:Math.round(r.height/h),resolution:s}}var Z=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.PI,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n&&(t=(2*Math.PI-t)%(2*Math.PI));var a=n?-1:1,i=13*a,l=-7*a,u=-2*a,h=-16*a,s=21.75,f=A(0,e+i,t,s),c=(0,o.Z)(f,2),v=c[0],d=c[1],p=A(r-5.5,e+l,t,s),m=(0,o.Z)(p,2),g=m[0],w=m[1],x=A(r+5.5,e+l,t,s),y=(0,o.Z)(x,2),M=y[0],k=y[1],b=A(r-1.5,e+u,t,s),Z=(0,o.Z)(b,2),I=Z[0],P=Z[1],F=A(r+1.5,e+u,t,s),S=(0,o.Z)(F,2),D=S[0],V=S[1],_=A(r-1.5,e+h,t,s),U=(0,o.Z)(_,2),q=U[0],L=U[1],O=A(r+1.5,e+h,t,s),T=(0,o.Z)(O,2),N=T[0],B=T[1];return[v,d,g,w,I,P,D,V,M,k,q,L,N,B]}(0,0,0);function I(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&(e=(2*Math.PI-e)%(2*Math.PI));var n=10,a=t?-1:1,i=5*a,l=20*a,u=25*a,h=45,s=0,f=0,c=2,v=0,d=c*a,p=s+n/2,m=f-l,g=p+c,w=m,x=g-v,y=w+d,M=s-n/2,k=f-u,b=M+v,Z=k-d,I=Math.ceil(r/5),P=Math.floor(I/10);I-=8*P;for(var F=[],S=[],D=0;D<I/2;D++,P--){P<=0&&I%2==1&&D===(I-1)/2&&(b=(M=s)+v,Z=(k=(k+m)/2)-d);var V=A(M,k,e,h),_=(0,o.Z)(V,2),U=_[0],q=_[1];if(P>0){var L=A(g,k,e,h),O=(0,o.Z)(L,2),T=O[0],N=O[1],B=A(p,m,e,h),C=(0,o.Z)(B,2),R=C[0],E=C[1];F.push(T),F.push(N),F.push(U),F.push(q),F.push(R),F.push(E)}else{var J=A(g,w,e,h),W=(0,o.Z)(J,2),H=W[0],K=W[1],j=A(x,y,e,h),z=(0,o.Z)(j,2),X=z[0],G=z[1],Q=A(b,Z,e,h),Y=(0,o.Z)(Q,2),$=Y[0],rr=Y[1];S.push(U),S.push(q),S.push($),S.push(rr),S.push(X),S.push(G),S.push(H),S.push(K)}k+=i,m+=i,w+=i,y+=i,Z+=i}var er=A(s+n/2,f+l,e,h),tr=(0,o.Z)(er,2),nr=tr[0],ar=tr[1],ir=n/2+c,or=A(s+ir,f+l,e,h),lr=(0,o.Z)(or,2),ur=lr[0],hr=lr[1],sr=A(s+n/2,f-u,e,h),fr=(0,o.Z)(sr,2),cr=fr[0],vr=fr[1],dr=A(s+ir,f-u,e,h),pr=(0,o.Z)(dr,2),mr=pr[0],gr=pr[1];return{pennants:F,barbs:S,shaft:[nr,ar,ur,hr,cr,vr,mr,gr]}}function A(r,e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=Math.sqrt(r*r+e*e)/n,i=(2*Math.PI+Math.atan2(e,r))%(2*Math.PI);return[a,(2*Math.PI+i-t)%(2*Math.PI)]}var P=[0,1,3,6,10,16,21,27,33,40,47,55,63],F=[0,.5,1,1.5,2],S=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function D(r,e,t,n){var a,i=m(n||"knots",t);for(a=1;a<e.length;a++)if(a===e.length-1){if(r<e[a]*i)break}else if(r<=e[a]*i)break;return Math.min(a-1,e.length-2)}function V(r,e,t,n,a){var i=0;switch(e){case"beaufort_kn":i=D(r,P,"knots",t);break;case"beaufort_km":i=D(r,P,"kilometer-per-hour",t);break;case"beaufort_ft":i=D(r,P,"feet-per-second",t);break;case"beaufort_m":i=D(r,P,"meter-per-second",t);break;case"classified_arrow":i=D(r,a,n,t);break;case"ocean_current_m":i=D(r,F,"meter-per-second",t);break;case"ocean_current_kn":i=D(r,S,"knots",t)}return i}var _=[];function U(r,e){for(var t=0,n=0,a=r.width,i=r.height,o=r.mask,l=r.pixels[0],u=[],h=[],s=m(p.fromJSON(e.inputUnit),"knots"),f="wind_speed"===e.style?5:Number.MAX_VALUE,c=0;c<i;c++)for(var v=0;v<a;v++){var d=l[c*a+v]*s;if((!o||o[c*a+v])&&d<f){for(var g=0;g<4;g++)u[t++]=(v+.5)/a,u[t++]=(c+.5)/i,u[t++]=g<2?-.5:.5,u[t++]=g%2==0?-.5:.5,u[t++]=0,u[t++]=d;var w=4*(t/24-1);h[n++]=w,h[n++]=w+1,h[n++]=w+2,h[n++]=w+1,h[n++]=w+2,h[n++]=w+3}}return{vertexData:new Float32Array(u),indexData:new Uint32Array(h)}}function q(r,e){return"simple_scalar"===e.style?U(r,e):"wind_speed"===e.style?function(r,e){if(0===_.length)for(var t=0;t<30;t++)_.push(I(5*t,0));for(var n=m(p.fromJSON(e.inputUnit),"knots"),a=r.width,i=r.height,o=r.mask,l=r.pixels[0],u=r.pixels[1],h=[],s=[],f=0,c=0,v=0;v<i;v++)for(var d=0;d<a;d++){var g=v*a+d,w=l[g]*n;if((!o||o[v*a+d])&&w>=5){var x,y=null!==(x=(u[g]+360)%360/180*Math.PI)&&void 0!==x?x:2*Math.PI*Math.random(),M=_[Math.min(Math.floor(w/5),29)],k=M.pennants,b=M.barbs,Z=M.shaft;if(k.length+b.length===0)continue;for(var A=h.length/6,P=(d+.5)/a,F=(v+.5)/i,S=0;S<k.length;S+=2)h[f++]=P,h[f++]=F,h[f++]=k[S],h[f++]=k[S+1]+y,h[f++]=0,h[f++]=w;for(var D=0;D<b.length;D+=2)h[f++]=P,h[f++]=F,h[f++]=b[D],h[f++]=b[D+1]+y,h[f++]=0,h[f++]=w;for(var V=0;V<Z.length;V+=2)h[f++]=P,h[f++]=F,h[f++]=Z[V],h[f++]=Z[V+1]+y,h[f++]=0,h[f++]=w;for(var U=0;U<k.length/6;U++)s[c++]=A,s[c++]=A+1,s[c++]=A+2,A+=3;for(var q=0;q<b.length/8;q++)s[c++]=A,s[c++]=A+1,s[c++]=A+2,s[c++]=A+1,s[c++]=A+2,s[c++]=A+3,A+=4;s[c++]=A+0,s[c++]=A+1,s[c++]=A+2,s[c++]=A+1,s[c++]=A+3,s[c++]=A+2,A+=4}}return{vertexData:new Float32Array(h),indexData:new Uint32Array(s)}}(r,e):function(r,e){for(var t=e.style,n=e.inputUnit,a=e.outputUnit,i=e.breakValues,o=p.fromJSON(n),l=p.fromJSON(a),u=0,h=0,s=r.width,f=r.height,c=r.mask,v=r.pixels[0],d=r.pixels[1],m=c?c.filter((function(r){return r>0})).length:s*f,g=new Float32Array(42*m),w=new Uint32Array(15*m),x=0;x<f;x++)for(var y=0;y<s;y++){var M=x*s+y;if(!c||c[x*s+y]){for(var k,b=null!==(k=(d[M]+360)%360/180*Math.PI)&&void 0!==k?k:2*Math.PI*Math.random(),I=V(v[M],t,o,l,i),A=0;A<Z.length;A+=2)g[u++]=(y+.5)/s,g[u++]=(x+.5)/f,g[u++]=Z[A],g[u++]=Z[A+1]+b,g[u++]=I,g[u++]=v[M];var P=7*(u/42-1);w[h++]=P,w[h++]=P+1,w[h++]=P+2,w[h++]=P+0,w[h++]=P+4,w[h++]=P+3,w[h++]=P+0,w[h++]=P+2,w[h++]=P+3,w[h++]=P+2,w[h++]=P+5,w[h++]=P+3,w[h++]=P+5,w[h++]=P+6,w[h++]=P+3}}return{vertexData:g,indexData:w}}(r,e)}function L(r,e,t){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,i=r.width,l=r.height,u=r.mask,s=(0,o.Z)(r.pixels,2),f=s[0],c=s[1],v=(0,o.Z)(n,2),d=v[0],p=v[1],m=Math.round((i-d)/t),g=Math.round((l-p)/t),y=m*g,M=new Float32Array(y),k=new Float32Array(y),b=new Uint8Array(y),Z="vector-uv"===e,I=0;I<g;I++)for(var A=0;A<m;A++){for(var P=0,F=I*m+A,S=Math.max(0,I*t+p),D=Math.max(0,A*t+d),V=Math.min(l,S+t),_=Math.min(i,D+t),U=S;U<V;U++)for(var q=D;q<_;q++){var L=U*i+q;if(!u||u[L]){P++;var O=Z?[f[L],c[L]]:[f[L],(360+c[L])%360],T=Z?O:x(O),N=(0,o.Z)(T,2),B=N[0],C=N[1];M[F]+=B,k[F]+=C}}if(P>=(V-S)*(_-D)*(1-a)){b[F]=1;var R=w([M[F]/P,k[F]/P]),E=(0,o.Z)(R,2),J=E[0],W=E[1];M[F]=J,k[F]=W}else b[F]=0,M[F]=0,k[F]=0}var H=new h.u({width:m,height:g,pixels:[M,k],mask:b});return H.updateStatistics(),H}var O=u.s.getLogger("esri.views.2d.engine.flow.dataUtils");function T(r,e,t,n){return N.apply(this,arguments)}function N(){return N=(0,i.Z)((0,n.Z)().mark((function r(e,t,a,i){var o,l,h,s,f,c,v,d,p;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=performance.now(),l=B(t,a),h=performance.now(),s=R(t,l,a.width,a.height),f=performance.now(),c=E(s,!0),v=performance.now(),d="Streamlines"===e?J(c,10):W(c),p=performance.now(),(0,u.c)("esri-2d-profiler")&&(O.info("I.1","_createFlowFieldFromData (ms)",Math.round(h-o)),O.info("I.2","_getStreamlines (ms)",Math.round(f-h)),O.info("I.3","createAnimatedLinesData (ms)",Math.round(v-f)),O.info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(p-v)),O.info("I.5","createFlowMesh (ms)",Math.round(p-o)),O.info("I.6","Mesh size (bytes)",d.vertexData.buffer.byteLength+d.indexData.buffer.byteLength)),r.next=4,Promise.resolve();case 4:return(0,u.W)(i),r.abrupt("return",d);case 6:case"end":return r.stop()}}),r)}))),N.apply(this,arguments)}function B(r,e){var t=function(r,e,t,n){if(0===n)return r;for(var a=Math.round(3*n),i=new Array(2*a+1),o=0,l=-a;l<=a;l++){var u=Math.exp(-l*l/(n*n));i[l+a]=u,o+=u}for(var h=-a;h<=a;h++)i[h+a]/=o;for(var s=new Float32Array(r.length),f=0;f<t;f++)for(var c=0;c<e;c++){for(var v=0,d=0,p=-a;p<=a;p++)if(!(c+p<0||c+p>=e)){var m=i[p+a];v+=m*r[2*(f*e+(c+p))+0],d+=m*r[2*(f*e+(c+p))+1]}s[2*(f*e+c)+0]=v,s[2*(f*e+c)+1]=d}for(var g=new Float32Array(r.length),w=0;w<e;w++)for(var x=0;x<t;x++){for(var y=0,M=0,k=-a;k<=a;k++)if(!(x+k<0||x+k>=t)){var b=i[k+a];y+=b*s[2*((x+k)*e+w)+0],M+=b*s[2*((x+k)*e+w)+1]}g[2*(x*e+w)+0]=y,g[2*(x*e+w)+1]=M}return g}(e.data,e.width,e.height,r.smoothing);return r.interpolate?function(r,n){var a=Math.floor(r),i=Math.floor(n);if(a<0||a>=e.width)return[0,0];if(i<0||i>=e.height)return[0,0];var o=r-a,l=n-i,u=a,h=i,s=a<e.width-1?a+1:a,f=i<e.height-1?i+1:i,c=t[2*(h*e.width+u)],v=t[2*(h*e.width+s)],d=t[2*(f*e.width+u)],p=t[2*(f*e.width+s)],m=t[2*(h*e.width+u)+1],g=t[2*(h*e.width+s)+1];return[(c*(1-l)+d*l)*(1-o)+(v*(1-l)+p*l)*o,(m*(1-l)+t[2*(f*e.width+u)+1]*l)*(1-o)+(g*(1-l)+t[2*(f*e.width+s)+1]*l)*o]}:function(r,n){var a=Math.round(r),i=Math.round(n);return a<0||a>=e.width||i<0||i>=e.height?[0,0]:[t[2*(i*e.width+a)+0],t[2*(i*e.width+a)+1]]}}function C(r,e,t,n,a,i,l,u,h){var s=[],f=t,c=n,v=0,d=e(f,c),p=(0,o.Z)(d,2),m=p[0],g=p[1];m*=r.velocityScale,g*=r.velocityScale;var w,x,y=Math.sqrt(m*m+g*g);s.push({x:f,y:c,t:v,speed:y});for(var M=0;M<r.verticesPerLine;M++){var k=e(f,c),b=(0,o.Z)(k,2),Z=b[0],I=b[1];Z*=r.velocityScale,I*=r.velocityScale;var A=Math.sqrt(Z*Z+I*I);if(A<r.minSpeedThreshold)return s;var P=Z/A,F=I/A;if(f+=P*r.segmentLength,c+=F*r.segmentLength,v+=r.segmentLength/A,Math.acos(P*w+F*x)>r.maxTurnAngle)return s;if(r.collisions){var S=Math.round(f*h),D=Math.round(c*h);if(S<0||S>l-1||D<0||D>u-1)return s;var V=i[D*l+S];if(-1!==V&&V!==a)return s;i[D*l+S]=a}s.push({x:f,y:c,t:v,speed:A}),w=P,x=F}return s}function R(r,e,t,n){for(var a=[],i=new u.bf,o=1/Math.max(r.lineCollisionWidth,1),l=Math.round(t*o),h=Math.round(n*o),s=new Int32Array(l*h),f=0;f<s.length;f++)s[f]=-1;for(var c=[],v=0;v<n;v+=r.lineSpacing)for(var d=0;d<t;d+=r.lineSpacing)c.push({x:d,y:v,sort:i.getFloat()});c.sort((function(r,e){return r.sort-e.sort}));for(var p=0,m=c;p<m.length;p++){var g=m[p],w=g.x,x=g.y;if(i.getFloat()<r.density){var y=C(r,e,w,x,a.length,s,l,h,o);if(y.length<2)continue;a.push(y)}}return a}function E(r,e){var t,n=new u.bf,i=r.reduce((function(r,e){return r+e.length}),0),o=new Float32Array(4*i),l=new Array(r.length),h=0,s=0,f=(0,a.Z)(r);try{for(f.s();!(t=f.n()).done;){var c,v=t.value,d=h,p=(0,a.Z)(v);try{for(p.s();!(c=p.n()).done;){var m=c.value;o[4*h+0]=m.x,o[4*h+1]=m.y,o[4*h+2]=m.t,o[4*h+3]=m.speed,h++}}catch(g){p.e(g)}finally{p.f()}l[s++]={startVertex:d,numberOfVertices:v.length,totalTime:v[v.length-1].t,timeSeed:e?n.getFloat():0}}}catch(g){f.e(g)}finally{f.f()}return{lineVertices:o,lineDescriptors:l}}function J(r,e){var t,n=r.lineVertices,i=r.lineDescriptors,o=0,l=0,u=(0,a.Z)(i);try{for(u.s();!(t=u.n()).done;){var h=t.value;o+=2*h.numberOfVertices,l+=6*(h.numberOfVertices-1)}}catch(C){u.e(C)}finally{u.f()}var s=new Float32Array(9*o),f=new Uint32Array(l),c=0,v=0;function d(r,e,t,n,a,i,o,l){var u=9*c,h=0;s[u+h++]=r,s[u+h++]=e,s[u+h++]=1,s[u+h++]=t,s[u+h++]=i,s[u+h++]=o,s[u+h++]=n/2,s[u+h++]=a/2,s[u+h++]=l,c++,s[u+h++]=r,s[u+h++]=e,s[u+h++]=-1,s[u+h++]=t,s[u+h++]=i,s[u+h++]=o,s[u+h++]=-n/2,s[u+h++]=-a/2,s[u+h++]=l,c++}var p,m=(0,a.Z)(i);try{for(m.s();!(p=m.n()).done;){for(var g=p.value,w=g.totalTime,x=g.timeSeed,y=null,M=null,k=null,b=null,Z=null,I=null,A=0;A<g.numberOfVertices;A++){var P=n[4*(g.startVertex+A)+0],F=n[4*(g.startVertex+A)+1],S=n[4*(g.startVertex+A)+2],D=n[4*(g.startVertex+A)+3],V=null,_=null,U=null,q=null;if(A>0){V=P-y,_=F-M;var L=Math.sqrt(V*V+_*_);if(V/=L,_/=L,A>1){var O=V+Z,T=_+I,N=Math.sqrt(O*O+T*T);O/=N,T/=N;var B=Math.min(1/(O*V+T*_),e);U=-(T*=B),q=O*=B}else U=-_,q=V;null!==U&&null!==q&&(d(y,M,k,U,q,w,x,D),f[v++]=c-2,f[v++]=c,f[v++]=c-1,f[v++]=c,f[v++]=c+1,f[v++]=c-1)}y=P,M=F,k=S,Z=V,I=_,b=D}d(y,M,k,-I,Z,w,x,b)}}catch(C){m.e(C)}finally{m.f()}return{vertexData:s,indexData:f}}function W(r){var e,t=r.lineVertices,n=r.lineDescriptors,i=0,o=0,l=(0,a.Z)(n);try{for(l.s();!(e=l.n()).done;){var u=e.value.numberOfVertices-1;i+=4*u*2,o+=6*u*2}}catch(N){l.e(N)}finally{l.f()}var h,s,f,c,v,d,p,m,g,w,x,y,M,k,b=new Float32Array(16*i),Z=new Uint32Array(o),I=0,A=0;function P(){Z[A++]=I-8,Z[A++]=I-7,Z[A++]=I-6,Z[A++]=I-7,Z[A++]=I-5,Z[A++]=I-6,Z[A++]=I-4,Z[A++]=I-3,Z[A++]=I-2,Z[A++]=I-3,Z[A++]=I-1,Z[A++]=I-2}function F(r,e,t,n,a,i,o,l,u,h,s,f,c,v){for(var d=16*I,p=0,m=0,g=[1,2];m<g.length;m++)for(var w=g[m],x=0,y=[1,2,3,4];x<y.length;x++){var M=y[x];b[d+p++]=r,b[d+p++]=e,b[d+p++]=t,b[d+p++]=n,b[d+p++]=o,b[d+p++]=l,b[d+p++]=u,b[d+p++]=h,b[d+p++]=w,b[d+p++]=M,b[d+p++]=c,b[d+p++]=v,b[d+p++]=a/2,b[d+p++]=i/2,b[d+p++]=s/2,b[d+p++]=f/2,I++}}function S(r,e){var t=g+x,n=w+y,a=Math.sqrt(t*t+n*n),i=g*(t/=a)+w*(n/=a);t/=i,n/=i;var o=x+M,l=y+k,u=Math.sqrt(o*o+l*l),b=x*(o/=u)+y*(l/=u);F(h,s,f,c,-n,t,v,d,p,m,-(l/=b),o/=b,r,e),P()}function D(r,e,t,n,a,i){if(g=x,w=y,x=M,y=k,null==g&&null==w&&(g=x,w=y),null!=v&&null!=d){M=r-v,k=e-d;var o=Math.sqrt(M*M+k*k);M/=o,k/=o}null!=g&&null!=w&&S(a,i),h=v,s=d,f=p,c=m,v=r,d=e,p=t,m=n}function V(r,e){g=x,w=y,x=M,y=k,null==g&&null==w&&(g=x,w=y),null!=g&&null!=w&&S(r,e)}var _,U=(0,a.Z)(n);try{for(U.s();!(_=U.n()).done;){var q=_.value;h=null,s=null,f=null,c=null,v=null,d=null,p=null,m=null,g=null,w=null,x=null,y=null,M=null,k=null;for(var L=q.totalTime,O=q.timeSeed,T=0;T<q.numberOfVertices;T++)D(t[4*(q.startVertex+T)+0],t[4*(q.startVertex+T)+1],t[4*(q.startVertex+T)+2],t[4*(q.startVertex+T)+3],L,O);V(L,O)}}catch(N){U.e(N)}finally{U.f()}return{vertexData:b,indexData:Z}}function H(r,e){var t=e.pixels,n=e.width,a=e.height,i=new Float32Array(n*a*2),o=e.mask||new Uint8Array(n*a*2);if(e.mask||o.fill(255),"vector-uv"===r)for(var l=0;l<n*a;l++)i[2*l+0]=t[0][l],i[2*l+1]=-t[1][l];else if("vector-magdir"===r)for(var u=0;u<n*a;u++){var h=t[0][u],f=(0,s.M)(t[1][u]),c=Math.cos(f-Math.PI/2),v=Math.sin(f-Math.PI/2);i[2*u+0]=c*h,i[2*u+1]=v*h}return{data:i,mask:o,width:n,height:a}}function K(r,e,t,n,a,i){return j.apply(this,arguments)}function j(){return j=(0,i.Z)((0,n.Z)().mark((function r(e,t,i,l,h,s){var v,d,p,m,g,w,x,y,M,k,b,Z,I,A,P,F,S,D,V,_,U,q,L;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(v=performance.now(),d=(0,f.b)(t.spatialReference)){r.next=6;break}return r.next=4,z(e,t,i,l,h,s);case 4:return p=r.sent,r.abrupt("return",((0,u.c)("esri-2d-profiler")&&O.info("I.7","loadImagery, early exit (ms)",Math.round(performance.now()-v)),(0,u.c)("esri-2d-profiler")&&O.info("I.9","Number of parts",1),p));case 6:for(m=(0,o.Z)(d.valid,2),g=m[0],w=m[1],x=w-g,y=Math.ceil(t.width/x),M=t.width/y,k=Math.round(i/y),b=t.xmin,Z=[],I=performance.now(),A=0;A<y;A++)P=new c.M({xmin:b,xmax:b+M,ymin:t.ymin,ymax:t.ymax,spatialReference:t.spatialReference}),Z.push(z(e,P,k,l,h,s)),b+=M;return r.next=12,Promise.all(Z);case 12:F=r.sent,(0,u.c)("esri-2d-profiler")&&O.info("I.8","All calls to _fetchPart (ms)",Math.round(performance.now()-I)),(0,u.c)("esri-2d-profiler")&&O.info("I.9","Number of parts",F.length),S={data:new Float32Array(i*l*2),mask:new Uint8Array(i*l),width:i,height:l},D=0,V=(0,a.Z)(F);try{for(V.s();!(_=V.n()).done;){for(U=_.value,q=0;q<U.height;q++)for(L=0;L<U.width;L++)D+L>=i||(S.data[2*(q*i+D+L)+0]=U.data[2*(q*U.width+L)+0],S.data[2*(q*i+D+L)+1]=U.data[2*(q*U.width+L)+1],S.mask[q*i+D+L]=U.mask[q*U.width+L]);D+=U.width}}catch(n){V.e(n)}finally{V.f()}return r.abrupt("return",((0,u.c)("esri-2d-profiler")&&O.info("I.10","loadImagery, general exit (ms)",Math.round(performance.now()-v)),S));case 19:case"end":return r.stop()}}),r)}))),j.apply(this,arguments)}function z(r,e,t,n,a,i){return X.apply(this,arguments)}function X(){return X=(0,i.Z)((0,n.Z)().mark((function r(e,t,a,i,o,l){var h,s,f,c,v;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(h={requestProjectedLocalDirections:!0,signal:l},(0,u.r)(o)&&(h.timeExtent=o),"imagery"!==e.type){r.next=9;break}return r.next=4,e.load({signal:l});case 4:return s=e.rasterInfo.dataType,r.next=7,e.fetchImage(t,a,i,h);case 7:return f=r.sent,r.abrupt("return",!f||(0,u.t)(f.pixelData)||(0,u.t)(f.pixelData.pixelBlock)?{data:new Float32Array(a*i*2),mask:new Uint8Array(a*i),width:a,height:i}:H(s,f.pixelData.pixelBlock));case 9:return r.next=11,e.load({signal:l});case 11:return c=e.rasterInfo.dataType,r.next=14,e.fetchPixels(t,a,i,h);case 14:return v=r.sent,r.abrupt("return",!v||(0,u.t)(v.pixelBlock)?{data:new Float32Array(a*i*2),mask:new Uint8Array(a*i),width:a,height:i}:H(c,v.pixelBlock));case 16:case"end":return r.stop()}}),r)}))),X.apply(this,arguments)}}}]);
//# sourceMappingURL=866.cdb06a2d.chunk.js.map