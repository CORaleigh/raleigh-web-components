"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[2233],{42233:function(e,t,r){r.d(t,{a:function(){return k},b:function(){return Z},c:function(){return M},d:function(){return U},e:function(){return D},f:function(){return Ce},g:function(){return ke},h:function(){return R},i:function(){return Ae},j:function(){return F},k:function(){return B},l:function(){return O},m:function(){return ye},n:function(){return G},o:function(){return Ee},r:function(){return P},t:function(){return j},u:function(){return I}});var n,a=r(4942),o=r(1413),u=r(74165),s=r(15861),i=r(15671),c=r(43144),f=r(37762),l=r(33973),p=r(54017),d=r(40558),h=r(59389),v=r(48848),y=r(93661),m=r(49228),x=r(93122),b=r(70288),T=r(79557),_=r(67430),w=r(76291),g=r(85026),S=1024;function k(e){if(Array.isArray(e)){if(e.length<S)return e;var t,r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){if(t.value>=65536)return new Uint32Array(e)}}catch(o){r.e(o)}finally{r.f()}return new Uint16Array(e)}if(e.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT)return e;var n,a=(0,f.Z)(e);try{for(a.s();!(n=a.n()).done;){if(n.value>=65536)return e}}catch(o){a.e(o)}finally{a.f()}return new Uint16Array(e)}var C=function(){for(var e=new Uint32Array(131072),t=0;t<e.length;++t)e[t]=t;return e}(),A=[0],E=function(){for(var e=new Uint16Array(65536),t=0;t<e.length;++t)e[t]=t;return e}();function I(e){if(1===e)return A;if(e<S)return Array.from(new Uint16Array(E.buffer,0,e));if(e<E.length)return new Uint16Array(E.buffer,0,e);if(e>C.length){var t=Math.max(2*C.length,e);C=new Uint32Array(t);for(var r=0;r<C.length;r++)C[r]=r}return new Uint32Array(C.buffer,0,e)}function O(e){if(1===e)return A;if(e<S)return Array.from(new Uint16Array(E.buffer,0,e));if(e<E.length)return new Uint16Array(E.slice(0,e));if(e>C.length){for(var t=new Uint32Array(e),r=0;r<t.length;r++)t[r]=r;return t}return new Uint32Array(C.slice(0,e))}function Z(e,t,r){if(e.count===t.count)for(var n=e.count,a=r[0],o=r[1],u=r[2],s=r[3],i=r[4],c=r[5],f=r[6],p=r[7],d=r[8],h=e.typedBuffer,v=e.typedBufferStride,y=t.typedBuffer,m=t.typedBufferStride,x=0;x<n;x++){var b=x*v,T=x*m,_=y[T],w=y[T+1],g=y[T+2],S=y[T+3];h[b]=a*_+s*w+f*g,h[b+1]=o*_+i*w+p*g,h[b+2]=u*_+c*w+d*g,h[b+3]=S}else l.a.error("source and destination buffers need to have the same number of elements")}function R(e,t){for(var r=Math.min(e.count,t.count),n=e.typedBuffer,a=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride,s=0;s<r;s++){var i=s*a,c=s*u,f=o[c],l=o[c+1],p=o[c+2],d=f*f+l*l+p*p;if(d>0){var h=1/Math.sqrt(d);n[i]=h*f,n[i+1]=h*l,n[i+2]=h*p}}}function U(e,t,r){for(var n=Math.min(e.count,t.count),a=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,s=t.typedBufferStride,i=0;i<n;i++){var c=i*o,f=i*s;a[c]=r*u[f],a[c+1]=r*u[f+1],a[c+2]=r*u[f+2],a[c+3]=r*u[f+3]}}function B(e,t,r){for(var n=Math.min(e.count,t.count),a=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,s=t.typedBufferStride,i=0;i<n;i++){var c=i*o,f=i*s;a[c]=u[f]>>r,a[c+1]=u[f+1]>>r,a[c+2]=u[f+2]>>r,a[c+3]=u[f+3]>>r}}function N(e,t){var r=e.count;t||(t=new e.TypedArrayConstructor(r));for(var n=0;n<r;n++)t[n]=e.get(n);return t}function L(e,t,r){for(var n=e.typedBuffer,a=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*u,f=0;f<s;++f)n[i]=o[c],n[i+1]=o[c+1],i+=a,c+=u}function M(e,t,r){var n=e.typedBuffer,a=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*u;if((0,p.s)(t.elementType)){var f=(0,p.r)(t.elementType);if((0,p.c)(t.elementType))for(var l=0;l<s;++l)n[i]=Math.max(o[c]/f,-1),n[i+1]=Math.max(o[c+1]/f,-1),i+=a,c+=u;else for(var d=0;d<s;++d)n[i]=o[c]/f,n[i+1]=o[c+1]/f,i+=a,c+=u}else L(e,t,r);return e}function F(e,t,r,n){for(var a,o,u=e.typedBuffer,s=e.typedBufferStride,i=null!==(a=null===n||void 0===n?void 0:n.count)&&void 0!==a?a:e.count,c=(null!==(o=null===n||void 0===n?void 0:n.dstIndex)&&void 0!==o?o:0)*s,f=0;f<i;++f)u[c]=t,u[c+1]=r,c+=s}function D(e,t,r){for(var n=e.typedBuffer,a=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*u,f=0;f<s;++f)n[i]=o[c],n[i+1]=o[c+1],n[i+2]=o[c+2],n[i+3]=o[c+3],i+=a,c+=u}function j(e,t,r,n,a,o){for(var u,s,i=e.typedBuffer,c=e.typedBufferStride,f=null!==(u=null===o||void 0===o?void 0:o.count)&&void 0!==u?u:e.count,l=(null!==(s=null===o||void 0===o?void 0:o.dstIndex)&&void 0!==s?s:0)*c,p=0;p<f;++p)i[l]=t,i[l+1]=r,i[l+2]=n,i[l+3]=a,l+=c}function P(e,t){return new e(new ArrayBuffer(t*e.ElementCount*(0,p.e)(e.ElementType)))}Object.freeze(Object.defineProperty({__proto__:null,transformMat4:function(e,t,r){if(e.count===t.count)for(var n=e.count,a=r[0],o=r[1],u=r[2],s=r[3],i=r[4],c=r[5],f=r[6],p=r[7],d=r[8],h=r[9],v=r[10],y=r[11],m=r[12],x=r[13],b=r[14],T=r[15],_=e.typedBuffer,w=e.typedBufferStride,g=t.typedBuffer,S=t.typedBufferStride,k=0;k<n;k++){var C=k*w,A=k*S,E=g[A],I=g[A+1],O=g[A+2],Z=g[A+3];_[C]=a*E+i*I+d*O+m*Z,_[C+1]=o*E+c*I+h*O+x*Z,_[C+2]=u*E+f*I+v*O+b*Z,_[C+3]=s*E+p*I+y*O+T*Z}else l.a.error("source and destination buffers need to have the same number of elements")},transformMat3:Z,normalize:R,scale:U,shiftRight:B},Symbol.toStringTag,{value:"Module"})),Object.freeze(Object.defineProperty({__proto__:null,copy:function(e,t,r){for(var n=e.typedBuffer,a=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*u,f=0;f<s;++f){for(var l=0;l<9;++l)n[i+l]=o[c+l];i+=a,c+=u}}},Symbol.toStringTag,{value:"Module"})),Object.freeze(Object.defineProperty({__proto__:null,copy:function(e,t,r){for(var n=e.typedBuffer,a=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*u,f=0;f<s;++f){for(var l=0;l<16;++l)n[i+l]=o[c+l];i+=a,c+=u}}},Symbol.toStringTag,{value:"Module"})),Object.freeze(Object.defineProperty({__proto__:null,copy:function(e,t,r){for(var n=e.typedBuffer,a=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*u,f=0;f<s;++f)n[i]=o[c],i+=a,c+=u},makeDense:N},Symbol.toStringTag,{value:"Module"})),Object.freeze(Object.defineProperty({__proto__:null,copy:L,normalizeIntegerBuffer:M,fill:F},Symbol.toStringTag,{value:"Module"})),Object.freeze(Object.defineProperty({__proto__:null,copy:D,fill:j},Symbol.toStringTag,{value:"Module"}));var G=function(){function e(t){(0,i.Z)(this,e),this._streamDataRequester=t}return(0,c.Z)(e,[{key:"loadJSON",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._load("json",t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"loadBinary",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.X)(t)?((0,v.f)(r),(0,d.Y)(t)):this._load("binary",t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"loadImage",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._load("image",t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_load",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r,n){var a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,y.t)(this._streamDataRequester)){e.next=4;break}return e.next=3,(0,d.U)(r,{responseType:V[t]});case 3:return e.abrupt("return",e.sent.data);case 4:return e.next=6,(0,h.b)(this._streamDataRequester.request(r,t,n));case 6:if(!0!==(a=e.sent).ok){e.next=9;break}return e.abrupt("return",a.value);case 9:throw(0,v.w)(a.error),new v.s("","Request for resource failed: ".concat(a.error));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}(),V={image:"image",binary:"array-buffer",json:"json"},z=function(){function e(){(0,i.Z)(this,e)}return(0,c.Z)(e,[{key:"error",value:function(e){throw new v.s("gltf-loader-error",e)}},{key:"errorUnsupported",value:function(e){throw new v.s("gltf-loader-unsupported-feature",e)}},{key:"errorUnsupportedIf",value:function(e,t){e&&this.errorUnsupported(t)}},{key:"assert",value:function(e,t){e||this.error(t)}},{key:"warn",value:function(e){v.a.getLogger("esri.views.3d.glTF").warn(e)}},{key:"warnUnsupported",value:function(e){this.warn("[Unsupported Feature] "+e)}},{key:"warnUnsupportedIf",value:function(e,t){e&&this.warnUnsupported(t)}}]),e}();var Y,q,H=function(){function e(t){(0,i.Z)(this,e),this._data=t,this._offset4=0,this._dataUint32=new Uint32Array(this._data,0,Math.floor(this._data.byteLength/4))}return(0,c.Z)(e,[{key:"readUint32",value:function(){var e=this._offset4;return this._offset4+=1,this._dataUint32[e]}},{key:"readUint8Array",value:function(e){var t=4*this._offset4;return this._offset4+=e/4,new Uint8Array(this._data,t,e)}},{key:"remainingBytes",value:function(){return this._data.byteLength-4*this._offset4}}]),e}();!function(e){e.SCALAR="SCALAR",e.VEC2="VEC2",e.VEC3="VEC3",e.VEC4="VEC4",e.MAT2="MAT2",e.MAT3="MAT3",e.MAT4="MAT4"}(Y||(Y={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER"}(q||(q={}));var X={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},J={pbrMetallicRoughness:X,emissiveFactor:[0,0,0],alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1},$={ESRI_externalColorMixMode:"tint"},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.Z)((0,o.Z)({},X),e.pbrMetallicRoughness),r=Q((0,o.Z)((0,o.Z)({},$),e.extras));return(0,o.Z)((0,o.Z)((0,o.Z)({},J),e),{},{pbrMetallicRoughness:t,extras:r})};function Q(e){switch(e.ESRI_externalColorMixMode){case"multiply":case"tint":case"ignore":case"replace":break;default:e.ESRI_externalColorMixMode="tint"}return e}var W={magFilter:x.L.LINEAR,minFilter:x.L.LINEAR_MIPMAP_LINEAR,wrapS:x.D.REPEAT,wrapT:x.D.REPEAT},ee=function(e){return(0,o.Z)((0,o.Z)({},W),e)};var te=1179937895,re=1313821514,ne=5130562,ae=function(){function e(t,r,n,a,o){(0,i.Z)(this,e),this._context=t,this._errorContext=r,this.uri=n,this.json=a,this._glbBuffer=o,this._bufferLoaders=new Map,this._textureLoaders=new Map,this._textureCache=new Map,this._materialCache=new Map,this._nodeParentMap=new Map,this._nodeTransformCache=new Map,this._baseUri=function(e){var t,r;return e.replace(/^(.*\/)?([^/]*)$/,(function(e,n,a){return t=n||"",r=a||"",""})),{dirPart:t,filePart:r}}(this.uri).dirPart,this._checkVersionSupported(),this._checkRequiredExtensionsSupported(),r.errorUnsupportedIf(null==a.scenes,"Scenes must be defined."),r.errorUnsupportedIf(null==a.meshes,"Meshes must be defined"),r.errorUnsupportedIf(null==a.nodes,"Nodes must be defined."),this._computeNodeParents()}return(0,c.Z)(e,[{key:"getBuffer",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a,o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.json.buffers[t],a=this._errorContext,null!=n.uri){e.next=3;break}return e.abrupt("return",(a.assert(null!=this._glbBuffer,"GLB buffer not present"),this._glbBuffer));case 3:return e.next=5,this._getBufferLoader(t,r);case 5:return o=e.sent,e.abrupt("return",(a.assert(o.byteLength===n.byteLength,"Buffer byte lengths should match."),o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_getBufferLoader",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a,o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._bufferLoaders.get(t))){e.next=3;break}return e.abrupt("return",n);case 3:return a=this.json.buffers[t].uri,o=this._context.loadBinary(this._resolveUri(a),r).then((function(e){return new Uint8Array(e)})),e.abrupt("return",(this._bufferLoaders.set(t,o),o));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAccessor",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a,o,s,i,c,f,l;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this._errorContext).errorUnsupportedIf(!this.json.accessors,"Accessors missing."),a=this.json.accessors[t],n.errorUnsupportedIf(null==(null===a||void 0===a?void 0:a.bufferView),"Some accessor does not specify a bufferView."),n.errorUnsupportedIf(a.type in[Y.MAT2,Y.MAT3,Y.MAT4],"AttributeType ".concat(a.type," is not supported")),o=this.json.bufferViews[a.bufferView],e.next=7,this.getBuffer(o.buffer,r);case 7:return s=e.sent,i=ie[a.type],c=ce[a.componentType],f=i*c,l=o.byteStride||f,e.abrupt("return",{raw:s.buffer,byteStride:l,byteOffset:s.byteOffset+(o.byteOffset||0)+(a.byteOffset||0),entryCount:a.count,isDenselyPacked:l===f,componentCount:i,componentByteSize:c,componentType:a.componentType,min:a.min,max:a.max,normalized:!!a.normalized});case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getIndexData",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.indices){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getAccessor(t.indices,r);case 4:if(!(n=e.sent).isDenselyPacked){e.next=14;break}e.t0=n.componentType,e.next=e.t0===x.C.UNSIGNED_BYTE?9:e.t0===x.C.UNSIGNED_SHORT?10:e.t0===x.C.UNSIGNED_INT?11:12;break;case 9:return e.abrupt("return",new Uint8Array(n.raw,n.byteOffset,n.entryCount));case 10:return e.abrupt("return",new Uint16Array(n.raw,n.byteOffset,n.entryCount));case 11:return e.abrupt("return",new Uint32Array(n.raw,n.byteOffset,n.entryCount));case 12:e.next=20;break;case 14:e.t1=n.componentType,e.next=e.t1===x.C.UNSIGNED_BYTE?17:e.t1===x.C.UNSIGNED_SHORT?18:e.t1===x.C.UNSIGNED_INT?19:20;break;case 17:return e.abrupt("return",N(this._wrapAccessor(g.d,n)));case 18:return e.abrupt("return",N(this._wrapAccessor(g.g,n)));case 19:return e.abrupt("return",N(this._wrapAccessor(g.B,n)));case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getPositionData",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this._errorContext).errorUnsupportedIf(null==t.attributes.POSITION,"No POSITION vertex data found."),e.next=4,this.getAccessor(t.attributes.POSITION,r);case 4:return a=e.sent,e.abrupt("return",(n.errorUnsupportedIf(a.componentType!==x.C.FLOAT,"Expected type FLOAT for POSITION vertex attribute, but found "+x.C[a.componentType]),n.errorUnsupportedIf(3!==a.componentCount,"POSITION vertex attribute must have 3 components, but found "+a.componentCount.toFixed()),this._wrapAccessor(g.i,a)));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getNormalData",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this._errorContext).assert(null!=t.attributes.NORMAL,"No NORMAL vertex data found."),e.next=4,this.getAccessor(t.attributes.NORMAL,r);case 4:return a=e.sent,e.abrupt("return",(n.errorUnsupportedIf(a.componentType!==x.C.FLOAT,"Expected type FLOAT for NORMAL vertex attribute, but found "+x.C[a.componentType]),n.errorUnsupportedIf(3!==a.componentCount,"NORMAL vertex attribute must have 3 components, but found "+a.componentCount.toFixed()),this._wrapAccessor(g.i,a)));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getTangentData",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this._errorContext).assert(null!=t.attributes.TANGENT,"No TANGENT vertex data found."),e.next=4,this.getAccessor(t.attributes.TANGENT,r);case 4:return a=e.sent,e.abrupt("return",(n.errorUnsupportedIf(a.componentType!==x.C.FLOAT,"Expected type FLOAT for TANGENT vertex attribute, but found "+x.C[a.componentType]),n.errorUnsupportedIf(4!==a.componentCount,"TANGENT vertex attribute must have 4 components, but found "+a.componentCount.toFixed()),new g.c(a.raw,a.byteOffset,a.byteStride,a.byteOffset+a.byteStride*a.entryCount)));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getTextureCoordinates",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this._errorContext).assert(null!=t.attributes.TEXCOORD_0,"No TEXCOORD_0 vertex data found."),e.next=4,this.getAccessor(t.attributes.TEXCOORD_0,r);case 4:return a=e.sent,e.abrupt("return",(n.errorUnsupportedIf(2!==a.componentCount,"TEXCOORD_0 vertex attribute must have 2 components, but found "+a.componentCount.toFixed()),a.componentType===x.C.FLOAT?this._wrapAccessor(g.u,a):(n.errorUnsupportedIf(!a.normalized,"Integer component types are only supported for a normalized accessor for TEXCOORD_0."),fe(a))));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getVertexColors",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this._errorContext).assert(null!=t.attributes.COLOR_0,"No COLOR_0 vertex data found."),e.next=4,this.getAccessor(t.attributes.COLOR_0,r);case 4:if(a=e.sent,n.errorUnsupportedIf(4!==a.componentCount&&3!==a.componentCount,"COLOR_0 attribute must have 3 or 4 components, but found "+a.componentCount.toFixed()),4!==a.componentCount){e.next=14;break}if(a.componentType!==x.C.FLOAT){e.next=8;break}return e.abrupt("return",this._wrapAccessor(g.c,a));case 8:if(a.componentType!==x.C.UNSIGNED_BYTE){e.next=10;break}return e.abrupt("return",this._wrapAccessor(g.x,a));case 10:if(a.componentType!==x.C.UNSIGNED_SHORT){e.next=12;break}return e.abrupt("return",this._wrapAccessor(g.L,a));case 12:e.next=21;break;case 14:if(3!==a.componentCount){e.next=21;break}if(a.componentType!==x.C.FLOAT){e.next=17;break}return e.abrupt("return",this._wrapAccessor(g.i,a));case 17:if(a.componentType!==x.C.UNSIGNED_BYTE){e.next=19;break}return e.abrupt("return",this._wrapAccessor(g.O,a));case 19:if(a.componentType!==x.C.UNSIGNED_SHORT){e.next=21;break}return e.abrupt("return",this._wrapAccessor(g.E,a));case 21:n.errorUnsupported("Unsupported component type for COLOR_0 attribute: "+x.C[a.componentType]);case 22:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"hasPositions",value:function(e){return void 0!==e.attributes.POSITION}},{key:"hasNormals",value:function(e){return void 0!==e.attributes.NORMAL}},{key:"hasVertexColors",value:function(e){return void 0!==e.attributes.COLOR_0}},{key:"hasTextureCoordinates",value:function(e){return void 0!==e.attributes.TEXCOORD_0}},{key:"hasTangents",value:function(e){return void 0!==e.attributes.TANGENT}},{key:"getMaterial",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r,n){var a,o,s,i,c,f,l,p,d,h,v,y,m,x,b,T,_,w,g,S;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.material?this._materialCache.get(t.material):void 0){e.next=35;break}return y=null!=t.material?K(this.json.materials[t.material]):K(),m=y.pbrMetallicRoughness,x=this.hasVertexColors(t),b=this.getTexture(m.baseColorTexture,r),T=this.getTexture(y.normalTexture,r),_=n?this.getTexture(y.occlusionTexture,r):void 0,w=n?this.getTexture(y.emissiveTexture,r):void 0,g=n?this.getTexture(m.metallicRoughnessTexture,r):void 0,S=null!=t.material?t.material:-1,e.t0=y.alphaMode,e.t1=y.alphaCutoff,e.t2=m.baseColorFactor,e.t3=!!y.doubleSided,e.next=9,b;case 9:return e.t4=e.sent,e.next=12,T;case 12:return e.t5=e.sent,e.t6=y.name,e.t7=S,e.next=17,_;case 17:return e.t8=e.sent,e.next=20,w;case 20:return e.t9=e.sent,e.t10=y.emissiveFactor,e.t11=m.metallicFactor,e.t12=m.roughnessFactor,e.next=26,g;case 26:e.t13=e.sent,e.t14=x,e.t15=y.extras.ESRI_externalColorMixMode,e.t16=null===m||void 0===m||null===(o=m.baseColorTexture)||void 0===o||null===(s=o.extensions)||void 0===s?void 0:s.KHR_texture_transform,e.t17=null===(i=y.normalTexture)||void 0===i||null===(c=i.extensions)||void 0===c?void 0:c.KHR_texture_transform,e.t18=null===(f=y.occlusionTexture)||void 0===f||null===(l=f.extensions)||void 0===l?void 0:l.KHR_texture_transform,e.t19=null===(p=y.emissiveTexture)||void 0===p||null===(d=p.extensions)||void 0===d?void 0:d.KHR_texture_transform,e.t20=null===m||void 0===m||null===(h=m.metallicRoughnessTexture)||void 0===h||null===(v=h.extensions)||void 0===v?void 0:v.KHR_texture_transform,a={alphaMode:e.t0,alphaCutoff:e.t1,color:e.t2,doubleSided:e.t3,colorTexture:e.t4,normalTexture:e.t5,name:e.t6,id:e.t7,occlusionTexture:e.t8,emissiveTexture:e.t9,emissiveFactor:e.t10,metallicFactor:e.t11,roughnessFactor:e.t12,metallicRoughnessTexture:e.t13,hasVertexColors:e.t14,ESRI_externalColorMixMode:e.t15,colorTextureTransform:e.t16,normalTextureTransform:e.t17,occlusionTextureTransform:e.t18,emissiveTextureTransform:e.t19,metallicRoughnessTextureTransform:e.t20};case 35:return e.abrupt("return",a);case 36:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getTexture",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a,o,s,i,c;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return this._errorContext.errorUnsupportedIf(0!==(t.texCoord||0),"Only TEXCOORD with index 0 is supported."),n=t.index,a=this._errorContext,o=this.json.textures[n],s=ee(null!=o.sampler?this.json.samplers[o.sampler]:{}),a.errorUnsupportedIf(null==o.source,"Source is expected to be defined for a texture."),i=this.json.images[o.source],e.next=8,this._loadTextureImageData(n,o,r);case 8:return c=e.sent,e.abrupt("return",(0,v.am)(this._textureCache,n,(function(){var e=function(e){return 33071===e||33648===e||10497===e},t=function(e){return a.error("Unexpected TextureSampler WrapMode: ".concat(e,". Using default REPEAT(10497).")),10497};return{data:c,wrapS:e(s.wrapS)?s.wrapS:t(s.wrapS),wrapT:e(s.wrapT)?s.wrapT:t(s.wrapT),minFilter:s.minFilter,name:i.name,id:n}})));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getNodeTransform",value:function(e){if(void 0===e)return ue;var t=this._nodeTransformCache.get(e);if(!t){var r=this.getNodeTransform(this._getNodeParent(e)),n=this.json.nodes[e];n.matrix?t=(0,T.u)((0,m.e)(),r,n.matrix):n.translation||n.rotation||n.scale?(t=(0,m.r)(r),n.translation&&(0,T.c)(t,t,n.translation),n.rotation&&(se[3]=(0,_.x)(se,n.rotation),(0,T.f)(t,t,se[3],se)),n.scale&&(0,T.i)(t,t,n.scale)):t=r,this._nodeTransformCache.set(e,t)}return t}},{key:"_wrapAccessor",value:function(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}},{key:"_resolveUri",value:function(e){return(0,d.Q)(e,this._baseUri)}},{key:"_getNodeParent",value:function(e){return this._nodeParentMap.get(e)}},{key:"_checkVersionSupported",value:function(){var e=b.r.parse(this.json.asset.version,"glTF");oe.validate(e)}},{key:"_checkRequiredExtensionsSupported",value:function(){var e=this.json,t=this._errorContext;e.extensionsRequired&&0!==e.extensionsRequired.length&&t.errorUnsupported("gltf loader was not able to load unsupported feature. Required extensions: "+e.extensionsRequired.join(", "))}},{key:"_computeNodeParents",value:function(){var e=this;this.json.nodes.forEach((function(t,r){t.children&&t.children.forEach((function(t){e._nodeParentMap.set(t,r)}))}))}},{key:"_loadTextureImageData",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r,n){var a,o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=this._textureLoaders.get(t))){e.next=3;break}return e.abrupt("return",a);case 3:return o=this._createTextureLoader(r,n),e.abrupt("return",(this._textureLoaders.set(t,o),o));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_createTextureLoader",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a,o,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.json.images[t.source]).uri){e.next=3;break}return e.abrupt("return",this._context.loadImage(this._resolveUri(n.uri),r));case 3:return(a=this._errorContext).errorUnsupportedIf(null==n.bufferView,"Image bufferView must be defined."),a.errorUnsupportedIf(null==n.mimeType,"Image mimeType must be defined."),o=this.json.bufferViews[n.bufferView],e.next=8,this.getBuffer(o.buffer,r);case 8:return s=e.sent,e.abrupt("return",(a.errorUnsupportedIf(null!=o.byteStride,"byteStride not supported for image buffer"),de(new Uint8Array(s.buffer,s.byteOffset+(o.byteOffset||0),o.byteLength),n.mimeType)));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getLoadedBuffersSize",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._glbBuffer){e.next=2;break}return e.abrupt("return",this._glbBuffer.byteLength);case 2:return e.next=4,(0,v.ah)(Array.from(this._bufferLoaders.values()));case 4:return t=e.sent,e.next=7,(0,v.ah)(Array.from(this._textureLoaders.values()));case 7:return r=e.sent,e.abrupt("return",t.reduce((function(e,t){var r;return e+(null!==(r=null===t||void 0===t?void 0:t.byteLength)&&void 0!==r?r:0)}),0)+r.reduce((function(e,t){return e+(t?t.width*t.height*4:0)}),0));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"load",value:function(){var t=(0,s.Z)((0,u.Z)().mark((function t(r,n,a,o){var s,i,c,f,l,p;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,d.X)(a)){t.next=13;break}if(!(s=(0,d.n)(a))||"model/gltf-binary"===s.mediaType){t.next=10;break}return t.prev=3,i=JSON.parse(s.isBase64?atob(s.data):s.data),t.abrupt("return",new e(r,n,a,i));case 8:t.prev=8,t.t0=t.catch(3);case 10:if(c=(0,d.Y)(a),!e._isGLBData(c)){t.next=13;break}return t.abrupt("return",this._fromGLBData(r,n,a,c));case 13:if(!a.endsWith(".gltf")){t.next=18;break}return t.next=16,r.loadJSON(a,o);case 16:return f=t.sent,t.abrupt("return",new e(r,n,a,f));case 18:return t.next=20,r.loadBinary(a,o);case 20:if(l=t.sent,!e._isGLBData(l)){t.next=23;break}return t.abrupt("return",this._fromGLBData(r,n,a,l));case 23:return t.next=25,r.loadJSON(a,o);case 25:return p=t.sent,t.abrupt("return",new e(r,n,a,p));case 27:case"end":return t.stop()}}),t,this,[[3,8]])})));return function(e,r,n,a){return t.apply(this,arguments)}}()},{key:"_isGLBData",value:function(e){if(null==e)return!1;var t=new H(e);return t.remainingBytes()>=4&&t.readUint32()===te}},{key:"_fromGLBData",value:function(){var t=(0,s.Z)((0,u.Z)().mark((function t(r,n,a,o){var s;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._parseGLBData(n,o);case 2:return s=t.sent,t.abrupt("return",new e(r,n,a,s.json,s.binaryData));case 4:case"end":return t.stop()}}),t)})));return function(e,r,n,a){return t.apply(this,arguments)}}()},{key:"_parseGLBData",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a,o,s,i,c,f,l,p;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new H(r),t.assert(n.remainingBytes()>=12,"GLB binary data is insufficiently large."),a=n.readUint32(),o=n.readUint32(),s=n.readUint32(),t.assert(a===te,"Magic first 4 bytes do not fit to expected GLB value."),t.assert(r.byteLength>=s,"GLB binary data is smaller than header specifies."),t.errorUnsupportedIf(2!==o,"An unsupported GLB container version was detected. Only version 2 is supported."),f=0;case 5:if(!(n.remainingBytes()>=8)){e.next=19;break}if(l=n.readUint32(),p=n.readUint32(),0!==f){e.next=15;break}return t.assert(p===re,"First GLB chunk must be JSON."),t.assert(l>=0,"No JSON data found."),e.next=12,le(n.readUint8Array(l));case 12:i=e.sent,e.next=16;break;case 15:1===f?(t.errorUnsupportedIf(p!==ne,"Second GLB chunk expected to be BIN."),c=n.readUint8Array(l)):t.warnUnsupported("More than 2 GLB chunks detected. Skipping.");case 16:f+=1;case 17:e.next=5;break;case 19:return e.abrupt("return",(i||t.error("No GLB JSON chunk detected."),{json:i,binaryData:c}));case 20:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),oe=new b.r(2,0,"glTF"),ue=(0,T.p)((0,m.e)(),Math.PI/2),se=(0,w.e)(),ie={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},ce=(n={},(0,a.Z)(n,x.C.BYTE,1),(0,a.Z)(n,x.C.UNSIGNED_BYTE,1),(0,a.Z)(n,x.C.SHORT,2),(0,a.Z)(n,x.C.UNSIGNED_SHORT,2),(0,a.Z)(n,x.C.FLOAT,4),(0,a.Z)(n,x.C.UNSIGNED_INT,4),n);function fe(e){switch(e.componentType){case x.C.BYTE:return new g.V(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case x.C.UNSIGNED_BYTE:return new g.A(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case x.C.SHORT:return new g.q(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case x.C.UNSIGNED_SHORT:return new g.w(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case x.C.UNSIGNED_INT:return new g.F(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case x.C.FLOAT:return new g.u(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount)}}function le(e){return pe.apply(this,arguments)}function pe(){return pe=(0,s.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=new Blob([t]),a=new FileReader;a.onload=function(){var t=a.result;e(JSON.parse(t))},a.onerror=function(e){r(e)},a.readAsText(n)})));case 1:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function de(e,t){return he.apply(this,arguments)}function he(){return he=(0,s.Z)((0,u.Z)().mark((function e(t,r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new Blob([t],{type:r}),o=URL.createObjectURL(a),u=new Image,s=function(){URL.revokeObjectURL(o),"decode"in u?u.decode().then((function(){return e(u)}),(function(){return e(u)})).then(c):(e(u),c())},i=function(e){URL.revokeObjectURL(o),n(e),c()},c=function(){u.removeEventListener("load",s),u.removeEventListener("error",i)};u.addEventListener("load",s),u.addEventListener("error",i),u.src=o})));case 1:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}var ve=0;function ye(e,t){return me.apply(this,arguments)}function me(){return me=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a,o,i,c,l,p,d,h,v,b,T=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T.length>2&&void 0!==T[2]?T[2]:{},a=!(T.length>3&&void 0!==T[3])||T[3],e.next=4,ae.load(t,ge,r,n);case 4:return o=e.sent,i="gltf_"+ve++,c={lods:[],materials:new Map,textures:new Map,meta:xe(o)},l=!(!o.json.asset.extras||"symbolResource"!==o.json.asset.extras.ESRI_type),p=new Map,e.next=11,be(o,function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r,s,f){var l,d,h,v,b,T,_,w,g,S,k,C,A;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=null!==(l=p.get(s))&&void 0!==l?l:0,p.set(s,d+1),h=void 0!==t.mode?t.mode:x.E.TRIANGLES,v=h===x.E.TRIANGLES||h===x.E.TRIANGLE_STRIP||h===x.E.TRIANGLE_FAN?h:null,!(0,y.t)(v)){e.next=5;break}return e.abrupt("return",void ge.warnUnsupported("Unsupported primitive mode ("+x.E[h]+"). Skipping primitive."));case 5:if(o.hasPositions(t)){e.next=7;break}return e.abrupt("return",void ge.warn("Skipping primitive without POSITION vertex attribute."));case 7:return b=o.getPositionData(t,n),T=o.getMaterial(t,n,a),_=o.hasNormals(t)?o.getNormalData(t,n):null,w=o.hasTangents(t)?o.getTangentData(t,n):null,g=o.hasTextureCoordinates(t)?o.getTextureCoordinates(t,n):null,S=o.hasVertexColors(t)?o.getVertexColors(t,n):null,k=o.getIndexData(t,n),e.t0=(0,m.r)(r),e.next=17,b;case 17:if(e.t1=e.sent,!_){e.next=24;break}return e.next=21,_;case 21:e.t2=e.sent,e.next=25;break;case 24:e.t2=null;case 25:if(e.t3=e.t2,!g){e.next=32;break}return e.next=29,g;case 29:e.t4=e.sent,e.next=33;break;case 32:e.t4=null;case 33:if(e.t5=e.t4,!S){e.next=40;break}return e.next=37,S;case 37:e.t6=e.sent,e.next=41;break;case 40:e.t6=null;case 41:if(e.t7=e.t6,!w){e.next=48;break}return e.next=45,w;case 45:e.t8=e.sent,e.next=49;break;case 48:e.t8=null;case 49:return e.t9=e.t8,e.t10={position:e.t1,normal:e.t3,texCoord0:e.t5,color:e.t7,tangent:e.t9},e.next=53,k;case 53:return e.t11=e.sent,e.t12=v,e.t13=we,e.t14=c,e.next=59,T;case 59:e.t15=e.sent,e.t16=i,e.t17=(0,e.t13)(e.t14,e.t15,e.t16),C={transform:e.t0,attributes:e.t10,indices:e.t11,primitiveType:e.t12,material:e.t17},A=null,(0,y.r)(c.meta)&&(0,y.r)(c.meta.ESRI_lod)&&"screenSpaceRadius"===c.meta.ESRI_lod.metric&&(A=c.meta.ESRI_lod.thresholds[s]),c.lods[s]=c.lods[s]||{parts:[],name:f,lodThreshold:A},c.lods[s].parts[d]=C;case 65:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}());case 11:d=(0,f.Z)(c.lods);try{for(d.s();!(h=d.n()).done;)(v=h.value).parts=v.parts.filter((function(e){return!!e}))}catch(_){d.e(_)}finally{d.f()}return e.next=15,o.getLoadedBuffersSize();case 15:return b=e.sent,e.abrupt("return",{model:c,meta:{isEsriSymbolResource:l,uri:o.uri},customMeta:{},size:b});case 17:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function xe(e){var t=e.json,r=null;return t.nodes.forEach((function(e){var t=e.extras;(0,y.r)(t)&&(t.ESRI_proxyEllipsoid||t.ESRI_lod)&&(r=t)})),r}function be(e,t){return Te.apply(this,arguments)}function Te(){return Te=(0,s.Z)((0,u.Z)().mark((function e(t,r){var n,a,o,i,c,l,p,d,h,v;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v=function(){return v=(0,s.Z)((0,u.Z)().mark((function e(a,o){var s,c,l,p,d,v,y,m,x;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.nodes[a],c=t.getNodeTransform(a),ge.warnUnsupportedIf(null!=s.weights,"Morph targets are not supported."),null!=s.mesh){l=n.meshes[s.mesh],p=(0,f.Z)(l.primitives);try{for(p.s();!(d=p.n()).done;)v=d.value,i.push(r(v,c,o,l.name))}catch(u){p.e(u)}finally{p.f()}}y=(0,f.Z)(s.children||[]);try{for(y.s();!(m=y.n()).done;)x=m.value,i.push(h(x,o))}catch(u){y.e(u)}finally{y.f()}case 4:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)},h=function(e,t){return v.apply(this,arguments)},n=t.json,a=n.scenes[n.scene||0].nodes,o=a.length>1,i=[],c=(0,f.Z)(a);try{for(c.s();!(l=c.n()).done;)p=l.value,d=n.nodes[p],i.push(h(p,0)),_e(d)&&!o&&d.extensions.MSFT_lod.ids.forEach((function(e,t){return h(e,t+1)}))}catch(y){c.e(y)}finally{c.f()}return e.next=7,Promise.all(i);case 7:case"end":return e.stop()}}),e)}))),Te.apply(this,arguments)}function _e(e){return e.extensions&&e.extensions.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function we(e,t,r){var n=function(t){var n="".concat(r,"_tex_").concat(t&&t.id).concat(t&&t.name?"_"+t.name:"");if(t&&!e.textures.has(n)){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{data:e,parameters:(0,o.Z)({wrap:(0,o.Z)({s:x.D.REPEAT,t:x.D.REPEAT},t.wrap),noUnpackFlip:!0,mipmap:!1},t)}}(t.data,{wrap:{s:t.wrapS,t:t.wrapT},mipmap:Se.includes(t.minFilter),noUnpackFlip:!0});e.textures.set(n,a)}return n},a="".concat(r,"_mat_").concat(t.id,"_").concat(t.name);if(!e.materials.has(a)){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)({color:[1,1,1],opacity:1,alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,colorTextureTransform:null,normalTextureTransform:null,occlusionTextureTransform:null,emissiveTextureTransform:null,metallicRoughnessTextureTransform:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:"multiply"},e)}({color:[t.color[0],t.color[1],t.color[2]],opacity:t.color[3],alphaMode:t.alphaMode,alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,colorMixMode:t.ESRI_externalColorMixMode,textureColor:t.colorTexture?n(t.colorTexture):void 0,textureNormal:t.normalTexture?n(t.normalTexture):void 0,textureOcclusion:t.occlusionTexture?n(t.occlusionTexture):void 0,textureEmissive:t.emissiveTexture?n(t.emissiveTexture):void 0,textureMetallicRoughness:t.metallicRoughnessTexture?n(t.metallicRoughnessTexture):void 0,emissiveFactor:[t.emissiveFactor[0],t.emissiveFactor[1],t.emissiveFactor[2]],colorTextureTransform:t.colorTextureTransform,normalTextureTransform:t.normalTextureTransform,occlusionTextureTransform:t.occlusionTextureTransform,emissiveTextureTransform:t.emissiveTextureTransform,metallicRoughnessTextureTransform:t.metallicRoughnessTextureTransform,metallicFactor:t.metallicFactor,roughnessFactor:t.roughnessFactor});e.materials.set(a,u)}return a}var ge=new z,Se=[x.L.LINEAR_MIPMAP_LINEAR,x.L.LINEAR_MIPMAP_NEAREST];function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;return"number"==typeof e?t(e):(0,y.U)(e)||(0,y.S)(e)?new Uint32Array(e):e}function Ce(e){var t="number"==typeof e?e:e.length;if(t<3)return[];var r=t-2,n=function(e){var t=3*e;return t<=S?new Array(t):t<=65536?new Uint16Array(t):new Uint32Array(t)}(r);if("number"==typeof e)for(var a=0,o=0;o<r;o+=1)o%2==0?(n[a++]=o,n[a++]=o+1,n[a++]=o+2):(n[a++]=o+1,n[a++]=o,n[a++]=o+2);else for(var u=0,s=0;s<r;s+=1)if(s%2==0){var i=e[s],c=e[s+1],f=e[s+2];n[u++]=i,n[u++]=c,n[u++]=f}else{var l=e[s+1],p=e[s],d=e[s+2];n[u++]=l,n[u++]=p,n[u++]=d}return n}function Ae(e){var t="number"==typeof e?e:e.length;if(t<3)return new Uint16Array(0);var r=t-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if("number"==typeof e){for(var a=0,o=0;o<r;++o)n[a++]=0,n[a++]=o+1,n[a++]=o+2;return n}for(var u=e[0],s=e[1],i=0,c=0;c<r;++c){var f=e[c+2];n[i++]=u,n[i++]=s,n[i++]=f,s=f}return n}var Ee=2.1},70288:function(e,t,r){r.d(t,{r:function(){return s}});var n=r(29439),a=r(15671),o=r(43144),u=r(48848),s=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,a.Z)(this,e),this.major=t,this.minor=r,this._context=n}return(0,o.Z)(e,[{key:"lessThan",value:function(e,t){return this.major<e||e===this.major&&this.minor<t}},{key:"since",value:function(e,t){return!this.lessThan(e,t)}},{key:"validate",value:function(e){if(this.major!==e.major){var t=this._context&&this._context+":",r=this._context&&this._context+" ";throw new u.s(t+"unsupported-version","Required major ".concat(r,"version is '").concat(this.major,"', but got '${version.major}.${version.minor}'"),{version:e})}}},{key:"clone",value:function(){return new e(this.major,this.minor,this._context)}}],[{key:"parse",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t.split("."),o=(0,n.Z)(a,2),s=o[0],i=o[1],c=/^\s*\d+\s*$/;if(!s||!s.match||!s.match(c))throw new u.s((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!i||!i.match||!i.match(c))throw new u.s((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});var f=parseInt(s,10),l=parseInt(i,10);return new e(f,l,r)}}]),e}()},54017:function(e,t,r){function n(e){switch(e){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8}}function a(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0}}function o(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1}}function u(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303}}r.d(t,{c:function(){return a},e:function(){return n},r:function(){return u},s:function(){return o}})}}]);
//# sourceMappingURL=2233.a988e8cf.chunk.js.map