"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[9644],{86548:function(t,n,e){e.d(n,{h:function(){return y},u:function(){return _}});var r=e(37762),i=e(15671),u=e(43144),a=e(23132),s=e(80175),o=e(75610),h=e(72820),f=e(78311),c=e(61495),l=e(62268),d=e(86068),v={minX:0,minY:0,maxX:0,maxY:0};function m(t,n,e){(function(t){v.minX=t[0],v.minY=t[1],v.maxX=t[2],v.maxY=t[3]})(n),t.search(v,e)}var y=function(){function t(){var n=this;(0,i.Z)(this,t),this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new l.h(9,(0,o.a)("esri-csp-restrictions")?function(t){return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}}:["[0]","[1]","[2]","[3]"]),this._loadIndex=function(){if(n._indexInvalid){var t=new Array(n._idByBounds.size),e=0;n._idByBounds.forEach((function(n,r){t[e++]=r})),n._indexInvalid=!1,n._index.clear(),n._index.load(t)}else n._boundsToLoad.length&&(n._index.load(n._boundsToLoad.filter((function(t){return n._idByBounds.has(t)}))),n._boundsToLoad.length=0)}}return(0,u.Z)(t,[{key:"fullBounds",get:function(){if(!this._boundsById.size)return null;var t,n=(0,f.D)(),e=(0,r.Z)(this._boundsById.values());try{for(e.s();!(t=e.n()).done;){var i=t.value;i&&(n[0]=Math.min(i[0],n[0]),n[1]=Math.min(i[1],n[1]),n[2]=Math.max(i[2],n[2]),n[3]=Math.max(i[3],n[3]))}}catch(u){e.e(u)}finally{e.f()}return n}},{key:"valid",get:function(){return!this._indexInvalid}},{key:"clear",value:function(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}},{key:"delete",value:function(t){var n=this._boundsById.get(t);this._boundsById.delete(t),n&&(this._idByBounds.delete(n),this._indexInvalid||this._index.remove(n))}},{key:"forEachInBounds",value:function(t,n){var e=this;this._loadIndex(),m(this._index,t,(function(t){return n(e._idByBounds.get(t))}))}},{key:"get",value:function(t){return this._boundsById.get(t)}},{key:"has",value:function(t){return this._boundsById.has(t)}},{key:"invalidateIndex",value:function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}},{key:"set",value:function(t,n){if(!this._indexInvalid){var e=this._boundsById.get(t);e&&(this._index.remove(e),this._idByBounds.delete(e))}this._boundsById.set(t,n),n&&(this._idByBounds.set(n,t),this._indexInvalid||(this._boundsToLoad.push(n),this._boundsToLoad.length>5e4&&this._loadIndex()))}}]),t}(),_=function(){function t(n){(0,i.Z)(this,t),this.geometryInfo=n,this._boundsStore=new y,this._featuresById=new Map,this._markedIds=new Set,this.events=new s.n,this.featureAdapter=d.i}return(0,u.Z)(t,[{key:"geometryType",get:function(){return this.geometryInfo.geometryType}},{key:"hasM",get:function(){return this.geometryInfo.hasM}},{key:"hasZ",get:function(){return this.geometryInfo.hasZ}},{key:"numFeatures",get:function(){return this._featuresById.size}},{key:"fullBounds",get:function(){return this._boundsStore.fullBounds}},{key:"storeStatistics",get:function(){var t=0;return this._featuresById.forEach((function(n){(0,o.r)(n.geometry)&&n.geometry.coords&&(t+=n.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:t/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}},{key:"add",value:function(t){this._add(t),this._emitChanged()}},{key:"addMany",value:function(t){var n,e=(0,r.Z)(t);try{for(e.s();!(n=e.n()).done;){var i=n.value;this._add(i)}}catch(u){e.e(u)}finally{e.f()}this._emitChanged()}},{key:"clear",value:function(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}},{key:"removeById",value:function(t){var n=this._featuresById.get(t);return n?(this._remove(n),this._emitChanged(),n):null}},{key:"removeManyById",value:function(t){this._boundsStore.invalidateIndex();var n,e=(0,r.Z)(t);try{for(e.s();!(n=e.n()).done;){var i=n.value,u=this._featuresById.get(i);u&&this._remove(u)}}catch(a){e.e(a)}finally{e.f()}this._emitChanged()}},{key:"forEachBounds",value:function(t,n,e){var i,u=(0,r.Z)(t);try{for(u.s();!(i=u.n()).done;){var a=i.value,s=this._boundsStore.get(a.objectId);s&&n((0,h.O)(e,s))}}catch(o){u.e(o)}finally{u.f()}}},{key:"getFeature",value:function(t){return this._featuresById.get(t)}},{key:"has",value:function(t){return this._featuresById.has(t)}},{key:"toArray",value:function(){return Array.from(this._featuresById.values())}},{key:"forEach",value:function(t){this._featuresById.forEach((function(n){return t(n)}))}},{key:"forEachInBounds",value:function(t,n){var e=this;this._boundsStore.forEachInBounds(t,(function(t){n(e._featuresById.get(t))}))}},{key:"startMarkingUsedFeatures",value:function(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}},{key:"sweep",value:function(){var t=this,n=!1;this._featuresById.forEach((function(e,r){t._markedIds.has(r)||(n=!0,t._remove(e))})),this._markedIds.clear(),n&&this._emitChanged()}},{key:"_emitChanged",value:function(){this.events.emit("changed",void 0)}},{key:"_add",value:function(t){if(t){var n=t.objectId;if(null!=n){var e,r=this._featuresById.get(n);if(this._markedIds.add(n),r?(t.displayId=r.displayId,e=this._boundsStore.get(n),this._boundsStore.delete(n)):(0,o.r)(this.onFeatureAdd)&&this.onFeatureAdd(t),(0,o.t)(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(n,null),void this._featuresById.set(n,t);e=(0,c.g)((0,o.r)(e)?e:(0,f.u)(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),(0,o.r)(e)&&this._boundsStore.set(n,e),this._featuresById.set(n,t)}else a.s.getLogger("esri.layers.graphics.data.FeatureStore").error(new a.a("featurestore:invalid-feature","feature id is missing",{feature:t}))}}},{key:"_remove",value:function(t){return(0,o.r)(this.onFeatureRemove)&&this.onFeatureRemove(t),this._markedIds.delete(t.objectId),this._boundsStore.delete(t.objectId),this._featuresById.delete(t.objectId),t}}]),t}()},55827:function(t,n,e){e.d(n,{d:function(){return h}});var r=e(37762),i=e(15671),u=e(43144),a=e(50526);function s(t){return"oid"===t.type||"esriFieldTypeOID"===t.type}function o(t){return"global-id"===t.type||"esriFieldTypeGlobalID"===t.type}var h=function(){function t(n){if((0,i.Z)(this,t),this.fields=n,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,n){var e,u,h=[],c=(0,r.Z)(n);try{for(c.s();!(e=c.n()).done;){var l=e.value,d=l&&l.name;if(d){var v=f(d);this._fieldsMap.set(d,l),this._fieldsMap.set(v,l),h.push(v),"date"===(u=l).type||"esriFieldTypeDate"===u.type?(this.dateFields.push(l),this._dateFieldsSet.add(l)):(0,a.B)(l)&&(this._numericFieldsSet.add(l),this.numericFields.push(l)),s(l)||o(l)||(l.editable=null==l.editable||!!l.editable,l.nullable=null==l.nullable||!!l.nullable)}}}catch(m){c.e(m)}finally{c.f()}h.sort(),this.uid=h.join(",")}}return(0,u.Z)(t,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];var t,n=(0,r.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){var e=t.value;s(e)||o(e)||e.nullable||void 0!==(0,a.P)(e)||this._requiredFields.push(e)}}catch(i){n.e(i)}finally{n.f()}}return this._requiredFields}},{key:"has",value:function(t){return null!=this.get(t)}},{key:"get",value:function(t){return null!=t?this._fieldsMap.get(t)||this._fieldsMap.get(f(t)):void 0}},{key:"isDateField",value:function(t){return this._dateFieldsSet.has(this.get(t))}},{key:"isNumericField",value:function(t){return this._numericFieldsSet.has(this.get(t))}},{key:"normalizeFieldName",value:function(t){var n=this.get(t);if(n)return n.name}}]),t}();function f(t){return t.toLowerCase().trim()}},77470:function(t,n,e){e.d(n,{u:function(){return c}});var r=e(15671),i=e(43144),u=e(60136),a=e(29388),s=e(23132),o=e(80175),h=e(75610),f=function(t){(0,u.Z)(e,t);var n=(0,a.Z)(e);function e(t){var i;return(0,r.Z)(this,e),(i=n.call(this,t))._groups=new Map,i}return(0,i.Z)(e,[{key:"destroy",value:function(){this.removeAll()}},{key:"size",get:function(){var t=0;return this._groups.forEach((function(n){t+=n.length})),t}},{key:"add",value:function(t,n){var e=this;if(!this._isHandle(t)&&!Array.isArray(t)&&!o.j.isCollection(t))return this;var r=this._getOrCreateGroup(n);return Array.isArray(t)||o.j.isCollection(t)?t.forEach((function(t){return e._isHandle(t)&&r.push(t)})):r.push(t),this.notifyChange("size"),this}},{key:"forEach",value:function(t,n){if("function"==typeof t)this._groups.forEach((function(n){return n.forEach(t)}));else{var e=this._getGroup(t);e&&n&&e.forEach(n)}}},{key:"has",value:function(t){return this._groups.has(this._ensureGroupKey(t))}},{key:"remove",value:function(t){if(Array.isArray(t)||o.j.isCollection(t))return t.forEach(this.remove,this),this;if(!this.has(t))return this;for(var n=this._getGroup(t),e=0;e<n.length;e++)n[e].remove();return this._deleteGroup(t),this.notifyChange("size"),this}},{key:"removeAll",value:function(){return this._groups.forEach((function(t){for(var n=0;n<t.length;n++)t[n].remove()})),this._groups.clear(),this.notifyChange("size"),this}},{key:"_isHandle",value:function(t){return t&&!!t.remove}},{key:"_getOrCreateGroup",value:function(t){if(this.has(t))return this._getGroup(t);var n=[];return this._groups.set(this._ensureGroupKey(t),n),n}},{key:"_getGroup",value:function(t){return(0,h.q)(this._groups.get(this._ensureGroupKey(t)))}},{key:"_deleteGroup",value:function(t){return this._groups.delete(this._ensureGroupKey(t))}},{key:"_ensureGroupKey",value:function(t){return t||"_default_"}}]),e}(s.y);(0,s.e)([(0,s.d)({readOnly:!0})],f.prototype,"size",null);var c=f=(0,s.e)([(0,s.n)("esri.core.Handles")],f)},47626:function(t,n,e){e.d(n,{e:function(){return a}});var r=e(15671),i=e(43144),u=e(25316),a=function(){function t(n,e){(0,r.Z)(this,t),this._storage=new u.h,this._storage.maxSize=n,e&&this._storage.registerRemoveFunc("",e)}return(0,i.Z)(t,[{key:"put",value:function(t,n){this._storage.put(t,n,1,1)}},{key:"pop",value:function(t){return this._storage.pop(t)}},{key:"get",value:function(t){return this._storage.get(t)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}}]),t}()},25316:function(t,n,e){e.d(n,{h:function(){return d},i:function(){return r},r:function(){return l},s:function(){return c}});var r,i,u=e(29439),a=e(37762),s=e(15671),o=e(43144),h=e(75610),f=e(23132),c=-3;(i=r||(r={}))[i.ALL=0]="ALL",i[i.SOME=1]="SOME";var l=function(){function t(n,e,r){(0,s.Z)(this,t),this._namespace=n,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}return(0,o.Z)(t,[{key:"destroy",value:function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}},{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"put",value:function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this._namespace+t,n,e,r)}},{key:"get",value:function(t){var n=this._storage.get(this._namespace+t);return void 0===n?++this._miss:++this._hit,n}},{key:"pop",value:function(t){var n=this._storage.pop(this._namespace+t);return void 0===n?++this._miss:++this._hit,n}},{key:"updateSize",value:function(t,n,e){this._storage.updateSize(this._namespace+t,n,e)}},{key:"clear",value:function(){this._storage.clear(this._namespace)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"getStats",value:function(){return this._storage.getStats()}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),t}(),d=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;(0,s.Z)(this,t),this._maxSize=n,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new f.ab,this._users=new f.ab}return(0,o.Z)(t,[{key:"destroy",value:function(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}},{key:"register",value:function(t){this._users.push(t)}},{key:"deregister",value:function(t){this._users.removeUnordered(t)}},{key:"registerRemoveFunc",value:function(t,n){this._removeFuncs.push([t,n])}},{key:"deregisterRemoveFunc",value:function(t){this._removeFuncs.filterInPlace((function(n){return n[0]!==t}))}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}},{key:"put",value:function(t,n,e,i){var u=this._db.get(t);if(u&&(this._size-=u.size,this._db.delete(t),u.entry!==n&&this._notifyRemove(t,u.entry,r.ALL)),e>this._maxSize)this._notifyRemove(t,n,r.ALL);else if(void 0!==n)if(!e||e<0)console.warn("Refusing to cache entry with invalid size "+e);else{var a=1+Math.max(i,c)-c;this._db.set(t,{entry:n,size:e,lifetime:a,lives:a}),this._size+=e,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(t,n,e){var i=this._db.get(t);if(i&&i.entry===n){for(this._size-=i.size;e>this._maxSize;){var u=this._notifyRemove(t,n,r.SOME);if(!((0,h.r)(u)&&u>0))return void this._db.delete(t);e=u}i.size=e,this._size+=e,this._checkSizeLimit()}}},{key:"pop",value:function(t){var n=this._db.get(t);if(n)return this._size-=n.size,this._db.delete(t),++this._hit,n.entry;++this._miss}},{key:"get",value:function(t){var n=this._db.get(t);if(void 0!==n)return this._db.delete(t),n.lives=n.lifetime,this._db.set(t,n),++this._hit,n.entry;++this._miss}},{key:"getStats",value:function(){var t=this,n={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},r=new Array;this._db.forEach((function(n,i){var u=n.lifetime;r[u]=(r[u]||0)+n.size,t._users.forAll((function(t){var r=t.namespace;if(i.startsWith(r)){var u=e[r]||0;e[r]=u+n.size}}))}));var i={};this._users.forAll((function(t){var n=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){var r=e[n]||0;e[n]=r,i[n]=Math.round(100*t.hitRate)+"%"}else i[n]="0%"}));var u=Object.keys(e);u.sort((function(t,n){return e[n]-e[t]})),u.forEach((function(t){return n[t]=Math.round(e[t]/Math.pow(2,20))+"MB / "+i[t]}));for(var a=r.length-1;a>=0;--a){var s=r[a];s&&(n["Priority "+(a+c-1)]=Math.round(s/this.size*100)+"%")}return n}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(t){return t.resetHitRate()}))}},{key:"clear",value:function(t){var n=this;this._db.forEach((function(e,i){i.startsWith(t)&&(n._size-=e.size,n._db.delete(i),n._notifyRemove(i,e.entry,r.ALL))}))}},{key:"clearAll",value:function(){var t=this;this._db.forEach((function(n,e){return t._notifyRemove(e,n.entry,r.ALL)})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemove",value:function(t,n,e){var r;return this._removeFuncs.some((function(i){if(t.startsWith(i[0])){var u=i[1](n,e);return"number"==typeof u&&(r=u),!0}return!1})),r}},{key:"_checkSizeLimit",value:function(){if(!(this._size<=this._maxSize)){var t,n=(0,a.Z)(this._db);try{for(n.s();!(t=n.n()).done;){var e=(0,u.Z)(t.value,2),i=e[0],s=e[1];if(this._db.delete(i),s.lives<=1){this._size-=s.size;var o=this._notifyRemove(i,s.entry,r.SOME);(0,h.r)(o)&&o>0&&(this._size+=o,s.lives=s.lifetime,s.size=o,this._db.set(i,s))}else--s.lives,this._db.set(i,s);if(this._size<=.9*this.maxSize)return}}catch(f){n.e(f)}finally{n.f()}}}}]),t}()},62268:function(t,n,e){e.d(n,{h:function(){return c}});var r=e(60136),i=e(29388),u=e(37762),a=e(15671),s=e(43144),o=e(75610),h=e(23132),f=e(18392),c=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,e=arguments.length>1?arguments[1]:void 0;(0,a.Z)(this,t),this.compareMinX=m,this.compareMinY=y,this._toBBox=function(t){return t},this._maxEntries=Math.max(4,n||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this._toBBox=e:this._initFormat(e)),this.clear()}return(0,s.Z)(t,[{key:"destroy",value:function(){this.clear(),I.prune(),B.prune(),w.prune(),Z.prune()}},{key:"all",value:function(t){this._all(this.data,t)}},{key:"search",value:function(t,n){var e=this.data,r=this._toBBox;if(k(t,e))for(I.clear();e;){for(var i=0,u=e.children.length;i<u;i++){var a=e.children[i],s=e.leaf?r(a):a;k(t,s)&&(e.leaf?n(a):M(t,s)?this._all(a,n):I.push(a))}e=I.pop()}}},{key:"collides",value:function(t){var n=this.data,e=this._toBBox;if(!k(t,n))return!1;for(I.clear();n;){for(var r=0,i=n.children.length;r<i;r++){var u=n.children[r],a=n.leaf?e(u):u;if(k(t,a)){if(n.leaf||M(t,a))return!0;I.push(u)}}n=I.pop()}return!1}},{key:"load",value:function(t){if(!t.length)return this;if(t.length<this._minEntries){for(var n=0,e=t.length;n<e;n++)this.insert(t[n]);return this}var r=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this}},{key:"insert",value:function(t){return t&&this._insert(t,this.data.height-1),this}},{key:"clear",value:function(){return this.data=new S([]),this}},{key:"remove",value:function(t){if(!t)return this;var n,e=this.data,r=null,i=0,u=!1,a=this._toBBox(t);for(w.clear(),Z.clear();e||w.length>0;){var s;if(e||(e=(0,o.q)(w.pop()),r=w.data[w.length-1],i=null!==(s=Z.pop())&&void 0!==s?s:0,u=!0),e.leaf&&-1!==(n=(0,o.v)(e.children,t,e.children.length,e.indexHint)))return e.children.splice(n,1),w.push(e),this._condense(w),this;u||e.leaf||!M(e,a)?r?(i++,e=r.children[i],u=!1):e=null:(w.push(e),Z.push(i),i=0,r=e,e=e.children[0])}return this}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(t){return this.data=t,this}},{key:"_all",value:function(t,n){var e=t;for(B.clear();e;){var r;if(!0===e.leaf){var i,a=(0,u.Z)(e.children);try{for(a.s();!(i=a.n()).done;){n(i.value)}}catch(s){a.e(s)}finally{a.f()}}else B.pushArray(e.children);e=null!==(r=B.pop())&&void 0!==r?r:null}}},{key:"_build",value:function(t,n,e,r){var i=e-n+1,u=this._maxEntries;if(i<=u){var a=new S(t.slice(n,e+1));return l(a,this._toBBox),a}r||(r=Math.ceil(Math.log(i)/Math.log(u)),u=Math.ceil(i/Math.pow(u,r-1)));var s=new F([]);s.height=r;var o=Math.ceil(i/u),h=o*Math.ceil(Math.sqrt(u));b(t,n,e,h,this.compareMinX);for(var f=n;f<=e;f+=h){var c=Math.min(f+h-1,e);b(t,f,c,o,this.compareMinY);for(var d=f;d<=c;d+=o){var v=Math.min(d+o-1,c);s.children.push(this._build(t,d,v,r-1))}}return l(s,this._toBBox),s}},{key:"_chooseSubtree",value:function(t,n,e,r){for(;r.push(n),!0!==n.leaf&&r.length-1!==e;){for(var i=void 0,u=1/0,a=1/0,s=0,o=n.children.length;s<o;s++){var h=n.children[s],f=_(h),c=p(t,h)-f;c<a?(a=c,u=f<u?f:u,i=h):c===a&&f<u&&(u=f,i=h)}n=i||n.children[0]}return n}},{key:"_insert",value:function(t,n,e){var r=this._toBBox,i=e?t:r(t);w.clear();var u=this._chooseSubtree(i,this.data,n,w);for(u.children.push(t),v(u,i);n>=0&&w.data[n].children.length>this._maxEntries;)this._split(w,n),n--;this._adjustParentBBoxes(i,w,n)}},{key:"_split",value:function(t,n){var e=t.data[n],r=e.children.length,i=this._minEntries;this._chooseSplitAxis(e,i,r);var u=this._chooseSplitIndex(e,i,r);if(u){var a=e.children.splice(u,e.children.length-u),s=e.leaf?new S(a):new F(a);s.height=e.height,l(e,this._toBBox),l(s,this._toBBox),n?t.data[n-1].children.push(s):this._splitRoot(e,s)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(t,n){this.data=new F([t,n]),this.data.height=t.height+1,l(this.data,this._toBBox)}},{key:"_chooseSplitIndex",value:function(t,n,e){var r,i,u;r=i=1/0;for(var a=n;a<=e-n;a++){var s=d(t,0,a,this._toBBox),o=d(t,a,e,this._toBBox),h=x(s,o),f=_(s)+_(o);h<r?(r=h,u=a,i=f<i?f:i):h===r&&f<i&&(i=f,u=a)}return u}},{key:"_chooseSplitAxis",value:function(t,n,e){var r=t.leaf?this.compareMinX:m,i=t.leaf?this.compareMinY:y;this._allDistMargin(t,n,e,r)<this._allDistMargin(t,n,e,i)&&t.children.sort(r)}},{key:"_allDistMargin",value:function(t,n,e,r){t.children.sort(r);for(var i=this._toBBox,u=d(t,0,n,i),a=d(t,e-n,e,i),s=g(u)+g(a),o=n;o<e-n;o++){var h=t.children[o];v(u,t.leaf?i(h):h),s+=g(u)}for(var f=e-n-1;f>=n;f--){var c=t.children[f];v(a,t.leaf?i(c):c),s+=g(a)}return s}},{key:"_adjustParentBBoxes",value:function(t,n,e){for(var r=e;r>=0;r--)v(n.data[r],t)}},{key:"_condense",value:function(t){for(var n=t.length-1;n>=0;n--){var e=t.data[n];if(0===e.children.length)if(n>0){var r=t.data[n-1],i=r.children;i.splice((0,o.v)(i,e,i.length,r.indexHint),1)}else this.clear();else l(e,this._toBBox)}}},{key:"_initFormat",value:function(t){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(t[0])),this.compareMinY=new Function("a","b",n.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}]),t}();function l(t,n){d(t,0,t.children.length,n,t)}function d(t,n,e,r,i){i||(i=new S([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var u,a=n;a<e;a++)u=t.children[a],v(i,t.leaf?r(u):u);return i}function v(t,n){t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY)}function m(t,n){return t.minX-n.minX}function y(t,n){return t.minY-n.minY}function _(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function g(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,n){return(Math.max(n.maxX,t.maxX)-Math.min(n.minX,t.minX))*(Math.max(n.maxY,t.maxY)-Math.min(n.minY,t.minY))}function x(t,n){var e=Math.max(t.minX,n.minX),r=Math.max(t.minY,n.minY),i=Math.min(t.maxX,n.maxX),u=Math.min(t.maxY,n.maxY);return Math.max(0,i-e)*Math.max(0,u-r)}function M(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function k(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function b(t,n,e,r,i){for(var u=[n,e];u.length;){var a=(0,o.q)(u.pop()),s=(0,o.q)(u.pop());if(!(a-s<=r)){var h=s+Math.ceil((a-s)/r/2)*r;(0,f.a)(t,h,s,a,i),u.push(s,h,h,a)}}}var I=new h.ab,B=new h.ab,w=new h.ab,Z=new h.ab({deallocator:void 0}),z=function(t){(0,r.Z)(e,t);var n=(0,i.Z)(e);function e(){var t;return(0,a.Z)(this,e),(t=n.apply(this,arguments)).height=1,t.indexHint=new o.g,t}return(0,s.Z)(e)}((0,s.Z)((function t(){(0,a.Z)(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}))),S=function(t){(0,r.Z)(e,t);var n=(0,i.Z)(e);function e(t){var r;return(0,a.Z)(this,e),(r=n.call(this)).children=t,r.leaf=!0,r}return(0,s.Z)(e)}(z),F=function(t){(0,r.Z)(e,t);var n=(0,i.Z)(e);function e(t){var r;return(0,a.Z)(this,e),(r=n.call(this)).children=t,r.leaf=!1,r}return(0,s.Z)(e)}(z)},72820:function(t,n,e){e.d(n,{A:function(){return F},B:function(){return R},C:function(){return q},D:function(){return C},E:function(){return k},F:function(){return x},G:function(){return X},H:function(){return O},I:function(){return m},M:function(){return l},N:function(){return _},O:function(){return Y},R:function(){return B},S:function(){return E},V:function(){return w},Y:function(){return Z},a:function(){return a},b:function(){return b},c:function(){return f},f:function(){return h},g:function(){return g},h:function(){return c},j:function(){return I},k:function(){return L},l:function(){return v},m:function(){return o},p:function(){return p},q:function(){return z},s:function(){return d},u:function(){return s},v:function(){return j},w:function(){return S},y:function(){return y},z:function(){return M}});var r=e(75610),i=e(80262),u=e(78311);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return[t[0],t[1],t[2],t[3],t[4],t[5]]}function s(t,n,e,r,i,u){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:a();return s[0]=t,s[1]=n,s[2]=e,s[3]=r,s[4]=i,s[5]=u,s}function o(t,n){var e=isFinite(t[2])||isFinite(t[5]);return new i.M(e?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:n}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:n})}function h(t,n){t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1]),t[2]=Math.min(t[2],n[2]),t[3]=Math.max(t[3],n[3]),t[4]=Math.max(t[4],n[4]),t[5]=Math.max(t[5],n[5])}function f(t,n){t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1]),t[3]=Math.max(t[3],n[2]),t[4]=Math.max(t[4],n[3])}function c(t,n){t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1]),t[2]=Math.min(t[2],n[2]),t[3]=Math.max(t[3],n[0]),t[4]=Math.max(t[4],n[1]),t[5]=Math.max(t[5],n[2])}function l(t,n){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.length/3,i=t[0],u=t[1],a=t[2],s=t[3],o=t[4],h=t[5],f=0;f<r;f++)i=Math.min(i,n[e+3*f]),u=Math.min(u,n[e+3*f+1]),a=Math.min(a,n[e+3*f+2]),s=Math.max(s,n[e+3*f]),o=Math.max(o,n[e+3*f+1]),h=Math.max(h,n[e+3*f+2]);t[0]=i,t[1]=u,t[2]=a,t[3]=s,t[4]=o,t[5]=h}function d(t,n,e){var r=n.length,i=t[0],u=t[1],a=t[2],s=t[3],o=t[4],h=t[5];if(e)for(var f=0;f<r;f++){var c=n[f];i=Math.min(i,c[0]),u=Math.min(u,c[1]),a=Math.min(a,c[2]),s=Math.max(s,c[0]),o=Math.max(o,c[1]),h=Math.max(h,c[2])}else for(var l=0;l<r;l++){var d=n[l];i=Math.min(i,d[0]),u=Math.min(u,d[1]),s=Math.max(s,d[0]),o=Math.max(o,d[1])}t[0]=i,t[1]=u,t[2]=a,t[3]=s,t[4]=o,t[5]=h}function v(t){for(var n=0;n<6;n++)if(!isFinite(t[n]))return!1;return!0}function m(t){return t[0]>=t[3]?0:t[3]-t[0]}function y(t){return t[1]>=t[4]?0:t[4]-t[1]}function _(t){return t[2]>=t[5]?0:t[5]-t[2]}function g(t){var n=m(t),e=_(t),r=y(t);return Math.sqrt(n*n+e*e+r*r)}function p(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return n[0]=t[0]+m(t)/2,n[1]=t[1]+y(t)/2,n[2]=t[2]+_(t)/2,n}function x(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return n[0]=m(t),n[1]=y(t),n[2]=_(t),n}function M(t){return Math.max(m(t),_(t),y(t))}function k(t,n){return n[0]>=t[0]&&n[1]>=t[1]&&n[2]>=t[2]&&n[0]<=t[3]&&n[1]<=t[4]&&n[2]<=t[5]}function b(t,n){return n[0]>=t[0]&&n[1]>=t[1]&&n[2]>=t[2]&&n[3]<=t[3]&&n[4]<=t[4]&&n[5]<=t[5]}function I(t,n){return Math.max(n[0],t[0])<=Math.min(n[3],t[3])&&Math.max(n[1],t[1])<=Math.min(n[4],t[4])&&Math.max(n[2],t[2])<=Math.min(n[5],t[5])}function B(t,n){return!!(0,r.t)(n)||I(t,n)}function w(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;return i[0]=t[0]+n,i[1]=t[1]+e,i[2]=t[2]+r,i[3]=t[3]+n,i[4]=t[4]+e,i[5]=t[5]+r,i}function Z(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=t[0]+m(t)/2,i=t[1]+y(t)/2,u=t[2]+_(t)/2;return e[0]=r+(t[0]-r)*n,e[1]=i+(t[1]-i)*n,e[2]=u+(t[2]-u)*n,e[3]=r+(t[3]-r)*n,e[4]=i+(t[4]-i)*n,e[5]=u+(t[5]-u)*n,e}function z(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e!==t&&(e[3]=t[3],e[4]=t[4],e[5]=t[5]),e}function S(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return e[3]=n[0],e[4]=n[1],e[5]=n[2],e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),t}function F(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function R(t){return t?F(t,C):a(C)}function X(t,n){return n||(n=(0,u.u)()),n[0]=t[0],n[1]=t[1],n[2]=t[3],n[3]=t[4],n}function Y(t,n){return t[0]=n[0],t[1]=n[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=n[2],t[4]=n[3],t[5]=Number.POSITIVE_INFINITY,t}function A(t){return 6===t.length}function E(t){return 0===m(t)&&0===y(t)&&0===_(t)}function L(t,n,e){if((0,r.t)(t)||(0,r.t)(n))return t===n;if(!A(t)||!A(n))return!1;if(e){for(var i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1}else for(var u=0;u<t.length;u++)if(t[u]!==n[u])return!1;return!0}function j(t,n,e,r,i,u){return s(t,n,e,r,i,u,P)}var q=[-1/0,-1/0,-1/0,1/0,1/0,1/0],C=[1/0,1/0,1/0,-1/0,-1/0,-1/0],O=[0,0,0,0,0,0],P=a()},78311:function(t,n,e){e.d(n,{D:function(){return R},E:function(){return w},F:function(){return b},H:function(){return Y},I:function(){return A},J:function(){return E},K:function(){return L},M:function(){return m},R:function(){return Z},U:function(){return z},a:function(){return o},b:function(){return x},c:function(){return f},d:function(){return S},e:function(){return s},f:function(){return c},g:function(){return M},h:function(){return d},j:function(){return k},l:function(){return _},m:function(){return l},o:function(){return h},p:function(){return p},q:function(){return B},s:function(){return y},u:function(){return a},w:function(){return I},x:function(){return v},y:function(){return g},z:function(){return F}});var r=e(75610),i=e(2760),u=e(80262);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return[t[0],t[1],t[2],t[3]]}function s(t){return[t[0],t[1],t[2],t[3]]}function o(t,n){return t!==n&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3]),t}function h(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a();return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function f(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();return n[0]=t.xmin,n[1]=t.ymin,n[2]=t.xmax,n[3]=t.ymax,n}function c(t,n){return new u.M({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:n})}function l(t,n){n[0]<t[0]&&(t[0]=n[0]),n[0]>t[2]&&(t[2]=n[0]),n[1]<t[1]&&(t[1]=n[1]),n[1]>t[3]&&(t[3]=n[1])}function d(t,n,e){if((0,r.t)(n))o(e,t);else if("length"in n)X(n)?(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3])):2!==n.length&&3!==n.length||(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.max(t[2],n[0]),e[3]=Math.max(t[3],n[1]));else switch(n.type){case"extent":e[0]=Math.min(t[0],n.xmin),e[1]=Math.min(t[1],n.ymin),e[2]=Math.max(t[2],n.xmax),e[3]=Math.max(t[3],n.ymax);break;case"point":e[0]=Math.min(t[0],n.x),e[1]=Math.min(t[1],n.y),e[2]=Math.max(t[2],n.x),e[3]=Math.max(t[3],n.y)}}function v(t,n){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=n.length,i=t[0],u=t[1],a=t[2],s=t[3],o=0;o<r;o++){var h=n[o];i=Math.min(i,h[0]),u=Math.min(u,h[1]),a=Math.max(a,h[0]),s=Math.max(s,h[1])}return e[0]=i,e[1]=u,e[2]=a,e[3]=s,e}function m(t){for(var n=0;n<4;n++)if(!isFinite(t[n]))return!1;return!0}function y(t){return(0,r.t)(t)||t[0]>=t[2]?0:t[2]-t[0]}function _(t){return t[1]>=t[3]?0:t[3]-t[1]}function g(t){return y(t)*_(t)}function p(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return n[0]=(t[0]+t[2])/2,n[1]=(t[1]+t[3])/2,n}function x(t,n){return I(t,n[0],n[1])}function M(t,n){var e=n[3],r=.5*(t[0]+t[2]),i=Math.abs(n[0]-r),u=.5*(t[2]-t[0]);if(i>e+u)return!1;var a=.5*(t[1]+t[3]),s=.5*(t[3]-t[1]),o=Math.abs(n[1]-a);if(o>e+s)return!1;if(i<u||o<s)return!0;var h=i-u,f=o-s;return h*h+f*f<=e*e}function k(t,n,e){var r=t[0],i=t[1],u=t[2],a=t[3],s=n.x,o=n.y,h=e.x,f=e.y,c=function(t,n){return(f-o)*t+(s-h)*n+(h*o-s*f)<0},l=c(r,a),d=c(u,a),v=c(u,i),m=c(r,i);return!(l===d&&d===v&&v===m&&m===l||s<r&&h<r||s>u&&h>u||o>a&&f>a||o<i&&f<i)}function b(t,n){return I(t,n.x,n.y)}function I(t,n,e){return n>=t[0]&&e>=t[1]&&n<=t[2]&&e<=t[3]}function B(t,n,e){return n[0]>=t[0]-e&&n[1]>=t[1]-e&&n[0]<=t[2]+e&&n[1]<=t[3]+e}function w(t,n){return Math.max(n[0],t[0])<=Math.min(n[2],t[2])&&Math.max(n[1],t[1])<=Math.min(n[3],t[3])}function Z(t,n){return n[0]>=t[0]&&n[2]<=t[2]&&n[1]>=t[1]&&n[3]<=t[3]}function z(t,n,e){if((0,r.t)(n))return o(e,t);var u=n[0],a=n[1],s=n[2],h=n[3];return e[0]=(0,i.o)(t[0],u,s),e[1]=(0,i.o)(t[1],a,h),e[2]=(0,i.o)(t[2],u,s),e[3]=(0,i.o)(t[3],a,h),e}function S(t,n){var e=(t[0]+t[2])/2,r=(t[1]+t[3])/2,i=Math.max(Math.abs(n[0]-e)-y(t)/2,0),u=Math.max(Math.abs(n[1]-r)-_(t)/2,0);return Math.sqrt(i*i+u*u)}function F(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return r[0]=t[0]+n,r[1]=t[1]+e,r[2]=t[2]+n,r[3]=t[3]+e,r}function R(t){return t?o(t,L):a(L)}function X(t){return null!=t&&4===t.length}function Y(t){return!(0!==y(t)&&isFinite(t[0])||0!==_(t)&&isFinite(t[1]))}function A(t,n){return X(t)&&X(n)?t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]:t===n}var E=[-1/0,-1/0,1/0,1/0],L=[1/0,1/0,-1/0,-1/0],j=[0,0,0,0]},1241:function(t,n,e){e.d(n,{L:function(){return z},i:function(){return m},r:function(){return v},s:function(){return y},z:function(){return F}});var r=e(74165),i=e(1413),u=e(29439),a=e(15861),s=e(37762),o=e(75610),h=e(23132),f=e(36460),c=e(30709),l=e(30604),d=(e(91204),e(57714)),v={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new f.m({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:c.k.WebMercator}),minus180Line:new f.m({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:c.k.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new f.m({paths:[[[180,-180],[180,180]]],spatialReference:c.k.WGS84}),minus180Line:new f.m({paths:[[[-180,-180],[-180,180]]],spatialReference:c.k.WGS84})}};function m(t,n){return Math.ceil((t-n)/(2*n))}function y(t,n){var e,r=_(t),i=(0,s.Z)(r);try{for(i.s();!(e=i.n()).done;){var u,a=e.value,o=(0,s.Z)(a);try{for(o.s();!(u=o.n()).done;){u.value[0]+=n}}catch(h){o.e(h)}finally{o.f()}}}catch(h){i.e(h)}finally{i.f()}return t}function _(t){return(0,l.c)(t)?t.rings:t.paths}function g(t,n,e,r){return p.apply(this,arguments)}function p(){return p=(0,a.Z)((0,r.Z)().mark((function t(n,e,u,a){var s,o,h,f,c,v,m,y;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="string"==typeof n?(0,d.j)(n):n,o=e[0].spatialReference,h=(0,i.Z)((0,i.Z)({},a),{},{query:(0,i.Z)((0,i.Z)({},s.query),{},{f:"json",sr:JSON.stringify(o),target:JSON.stringify({geometryType:(0,l.v)(e[0]),geometries:e}),cutter:JSON.stringify(u)})}),t.next=5,(0,d.U)(s.path+"/cut",h);case 5:return f=t.sent,c=f.data,v=c.cutIndexes,m=c.geometries,y=void 0===m?[]:m,t.abrupt("return",{cutIndexes:v,geometries:y.map((function(t){var n=(0,l.d)(t);return n.spatialReference=o,n}))});case 11:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function x(t,n,e){return M.apply(this,arguments)}function M(){return M=(0,a.Z)((0,r.Z)().mark((function t(n,e,u){var a,s,o,h;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="string"==typeof n?(0,d.j)(n):n,s=e[0].spatialReference,o=(0,l.v)(e[0]),h=(0,i.Z)((0,i.Z)({},u),{},{query:(0,i.Z)((0,i.Z)({},a.query),{},{f:"json",sr:s.wkid?s.wkid:JSON.stringify(s),geometries:JSON.stringify(k(e))})}),t.t0=b,t.next=4,(0,d.U)(a.path+"/simplify",h);case 4:return t.t1=t.sent.data,t.t2=o,t.t3=s,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 8:case"end":return t.stop()}}),t)}))),M.apply(this,arguments)}function k(t){return{geometryType:(0,l.v)(t[0]),geometries:t.map((function(t){return t.toJSON()}))}}function b(t,n,e){var r=(0,l.a)(n);return t.map((function(t){var n=r.fromJSON(t);return n.spatialReference=e,n}))}var I=h.s.getLogger("esri.geometry.support.normalizeUtils");function B(t,n,e){if(n){var r=function(t,n){if(!(t instanceof f.m||t instanceof f.v)){var e="straightLineDensify: the input geometry is neither polyline nor polygon";throw I.error(e),new h.a(e)}var r,i=_(t),u=[],a=(0,s.Z)(i);try{for(a.s();!(r=a.n()).done;){var o=r.value,c=[];u.push(c),c.push([o[0][0],o[0][1]]);for(var l=0;l<o.length-1;l++){var d=o[l][0],v=o[l][1],m=o[l+1][0],y=o[l+1][1],g=Math.sqrt((m-d)*(m-d)+(y-v)*(y-v)),p=(y-v)/g,x=(m-d)/g,M=g/n;if(M>1){for(var k=1;k<=M-1;k++){var b=k*n,B=x*b+d,w=p*b+v;c.push([B,w])}var Z=(g+Math.floor(M-1)*n)/2,z=x*Z+d,S=p*Z+v;c.push([z,S])}c.push([m,y])}}}catch(F){a.e(F)}finally{a.f()}return function(t){return"polygon"===t.type}(t)?new f.v({rings:u,spatialReference:t.spatialReference}):new f.m({paths:u,spatialReference:t.spatialReference})}(t,1e6);t=(0,c.a)(r,!0)}return e&&(t=y(t,e)),t}function w(t,n,e){if(Array.isArray(t)){var r=t[0];if(r>n){var i=m(r,n);t[0]=r+i*(-2*n)}else if(r<e){var u=m(r,e);t[0]=r+u*(-2*e)}}else{var a=t.x;if(a>n){var s=m(a,n);t=t.clone().offset(s*(-2*n),0)}else if(a<e){var o=m(a,e);t=t.clone().offset(o*(-2*e),0)}}return t}function Z(t,n){for(var e=-1,r=function(r){for(var i=n.cutIndexes[r],u=n.geometries[r],a=_(u),o=function(t){var n=a[t];n.some((function(e){if(e[0]<180)return!0;for(var r=0,i=0;i<n.length;i++){var a=n[i][0];r=a>r?a:r}for(var s=-360*m(r=Number(r.toFixed(9)),180),o=0;o<n.length;o++){var h=u.getPoint(t,o);u.setPoint(t,o,h.clone().offset(s,0))}return!0}))},h=0;h<a.length;h++)o(h);if(i===e){if(function(t){return"polygon"===t[0].type}(t)){var f,c=(0,s.Z)(_(u));try{for(c.s();!(f=c.n()).done;){var l=f.value;t[i]=t[i].addRing(l)}}catch(g){c.e(g)}finally{c.f()}}else if(function(t){return"polyline"===t[0].type}(t)){var d,v=(0,s.Z)(_(u));try{for(v.s();!(d=v.n()).done;){var y=d.value;t[i]=t[i].addPath(y)}}catch(g){v.e(g)}finally{v.f()}}}else e=i,t[i]=u},i=0;i<n.cutIndexes.length;i++)r(i);return t}function z(t,n,e){return S.apply(this,arguments)}function S(){return S=(0,a.Z)((0,r.Z)().mark((function t(n,e,i){var u,a,h,l,d,_,p,M,k,b,S,F,R,X,Y,A,E,L,j,q,C,O,P,G,N,T,H,D,J,U,W,K,V,Q,$,tt,nt,et,rt,it,ut;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Array.isArray(n)){t.next=2;break}return t.abrupt("return",z([n],e));case 2:e&&"string"!=typeof e&&I.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead"),a="string"==typeof e?e:null!==(u=null===e||void 0===e?void 0:e.url)&&void 0!==u?u:o.b.geometryServiceUrl,S=0,F=[],R=[],X=(0,s.Z)(n);try{for(X.s();!(Y=X.n()).done;)A=Y.value,(0,o.t)(A)?R.push(A):(h||(h=A.spatialReference,l=(0,c.b)(h),d=h.isWebMercator,_=v[M=d?102100:4326].maxX,p=v[M].minX,k=v[M].plus180Line,b=v[M].minus180Line),l?"mesh"===A.type?R.push(A):"point"===A.type?R.push(w(A.clone(),_,p)):"multipoint"===A.type?((E=A.clone()).points=E.points.map((function(t){return w(t,_,p)})),R.push(E)):"extent"===A.type?(L=A.clone()._normalize(!1,!1,l),R.push(L.rings?new f.v(L):L)):A.extent?(j=A.extent,q=m(j.xmin,p)*(2*_),C=0===q?A.clone():y(A.clone(),q),j.offset(q,0),j.intersects(k)&&j.xmax!==_?(S=j.xmax>S?j.xmax:S,C=B(C,d),F.push(C),R.push("cut")):j.intersects(b)&&j.xmin!==p?(S=j.xmax*(2*_)>S?j.xmax*(2*_):S,C=B(C,d,360),F.push(C),R.push("cut")):R.push(C)):R.push(A.clone()):R.push(A))}catch(r){X.e(r)}finally{X.f()}for(O=m(S,_),P=-90,G=O,N=new f.m;O>0;)T=360*O-180,N.addPath([[T,P],[T,-1*P]]),P*=-1,O--;if(!(F.length>0&&G>0)){t.next=29;break}return t.t0=Z,t.t1=F,t.next=16,g(a,F,N,i);case 16:for(t.t2=t.sent,H=(0,t.t0)(t.t1,t.t2),D=[],J=[],U=0;U<R.length;U++)"cut"!==(W=R[U])?J.push(W):(K=H.shift(),V=n[U],(0,o.r)(V)&&"polygon"===V.type&&V.rings&&V.rings.length>1&&K.rings.length>=V.rings.length?(D.push(K),J.push("simplify")):J.push(d?(0,c.R)(K):K));if(D.length){t.next=23;break}return t.abrupt("return",J);case 23:return t.next=25,x(a,D,i);case 25:for(Q=t.sent,$=[],tt=0;tt<J.length;tt++)"simplify"!==(nt=J[tt])?$.push(nt):$.push(d?(0,c.R)(Q.shift()):Q.shift());return t.abrupt("return",$);case 29:for(et=[],rt=0;rt<R.length;rt++)"cut"!==(it=R[rt])?et.push(it):(ut=F.shift(),et.push(!0===d?(0,c.R)(ut):ut));return t.abrupt("return",et);case 32:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}function F(t,n){var e=(0,c.b)(n);if(e){var r=(0,u.Z)(e.valid,2),i=r[0],a=r[1],s=a-i;if(t<i)for(;t<i;)t+=s;if(t>a)for(;t>a;)t-=s}return t}},86068:function(t,n,e){e.d(n,{i:function(){return a}});var r=e(75610),i=e(75370),u=e(33642),a={getObjectId:function(t){return t.objectId},getAttributes:function(t){return t.attributes},getAttribute:function(t,n){return t.attributes[n]},cloneWithGeometry:function(t,n){return new u.s(n,t.attributes,null,t.objectId)},getGeometry:function(t){return t.geometry},getCentroid:function(t,n){return(0,r.t)(t.centroid)&&(t.centroid=(0,i.e)(new u.t,t.geometry,n.hasZ,n.hasM)),t.centroid}}},60912:function(t,n,e){e.d(n,{B:function(){return I},C:function(){return B},O:function(){return g},U:function(){return M},q:function(){return k},s:function(){return h},v:function(){return b}});var r=e(29439),i=e(75610),u=e(30604),a=function(t,n,e){return[n,e]},s=function(t,n,e){return[n,e,t[2]]},o=function(t,n,e){return[n,e,t[2],t[3]]};function h(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:(0,i.r)(t.extent)?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function f(t,n){var e=t.scale,r=t.translate;return Math.round((n-r[0])/e[0])}function c(t,n){var e=t.scale,r=t.translate;return Math.round((r[1]-n)/e[1])}function l(t,n,e){for(var r,i,u,a,s=[],o=0;o<e.length;o++){var h=e[o];o>0?(u=f(t,h[0]),a=c(t,h[1]),u===r&&a===i||(s.push(n(h,u-r,a-i)),r=u,i=a)):(r=f(t,h[0]),i=c(t,h[1]),s.push(n(h,r,i)))}return s.length>0?s:null}function d(t,n){var e=t.scale,r=t.translate;return n*e[0]+r[0]}function v(t,n){var e=t.scale;return t.translate[1]-n*e[1]}function m(t,n,e){var i=new Array(e.length);if(!e.length)return i;var u=(0,r.Z)(t.scale,2),a=u[0],s=u[1],o=d(t,e[0][0]),h=v(t,e[0][1]);i[0]=n(e[0],o,h);for(var f=1;f<e.length;f++){var c=e[f];o+=c[0]*a,h-=c[1]*s,i[f]=n(c,o,h)}return i}function y(t,n,e){for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=m(t,n,e[i]);return r}function _(t,n,e,r,i){return n.points=function(t,n,e,r){return l(t,e?r?o:s:r?s:a,n)}(t,e.points,r,i),n}function g(t,n,e,r,i){return n.x=f(t,e.x),n.y=c(t,e.y),n!==e&&(r&&(n.z=e.z),i&&(n.m=e.m)),n}function p(t,n,e,r,i){var u=function(t,n,e,r){for(var i=[],u=e?r?o:s:r?s:a,h=0;h<n.length;h++){var f=l(t,u,n[h]);f&&f.length>=3&&i.push(f)}return i.length?i:null}(t,e.rings,r,i);return u?(n.rings=u,n):null}function x(t,n,e,r,i){var u=function(t,n,e,r){for(var i=[],u=e?r?o:s:r?s:a,h=0;h<n.length;h++){var f=l(t,u,n[h]);f&&f.length>=2&&i.push(f)}return i.length?i:null}(t,e.paths,r,i);return u?(n.paths=u,n):null}function M(t,n){return t&&n?(0,u.l)(n)?g(t,{},n,!1,!1):(0,u.y)(n)?x(t,{},n,!1,!1):(0,u.c)(n)?p(t,{},n,!1,!1):(0,u.f)(n)?_(t,{},n,!1,!1):(0,u.s)(n)?function(t,n,e,r,i){return n.xmin=f(t,e.xmin),n.ymin=c(t,e.ymin),n.xmax=f(t,e.xmax),n.ymax=c(t,e.ymax),n!==e&&(r&&(n.zmin=e.zmin,n.zmax=e.zmax),i&&(n.mmin=e.mmin,n.mmax=e.mmax)),n}(t,{},n,!1,!1):null:null}function k(t,n,e,r,u){return(0,i.r)(e)&&(n.points=function(t,n,e,r){return m(t,e?r?o:s:r?s:a,n)}(t,e.points,r,u)),n}function b(t,n,e,r,u){return(0,i.t)(e)||(n.x=d(t,e.x),n.y=v(t,e.y),n!==e&&(r&&(n.z=e.z),u&&(n.m=e.m))),n}function I(t,n,e,r,u){return(0,i.r)(e)&&(n.rings=function(t,n,e,r){return y(t,e?r?o:s:r?s:a,n)}(t,e.rings,r,u)),n}function B(t,n,e,r,u){return(0,i.r)(e)&&(n.paths=function(t,n,e,r){return y(t,e?r?o:s:r?s:a,n)}(t,e.paths,r,u)),n}},36551:function(t,n,e){e.d(n,{P:function(){return l},U:function(){return d},a:function(){return o},f:function(){return a},h:function(){return v},j:function(){return h},l:function(){return u},w:function(){return m}});var r=e(23132),i=e(75610);function u(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(t,n,e,f)}function a(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(t,n,e,c)}function s(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0,a=null,s=e.once?function(t,e){u(t)&&((0,i.d)(a),n(t,e))}:function(t,e){u(t)&&n(t,e)};if(a=(0,r.P)(t,s,e.sync,e.equals),e.initial){var o=t();s(o,o)}return a}function o(t,n,e){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=null,o=null,h=null;function f(){var t;s&&o&&(o.remove(),null!==(t=a.onListenerRemove)&&void 0!==t&&t.call(a,s),s=null,o=null)}function c(t){a.once&&a.once&&(0,i.d)(h),e(t)}var l=u(t,(function(t,e){var i;f(),(0,r.c)(t)&&(s=t,o=(0,r.f)(t,n,c),null===(i=a.onListenerAdd)||void 0===i||i.call(a,t))}),{sync:a.sync,initial:!0});return h=(0,r.g)((function(){l.remove(),f()}))}function h(t,n){return function(t,n,e){if((0,r.p)(e))return Promise.reject((0,r.m)());var u=t();if(null!==n&&void 0!==n&&n(u))return Promise.resolve(u);var a=null;function o(){a=(0,i.d)(a)}return new Promise((function(i,u){a=(0,r.h)([(0,r.v)(e,(function(){o(),u((0,r.m)())})),s(t,(function(t){o(),i(t)}),{sync:!1,once:!0},null!==n&&void 0!==n?n:f)])}))}(t,c,n)}function f(t){return!0}function c(t){return!!t}function l(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1,i=u(t,(function(t,e){r||n(t,e)}),e);return{remove:function(){i.remove()},pause:function(){r=!0},resume:function(){r=!1}}}var d={sync:!0},v={initial:!0},m={sync:!0,initial:!0}},21041:function(t,n,e){e.d(n,{a:function(){return d},f:function(){return m},g:function(){return x},m:function(){return g},w:function(){return b}});var r=e(74165),i=e(15861),u=e(37762),a=e(43144),s=e(15671),o=e(75610),h=e(30709),f=e(50526),c=(0,a.Z)((function t(){(0,s.Z)(this,t),this.code=null,this.description=null})),l=(0,a.Z)((function t(n){(0,s.Z)(this,t),this.error=new c,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=n}));function d(t){return new l(t)}var v=(0,a.Z)((function t(n){(0,s.Z)(this,t),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=n}));function m(t){return new v(t)}var y,_=new Set;function g(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;for(var a in _.clear(),e){var s=t.get(a);if(s){var o=e[a],h=p(s,o);if(h!==o&&i&&i.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:s,originalValue:o,sanitizedValue:h}}),_.add(s.name),s&&(r||s.editable)){var c=(0,f.j)(s,h);if(c)return d((0,f.k)(c,s,h));n[s.name]=h}}}var l,v=(0,u.Z)(t.requiredFields);try{for(v.s();!(l=v.n()).done;){var m=l.value;if(!_.has(m.name))return d('missing required field "'.concat(m.name,'"'))}}catch(y){v.e(y)}finally{v.f()}return null}function p(t,n){var e=n;return"string"==typeof n&&(0,f.B)(t)?e=parseFloat(n):null!=n&&(0,f.H)(t)&&"string"!=typeof n&&(e=String(n)),(0,f.f)(e)}function x(t,n){if(!t||!(0,h.I)(n))return t;if("rings"in t||"paths"in t){if((0,o.t)(y))throw new TypeError("geometry engine not loaded");return y.simplify(n,t)}return t}function M(){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=(0,o.t)(y),!t.t0){t.next=5;break}return t.next=4,Promise.all([e.e(6549),e.e(3111)]).then(e.bind(e,18422));case 4:y=t.sent;case 5:return t.abrupt("return",y);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,n){return I.apply(this,arguments)}function I(){return(I=(0,i.Z)((0,r.Z)().mark((function t(n,e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!(0,h.I)(n)||"esriGeometryPolygon"!==e&&"esriGeometryPolyline"!==e,t.t0){t.next=4;break}return t.next=4,M();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=9644.e8818c7d.chunk.js.map