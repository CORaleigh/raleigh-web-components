"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[5626,2235,3688,5612],{15612:function(e,t,r){r.r(t);var n,o=r(29439),i=r(37762),a=r(15671),s=r(43144),u=r(60136),l=r(29388),c=r(23132),p=r(91204),d=r(83822),y=r(57714),f=r(70441),h=r(75610),v=r(30709),m=r(30604),g=r(43124),w=(r(80262),r(36460),r(51451),r(80175),r(50526),r(50448),r(41742),r(43920),r(1773),r(77196),r(24980),r(3114),r(22144),r(78674),r(66307),r(2760),r(88370),r(72820),r(78311),r(96349),r(9055),r(79611),r(2157),r(21583),r(69797),new y.s({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null})),Z=n=function(e){(0,u.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return(0,s.Z)(r,[{key:"readFeatures",value:function(e,t){for(var r=v.k.fromJSON(t.spatialReference),n=[],o=0;o<e.length;o++){var i=e[o],a=d.g.fromJSON(i),s=i.geometry&&i.geometry.spatialReference;(0,h.r)(a.geometry)&&!s&&(a.geometry.spatialReference=r);var u=i.aggregateGeometries,l=a.aggregateGeometries;if(u&&(0,h.r)(l))for(var c in l){var p,y=l[c],f=null===(p=u[c])||void 0===p?void 0:p.spatialReference;(0,h.r)(y)&&!f&&(y.spatialReference=r)}n.push(a)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)w.write(e,t,r,n);else{var o=this.features;if(o){var a,s=(0,i.Z)(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u&&(0,h.r)(u.geometry))return void w.write(u.geometry.type,t,r,n)}}catch(l){s.e(l)}finally{s.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=(0,m.d)(e);return!r&&t.spatialReference&&(n.spatialReference=v.k.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,o=(0,i.Z)(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a&&(0,h.r)(a.geometry)&&a.geometry.spatialReference)return void(t.spatialReference=a.geometry.spatialReference.toJSON())}}catch(s){o.e(s)}finally{o.f()}}}}},{key:"clone",value:function(){return new n(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,h.m)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var o=e&&e[r];n.geometry=o&&o.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=(0,o.Z)(e.scale,2),r=t[0],n=t[1],i=(0,o.Z)(e.translate,2),a=i[0],s=i[1],u=this.features,l=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/r)}),(function(e){return Math.round((s-e)/n)})),c=0,p=u.length;c<p;c++)l((0,h.e)(u[c].geometry))||(u.splice(c,1),c--,p--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var n,a=(0,o.Z)(r.translate,2),s=a[0],u=a[1],l=(0,o.Z)(r.scale,2),c=l[0],p=l[1],d=this._getHydrationFunction(e,(function(e){return e*c+s}),(function(e){return u-e*p})),y=(0,i.Z)(t);try{for(y.s();!(n=y.n()).done;){var f=n.value.geometry;(0,h.r)(f)&&d(f)}}catch(v){y.e(v)}finally{y.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,o,i=[],a=0,s=e.length;a<s;a++){var u=e[a];if(a>0){var l=t(u[0]),c=r(u[1]);l===n&&c===o||(i.push([l-n,c-o]),n=l,o=c)}else n=t(u[0]),o=r(u[1]),i.push([n,o])}return i.length>0?i:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var o=(0,m.c)(e)?e.rings:e.paths,i=[],a=0,s=o.length;a<s;a++){var u=o[a],l=n._quantizePoints(u,t,r);l&&i.push(l)}return i.length>0?((0,m.c)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?function(e){var o=n._quantizePoints(e.points,t,r);return o.length>0?(e.points=o,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,o,i=(0,m.c)(e)?e.rings:e.paths,a=0,s=i.length;a<s;a++)for(var u=i[a],l=0,c=u.length;l<c;l++){var p=u[l];l>0?(n+=p[0],o+=p[1]):(n=p[0],o=p[1]),p[0]=t(n),p[1]=r(o)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,o,i=e.points,a=0,s=i.length;a<s;a++){var u=i[a];a>0?(n+=u[0],o+=u[1]):(n=u[0],o=u[1]),u[0]=t(n),u[1]=r(o)}}:void 0}}]),r}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Z.prototype,"displayFieldName",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],Z.prototype,"exceededTransferLimit",void 0),(0,c.e)([(0,c.d)({type:[d.g],json:{write:!0}})],Z.prototype,"features",void 0),(0,c.e)([(0,v.o)("features")],Z.prototype,"readFeatures",null),(0,c.e)([(0,c.d)({type:[g.y],json:{write:!0}})],Z.prototype,"fields",void 0),(0,c.e)([(0,c.d)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:w.read}}})],Z.prototype,"geometryType",void 0),(0,c.e)([(0,v.r)("geometryType")],Z.prototype,"writeGeometryType",null),(0,c.e)([(0,c.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],Z.prototype,"hasM",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],Z.prototype,"hasZ",void 0),(0,c.e)([(0,c.d)({types:p.i,json:{write:!0}})],Z.prototype,"queryGeometry",void 0),(0,c.e)([(0,v.o)("queryGeometry")],Z.prototype,"readQueryGeometry",null),(0,c.e)([(0,c.d)({type:v.k,json:{write:!0}})],Z.prototype,"spatialReference",void 0),(0,c.e)([(0,v.r)("spatialReference")],Z.prototype,"writeSpatialReference",null),(0,c.e)([(0,c.d)({json:{write:!0}})],Z.prototype,"transform",void 0),(Z=n=(0,c.e)([(0,c.n)("esri.rest.support.FeatureSet")],Z)).prototype.toJSON.isDefaultToJSON=!0;var S=Z;t.default=S},97033:function(e,t,r){r.d(t,{a:function(){return h},c:function(){return p},d:function(){return v}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(23132),u=r(77470),l=r(75610),c=r(36551),p=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).updating=!1,e.handleId=0,e.handles=new u.u,e.scheduleHandleId=0,e.pendingPromises=new Set,e}return(0,o.Z)(r,[{key:"destroy",value:function(){this.removeAll(),this.handles.destroy()}},{key:"add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,c.l)}},{key:"addWhen",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,c.f)}},{key:"addOnCollectionChange",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.initial,i=void 0!==o&&o,a=n.final,s=void 0!==a&&a,u=++this.handleId;return this.handles.add([(0,c.a)(e,"after-changes",this._createSyncUpdatingCallback(),c.U),(0,c.a)(e,"change",t,{onListenerAdd:i?function(e){return t({added:e.toArray(),removed:[]})}:void 0,onListenerRemove:s?function(e){return t({added:[],removed:e.toArray()})}:void 0})],u),{remove:function(){return r.handles.remove(u)}}}},{key:"addPromise",value:function(e){var t=this;if((0,l.t)(e))return e;var r=++this.handleId;this.handles.add({remove:function(){t.pendingPromises.delete(e)&&(0!==t.pendingPromises.size||t.handles.has(f)||t._set("updating",!1))}},r),this.pendingPromises.add(e),this._set("updating",!0);var n=function(){return t.handles.remove(r)};return e.then(n,n),e}},{key:"removeAll",value:function(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}},{key:"_installWatch",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=++this.handleId;n.sync||this._installSyncUpdatingWatch(e,i);var a=o(e,t,n);return this.handles.add(a,i),{remove:function(){return r.handles.remove(i)}}}},{key:"_installSyncUpdatingWatch",value:function(e,t){var r=this._createSyncUpdatingCallback(),n=(0,c.l)(e,r,{sync:!0,equals:function(){return!1}});return this.handles.add(n,t),n}},{key:"_createSyncUpdatingCallback",value:function(){var e=this;return function(){e.handles.remove(f),++e.scheduleHandleId;var t=e.scheduleHandleId;e._get("updating")||e._set("updating",!0),e.handles.add((0,s.B)((function(){t===e.scheduleHandleId&&(e._set("updating",e.pendingPromises.size>0),e.handles.remove(f))})),f)}}}]),r}(s.y);(0,s.e)([(0,s.d)({readOnly:!0})],p.prototype,"updating",void 0),p=(0,s.e)([(0,s.n)("esri.core.support.WatchUpdatingTracking")],p);var d,y,f=-42;(y=d||(d={}))[y.NONE=0]="NONE",y[y.SYNC=1]="SYNC",y[y.INIT=2]="INIT";var h=function(e){var t=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"destroy",value:function(){var e,t;this.destroyed||(null!==(e=this._get("handles"))&&void 0!==e&&e.destroy(),null===(t=this._get("updatingHandles"))||void 0===t||t.destroy())}},{key:"handles",get:function(){return this._get("handles")||new u.u}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new p}}]),r}(e);return(0,s.e)([(0,s.d)({readOnly:!0})],t.prototype,"handles",null),(0,s.e)([(0,s.d)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,s.e)([(0,s.n)("esri.core.HandleOwner")],t),t},v=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r)}(h(s.y));v=(0,s.e)([(0,s.n)("esri.core.HandleOwner")],v)},77470:function(e,t,r){r.d(t,{u:function(){return p}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(23132),u=r(80175),l=r(75610),c=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var o;return(0,n.Z)(this,r),(o=t.call(this,e))._groups=new Map,o}return(0,o.Z)(r,[{key:"destroy",value:function(){this.removeAll()}},{key:"size",get:function(){var e=0;return this._groups.forEach((function(t){e+=t.length})),e}},{key:"add",value:function(e,t){var r=this;if(!this._isHandle(e)&&!Array.isArray(e)&&!u.j.isCollection(e))return this;var n=this._getOrCreateGroup(t);return Array.isArray(e)||u.j.isCollection(e)?e.forEach((function(e){return r._isHandle(e)&&n.push(e)})):n.push(e),this.notifyChange("size"),this}},{key:"forEach",value:function(e,t){if("function"==typeof e)this._groups.forEach((function(t){return t.forEach(e)}));else{var r=this._getGroup(e);r&&t&&r.forEach(t)}}},{key:"has",value:function(e){return this._groups.has(this._ensureGroupKey(e))}},{key:"remove",value:function(e){if(Array.isArray(e)||u.j.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}},{key:"removeAll",value:function(){return this._groups.forEach((function(e){for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}},{key:"_isHandle",value:function(e){return e&&!!e.remove}},{key:"_getOrCreateGroup",value:function(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}},{key:"_getGroup",value:function(e){return(0,l.q)(this._groups.get(this._ensureGroupKey(e)))}},{key:"_deleteGroup",value:function(e){return this._groups.delete(this._ensureGroupKey(e))}},{key:"_ensureGroupKey",value:function(e){return e||"_default_"}}]),r}(s.y);(0,s.e)([(0,s.d)({readOnly:!0})],c.prototype,"size",null);var p=c=(0,s.e)([(0,s.n)("esri.core.Handles")],c)},77196:function(e,t,r){r.d(t,{o:function(){return p},s:function(){return c}});var n=r(43144),o=r(15671),i=r(97326),a=r(60136),s=r(29388),u=r(23132),l=0,c=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object.defineProperty((0,i.Z)(e),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+l++}),e}return(0,n.Z)(r)}(e);return t=(0,u.e)([(0,u.n)("esri.core.Identifiable")],t)},p=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r)}(c(function(){return(0,n.Z)((function e(){(0,o.Z)(this,e)}))}()));p=(0,u.e)([(0,u.n)("esri.core.Identifiable")],p)},72763:function(e,t,r){r.d(t,{b:function(){return S}});var n=r(74165),o=r(15671),i=r(43144),a=r(60136),s=r(29388),u=r(15861),l=r(23132),c=(r(91204),r(57714)),p=r(80175),d=r(77196),y=r(79611),f=r(75610),h=r(80262),v=r(30709),m=l.s.getLogger("esri.layers.support.fromPortalItem");function g(){return g=(0,u.Z)((0,n.Z)().mark((function e(t){var o,i,a,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="portalItem"in t?t:{portalItem:t},e.next=3,Promise.all([r.e(1340),r.e(3022),r.e(8854),r.e(6498),r.e(9737)]).then(r.bind(r,76498));case 3:return i=e.sent,e.prev=4,e.next=7,i.fromItem(o);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),a=o&&o.portalItem,s=a&&a.id||"unset",u=a&&a.portal&&a.portal.url||f.b.portalUrl,m.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+s+"')",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])}))),g.apply(this,arguments)}var w=0,Z=function(e){(0,a.Z)(p,e);var t=(0,s.Z)(p);function p(){var e;return(0,o.Z)(this,p),(e=t.apply(this,arguments)).attributionDataUrl=null,e.fullExtent=new h.M(-180,-90,180,90,v.k.WGS84),e.id=Date.now().toString(16)+"-layer-"+w++,e.legendEnabled=!0,e.listMode="show",e.opacity=1,e.parent=null,e.popupEnabled=!0,e.attributionVisible=!0,e.spatialReference=v.k.WGS84,e.title=null,e.type=null,e.url=null,e.visible=!0,e}return(0,i.Z)(p,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var r,n;(0,l.u)(t)||l.s.getLogger(e.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!==(r=e.title)&&void 0!==r?r:"no title","', id: '").concat(null!==(n=e.id)&&void 0!==n?n:"no id","')"),{error:t})}))}},{key:"destroy",value:function(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){var e=this.url;return e?(0,c.j)(e):null}},{key:"fetchAttributionData",value:function(){var e=(0,u.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.attributionDataUrl,!this.hasAttributionData||!t){e.next=5;break}return e.next=4,(0,c.U)(t,{query:{f:"json"},responseType:"json"});case 4:return e.abrupt("return",e.sent.data);case 5:throw new l.a("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromArcGISServerUrl",value:function(){var e=(0,u.Z)((0,n.Z)().mark((function e(t){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="string"==typeof t?{url:t}:t,e.next=3,Promise.all([r.e(8854),r.e(8201)]).then(r.bind(r,38201));case 3:return e.abrupt("return",e.sent.fromUrl(o));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromPortalItem",value:function(e){return function(e){return g.apply(this,arguments)}(e)}}]),p}(p.n.EventedMixin((0,d.s)(y.m)));(0,l.e)([(0,l.d)({type:String})],Z.prototype,"attributionDataUrl",void 0),(0,l.e)([(0,l.d)({type:h.M})],Z.prototype,"fullExtent",void 0),(0,l.e)([(0,l.d)({readOnly:!0})],Z.prototype,"hasAttributionData",null),(0,l.e)([(0,l.d)({type:String,clonable:!1})],Z.prototype,"id",void 0),(0,l.e)([(0,l.d)({type:Boolean,nonNullable:!0})],Z.prototype,"legendEnabled",void 0),(0,l.e)([(0,l.d)({type:["show","hide","hide-children"]})],Z.prototype,"listMode",void 0),(0,l.e)([(0,l.d)({type:Number,range:{min:0,max:1},nonNullable:!0})],Z.prototype,"opacity",void 0),(0,l.e)([(0,l.d)({clonable:!1})],Z.prototype,"parent",void 0),(0,l.e)([(0,l.d)({readOnly:!0})],Z.prototype,"parsedUrl",null),(0,l.e)([(0,l.d)({type:Boolean})],Z.prototype,"popupEnabled",void 0),(0,l.e)([(0,l.d)({type:Boolean})],Z.prototype,"attributionVisible",void 0),(0,l.e)([(0,l.d)({type:v.k})],Z.prototype,"spatialReference",void 0),(0,l.e)([(0,l.d)({type:String})],Z.prototype,"title",void 0),(0,l.e)([(0,l.d)({readOnly:!0,json:{read:!1}})],Z.prototype,"type",void 0),(0,l.e)([(0,l.d)()],Z.prototype,"url",void 0),(0,l.e)([(0,l.d)({type:Boolean,nonNullable:!0})],Z.prototype,"visible",void 0);var S=Z=(0,l.e)([(0,l.n)("esri.layers.Layer")],Z)},33642:function(e,t,r){r.d(t,{e:function(){return d},o:function(){return y},s:function(){return p},t:function(){return c}});var n=r(60136),o=r(29388),i=r(29439),a=r(93433),s=r(15671),u=r(43144),l=r(75610),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,s.Z)(this,e),this.lengths=null!==t&&void 0!==t?t:[],this.coords=null!==r&&void 0!==r?r:[],this.hasIndeterminateRingOrder=n}return(0,u.Z)(e,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max.apply(Math,(0,a.Z)(this.lengths))}},{key:"size",get:function(){return this.lengths.reduce((function(e,t){return e+t}))}},{key:"forEachVertex",value:function(e){var t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(var r=0;r<this.lengths.length;r++){for(var n=this.lengths[r],o=0;o<n;o++)e(this.coords[2*(o+t)],this.coords[2*(o+t)+1]);t+=n}}},{key:"clone",value:function(t){return t?(t.set(this.coords),new e(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new e(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}],[{key:"fromRect",value:function(t){var r=(0,i.Z)(t,4),n=r[0],o=r[1],a=r[2]-n,s=r[3]-o;return new e([5],[n,o,a,0,0,s,-a,0,0,-s])}}]),e}(),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;(0,s.Z)(this,e),this.geometry=t,this.attributes=r,this.centroid=n,this.objectId=o,this.displayId=0,this.geohashX=0,this.geohashY=0}return(0,u.Z)(e,[{key:"weakClone",value:function(){var t=new e(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}]),e}();function d(e){return!((0,l.t)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}var y=function(e){(0,n.Z)(r,e);var t=(0,o.Z)(r);function r(){return(0,s.Z)(this,r),t.apply(this,arguments)}return(0,u.Z)(r)}(p)},10312:function(e,t,r){r.d(t,{p:function(){return m}});var n,o=r(15671),i=r(43144),a=r(60136),s=r(29388),u=r(23132),l=r(75610),c=r(57714),p=r(70441),d=new c.s({asc:"ascending",desc:"descending"}),y=n=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).field=null,n.valueExpression=null,n.order="ascending",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new n({field:this.field,valueExpression:this.valueExpression,order:this.order})}}]),r}(p.l);(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],y.prototype,"field",void 0),(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],y.prototype,"valueExpression",void 0),(0,u.e)([(0,u.d)({type:d.apiValues,json:{read:d.read,write:d.write}})],y.prototype,"order",void 0);var f=y=n=(0,u.e)([(0,u.n)("esri.layers.support.OrderByInfo")],y);function h(e,t,r){if(!e)return null;var n=e.find((function(e){return!!e.field}));if(!n)return null;var o=new f;return o.read(n,r),[o]}function v(e,t,r,n){var o=e.find((function(e){return!!e.field}));o&&(0,l.o)(r,[o.toJSON()],t)}var m=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;return(0,o.Z)(this,r),(e=t.apply(this,arguments)).orderBy=null,e}return(0,i.Z)(r)}(e);return(0,u.e)([(0,u.d)({type:[f],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:h},write:{target:"layerDefinition.orderBy",writer:v}}})],t.prototype,"orderBy",void 0),t=(0,u.e)([(0,u.n)("esri.layers.mixins.OrderedLayer")],t)}},95254:function(e,t,r){r.d(t,{v:function(){return Z}});var n=r(1413),o=r(74165),i=r(15861),a=r(15671),s=r(43144),u=r(11752),l=r(61120),c=r(60136),p=r(29388),d=r(23132),y=r(57714),f=r(38304),h=r(75610),v=r(30709),m=r(79611),g=r(61099),w=d.s.getLogger("esri.layers.mixins.PortalLayer"),Z=function(e){var t=function(e){(0,c.Z)(v,e);var t=(0,p.Z)(v);function v(){var e;return(0,a.Z)(this,v),(e=t.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},e.userHasEditingPrivileges=!0,e}return(0,s.Z)(v,[{key:"destroy",value:function(){var e;null!==(e=this.portalItem)&&void 0!==e&&e.destroy(),this.portalItem=null}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,r){if(t.itemId)return new g.default({id:t.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,n){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.portalItem||!this.portalItem.id){e.next=14;break}return e.prev=1,e.next=4,Promise.all([r.e(8854),r.e(277)]).then(r.bind(r,50277)).then((function(e){return e.l}));case 4:return i=e.sent,(0,d.H)(n),e.next=8,i.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},n);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),(0,d.u)(e.t0)||w.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"finishLoadEditablePortalLayer",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this._fetchUserHasEditingPrivileges(t).catch((function(e){return(0,d.M)(e),!0}));case 3:e.t1=e.sent,e.t0._set.call(e.t0,"userHasEditingPrivileges",e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchUserHasEditingPrivileges",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.url?null===y.a||void 0===y.a?void 0:y.a.findCredential(this.url):null){e.next=3;break}return e.abrupt("return",!0);case 3:if(S.credential!==r){e.next=7;break}e.t0=S.user,e.next=10;break;case 7:return e.next=9,this._fetchEditingUser(t);case 9:e.t0=e.sent;case 10:return n=e.t0,e.abrupt("return",(S.credential=r,S.user=n,(0,h.t)(n)||null==n.privileges||n.privileges.includes("features:user:edit")));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchEditingUser",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n,i,a,s,u,l,c,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=null===(r=this.portalItem)||void 0===r||null===(n=r.portal)||void 0===n?void 0:n.user)){e.next=3;break}return e.abrupt("return",i);case 3:if(null!==(a=y.a.findServerInfo(this.url))&&void 0!==a&&a.owningSystemUrl){e.next=6;break}return e.abrupt("return",null);case 6:if(s="".concat(a.owningSystemUrl,"/sharing/rest"),!(u=m.B.getDefault())||!u.loaded||(0,y.F)(u.restUrl)!==(0,y.F)(s)){e.next=9;break}return e.abrupt("return",u.user);case 9:return l="".concat(s,"/community/self"),c=(0,h.r)(t)?t.signal:null,e.next=13,(0,f.a)((0,y.U)(l,{authMode:"no-prompt",query:{f:"json"},signal:c}));case 13:return p=e.sent,e.abrupt("return",p.ok?m.p.fromJSON(p.value.data):null);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(e,t){t&&(t.layer=this),(0,u.Z)((0,l.Z)(v.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var r=t&&t.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||m.B.getDefault());return r&&o&&!(0,y.N)(o.restUrl,r.restUrl)?(t.messages&&t.messages.push(new d.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer"),{layer:this})),null):(0,u.Z)((0,l.Z)(v.prototype),"write",this).call(this,e,(0,n.Z)((0,n.Z)({},t),{},{layer:this}))}}]),v}(e);return(0,d.e)([(0,d.d)({type:g.default})],t.prototype,"portalItem",null),(0,d.e)([(0,v.o)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,d.e)([(0,v.r)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,d.e)([(0,d.d)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=(0,d.e)([(0,d.n)("esri.layers.mixins.PortalLayer")],t),t},S={credential:null,user:null}},14739:function(e,t,r){r.d(t,{t:function(){return n}});var n={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},5626:function(e,t,r){r.r(t);var n,o=r(37762),i=r(97326),a=r(29439),s=r(1413),u=r(74165),l=r(15861),c=r(15671),p=r(43144),d=r(60136),y=r(29388),f=r(23132),h=r(91204),v=r(51451),m=(r(67154),r(407)),g=r(75610),w=r(9575),Z=r(57714),S=r(30709),k=r(72763),b=r(97033),x=r(79611),I=r(6794),O=r(81642),P=r(56069),F=r(15612),R=r(80262),_=r(68890),T=r(31513),E=r(25838),U=r(28623),j=r(10312),G=r(95254),N=r(12158),D=r(93874),C=r(62446),L=r(18411),M=r(43124),q=r(78945),z=r(50526),A=r(54539),J=r(34860),W=r(40452),Y=(r(36460),r(80175),r(70441),r(50448),r(41742),r(43920),r(1773),r(77196),r(24980),r(3114),r(22144),r(78674),r(66307),r(2760),r(88370),r(72820),r(78311),r(96349),r(9055),r(2157),r(96636),r(79054),r(29709),r(47642),r(83822),r(30604),r(43782),r(33976),r(28210),r(17436),r(25316),r(21583),r(77389),r(53373),r(94872),r(3969),r(77470),r(36551),r(33703),r(49580),r(54841),r(14739),r(50338),r(63022),r(44455),r(61340),r(69953),r(36659),r(33642),r(69797),r(83024),r(36638),r(38304),r(61099),r(27264),r(55827),r(19967),function(e){(0,d.Z)(r,e);var t=(0,y.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=t.apply(this,arguments)).capabilities=(0,O.c)(!1,!1),e.type="wfs",e.refresh=(0,f.x)(function(){var t=(0,l.Z)((0,u.Z)().mark((function t(r){var n,o;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.load();case 2:return t.next=4,e._connection.invoke("refresh",r);case 4:return n=t.sent,o=n.extent,t.abrupt("return",(e.sourceJSON.extent=o,{dataChanged:!0,updates:{extent:e.sourceJSON.extent}}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return(0,p.Z)(r,[{key:"load",value:function(e){var t,r=null!==(t=(0,g.r)(e)&&e.signal)&&void 0!==t?t:null;return this.addResolvingPromise(this._startWorker({signal:r})),Promise.resolve(this)}},{key:"destroy",value:function(){var e;null!==(e=this._connection)&&void 0!==e&&e.close(),this._connection=null}},{key:"openPorts",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return e.abrupt("return",this._connection.openPorts());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(t){var r,n,o=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.load(r);case 3:return e.next=5,this._connection.invoke("queryFeatures",t?t.toJSON():null,r);case 5:return n=e.sent,e.abrupt("return",F.default.fromJSON(n));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeaturesJSON",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(t){var r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryFeatures",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(t){var r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(t){var r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryObjectIds",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(t){var r,n,o=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.load(r);case 3:return e.next=5,this._connection.invoke("queryExtent",t?t.toJSON():null,r);case 5:return n=e.sent,e.abrupt("return",{count:n.count,extent:R.M.fromJSON(n.extent)});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(t){var r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("querySnapping",t,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createLoadOptions",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(t){var r,n,o,i,a,l,c,p,d,y,v,m,w=this;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.layer,n=r.url,o=r.customParameters,i=r.name,a=r.namespaceUri,l=r.spatialReference,c=r.fields,p=r.geometryType,d=r.swapXY,n){e.next=3;break}throw new f.a("wfs-layer:missing-url","WFSLayer must be created with a url");case 3:if(e.t0=this.wfsCapabilities,e.t0){e.next=8;break}return e.next=7,(0,P.D)(n,(0,s.Z)({customParameters:o},t));case 7:this.wfsCapabilities=e.sent;case 8:if(!["fields","geometryType","name","namespaceUri","spatialReference","swapXY"].some((function(e){return null==w.layer[e]}))){e.next=15;break}return e.next=12,(0,P.X)(this.wfsCapabilities,i,a,{spatialReference:l,customParameters:o,signal:null===t||void 0===t?void 0:t.signal});case 12:e.t1=e.sent,e.next=16;break;case 15:e.t1=(0,s.Z)((0,s.Z)({},(0,P.z)(c)),{},{geometryType:p,name:i,namespaceUri:a,spatialReference:l,swapXY:d});case 16:return y=e.t1,v=(0,g.e)((0,P.W)(this.wfsCapabilities.readFeatureTypes(),y.name,y.namespaceUri)),m=h.a.toJSON(y.geometryType),e.abrupt("return",{customParameters:o,featureType:v,fields:y.fields.map((function(e){return e.toJSON()})),geometryField:y.geometryField,geometryType:m,getFeatureUrl:this.wfsCapabilities.operations.GetFeature.url,getFeatureOutputFormat:this.wfsCapabilities.operations.GetFeature.outputFormat,objectIdField:y.objectIdField,spatialReference:y.spatialReference.toJSON(),swapXY:y.swapXY});case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_startWorker",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(t){var r,n,o,i,l,c,p,d,y;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.E)([this._createLoadOptions(t),(0,I.u)("WFSSourceWorker",(0,s.Z)((0,s.Z)({},t),{},{strategy:(0,g.a)("feature-layers-workers")?"dedicated":"local"}))]);case 2:if(r=e.sent,n=(0,a.Z)(r,2),o=n[0],i=n[1],l=o.error||i.error||null,c=i.value||null,!l){e.next=10;break}throw c&&c.close(),l;case 10:return p=o.value,this._connection=i.value,e.next=14,this._connection.invoke("load",p,t);case 14:d=e.sent,y=d.extent,this.sourceJSON={extent:y,fields:p.fields,geometryType:p.geometryType,objectIdField:p.objectIdField,geometryField:p.geometryField,drawingInfo:(0,O.u)(p.geometryType),name:p.featureType.title,wfsInfo:{name:p.featureType.name,featureUrl:p.getFeatureUrl,maxFeatures:3e3,swapXY:p.swapXY,supportedSpatialReferences:p.featureType.supportedSpatialReferences,version:"2.0.0",wfsNamespace:p.featureType.namespaceUri}};case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}((0,b.a)(x.m)));(0,f.e)([(0,f.d)()],Y.prototype,"capabilities",void 0),(0,f.e)([(0,f.d)({constructOnly:!0})],Y.prototype,"layer",void 0),(0,f.e)([(0,f.d)()],Y.prototype,"sourceJSON",void 0),(0,f.e)([(0,f.d)()],Y.prototype,"type",void 0),(0,f.e)([(0,f.d)()],Y.prototype,"wfsCapabilities",void 0),Y=(0,f.e)([(0,f.n)("esri.layers.graphics.sources.WFSSource")],Y);var H=(0,q.l)(),B=n=function(e){(0,d.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;return(0,c.Z)(this,r),(n=t.call(this,e)).capabilities=null,n.copyright=null,n.customParameters=null,n.definitionExpression=null,n.displayField=null,n.elevationInfo=null,n.featureReduction=null,n.featureUrl=void 0,n.fields=null,n.fieldsIndex=null,n.fullExtent=null,n.geometryType=null,n.labelsVisible=!0,n.labelingInfo=null,n.legendEnabled=!0,n.objectIdField=null,n.operationalLayerType="WFS",n.maxFeatures=3e3,n.mode=0,n.name=null,n.namespaceUri=null,n.outFields=null,n.popupEnabled=!0,n.popupTemplate=null,n.screenSizePerspectiveEnabled=!0,n.source=new Y({layer:(0,i.Z)(n)}),n.spatialReference=S.k.WGS84,n.spatialReferences=[4326],n.swapXY=void 0,n.title="WFS",n.type="wfs",n.url=null,n.version=void 0,n}return(0,p.Z)(r,[{key:"destroy",value:function(){var e;null===(e=this.source)||void 0===e||e.destroy()}},{key:"load",value:function(e){var t=this;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WFS"]},e).then((function(){return t.source.load(e)})).then((function(){t.read(t.source.sourceJSON,{origin:"service",url:t.parsedUrl}),t.revert(["objectIdField","fields","timeInfo","spatialReference","name","namespaceUri"],"service"),(0,z.c)(t.renderer,t.fieldsIndex),(0,z.m)(t.timeInfo,t.fieldsIndex)}))),Promise.resolve(this)}},{key:"createQueryVersion",get:function(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"writeFields",value:function(e,t,r){var n=e.filter((function(e){return e.name!==P.C}));this.geometryField&&n.unshift(new M.y({name:this.geometryField,alias:this.geometryField,type:"geometry"})),(0,g.o)(r,n.map((function(e){return e.toJSON()})),t)}},{key:"parsedUrl",get:function(){return this.url?(0,Z.j)(this.url):null}},{key:"renderer",set:function(e){(0,z.c)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"createPopupTemplate",value:function(e){return(0,W.d)(this,e)}},{key:"createQuery",value:function(){var e=new J.b;e.returnGeometry=!0,e.outFields=["*"],e.where=this.definitionExpression||"1=1";var t=this.timeOffset,r=this.timeExtent;return e.timeExtent=null!=t&&null!=r?r.offset(-t.value,t.unit):r||null,e}},{key:"getFieldDomain",value:function(e,t){var r;return null===(r=this.getField(e))||void 0===r?void 0:r.domain}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"queryFeatures",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatures(J.b.from(e)||r.createQuery(),t)})).then((function(e){if(null!==e&&void 0!==e&&e.features){var t,n=(0,o.Z)(e.features);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.layer=i.sourceLayer=r}}catch(a){n.e(a)}finally{n.f()}}return e}))}},{key:"queryObjectIds",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryObjectIds(J.b.from(e)||r.createQuery(),t)}))}},{key:"queryFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatureCount(J.b.from(e)||r.createQuery(),t)}))}},{key:"queryExtent",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryExtent(J.b.from(e)||r.createQuery(),t)}))}},{key:"hasDataChanged",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(){var t,r,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.source.refresh(this.customParameters);case 3:return t=e.sent,r=t.dataChanged,n=t.updates,e.abrupt("return",((0,g.r)(n)&&this.read(n,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),r));case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromWFSLayerInfo",value:function(e){var t=e.customParameters,r=e.fields,o=e.geometryField,i=e.geometryType,a=e.name,s=e.namespaceUri,u=e.objectIdField,l=e.spatialReference,c=e.swapXY,p=e.url,d=e.wfsCapabilities;return new n({customParameters:t,fields:r,geometryField:o,geometryType:i,name:a,namespaceUri:s,objectIdField:u,spatialReference:l,swapXY:c,url:p,wfsCapabilities:d})}}]),r}((0,j.p)((0,T.o)((0,E.p)((0,_.a)((0,C.a)((0,N.n)((0,D.t)((0,U.c)((0,G.v)((0,w.O)(k.b)))))))))));(0,f.e)([(0,f.d)({readOnly:!0,aliasOf:"source.capabilities"})],B.prototype,"capabilities",void 0),(0,f.e)([(0,f.d)({type:String})],B.prototype,"copyright",void 0),(0,f.e)([(0,f.d)({readOnly:!0})],B.prototype,"createQueryVersion",null),(0,f.e)([(0,f.d)({json:{name:"wfsInfo.customParameters",write:{ignoreOrigin:!0}}})],B.prototype,"customParameters",void 0),(0,f.e)([(0,f.d)({readOnly:!0})],B.prototype,"defaultPopupTemplate",null),(0,f.e)([(0,f.d)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],B.prototype,"definitionExpression",void 0),(0,f.e)([(0,f.d)({type:String})],B.prototype,"displayField",void 0),(0,f.e)([(0,f.d)(L.d)],B.prototype,"elevationInfo",void 0),(0,f.e)([(0,f.d)(E.a)],B.prototype,"featureReduction",void 0),(0,f.e)([(0,f.d)({type:String,readOnly:!0,json:{name:"wfsInfo.featureUrl",write:{ignoreOrigin:!0,isRequired:!0}}})],B.prototype,"featureUrl",void 0),(0,f.e)([(0,f.d)({type:[M.y],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],B.prototype,"fields",void 0),(0,f.e)([(0,S.r)("fields")],B.prototype,"writeFields",null),(0,f.e)([(0,f.d)(H.fieldsIndex)],B.prototype,"fieldsIndex",void 0),(0,f.e)([(0,f.d)({type:R.M,json:{name:"extent"}})],B.prototype,"fullExtent",void 0),(0,f.e)([(0,f.d)()],B.prototype,"geometryField",void 0),(0,f.e)([(0,f.d)({type:String,json:{read:{source:"layerDefinition.geometryType",reader:h.a.read},write:{target:"layerDefinition.geometryType",writer:h.a.write,ignoreOrigin:!0},origins:{service:{read:h.a.read}}}})],B.prototype,"geometryType",void 0),(0,f.e)([(0,f.d)({type:String})],B.prototype,"id",void 0),(0,f.e)([(0,f.d)(L.m)],B.prototype,"labelsVisible",void 0),(0,f.e)([(0,f.d)({type:[A.j],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:E.r},write:!0}})],B.prototype,"labelingInfo",void 0),(0,f.e)([(0,f.d)(L.c)],B.prototype,"legendEnabled",void 0),(0,f.e)([(0,f.d)({type:["show","hide"]})],B.prototype,"listMode",void 0),(0,f.e)([(0,f.d)({type:String})],B.prototype,"objectIdField",void 0),(0,f.e)([(0,f.d)({type:["WFS"]})],B.prototype,"operationalLayerType",void 0),(0,f.e)([(0,f.d)({type:f.S,json:{name:"wfsInfo.maxFeatures",write:{ignoreOrigin:!0,isRequired:!0}}})],B.prototype,"maxFeatures",void 0),(0,f.e)([(0,f.d)({type:[0],readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],B.prototype,"mode",void 0),(0,f.e)([(0,f.d)({type:String,json:{name:"wfsInfo.name",write:{ignoreOrigin:!0,isRequired:!0}}})],B.prototype,"name",void 0),(0,f.e)([(0,f.d)({type:String,json:{name:"wfsInfo.wfsNamespace",write:{ignoreOrigin:!0,isRequired:!0}}})],B.prototype,"namespaceUri",void 0),(0,f.e)([(0,f.d)(L.u)],B.prototype,"opacity",void 0),(0,f.e)([(0,f.d)(H.outFields)],B.prototype,"outFields",void 0),(0,f.e)([(0,f.d)({readOnly:!0})],B.prototype,"parsedUrl",null),(0,f.e)([(0,f.d)(L.p)],B.prototype,"popupEnabled",void 0),(0,f.e)([(0,f.d)({type:v.B,json:{name:"popupInfo",write:!0}})],B.prototype,"popupTemplate",void 0),(0,f.e)([(0,f.d)({types:m.a,json:{origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:m.n,name:"layerDefinition.drawingInfo.renderer",write:!0}},name:"layerDefinition.drawingInfo.renderer",write:{ignoreOrigin:!0}}})],B.prototype,"renderer",null),(0,f.e)([(0,f.d)(L.l)],B.prototype,"screenSizePerspectiveEnabled",void 0),(0,f.e)([(0,f.d)({readOnly:!0})],B.prototype,"source",void 0),(0,f.e)([(0,f.d)({type:S.k,json:{name:"layerDefinition.spatialReference",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"extent.spatialReference"}}}})],B.prototype,"spatialReference",void 0),(0,f.e)([(0,f.d)({readOnly:!0,type:[f.S],json:{name:"wfsInfo.supportedSpatialReferences",write:{ignoreOrigin:!0,isRequired:!0}}})],B.prototype,"spatialReferences",void 0),(0,f.e)([(0,f.d)({type:Boolean,value:!1,json:{name:"wfsInfo.swapXY",write:{ignoreOrigin:!0,isRequired:!0}}})],B.prototype,"swapXY",void 0),(0,f.e)([(0,f.d)({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"name"}}}})],B.prototype,"title",void 0),(0,f.e)([(0,f.d)({json:{read:!1},readOnly:!0})],B.prototype,"type",void 0),(0,f.e)([(0,f.d)(L.f)],B.prototype,"url",void 0),(0,f.e)([(0,f.d)({type:String,readOnly:!0,json:{name:"wfsInfo.version",write:{ignoreOrigin:!0,isRequired:!0}}})],B.prototype,"version",void 0),(0,f.e)([(0,f.d)({aliasOf:"source.wfsCapabilities"})],B.prototype,"wfsCapabilities",void 0);var Q=B=n=(0,f.e)([(0,f.n)("esri.layers.WFSLayer")],B);t.default=Q},81642:function(e,t,r){r.d(t,{a:function(){return p},c:function(){return y},l:function(){return d},u:function(){return u}});var n=r(4942),o=r(1413),i=r(75610),a=r(14739),s=r(50338);function u(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.l:"esriGeometryPolyline"===e?s.o:s.S}}}var l=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,c=1;function p(e,t){if((0,i.a)("esri-csp-restrictions"))return function(){return(0,o.Z)((0,n.Z)({},t,null),e)};try{var r="this.".concat(t," = null;");for(var a in e)r+="this".concat(l.test(a)?".".concat(a):'["'.concat(a,'"]')," = ").concat(JSON.stringify(e[a]),";");var s=new Function("\n      return class AttributesClass$".concat(c++," {\n        constructor() {\n          ").concat(r,";\n        }\n      }\n    "))();return function(){return new s}}catch(s){return function(){return(0,o.Z)((0,n.Z)({},t,null),e)}}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,i.m)(e)}}]}function y(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:a.t,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},50338:function(e,t,r){r.d(t,{S:function(){return s},e:function(){return n},i:function(){return o},l:function(){return i},o:function(){return a},r:function(){return l},s:function(){return c},t:function(){return u},y:function(){return p}});var n=[252,146,31,255],o=[153,153,153,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},a={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},s={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},u={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},p={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},50448:function(e,t,r){r.d(t,{r:function(){return i}});var n=r(57714),o=r(23132);function i(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e instanceof n.s?e:new n.s(e,r),a={type:null===(t=null===r||void 0===r?void 0:r.ignoreUnknown)||void 0===t||t?i.apiValues:String,json:{type:i.jsonValues,read:!(null!==r&&void 0!==r&&r.readOnly)&&{reader:i.read},write:{writer:i.write}}};return void 0!==(null===r||void 0===r?void 0:r.readOnly)&&(a.readOnly=!!r.readOnly),void 0!==(null===r||void 0===r?void 0:r.default)&&(a.json.default=r.default),void 0!==(null===r||void 0===r?void 0:r.name)&&(a.json.name=r.name),(0,o.d)(a)}},91204:function(e,t,r){r.d(t,{a:function(){return u},i:function(){return c},t:function(){return l}});var n=r(23132),o=r(80262),i=r(30709),a=r(36460),s=r(57714),u=(0,s.o)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),l=(0,s.o)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),c={base:i.p,key:"type",typeMap:{extent:o.M,multipoint:a.a,point:i.j,polyline:a.m,polygon:a.v}};(0,n.N)(c)},30604:function(e,t,r){r.d(t,{a:function(){return h},c:function(){return p},d:function(){return d},f:function(){return u},l:function(){return l},s:function(){return s},v:function(){return y},y:function(){return c}});var n=r(75610),o=r(80262),i=r(30709),a=r(36460);function s(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function u(e){return void 0!==e.points}function l(e){return void 0!==e.x&&void 0!==e.y}function c(e){return void 0!==e.paths}function p(e){return void 0!==e.rings}function d(e){return(0,n.t)(e)?null:e instanceof i.p?e:l(e)?i.j.fromJSON(e):c(e)?a.m.fromJSON(e):p(e)?a.v.fromJSON(e):u(e)?a.a.fromJSON(e):s(e)?o.M.fromJSON(e):null}function y(e){return e?l(e)?"esriGeometryPoint":c(e)?"esriGeometryPolyline":p(e)?"esriGeometryPolygon":s(e)?"esriGeometryEnvelope":u(e)?"esriGeometryMultipoint":null:null}var f={esriGeometryPoint:i.j,esriGeometryPolyline:a.m,esriGeometryPolygon:a.v,esriGeometryEnvelope:o.M,esriGeometryMultipoint:a.a};function h(e){return e&&f[e]||null}},41742:function(e,t,r){r.d(t,{L:function(){return w},S:function(){return g},m:function(){return x},u:function(){return b}});var n=r(1413),o=r(57714),i=r(43920),a=r(75610),s={year:"numeric",month:"numeric",day:"numeric"},u={year:"numeric",month:"long",day:"numeric"},l={year:"numeric",month:"short",day:"numeric"},c={year:"numeric",month:"long",weekday:"long",day:"numeric"},p={hour:"numeric",minute:"numeric"},d=(0,n.Z)((0,n.Z)({},p),{},{second:"numeric"}),y={"short-date":s,"short-date-short-time":(0,n.Z)((0,n.Z)({},s),p),"short-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),p),{},{hour12:!1}),"short-date-long-time":(0,n.Z)((0,n.Z)({},s),d),"short-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),d),{},{hour12:!1}),"short-date-le":s,"short-date-le-short-time":(0,n.Z)((0,n.Z)({},s),p),"short-date-le-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),p),{},{hour12:!1}),"short-date-le-long-time":(0,n.Z)((0,n.Z)({},s),d),"short-date-le-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),d),{},{hour12:!1}),"long-month-day-year":u,"long-month-day-year-short-time":(0,n.Z)((0,n.Z)({},u),p),"long-month-day-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),p),{},{hour12:!1}),"long-month-day-year-long-time":(0,n.Z)((0,n.Z)({},u),d),"long-month-day-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),d),{},{hour12:!1}),"day-short-month-year":l,"day-short-month-year-short-time":(0,n.Z)((0,n.Z)({},l),p),"day-short-month-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),p),{},{hour12:!1}),"day-short-month-year-long-time":(0,n.Z)((0,n.Z)({},l),d),"day-short-month-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),d),{},{hour12:!1}),"long-date":c,"long-date-short-time":(0,n.Z)((0,n.Z)({},c),p),"long-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},c),p),{},{hour12:!1}),"long-date-long-time":(0,n.Z)((0,n.Z)({},c),d),"long-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},c),d),{},{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":p,"long-time":d},f=(0,o.o)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});f.toJSON.bind(f),f.fromJSON.bind(f);var h={ar:"ar-u-nu-latn-ca-gregory"},v=new WeakMap,m=y["short-date-short-time"];function g(e){return y[e]||null}function w(e,t){return function(e){var t=e||m;if(!v.has(t)){var r=(0,i.l)(),n=h[(0,i.l)()]||r;v.set(t,new Intl.DateTimeFormat(n,t))}return v.get(t)}(t).format(e)}(0,i.g)((function(){v=new WeakMap,m=y["short-date-short-time"]}));var Z={ar:"ar-u-nu-latn"},S=new WeakMap,k={};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function x(e,t){return-0===e&&(e=0),function(e){var t=e||k;if(!S.has(t)){var r=(0,i.l)(),n=Z[(0,i.l)()]||r;S.set(t,new Intl.NumberFormat(n,e))}return(0,a.q)(S.get(t))}(t).format(e)}(0,i.g)((function(){S=new WeakMap,k={}}))},96349:function(e,t,r){r.d(t,{I:function(){return l},R:function(){return v},U:function(){return f},c:function(){return a},h:function(){return y},i:function(){return i},m:function(){return s},p:function(){return u}});var n=r(75610),o=r(57714);function i(e,t){var r=t&&t.url&&t.url.path;if(e&&r&&(e=(0,o.Q)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){var n=(0,o._)(e,t.portalItem.itemUrl);d.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return h(e,t&&t.portal)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.YES;if(!e)return e;!(0,o.K)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);var n=(0,o.Q)(e);if(t){var i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(i){var a=h(i,t.portal);(n=(0,o._)(h(n,t.portal),a,a))!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=f(n,t&&t.portal),(0,o.K)(n)&&(n=(0,o.F)(n)),null!==t&&void 0!==t&&t.resources&&null!==t&&void 0!==t&&t.portalItem&&!(0,o.K)(n)&&!(0,o.X)(n)&&r===l.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function s(e,t,r){return i(e,r)}function u(e,t,r,n){var o=a(e,n);void 0!==o&&(t[r]=o)}var l,c,p=/\/items\/([^\/]+)\/resources\//,d=/^\.\/resources\//;function y(e){var t=(0,n.r)(e)?e.match(p):null;return(0,n.r)(t)?t[1]:null}function f(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,o.v)(e,"".concat(t.urlKey,".").concat(t.customBaseUrl),t.portalHostname):e}function h(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;var r="".concat(t.urlKey,".").concat(t.customBaseUrl),n=(0,o.b)();return(0,o.z)(n,"".concat(n.scheme,"://").concat(r))?(0,o.v)(e,t.portalHostname,r):(0,o.v)(e,r,t.portalHostname)}(c=l||(l={}))[c.YES=0]="YES",c[c.NO=1]="NO";var v=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:i,toJSON:a,read:s,write:u,itemIdFromResourceUrl:y,ensureMainOnlineDomain:f,get MarkKeep(){return l}},Symbol.toStringTag,{value:"Module"}))},36551:function(e,t,r){r.d(t,{P:function(){return d},U:function(){return y},a:function(){return u},f:function(){return a},h:function(){return f},j:function(){return l},l:function(){return i},w:function(){return h}});var n=r(23132),o=r(75610);function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,t,r,c)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,t,r,p)}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,a=null,s=r.once?function(e,r){i(e)&&((0,o.d)(a),t(e,r))}:function(e,r){i(e)&&t(e,r)};if(a=(0,n.P)(e,s,r.sync,r.equals),r.initial){var u=e();s(u,u)}return a}function u(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=null,u=null,l=null;function c(){var e;s&&u&&(u.remove(),null!==(e=a.onListenerRemove)&&void 0!==e&&e.call(a,s),s=null,u=null)}function p(e){a.once&&a.once&&(0,o.d)(l),r(e)}var d=i(e,(function(e,r){var o;c(),(0,n.c)(e)&&(s=e,u=(0,n.f)(e,t,p),null===(o=a.onListenerAdd)||void 0===o||o.call(a,e))}),{sync:a.sync,initial:!0});return l=(0,n.g)((function(){d.remove(),c()}))}function l(e,t){return function(e,t,r){if((0,n.p)(r))return Promise.reject((0,n.m)());var i=e();if(null!==t&&void 0!==t&&t(i))return Promise.resolve(i);var a=null;function u(){a=(0,o.d)(a)}return new Promise((function(o,i){a=(0,n.h)([(0,n.v)(r,(function(){u(),i((0,n.m)())})),s(e,(function(e){u(),o(e)}),{sync:!1,once:!0},null!==t&&void 0!==t?t:c)])}))}(e,p,t)}function c(e){return!0}function p(e){return!!e}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1,o=i(e,(function(e,r){n||t(e,r)}),r);return{remove:function(){o.remove()},pause:function(){n=!0},resume:function(){n=!1}}}var y={sync:!0},f={initial:!0},h={sync:!0,initial:!0}},47642:function(e,t,r){var n,o;function i(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function s(e){return e.valueExpression?n.Expression:e.field&&"string"==typeof e.field?n.Field:n.Unknown}function u(e,t){var r=t||s(e),i=e.valueUnit||"unknown";return r===n.Unknown?o.Constant:e.stops?o.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?o.ClampedLinear:"unknown"===i?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?o.Proportional:o.Additive:o.Identity:o.RealWorldSize}r.d(t,{a:function(){return u},e:function(){return i},i:function(){return o},l:function(){return a},n:function(){return n},t:function(){return s}}),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(n||(n={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(o||(o={}))},69953:function(e,t,r){r.d(t,{o:function(){return s}});var n=r(37762),o=r(75610),i=r(44455),a=r(30709);function s(e,t,r){if((0,o.t)(t)||(0,o.t)(r)||r.vcsWkid||(0,a.E)(t,r))return null;var s=(0,i.W)(t)/(0,i.W)(r);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return function(e){return function(e,t){e&&null!=e.z&&(e.z*=t)}(e,s)};case"polyline":case"esriGeometryPolyline":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.paths);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,s=(0,n.Z)(a);try{for(s.s();!(i=s.n()).done;){var u=i.value;u.length>2&&(u[2]*=t)}}catch(l){s.e(l)}finally{s.f()}}}catch(l){o.e(l)}finally{o.f()}}}(e,s)};case"polygon":case"esriGeometryPolygon":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.rings);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,s=(0,n.Z)(a);try{for(s.s();!(i=s.n()).done;){var u=i.value;u.length>2&&(u[2]*=t)}}catch(l){s.e(l)}finally{s.f()}}}catch(l){o.e(l)}finally{o.f()}}}(e,s)};case"multipoint":case"esriGeometryMultipoint":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.points);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.length>2&&(i[2]*=t)}}catch(a){o.e(a)}finally{o.f()}}}(e,s)};case"extent":case"esriGeometryExtent":return function(e){return function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,s)};default:return null}}}}]);
//# sourceMappingURL=5626.43371435.chunk.js.map