"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[2958,2857,8781],{60369:function(e,t,r){r.d(t,{a:function(){return v},b:function(){return h},c:function(){return y}});var n,o=r(15671),i=r(43144),a=r(60136),s=r(29388),l=r(48848),u=(r(93661),r(92072)),p=n=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).active=!1,n.className=null,n.disabled=!1,n.id=null,n.indicator=!1,n.title=null,n.type=null,n.visible=!0,n}return(0,i.Z)(r,[{key:"clone",value:function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}}]),r}((0,u.s)(l.m));(0,l.e)([(0,l.y)()],p.prototype,"active",void 0),(0,l.e)([(0,l.y)()],p.prototype,"className",void 0),(0,l.e)([(0,l.y)()],p.prototype,"disabled",void 0),(0,l.e)([(0,l.y)()],p.prototype,"id",void 0),(0,l.e)([(0,l.y)()],p.prototype,"indicator",void 0),(0,l.e)([(0,l.y)()],p.prototype,"title",void 0),(0,l.e)([(0,l.y)()],p.prototype,"type",void 0),(0,l.e)([(0,l.y)()],p.prototype,"visible",void 0);var c,y=p=n=(0,l.e)([(0,l.n)("esri.support.actions.ActionBase")],p),d=c=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).image=null,n.type="button",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}}]),r}(y);(0,l.e)([(0,l.y)()],d.prototype,"image",void 0);var f,v=d=c=(0,l.e)([(0,l.n)("esri.support.Action.ActionButton")],d),m=f=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).image=null,n.type="toggle",n.value=!1,n}return(0,i.Z)(r,[{key:"clone",value:function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}}]),r}(y);(0,l.e)([(0,l.y)()],m.prototype,"image",void 0),(0,l.e)([(0,l.y)()],m.prototype,"value",void 0);var h=m=f=(0,l.e)([(0,l.n)("esri.support.Action.ActionToggle")],m)},61903:function(e,t,r){r.d(t,{n:function(){return p}});var n=r(43144),o=r(15671),i=r(60136),a=r(29388),s=r(48848),l=(r(93661),r(33795)),u={read:{reader:l.n},write:{allowNull:!0,writer:l.a}},p=function(e){var t=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,o.Z)(this,r),(e=t.apply(this,arguments)).blendMode="normal",e.effect=null,e}return(0,n.Z)(r)}(e);return(0,s.e)([(0,s.y)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),(0,s.e)([(0,s.y)({json:{read:!1,write:!1,origins:{"web-map":u,"portal-item":u}}})],t.prototype,"effect",void 0),t=(0,s.e)([(0,s.n)("esri.layers.mixins.BlendLayer")],t)}},68781:function(e,t,r){r.r(t);var n,o=r(29439),i=r(37762),a=r(15671),s=r(43144),l=r(60136),u=r(29388),p=r(48848),c=r(74384),y=r(64998),d=r(40558),f=r(40114),v=r(93661),m=r(82474),h=r(56162),g=r(69641),w=(r(46817),r(25577),r(62610),r(93314),r(37856),r(15751),r(59984),r(20302),r(53586),r(65094),r(60369),r(92072),r(37944),r(86086),r(21385),r(89794),r(48200),r(71802),r(85253),r(93209),r(25456),r(46337),r(81556),r(93116),r(15436),new d.s({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null})),S=n=function(e){(0,l.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return(0,s.Z)(r,[{key:"readFeatures",value:function(e,t){for(var r=m.k.fromJSON(t.spatialReference),n=[],o=0;o<e.length;o++){var i=e[o],a=y.g.fromJSON(i),s=i.geometry&&i.geometry.spatialReference;(0,v.r)(a.geometry)&&!s&&(a.geometry.spatialReference=r);var l=i.aggregateGeometries,u=a.aggregateGeometries;if(l&&(0,v.r)(u))for(var p in u){var c,d=u[p],f=null===(c=l[p])||void 0===c?void 0:c.spatialReference;(0,v.r)(d)&&!f&&(d.spatialReference=r)}n.push(a)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)w.write(e,t,r,n);else{var o=this.features;if(o){var a,s=(0,i.Z)(o);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l&&(0,v.r)(l.geometry))return void w.write(l.geometry.type,t,r,n)}}catch(u){s.e(u)}finally{s.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=(0,h.v)(e);return n&&!r&&t.spatialReference&&(n.spatialReference=m.k.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,o=(0,i.Z)(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a&&(0,v.r)(a.geometry)&&a.geometry.spatialReference)return void(t.spatialReference=a.geometry.spatialReference.toJSON())}}catch(s){o.e(s)}finally{o.f()}}}}},{key:"clone",value:function(){return new n(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,v.y)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var o=e&&e[r];n.geometry=o&&o.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=(0,o.Z)(e.scale,2),r=t[0],n=t[1],i=(0,o.Z)(e.translate,2),a=i[0],s=i[1],l=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/r)}),(function(e){return Math.round((s-e)/n)})),p=0,c=l.length;p<c;p++)(null===u||void 0===u?void 0:u((0,v.e)(l[p].geometry)))||(l.splice(p,1),p--,c--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var n,a=(0,o.Z)(r.translate,2),s=a[0],l=a[1],u=(0,o.Z)(r.scale,2),p=u[0],c=u[1],y=this._getHydrationFunction(e,(function(e){return e*p+s}),(function(e){return l-e*c})),d=(0,i.Z)(t);try{for(d.s();!(n=d.n()).done;){var f=n.value.geometry;(0,v.r)(f)&&y&&y(f)}}catch(m){d.e(m)}finally{d.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,o,i=[],a=0,s=e.length;a<s;a++){var l=e[a];if(a>0){var u=t(l[0]),p=r(l[1]);u===n&&p===o||(i.push([u-n,p-o]),n=u,o=p)}else n=t(l[0]),o=r(l[1]),i.push([n,o])}return i.length>0?i:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var o=(0,h.y)(e)?e.rings:e.paths,i=[],a=0,s=o.length;a<s;a++){var l=o[a],u=n._quantizePoints(l,t,r);u&&i.push(u)}return i.length>0?((0,h.y)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?function(e){var o=n._quantizePoints(e.points,t,r);return o&&o.length>0?(e.points=o,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,o,i=(0,h.y)(e)?e.rings:e.paths,a=0,s=i.length;a<s;a++)for(var l=i[a],u=0,p=l.length;u<p;u++){var c=l[u];u>0?(n+=c[0],o+=c[1]):(n=c[0],o=c[1]),c[0]=t(n),c[1]=r(o)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,o,i=e.points,a=0,s=i.length;a<s;a++){var l=i[a];a>0?(n+=l[0],o+=l[1]):(n=l[0],o=l[1]),l[0]=t(n),l[1]=r(o)}}:null}}]),r}(f.l);(0,p.e)([(0,p.y)({type:String,json:{write:!0}})],S.prototype,"displayFieldName",void 0),(0,p.e)([(0,p.y)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],S.prototype,"exceededTransferLimit",void 0),(0,p.e)([(0,p.y)({type:[y.g],json:{write:!0}})],S.prototype,"features",void 0),(0,p.e)([(0,m.o)("features")],S.prototype,"readFeatures",null),(0,p.e)([(0,p.y)({type:[g.y],json:{write:!0}})],S.prototype,"fields",void 0),(0,p.e)([(0,p.y)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:w.read}}})],S.prototype,"geometryType",void 0),(0,p.e)([(0,m.r)("geometryType")],S.prototype,"writeGeometryType",null),(0,p.e)([(0,p.y)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],S.prototype,"hasM",void 0),(0,p.e)([(0,p.y)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],S.prototype,"hasZ",void 0),(0,p.e)([(0,p.y)({types:c.i,json:{write:!0}})],S.prototype,"queryGeometry",void 0),(0,p.e)([(0,m.o)("queryGeometry")],S.prototype,"readQueryGeometry",null),(0,p.e)([(0,p.y)({type:m.k,json:{write:!0}})],S.prototype,"spatialReference",void 0),(0,p.e)([(0,m.r)("spatialReference")],S.prototype,"writeSpatialReference",null),(0,p.e)([(0,p.y)({json:{write:!0}})],S.prototype,"transform",void 0),(S=n=(0,p.e)([(0,p.n)("esri.rest.support.FeatureSet")],S)).prototype.toJSON.isDefaultToJSON=!0;var b=S;t.default=b},69641:function(e,t,r){r.d(t,{n:function(){return R},p:function(){return v},t:function(){return j},u:function(){return Z},y:function(){return L}});var n,o=r(15671),i=r(43144),a=r(60136),s=r(29388),l=r(48848),u=r(40558),p=r(40114),c=r(93661),y=r(20302),d=r(82474),f=r(15436),v=n=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).name=null,n.code=null,n}return(0,i.Z)(r,[{key:"clone",value:function(){return new n({name:this.name,code:this.code})}}]),r}(p.l);(0,l.e)([(0,l.y)({type:String,json:{write:!0}})],v.prototype,"name",void 0),(0,l.e)([(0,l.y)({type:[String,Number],json:{write:!0}})],v.prototype,"code",void 0),v=n=(0,l.e)([(0,l.n)("esri.layers.support.CodedValue")],v);var m=new u.s({inherited:"inherited",codedValue:"coded-value",range:"range"}),h=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).name=null,n.type=null,n}return(0,i.Z)(r)}(p.l);(0,l.e)([(0,l.y)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,l.e)([(0,y.r)(m)],h.prototype,"type",void 0);var g,w=h=(0,l.e)([(0,l.n)("esri.layers.support.Domain")],h),S=g=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).codedValues=null,n.type="coded-value",n}return(0,i.Z)(r,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((function(e){return String(e.code)===r&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new g({codedValues:(0,c.y)(this.codedValues),name:this.name})}}]),r}(w);(0,l.e)([(0,l.y)({type:[v],json:{write:!0}})],S.prototype,"codedValues",void 0),(0,l.e)([(0,y.r)({codedValue:"coded-value"})],S.prototype,"type",void 0);var b,Z=S=g=(0,l.e)([(0,l.n)("esri.layers.support.CodedValueDomain")],S),k=b=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).type="inherited",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new b}}]),r}(w);(0,l.e)([(0,y.r)({inherited:"inherited"})],k.prototype,"type",void 0);var T,N=k=b=(0,l.e)([(0,l.n)("esri.layers.support.InheritedDomain")],k),x=T=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).maxValue=null,n.minValue=null,n.type="range",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new T({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),r}(w);(0,l.e)([(0,l.y)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,r){t[r]=[this.minValue||0,e]}}}})],x.prototype,"maxValue",void 0),(0,l.e)([(0,l.y)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,r){t[r]=[e,this.maxValue||0]}}}})],x.prototype,"minValue",void 0),(0,l.e)([(0,y.r)({range:"range"})],x.prototype,"type",void 0);var B,P=x=T=(0,l.e)([(0,l.n)("esri.layers.support.RangeDomain")],x),R={key:"type",base:w,typeMap:{range:P,"coded-value":Z,inherited:N}};function j(e){if(!e||!e.type)return null;switch(e.type){case"range":return P.fromJSON(e);case"codedValue":return Z.fromJSON(e);case"inherited":return N.fromJSON(e)}return null}var I=new u.s({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),O=B=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).alias=null,n.defaultValue=void 0,n.description=null,n.domain=null,n.editable=!0,n.length=-1,n.name=null,n.nullable=!0,n.type=null,n.valueType=null,n.visible=!0,n}return(0,i.Z)(r,[{key:"readDescription",value:function(e,t){var r,n,o=t.description,i=null;try{i=o?JSON.parse(o):null}catch(a){}return null!==(r=null===(n=i)||void 0===n?void 0:n.value)&&void 0!==r?r:null}},{key:"readValueType",value:function(e,t){var r=t.description,n=null;try{n=r?JSON.parse(r):null}catch(o){}return n?I.fromJSON(n.fieldValueType):null}},{key:"clone",value:function(){return new B({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}}]),r}(p.l);(0,l.e)([(0,l.y)({type:String,json:{write:!0}})],O.prototype,"alias",void 0),(0,l.e)([(0,l.y)({type:[String,Number],json:{write:{allowNull:!0}}})],O.prototype,"defaultValue",void 0),(0,l.e)([(0,l.y)()],O.prototype,"description",void 0),(0,l.e)([(0,d.o)("description")],O.prototype,"readDescription",null),(0,l.e)([(0,l.y)({types:R,json:{read:{reader:j},write:!0}})],O.prototype,"domain",void 0),(0,l.e)([(0,l.y)({type:Boolean,json:{write:!0}})],O.prototype,"editable",void 0),(0,l.e)([(0,l.y)({type:l.T,json:{write:!0}})],O.prototype,"length",void 0),(0,l.e)([(0,l.y)({type:String,json:{write:!0}})],O.prototype,"name",void 0),(0,l.e)([(0,l.y)({type:Boolean,json:{write:!0}})],O.prototype,"nullable",void 0),(0,l.e)([(0,y.r)(f.i)],O.prototype,"type",void 0),(0,l.e)([(0,l.y)()],O.prototype,"valueType",void 0),(0,l.e)([(0,d.o)("valueType",["description"])],O.prototype,"readValueType",null),(0,l.e)([(0,l.y)({type:Boolean,json:{read:!1}})],O.prototype,"visible",void 0);var L=O=B=(0,l.e)([(0,l.n)("esri.layers.support.Field")],O)},630:function(e,t,r){r.d(t,{a:function(){return y},c:function(){return p},d:function(){return d}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(48848),l=r(93661),u=r(50690),p=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).updating=!1,e._handleId=0,e._handles=new s.X,e._scheduleHandleId=0,e._pendingPromises=new Set,e}return(0,o.Z)(r,[{key:"destroy",value:function(){this.removeAll(),this._handles.destroy()}},{key:"add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,u.l)}},{key:"addWhen",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,u.f)}},{key:"addOnCollectionChange",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.initial,i=void 0!==o&&o,a=n.final,s=void 0!==a&&a,l=++this._handleId;return this._handles.add([(0,u.a)(e,"after-changes",this._createSyncUpdatingCallback(),u.U),(0,u.a)(e,"change",t,{onListenerAdd:i?function(e){return t({added:e.toArray(),removed:[]})}:void 0,onListenerRemove:s?function(e){return t({added:[],removed:e.toArray()})}:void 0})],l),{remove:function(){return r._handles.remove(l)}}}},{key:"addPromise",value:function(e){var t=this;if((0,l.t)(e))return e;var r=++this._handleId;this._handles.add({remove:function(){t._pendingPromises.delete(e)&&(0!==t._pendingPromises.size||t._handles.has(c)||t._set("updating",!1))}},r),this._pendingPromises.add(e),this._set("updating",!0);var n=function(){return t._handles.remove(r)};return e.then(n,n),e}},{key:"removeAll",value:function(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}},{key:"_installWatch",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=++this._handleId;n.sync||this._installSyncUpdatingWatch(e,i);var a=o(e,t,n);return this._handles.add(a,i),{remove:function(){return r._handles.remove(i)}}}},{key:"_installSyncUpdatingWatch",value:function(e,t){var r=this._createSyncUpdatingCallback(),n=(0,u.l)(e,r,{sync:!0,equals:function(){return!1}});return this._handles.add(n,t),n}},{key:"_createSyncUpdatingCallback",value:function(){var e=this;return function(){e._handles.remove(c),++e._scheduleHandleId;var t=e._scheduleHandleId;e._get("updating")||e._set("updating",!0),e._handles.add((0,s.k)((function(){t===e._scheduleHandleId&&(e._set("updating",e._pendingPromises.size>0),e._handles.remove(c))})),c)}}}]),r}(s.m);(0,s.e)([(0,s.y)({readOnly:!0})],p.prototype,"updating",void 0),p=(0,s.e)([(0,s.n)("esri.core.support.WatchUpdatingTracking")],p);var c=-42,y=function(e){var t=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"destroy",value:function(){var e,t;this.destroyed||(null!==(e=this._get("handles"))&&void 0!==e&&e.destroy(),null===(t=this._get("updatingHandles"))||void 0===t||t.destroy())}},{key:"handles",get:function(){return this._get("handles")||new s.X}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new p}}]),r}(e);return(0,s.e)([(0,s.y)({readOnly:!0})],t.prototype,"handles",null),(0,s.e)([(0,s.y)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,s.e)([(0,s.n)("esri.core.HandleOwner")],t),t},d=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r)}(y(s.m));d=(0,s.e)([(0,s.n)("esri.core.HandleOwner")],d)},6379:function(e,t,r){r.d(t,{v:function(){return w}});var n=r(1413),o=r(74165),i=r(15861),a=r(15671),s=r(43144),l=r(11752),u=r(61120),p=r(60136),c=r(29388),y=r(48848),d=r(40558),f=r(59389),v=r(93661),m=r(82474),h=r(93116),g=r(21015),w=function(e){var t=function(e){(0,p.Z)(m,e);var t=(0,c.Z)(m);function m(){var e;return(0,a.Z)(this,m),(e=t.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},e.userHasEditingPrivileges=!0,e}return(0,s.Z)(m,[{key:"destroy",value:function(){this.portalItem=(0,v.g)(this.portalItem)}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,r){if(t.itemId)return new g.default({id:t.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,n){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.portalItem||!this.portalItem.id){e.next=14;break}return e.prev=1,e.next=4,Promise.all([r.e(9557),r.e(5249),r.e(3028)]).then(r.bind(r,64789)).then((function(e){return e.l}));case 4:return i=e.sent,(0,y.f)(n),e.next=8,i.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},n);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),(0,y.j)(e.t0)||y.a.getLogger(this.declaredClass).warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"finishLoadEditablePortalLayer",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this._fetchUserHasEditingPrivileges(t).catch((function(e){return(0,y.w)(e),!0}));case 3:e.t1=e.sent,e.t0._set.call(e.t0,"userHasEditingPrivileges",e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchUserHasEditingPrivileges",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.url?null===d.b||void 0===d.b?void 0:d.b.findCredential(this.url):null){e.next=3;break}return e.abrupt("return",!0);case 3:if(S.credential!==r){e.next=7;break}e.t0=S.user,e.next=10;break;case 7:return e.next=9,this._fetchEditingUser(t);case 9:e.t0=e.sent;case 10:return n=e.t0,e.abrupt("return",(S.credential=r,S.user=n,(0,v.t)(n)||null==n.privileges||n.privileges.includes("features:user:edit")));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchEditingUser",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n,i,a,s,l,u,p,c,y;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null===(r=this.portalItem)||void 0===r||null===(n=r.portal)||void 0===n?void 0:n.user)){e.next=3;break}return e.abrupt("return",a);case 3:if(null!==(s=d.b.findServerInfo(null!==(i=this.url)&&void 0!==i?i:""))&&void 0!==s&&s.owningSystemUrl){e.next=6;break}return e.abrupt("return",null);case 6:if(l="".concat(s.owningSystemUrl,"/sharing/rest"),!(u=h.j.getDefault())||!u.loaded||(0,d.F)(u.restUrl)!==(0,d.F)(l)){e.next=9;break}return e.abrupt("return",u.user);case 9:return p="".concat(l,"/community/self"),c=(0,v.r)(t)?t.signal:null,e.next=13,(0,f.b)((0,d.U)(p,{authMode:"no-prompt",query:{f:"json"},signal:c}));case 13:return y=e.sent,e.abrupt("return",y.ok?h.p.fromJSON(y.value.data):null);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(e,t){t&&(t.layer=this),(0,l.Z)((0,u.Z)(m.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var r=t&&t.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||h.j.getDefault());return r&&o&&!(0,d.N)(o.restUrl,r.restUrl)?(t.messages&&t.messages.push(new y.s("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer"),{layer:this})),null):(0,l.Z)((0,u.Z)(m.prototype),"write",this).call(this,e,(0,n.Z)((0,n.Z)({},t),{},{layer:this}))}}]),m}(e);return(0,y.e)([(0,y.y)({type:g.default})],t.prototype,"portalItem",null),(0,y.e)([(0,m.o)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,y.e)([(0,m.r)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,y.e)([(0,y.y)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,y.e)([(0,y.y)({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=(0,y.e)([(0,y.n)("esri.layers.mixins.PortalLayer")],t)},S={credential:null,user:null}},82958:function(e,t,r){r.r(t);var n=r(74165),o=r(1413),i=r(93433),a=r(15861),s=r(37762),l=r(43144),u=r(15671),p=r(60136),c=r(29388),y=r(48848),d=r(93661),f=r(74384),v=r(64998),m=r(25577),h=(r(2821),r(2959)),g=r(93314),w=r(630),S=r(99795),b=r(50690),Z=r(47855),k=r(40558),T=r(82474),N=r(96485),x=r(46817),B=r(95249),P=r(45999),R=r(61903),j=r(24623),I=r(6379),O=r(41820),L=r(1685),_=r(37944),A=r(40114),D=r(93116),M=r(21015),J=r(94518),F=r(39994),C=r(20302),G=r(50647),U=r(63212),E=r(68781),V=r(62610),q=r(92355),W=r(56162),z=(r(59984),r(53586),r(65094),r(60369),r(92072),r(66577),r(89794),r(48200),r(71802),r(33794),r(71147),r(85253),r(84186),r(15529),r(70449),r(21385),r(46337),r(22603),r(56546),r(39926),r(6762),r(86086),r(8141),r(26151),r(91681),r(37856),r(15751),r(79557),r(75255),r(25456),r(65415),r(33795),r(12953),r(89181),r(59389),r(93209),r(81556),r(69717),r(69641),r(15436),function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).break=new _.y({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),n.first=new _.y({color:[0,255,0],size:20,outline:{color:[255,255,255],width:4}}),n.unlocated=new _.y({color:[255,0,0],size:12,outline:{color:[255,255,255],width:3}}),n.last=new _.y({color:[255,0,0],size:20,outline:{color:[255,255,255],width:4}}),n.middle=new _.y({color:[51,51,51],size:12,outline:{color:[0,122,194],width:3}}),n.waypoint=new _.y({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),n}return(0,l.Z)(r)}(A.l));(0,y.e)([(0,y.y)({types:_.j})],z.prototype,"break",void 0),(0,y.e)([(0,y.y)({types:_.j})],z.prototype,"first",void 0),(0,y.e)([(0,y.y)({types:_.j})],z.prototype,"unlocated",void 0),(0,y.e)([(0,y.y)({types:_.j})],z.prototype,"last",void 0),(0,y.e)([(0,y.y)({types:_.j})],z.prototype,"middle",void 0),(0,y.e)([(0,y.y)({types:_.j})],z.prototype,"waypoint",void 0);var H=z=(0,y.e)([(0,y.n)("esri.layers.support.RouteStopSymbols")],z),Y=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).directionLines=new _.m({color:[0,122,194],width:6}),n.directionPoints=new _.y({color:[255,255,255],size:6,outline:{color:[0,122,194],width:2}}),n.pointBarriers=new _.y({style:"x",size:10,outline:{color:[255,0,0],width:3}}),n.polygonBarriers=new _.a({color:[255,170,0,.6],outline:{width:7.5,color:[255,0,0,.6]}}),n.polylineBarriers=new _.m({width:7.5,color:[255,85,0,.7]}),n.routeInfo=new _.m({width:8,color:[20,89,127]}),n.stops=new H,n}return(0,l.Z)(r)}(A.l);(0,y.e)([(0,y.y)({types:_.j})],Y.prototype,"directionLines",void 0),(0,y.e)([(0,y.y)({types:_.j})],Y.prototype,"directionPoints",void 0),(0,y.e)([(0,y.y)({types:_.j})],Y.prototype,"pointBarriers",void 0),(0,y.e)([(0,y.y)({types:_.j})],Y.prototype,"polygonBarriers",void 0),(0,y.e)([(0,y.y)({types:_.j})],Y.prototype,"polylineBarriers",void 0),(0,y.e)([(0,y.y)({types:_.j})],Y.prototype,"routeInfo",void 0),(0,y.e)([(0,y.y)({type:H})],Y.prototype,"stops",void 0);var K=Y=(0,y.e)([(0,y.n)("esri.layers.support.RouteSymbols")],Y),X=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).dataType=null,n.name=null,n.parameterNames=null,n.restrictionUsageParameterName=null,n.timeNeutralAttributeName=null,n.trafficSupport=null,n.units=null,n.usageType=null,n}return(0,l.Z)(r)}(A.l);(0,y.e)([(0,y.y)({type:String})],X.prototype,"dataType",void 0),(0,y.e)([(0,C.r)(G.y,{ignoreUnknown:!1})],X.prototype,"name",void 0),(0,y.e)([(0,y.y)({type:[String]})],X.prototype,"parameterNames",void 0),(0,y.e)([(0,y.y)({type:String})],X.prototype,"restrictionUsageParameterName",void 0),(0,y.e)([(0,C.r)(G.N,{ignoreUnknown:!1})],X.prototype,"timeNeutralAttributeName",void 0),(0,y.e)([(0,y.y)({type:String})],X.prototype,"trafficSupport",void 0),(0,y.e)([(0,y.y)({type:String})],X.prototype,"units",void 0),(0,y.e)([(0,C.r)(G.U)],X.prototype,"usageType",void 0);var Q=X=(0,y.e)([(0,y.n)("esri.rest.support.NetworkAttribute")],X),$=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).buildTime=null,n.name=null,n.networkAttributes=null,n.networkSources=null,n.state=null,n}return(0,l.Z)(r)}(A.l);(0,y.e)([(0,y.y)({type:Number})],$.prototype,"buildTime",void 0),(0,y.e)([(0,y.y)({type:String})],$.prototype,"name",void 0),(0,y.e)([(0,y.y)({type:[Q]})],$.prototype,"networkAttributes",void 0),(0,y.e)([(0,y.y)()],$.prototype,"networkSources",void 0),(0,y.e)([(0,y.y)({type:String})],$.prototype,"state",void 0);var ee=$=(0,y.e)([(0,y.n)("esri.rest.support.NetworkDataset")],$),te=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).accumulateAttributeNames=null,n.currentVersion=null,n.defaultTravelMode=null,n.directionsLanguage=null,n.directionsLengthUnits=null,n.directionsSupportedLanguages=null,n.directionsTimeAttribute=null,n.hasZ=null,n.impedance=null,n.networkDataset=null,n.supportedTravelModes=null,n}return(0,l.Z)(r,[{key:"readAccumulateAttributes",value:function(e){return(0,d.t)(e)?null:e.map((function(e){return G.y.fromJSON(e)}))}},{key:"writeAccumulateAttributes",value:function(e,t,r){!(0,d.t)(e)&&e.length&&(t[r]=e.map((function(e){return G.y.toJSON(e)})))}}]),r}(A.l);(0,y.e)([(0,y.y)()],te.prototype,"accumulateAttributeNames",void 0),(0,y.e)([(0,T.o)("accumulateAttributeNames")],te.prototype,"readAccumulateAttributes",null),(0,y.e)([(0,T.r)("accumulateAttributeNames")],te.prototype,"writeAccumulateAttributes",null),(0,y.e)([(0,y.y)()],te.prototype,"currentVersion",void 0),(0,y.e)([(0,y.y)()],te.prototype,"defaultTravelMode",void 0),(0,y.e)([(0,y.y)()],te.prototype,"directionsLanguage",void 0),(0,y.e)([(0,C.r)(G.r)],te.prototype,"directionsLengthUnits",void 0),(0,y.e)([(0,y.y)()],te.prototype,"directionsSupportedLanguages",void 0),(0,y.e)([(0,C.r)(G.N,{ignoreUnknown:!1})],te.prototype,"directionsTimeAttribute",void 0),(0,y.e)([(0,y.y)()],te.prototype,"hasZ",void 0),(0,y.e)([(0,C.r)(G.y,{ignoreUnknown:!1})],te.prototype,"impedance",void 0),(0,y.e)([(0,y.y)({type:ee})],te.prototype,"networkDataset",void 0),(0,y.e)([(0,y.y)({type:[G.A]})],te.prototype,"supportedTravelModes",void 0);var re=te=(0,y.e)([(0,y.n)("esri.rest.support.NetworkServiceDescription")],te),ne=y.a.getLogger("esri.rest.networkService");function oe(e,t,r,n){n[r]=[t.length,t.length+e.length],e.forEach((function(e){t.push(e.geometry)}))}function ie(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var o,i=(0,s.Z)(n);try{for(i.s();!(o=i.n()).done;){o.value.z=void 0}}catch(a){i.e(a)}finally{i.f()}}}ne.warnOnce("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function ae(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var o,i=(0,s.Z)(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;if((0,d.r)(a)&&a.hasZ)return!0}}catch(l){i.e(l)}finally{i.f()}}}return!1}function se(e,t,r){return le.apply(this,arguments)}function le(){return le=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i,a,s,l,u,p,c,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new y.s("network-service:missing-url","Url to Network service is missing");case 2:return i=(0,F.i)({f:"json",token:r},o),e.next=5,(0,k.U)(t,i);case 5:for(a=e.sent,(s=a.data).supportedTravelModes||(s.supportedTravelModes=[]),l=0;l<s.supportedTravelModes.length;l++)s.supportedTravelModes[l].id||(s.supportedTravelModes[l].id=s.supportedTravelModes[l].itemId);return u=s.currentVersion>=10.4?ce(t,r,o):ue(t,o),e.next=12,u;case 12:return p=e.sent,c=p.defaultTravelMode,d=p.supportedTravelModes,e.abrupt("return",(s.defaultTravelMode=c,s.supportedTravelModes=d,re.fromJSON(s)));case 16:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function ue(e,t){return pe.apply(this,arguments)}function pe(){return pe=(0,a.Z)((0,n.Z)().mark((function e(t,r){var o,i,a,l,u,p,c,y,f,v,m,h,g,w,S,b,Z,T,N,x,B,P,R,j,I,O;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,F.i)({f:"json"},r),e.next=3,(0,k.U)(t.replace(/\/rest\/.*$/i,"/info"),a);case 3:if(l=e.sent,(u=l.data)&&u.owningSystemUrl){e.next=7;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 7:return p=u.owningSystemUrl,c=(0,k.C)(p)+"/sharing/rest/portals/self",e.next=11,(0,k.U)(c,a);case 11:if(y=e.sent,f=y.data,v=(0,d.a)("helperServices.routingUtilities.url",f)){e.next=16;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 16:return m=(0,F.f)(p),h=/\/solve$/i.test(m.path)?"Route":/\/solveclosestfacility$/i.test(m.path)?"ClosestFacility":"ServiceAreas",g=(0,F.i)({f:"json",serviceName:h},r),w=(0,k.C)(v)+"/GetTravelModes/execute",e.next=22,(0,k.U)(w,g);case 22:if(S=e.sent,b=[],Z=null,null!==S&&void 0!==S&&null!==(o=S.data)&&void 0!==o&&null!==(i=o.results)&&void 0!==i&&i.length){T=S.data.results,N=(0,s.Z)(T);try{for(N.s();!(x=N.n()).done;)if("supportedTravelModes"===(B=x.value).paramName){if(null!==(P=B.value)&&void 0!==P&&P.features){R=(0,s.Z)(B.value.features);try{for(R.s();!(j=R.n()).done;)(I=j.value.attributes)&&(O=JSON.parse(I.TravelMode),b.push(O))}catch(n){R.e(n)}finally{R.f()}}}else"defaultTravelMode"===B.paramName&&(Z=B.value)}catch(n){N.e(n)}finally{N.f()}}return e.abrupt("return",{supportedTravelModes:b,defaultTravelMode:Z});case 27:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function ce(e,t,r){return ye.apply(this,arguments)}function ye(){return(ye=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i,a,s,l,u,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(0,F.i)({f:"json",token:r},o),a=(0,k.C)(t)+"/retrieveTravelModes",e.next=5,(0,k.U)(a,i);case 5:return s=e.sent,l=s.data,u=l.supportedTravelModes,p=l.defaultTravelMode,e.abrupt("return",{supportedTravelModes:u,defaultTravelMode:p});case 12:throw e.prev=12,e.t0=e.catch(0),new y.s("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var de=new k.s({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"}),fe=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).description=null,n.type=null,n}return(0,l.Z)(r)}(A.l);(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],fe.prototype,"description",void 0),(0,y.e)([(0,y.y)({type:String,json:{read:de.read,write:de.write}})],fe.prototype,"type",void 0);var ve=fe=(0,y.e)([(0,y.n)("esri.rest.support.GPMessage")],fe),me=new k.s({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"}),he=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).type=null,n}return(0,l.Z)(r)}(ve);(0,y.e)([(0,y.y)({type:String,json:{read:me.read,write:me.write}})],he.prototype,"type",void 0);var ge=he=(0,y.e)([(0,y.n)("esri.rest.support.NAMessage")],he),we=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){return(0,u.Z)(this,r),t.call(this,e)}return(0,l.Z)(r)}(A.l);(0,y.e)([(0,y.y)({json:{read:{source:"string"}}})],we.prototype,"text",void 0),(0,y.e)([(0,C.r)(G.R,{name:"stringType"})],we.prototype,"type",void 0);var Se=we=(0,y.e)([(0,y.n)("esri.rest.support.DirectionsString")],we),be=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).arriveTime=null,n.arriveTimeOffset=null,n.geometry=null,n.strings=null,n}return(0,l.Z)(r,[{key:"readArriveTimeOffset",value:function(e,t){return(0,G.c)(t.ETA,t.arriveTimeUTC)}},{key:"readGeometry",value:function(e,t){return T.w.fromJSON(t.point)}}]),r}(A.l);(0,y.e)([(0,y.y)({type:Date,json:{read:{source:"arriveTimeUTC"}}})],be.prototype,"arriveTime",void 0),(0,y.e)([(0,y.y)()],be.prototype,"arriveTimeOffset",void 0),(0,y.e)([(0,T.o)("arriveTimeOffset",["arriveTimeUTC","ETA"])],be.prototype,"readArriveTimeOffset",null),(0,y.e)([(0,y.y)({type:T.w})],be.prototype,"geometry",void 0),(0,y.e)([(0,T.o)("geometry",["point"])],be.prototype,"readGeometry",null),(0,y.e)([(0,y.y)({type:[Se]})],be.prototype,"strings",void 0);var Ze=be=(0,y.e)([(0,y.n)("esri.rest.support.DirectionsEvent")],be);var ke=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).events=null,n.strings=null,n}return(0,l.Z)(r,[{key:"readGeometry",value:function(e,t){var r=function(e){if((0,d.t)(e)||""===e)return null;var t,r,n,o,i,a,s,l,u=0,p=0,c=0,y=0,f=[],v=0,m=0,h=0;if((i=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(i=[]),0===parseInt(i[v],32)){v=2;var g=parseInt(i[v],32);v++,a=parseInt(i[v],32),v++,1&g&&(m=i.indexOf("|")+1,s=parseInt(i[m],32),m++),2&g&&(h=i.indexOf("|",m)+1,l=parseInt(i[h],32),h++)}else a=parseInt(i[v],32),v++;for(;v<i.length&&"|"!==i[v];){t=parseInt(i[v],32)+u,v++,u=t,r=parseInt(i[v],32)+p,v++,p=r;var w=[t/a,r/a];m&&(o=parseInt(i[m],32)+c,m++,c=o,w.push(o/s)),h&&(n=parseInt(i[h],32)+y,h++,y=n,w.push(n/l)),f.push(w)}return{paths:[f],hasZ:m>0,hasM:h>0}}(t.compressedGeometry);return(0,d.r)(r)?f.m.fromJSON(r):null}}]),r}(v.g);(0,y.e)([(0,y.y)({type:[Ze]})],ke.prototype,"events",void 0),(0,y.e)([(0,T.o)("geometry",["compressedGeometry"])],ke.prototype,"readGeometry",null),(0,y.e)([(0,y.y)({type:[Se]})],ke.prototype,"strings",void 0);var Te=ke=(0,y.e)([(0,y.n)("esri.rest.support.DirectionsFeature")],ke);var Ne=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).extent=null,n.features=null,n.geometryType="polyline",n.routeId=null,n.routeName=null,n.totalDriveTime=null,n.totalLength=null,n.totalTime=null,n}return(0,l.Z)(r,[{key:"readFeatures",value:function(e,t){var r;if(!e)return[];var n=null!==(r=t.summary.envelope.spatialReference)&&void 0!==r?r:t.spatialReference,o=n&&T.k.fromJSON(n);return e.map((function(e){var t=Te.fromJSON(e);if((0,d.r)(t.geometry)&&(t.geometry.spatialReference=o),(0,d.r)(t.events)){var r,n=(0,s.Z)(t.events);try{for(n.s();!(r=n.n()).done;){var i=r.value;(0,d.r)(i.geometry)&&(i.geometry.spatialReference=o)}}catch(a){n.e(a)}finally{n.f()}}return t}))}},{key:"mergedGeometry",get:function(){return this.features?function(e,t){if(0===e.length)return new f.m({spatialReference:t});var r,n=[],o=(0,s.Z)(e);try{for(o.s();!(r=o.n()).done;){var a,l=r.value,u=(0,s.Z)(l.paths);try{for(u.s();!(a=u.n()).done;){var p=a.value;n.push.apply(n,(0,i.Z)(p))}}catch(m){u.e(m)}finally{u.f()}}}catch(m){o.e(m)}finally{o.f()}var c=[];n.forEach((function(e,t){0!==t&&e[0]===n[t-1][0]&&e[1]===n[t-1][1]||c.push(e)}));var y=e[0],d=y.hasM,v=y.hasZ;return new f.m({hasM:d,hasZ:v,paths:[c],spatialReference:t})}(this.features.map((function(e){var t=e.geometry;return(0,d.e)(t)})),this.extent.spatialReference):null}},{key:"strings",get:function(){return this.features.map((function(e){return e.strings})).flat().filter(d.r)}}]),r}(E.default);(0,y.e)([(0,y.y)({type:x.w,json:{read:{source:"summary.envelope"}}})],Ne.prototype,"extent",void 0),(0,y.e)([(0,y.y)()],Ne.prototype,"features",void 0),(0,y.e)([(0,T.o)("features")],Ne.prototype,"readFeatures",null),(0,y.e)([(0,y.y)()],Ne.prototype,"geometryType",void 0),(0,y.e)([(0,y.y)({readOnly:!0})],Ne.prototype,"mergedGeometry",null),(0,y.e)([(0,y.y)()],Ne.prototype,"routeId",void 0),(0,y.e)([(0,y.y)()],Ne.prototype,"routeName",void 0),(0,y.e)([(0,y.y)({value:null,readOnly:!0})],Ne.prototype,"strings",null),(0,y.e)([(0,y.y)({json:{read:{source:"summary.totalDriveTime"}}})],Ne.prototype,"totalDriveTime",void 0),(0,y.e)([(0,y.y)({json:{read:{source:"summary.totalLength"}}})],Ne.prototype,"totalLength",void 0),(0,y.e)([(0,y.y)({json:{read:{source:"summary.totalTime"}}})],Ne.prototype,"totalTime",void 0);var xe=Ne=(0,y.e)([(0,y.n)("esri.rest.support.DirectionsFeatureSet")],Ne),Be=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).directionLines=null,n.directionPoints=null,n.directions=null,n.route=null,n.routeName=null,n.stops=null,n.traversedEdges=null,n.traversedJunctions=null,n.traversedTurns=null,n}return(0,l.Z)(r)}(A.l);(0,y.e)([(0,y.y)({type:E.default,json:{write:!0}})],Be.prototype,"directionLines",void 0),(0,y.e)([(0,y.y)({type:E.default,json:{write:!0}})],Be.prototype,"directionPoints",void 0),(0,y.e)([(0,y.y)({type:xe,json:{write:!0}})],Be.prototype,"directions",void 0),(0,y.e)([(0,y.y)({type:v.g,json:{write:!0}})],Be.prototype,"route",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],Be.prototype,"routeName",void 0),(0,y.e)([(0,y.y)({type:[v.g],json:{write:!0}})],Be.prototype,"stops",void 0),(0,y.e)([(0,y.y)({type:E.default,json:{write:!0}})],Be.prototype,"traversedEdges",void 0),(0,y.e)([(0,y.y)({type:E.default,json:{write:!0}})],Be.prototype,"traversedJunctions",void 0),(0,y.e)([(0,y.y)({type:E.default,json:{write:!0}})],Be.prototype,"traversedTurns",void 0);var Pe=Be=(0,y.e)([(0,y.n)("esri.rest.support.RouteResult")],Be);function Re(e){return e&&E.default.fromJSON(e).features.map((function(e){return e}))}var je=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).messages=null,n.pointBarriers=null,n.polylineBarriers=null,n.polygonBarriers=null,n.routeResults=null,n}return(0,l.Z)(r,[{key:"readPointBarriers",value:function(e,t){return Re(t.barriers)}},{key:"readPolylineBarriers",value:function(e){return Re(e)}},{key:"readPolygonBarriers",value:function(e){return Re(e)}}]),r}(A.l);(0,y.e)([(0,y.y)({type:[ge]})],je.prototype,"messages",void 0),(0,y.e)([(0,y.y)({type:[v.g]})],je.prototype,"pointBarriers",void 0),(0,y.e)([(0,T.o)("pointBarriers",["barriers"])],je.prototype,"readPointBarriers",null),(0,y.e)([(0,y.y)({type:[v.g]})],je.prototype,"polylineBarriers",void 0),(0,y.e)([(0,T.o)("polylineBarriers")],je.prototype,"readPolylineBarriers",null),(0,y.e)([(0,y.y)({type:[v.g]})],je.prototype,"polygonBarriers",void 0),(0,y.e)([(0,T.o)("polygonBarriers")],je.prototype,"readPolygonBarriers",null),(0,y.e)([(0,y.y)({type:[Pe]})],je.prototype,"routeResults",void 0);var Ie=je=(0,y.e)([(0,y.n)("esri.rest.support.RouteSolveResult")],je);function Oe(e){return e instanceof E.default}function Le(e,t,r){return _e.apply(this,arguments)}function _e(){return _e=(0,a.Z)((0,n.Z)().mark((function e(t,r,i){var a,s,l,u,p,c,y,d,f,v,m,h,g,w,S,b;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],s=[],l={},u={},p=(0,F.f)(t),c=p.path,Oe(r.stops)&&oe(r.stops.features,s,"stops.features",l),Oe(r.pointBarriers)&&oe(r.pointBarriers.features,s,"pointBarriers.features",l),Oe(r.polylineBarriers)&&oe(r.polylineBarriers.features,s,"polylineBarriers.features",l),Oe(r.polygonBarriers)&&oe(r.polygonBarriers.features,s,"polygonBarriers.features",l),e.next=4,(0,U.v)(s);case 4:for(d in y=e.sent,l)f=l[d],a.push(d),u[d]=y.slice(f[0],f[1]);if(!ae(u,a)){e.next=17;break}return v=null,e.prev=8,e.next=11,se(c,r.apiKey,i);case 11:v=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:v&&!v.hasZ&&ie(u,a);case 17:for(h in m=function(e){u[e].forEach((function(t,n){r.get(e)[n].geometry=t}))},u)m(h);return g=(0,o.Z)((0,o.Z)({},i),{},{query:(0,o.Z)((0,o.Z)((0,o.Z)({},p.query),(0,G.n)(r)),{},{f:"json"})}),w=c.endsWith("/solve")?c:"".concat(c,"/solve"),e.next=23,(0,k.U)(w,g);case 23:return S=e.sent,b=S.data,e.abrupt("return",Ae(b));case 26:case"end":return e.stop()}}),e,null,[[8,14]])}))),_e.apply(this,arguments)}function Ae(e){var t,r=e.barriers,n=e.directionLines,o=e.directionPoints,i=e.directions,a=e.messages,s=e.polygonBarriers,l=e.polylineBarriers,u=e.routes,p=e.stops,c=e.traversedEdges,y=e.traversedJunctions,f=e.traversedTurns,v=function(e){var t=h.find((function(t){return t.routeName===e}));if((0,d.r)(t))return t;var r={routeId:h.length+1,routeName:e};return h.push(r),r},m=function(e){var t=h.find((function(t){return t.routeId===e}));if((0,d.r)(t))return t;var r={routeId:e,routeName:null};return h.push(r),r},h=[];null!==u&&void 0!==u&&u.features.forEach((function(e,t){e.geometry.spatialReference=u.spatialReference;var r=e.attributes.Name,n=t+1;h.push({routeId:n,routeName:r,route:e})})),null===i||void 0===i||i.forEach((function(e){var t=e.routeName;v(t).directions=e}));var g=null!==(t=null===p||void 0===p?void 0:p.features.every((function(e){return(0,d.t)(e.attributes.RouteName)})))&&void 0!==t&&t&&h.length>0?h[0].routeName:null;return null!==p&&void 0!==p&&p.features.forEach((function(e){var t,r,n;e.geometry&&(null!==(t=(n=e.geometry).spatialReference)&&void 0!==t||(n.spatialReference=p.spatialReference));var o=null!==g&&void 0!==g?g:e.attributes.RouteName,i=v(o);null!==(r=i.stops)&&void 0!==r||(i.stops=[]),i.stops.push(e)})),null!==n&&void 0!==n&&n.features.forEach((function(e){var t,r=e.attributes.RouteID,o=m(r),i=n.geometryType,a=n.spatialReference;null!==(t=o.directionLines)&&void 0!==t||(o.directionLines={features:[],geometryType:i,spatialReference:a}),o.directionLines.features.push(e)})),null!==o&&void 0!==o&&o.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r),i=o.geometryType,a=o.spatialReference;null!==(t=n.directionPoints)&&void 0!==t||(n.directionPoints={features:[],geometryType:i,spatialReference:a}),n.directionPoints.features.push(e)})),null!==c&&void 0!==c&&c.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r),o=c.geometryType,i=c.spatialReference;null!==(t=n.traversedEdges)&&void 0!==t||(n.traversedEdges={features:[],geometryType:o,spatialReference:i}),n.traversedEdges.features.push(e)})),null!==y&&void 0!==y&&y.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r),o=y.geometryType,i=y.spatialReference;null!==(t=n.traversedJunctions)&&void 0!==t||(n.traversedJunctions={features:[],geometryType:o,spatialReference:i}),n.traversedJunctions.features.push(e)})),null!==f&&void 0!==f&&f.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r);null!==(t=n.traversedTurns)&&void 0!==t||(n.traversedTurns={features:[]}),n.traversedTurns.features.push(e)})),Ie.fromJSON({routeResults:h,barriers:r,polygonBarriers:s,polylineBarriers:l,messages:a})}var De=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).doNotLocateOnRestrictedElements=null,n.geometry=null,n.geometryType=null,n.name=null,n.spatialRelationship=null,n.type="layer",n.where=null,n}return(0,l.Z)(r)}((0,V.i)(A.l));(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],De.prototype,"doNotLocateOnRestrictedElements",void 0),(0,y.e)([(0,y.y)({types:f.i,json:{read:W.v,write:!0}})],De.prototype,"geometry",void 0),(0,y.e)([(0,C.r)(G.w)],De.prototype,"geometryType",void 0),(0,y.e)([(0,y.y)({type:String,json:{name:"layerName",write:!0}})],De.prototype,"name",void 0),(0,y.e)([(0,C.r)(G.S,{name:"spatialRel"})],De.prototype,"spatialRelationship",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],De.prototype,"type",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],De.prototype,"where",void 0);var Me,Je=De=(0,y.e)([(0,y.n)("esri.rest.support.DataLayer")],De),Fe=Me=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).doNotLocateOnRestrictedElements=null,n}return(0,l.Z)(r,[{key:"clone",value:function(){return new Me((0,o.Z)({doNotLocateOnRestrictedElements:this.doNotLocateOnRestrictedElements},this.cloneProperties()))}}]),r}(E.default);(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],Fe.prototype,"doNotLocateOnRestrictedElements",void 0);var Ce=Fe=Me=(0,y.e)([(0,y.n)("esri.rest.support.NetworkFeatureSet")],Fe),Ge=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).doNotLocateOnRestrictedElements=null,n.url=null,n}return(0,l.Z)(r)}((0,V.i)(A.l));(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],Ge.prototype,"doNotLocateOnRestrictedElements",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],Ge.prototype,"url",void 0);var Ue,Ee=Ge=(0,y.e)([(0,y.n)("esri.rest.support.NetworkUrl")],Ge);function Ve(e,t,r){(0,d.r)(e)&&(t[r]=g.j.isCollection(e)?{features:e.toArray().map((function(e){return e.toJSON()}))}:e.toJSON())}var qe=Ue=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).accumulateAttributes=null,n.apiKey=null,n.attributeParameterValues=null,n.directionsLanguage=null,n.directionsLengthUnits=null,n.directionsOutputType=null,n.directionsStyleName=null,n.directionsTimeAttribute=null,n.findBestSequence=null,n.geometryPrecision=null,n.geometryPrecisionM=null,n.geometryPrecisionZ=null,n.ignoreInvalidLocations=null,n.impedanceAttribute=null,n.outputGeometryPrecision=null,n.outputGeometryPrecisionUnits=null,n.outputLines="true-shape",n.outSpatialReference=null,n.overrides=null,n.pointBarriers=null,n.polygonBarriers=null,n.polylineBarriers=null,n.preserveFirstStop=null,n.preserveLastStop=null,n.preserveObjectID=null,n.restrictionAttributes=null,n.restrictUTurns=null,n.returnBarriers=!1,n.returnDirections=!1,n.returnPolygonBarriers=!1,n.returnPolylineBarriers=!1,n.returnRoutes=!0,n.returnStops=!1,n.returnTraversedEdges=null,n.returnTraversedJunctions=null,n.returnTraversedTurns=null,n.returnZ=!0,n.startTime=null,n.startTimeIsUTC=!0,n.stops=null,n.timeWindowsAreUTC=null,n.travelMode=null,n.useHierarchy=null,n.useTimeWindows=null,n}return(0,l.Z)(r,[{key:"readAccumulateAttributes",value:function(e){return(0,d.t)(e)?null:e.map((function(e){return G.y.fromJSON(e)}))}},{key:"writeAccumulateAttributes",value:function(e,t,r){!(0,d.t)(e)&&e.length&&(t[r]=e.map((function(e){return G.y.toJSON(e)})))}},{key:"writePointBarriers",value:function(e,t,r){Ve(e,t,r)}},{key:"writePolygonBarrier",value:function(e,t,r){Ve(e,t,r)}},{key:"writePolylineBarrier",value:function(e,t,r){Ve(e,t,r)}},{key:"readRestrictionAttributes",value:function(e){return(0,d.t)(e)?null:e.map((function(e){return G.d.fromJSON(e)}))}},{key:"writeRestrictionAttributes",value:function(e,t,r){!(0,d.t)(e)&&e.length&&(t[r]=e.map((function(e){return G.d.toJSON(e)})))}},{key:"readStartTime",value:function(e,t){var r=t.startTime;return(0,d.t)(r)?null:"now"===r?"now":new Date(r)}},{key:"writeStartTime",value:function(e,t){(0,d.t)(e)||(t.startTime="now"===e?"now":e.getTime())}},{key:"readStops",value:function(e,t){return function(e){return function(e){return e&&"type"in e}(e)?Je.fromJSON(e):function(e){return e&&"url"in e}(e)?Ee.fromJSON(e):function(e){return e&&"features"in e&&"doNotLocateOnRestrictedElements"in e}(e)?Ce.fromJSON(e):function(e){return e&&"features"in e}(e)?E.default.fromJSON(e):null}(t.stops)}},{key:"writeStops",value:function(e,t,r){Ve(e,t,r)}}],[{key:"from",value:function(e){return(0,y.Q)(Ue,e)}}]),r}((0,V.i)(A.l));(0,y.e)([(0,y.y)({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],qe.prototype,"accumulateAttributes",void 0),(0,y.e)([(0,T.o)("accumulateAttributes")],qe.prototype,"readAccumulateAttributes",null),(0,y.e)([(0,T.r)("accumulateAttributes")],qe.prototype,"writeAccumulateAttributes",null),(0,y.e)([(0,y.y)(q.t)],qe.prototype,"apiKey",void 0),(0,y.e)([(0,y.y)({json:{write:!0}})],qe.prototype,"attributeParameterValues",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],qe.prototype,"directionsLanguage",void 0),(0,y.e)([(0,C.r)(G.r)],qe.prototype,"directionsLengthUnits",void 0),(0,y.e)([(0,C.r)(G.s)],qe.prototype,"directionsOutputType",void 0),(0,y.e)([(0,C.r)(G.e)],qe.prototype,"directionsStyleName",void 0),(0,y.e)([(0,C.r)(G.N,{name:"directionsTimeAttributeName",ignoreUnknown:!1})],qe.prototype,"directionsTimeAttribute",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"findBestSequence",void 0),(0,y.e)([(0,y.y)({type:Number,json:{write:!0}})],qe.prototype,"geometryPrecision",void 0),(0,y.e)([(0,y.y)({type:Number,json:{write:!0}})],qe.prototype,"geometryPrecisionM",void 0),(0,y.e)([(0,y.y)({type:Number,json:{write:!0}})],qe.prototype,"geometryPrecisionZ",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"ignoreInvalidLocations",void 0),(0,y.e)([(0,C.r)(G.y,{name:"impedanceAttributeName",ignoreUnknown:!1})],qe.prototype,"impedanceAttribute",void 0),(0,y.e)([(0,y.y)({type:Number,json:{write:!0}})],qe.prototype,"outputGeometryPrecision",void 0),(0,y.e)([(0,C.r)(G.i)],qe.prototype,"outputGeometryPrecisionUnits",void 0),(0,y.e)([(0,C.r)(G.j)],qe.prototype,"outputLines",void 0),(0,y.e)([(0,y.y)({type:T.k,json:{name:"outSR",write:!0}})],qe.prototype,"outSpatialReference",void 0),(0,y.e)([(0,y.y)({json:{write:!0}})],qe.prototype,"overrides",void 0),(0,y.e)([(0,y.y)({json:{name:"barriers",write:!0}})],qe.prototype,"pointBarriers",void 0),(0,y.e)([(0,T.r)("pointBarriers")],qe.prototype,"writePointBarriers",null),(0,y.e)([(0,y.y)({json:{write:!0}})],qe.prototype,"polygonBarriers",void 0),(0,y.e)([(0,T.r)("polygonBarriers")],qe.prototype,"writePolygonBarrier",null),(0,y.e)([(0,y.y)({json:{write:!0}})],qe.prototype,"polylineBarriers",void 0),(0,y.e)([(0,T.r)("polylineBarriers")],qe.prototype,"writePolylineBarrier",null),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"preserveFirstStop",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"preserveLastStop",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"preserveObjectID",void 0),(0,y.e)([(0,y.y)({type:[String],json:{name:"restrictionAttributeNames",write:!0}})],qe.prototype,"restrictionAttributes",void 0),(0,y.e)([(0,T.o)("restrictionAttributes")],qe.prototype,"readRestrictionAttributes",null),(0,y.e)([(0,T.r)("restrictionAttributes")],qe.prototype,"writeRestrictionAttributes",null),(0,y.e)([(0,C.r)(G.k)],qe.prototype,"restrictUTurns",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"returnBarriers",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"returnDirections",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"returnPolygonBarriers",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"returnPolylineBarriers",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"returnRoutes",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"returnStops",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"returnTraversedEdges",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"returnTraversedJunctions",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"returnTraversedTurns",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"returnZ",void 0),(0,y.e)([(0,y.y)({type:Date,json:{type:Number,write:!0}})],qe.prototype,"startTime",void 0),(0,y.e)([(0,T.o)("startTime")],qe.prototype,"readStartTime",null),(0,y.e)([(0,T.r)("startTime")],qe.prototype,"writeStartTime",null),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"startTimeIsUTC",void 0),(0,y.e)([(0,y.y)({json:{write:!0}})],qe.prototype,"stops",void 0),(0,y.e)([(0,T.o)("stops")],qe.prototype,"readStops",null),(0,y.e)([(0,T.r)("stops")],qe.prototype,"writeStops",null),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"timeWindowsAreUTC",void 0),(0,y.e)([(0,y.y)({type:G.A,json:{write:!0}})],qe.prototype,"travelMode",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"useHierarchy",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],qe.prototype,"useTimeWindows",void 0);var We=qe=Ue=(0,y.e)([(0,y.n)("esri.rest.support.RouteParameters")],qe);function ze(e){return e.length?e:null}function He(e){var t=e.defaultTravelMode,r=e.supportedTravelModes;return null===r||void 0===r?void 0:r.find((function(e){return e.id===t}))}function Ye(e){switch(e){case"esriGeometryPoint":return{type:"esriSMS",style:"esriSMSCircle",size:12,color:[0,0,0,0],outline:Ye("esriGeometryPolyline")};case"esriGeometryPolyline":return{type:"esriSLS",style:"esriSLSSolid",width:1,color:[0,0,0,0]};case"esriGeometryPolygon":return{type:"esriSFS",style:"esriSFSNull",outline:Ye("esriGeometryPolyline")}}}function Ke(e){return"layers"in e}function Xe(e){return"esri.rest.support.FeatureSet"===e.declaredClass}function Qe(e){return"esri.rest.support.NetworkFeatureSet"===e.declaredClass}function $e(e,t,r){var n,o,i,a,l,u,p,c,f,v,m,h,g,w=null===(n=t.networkDataset)||void 0===n?void 0:n.networkAttributes,S=null!==(o=null===w||void 0===w?void 0:w.filter((function(e){return"cost"===e.usageType})))&&void 0!==o?o:[],b=He(t),Z=null!==(i=r.travelMode)&&void 0!==i?i:b;if((0,d.t)(Z))ct.warn("route-layer:missing-travel-mode","The routing service must have a default travel mode or one must be specified in the route parameter.");else{var k=Z.timeAttributeName,T=Z.distanceAttributeName,N=S.find((function(e){return e.name===k})),x=S.find((function(e){return e.name===T})),B=null!==(a=null!==(l=null===(u=(0,d.e)(r.travelMode))||void 0===u?void 0:u.impedanceAttributeName)&&void 0!==l?l:(0,d.e)(r.impedanceAttribute))&&void 0!==a?a:t.impedance,P=G.t.fromJSON(null===N||void 0===N?void 0:N.units),R=G.r.fromJSON(null===x||void 0===x?void 0:x.units);if(!P||!R)throw new y.s("routelayer:unknown-impedance-units","the units of either the distance or time impedance are unknown");var j,I=null!==(p=r.directionsLanguage)&&void 0!==p?p:t.directionsLanguage,O=null!==(c=null!==(f=(0,d.e)(r.accumulateAttributes))&&void 0!==f?f:t.accumulateAttributeNames)&&void 0!==c?c:[],L=new Set(S.filter((function(e){var t=e.name;return t===k||t===T||t===B||null!=t&&O.includes(t)})).map((function(e){return e.name}))),_=function(e){for(var t in e)L.has(t)||delete e[t]},A=(0,s.Z)(e.pointBarriers);try{for(A.s();!(j=A.n()).done;){var D,M=j.value;(0,d.r)(M.costs)&&(M.addedCost=null!==(D=M.costs[B])&&void 0!==D?D:0,_(M.costs))}}catch(le){A.e(le)}finally{A.f()}var J,F=(0,s.Z)(e.polygonBarriers);try{for(F.s();!(J=F.n()).done;){var C,U=J.value;(0,d.r)(U.costs)&&(U.scaleFactor=null!==(C=U.costs[B])&&void 0!==C?C:1,_(U.costs))}}catch(le){F.e(le)}finally{F.f()}var E,V=(0,s.Z)(e.polylineBarriers);try{for(V.s();!(E=V.n()).done;){var q,W=E.value;(0,d.r)(W.costs)&&(W.scaleFactor=null!==(q=W.costs[B])&&void 0!==q?q:1,_(W.costs))}}catch(le){V.e(le)}finally{V.f()}var z=e.routeInfo,H=r.findBestSequence,Y=r.preserveFirstStop,K=r.preserveLastStop,X=r.startTimeIsUTC,Q=r.timeWindowsAreUTC;z.analysisSettings=new G.l({accumulateAttributes:O,directionsLanguage:I,findBestSequence:H,preserveFirstStop:Y,preserveLastStop:K,startTimeIsUTC:X,timeWindowsAreUTC:Q,travelMode:Z}),z.totalDuration=rt(null!==(v=z.totalCosts[k])&&void 0!==v?v:0,P),z.totalDistance=nt(null!==(m=z.totalCosts[T])&&void 0!==m?m:0,R),z.totalLateDuration=rt(null!==(h=z.totalViolations[k])&&void 0!==h?h:0,P),z.totalWaitDuration=rt(null!==(g=z.totalWait[k])&&void 0!==g?g:0,P),(0,d.r)(z.totalCosts)&&_(z.totalCosts),(0,d.r)(z.totalViolations)&&_(z.totalViolations),(0,d.r)(z.totalWait)&&_(z.totalWait);var $,ee=(0,s.Z)(e.stops);try{for(ee.s();!($=ee.n()).done;){var te,re,ne,oe,ie,ae,se=$.value;(0,d.r)(se.serviceCosts)&&(se.serviceDuration=rt(null!==(te=se.serviceCosts[k])&&void 0!==te?te:0,P),se.serviceDistance=nt(null!==(re=se.serviceCosts[T])&&void 0!==re?re:0,R),_(se.serviceCosts)),(0,d.r)(se.cumulativeCosts)&&(se.cumulativeDuration=rt(null!==(ne=se.cumulativeCosts[k])&&void 0!==ne?ne:0,P),se.cumulativeDistance=nt(null!==(oe=se.cumulativeCosts[T])&&void 0!==oe?oe:0,R),_(se.cumulativeCosts)),(0,d.r)(se.violations)&&(se.lateDuration=rt(null!==(ie=se.violations[k])&&void 0!==ie?ie:0,P),_(se.violations)),(0,d.r)(se.wait)&&(se.waitDuration=rt(null!==(ae=se.wait[k])&&void 0!==ae?ae:0,P),_(se.wait))}}catch(le){ee.e(le)}finally{ee.f()}}}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T.k.WGS84,e.next=3,(0,B._)(t.spatialReference,r);case 3:return e.abrupt("return",(0,B.r)(t,r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t){switch(t){case"seconds":return e/60;case"hours":return 60*e;case"days":return 60*e*24;default:return e}}function nt(e,t){return"decimal-degrees"===t||"points"===t||"unknown"===t?e:(0,Z.a)(e,t,"meters")}var ot=g.j.ofType(G.b),it=g.j.ofType(G.h),at=g.j.ofType(G.O),st=g.j.ofType(G.g),lt=g.j.ofType(G.f),ut=g.j.ofType(G.D),pt="esri.layers.RouteLayer",ct=y.a.getLogger(pt),yt=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;(0,u.Z)(this,r),(n=t.call(this,e))._cachedServiceDescription=null,n._featureCollection=null,n._type="Feature Collection",n.defaultSymbols=new K,n.directionLines=null,n.directionPoints=null,n.featureCollectionType="route",n.legendEnabled=!1,n.maxScale=0,n.minScale=0,n.pointBarriers=new at,n.polygonBarriers=new st,n.polylineBarriers=new lt,n.routeInfo=null,n.spatialReference=T.k.WGS84,n.stops=new ut,n.type="route";var o=function(){n._setStopSymbol(n.stops)};return n.addHandles((0,b.a)((function(){return n.stops}),"change",o,{sync:!0,onListenerAdd:o})),n}return(0,l.Z)(r,[{key:"writeFeatureCollectionWebmap",value:function(e,t,r,n){var o=[this._writePolygonBarriers(),this._writePolylineBarriers(),this._writePointBarriers(),this._writeRouteInfo(),this._writeDirectionLines(),this._writeDirectionPoints(),this._writeStops()].filter((function(e){return!!e})),i=o.map((function(e,t){return t})),a="web-map"===n.origin?"featureCollection.layers":"layers";(0,d.o)(a,o,t),t.opacity=this.opacity,t.visibility=this.visible,t.visibleLayers=i}},{key:"readDirectionLines",value:function(e,t){return this._getNetworkFeatures(t,"DirectionLines",(function(e){return G.b.fromGraphic(e)}))}},{key:"readDirectionPoints",value:function(e,t){return this._getNetworkFeatures(t,"DirectionPoints",(function(e){return G.h.fromGraphic(e)}))}},{key:"fullExtent",get:function(){var e,t=new x.w({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:T.k.WGS84});if((0,d.r)(this.routeInfo)&&(0,d.r)(this.routeInfo.geometry))return null!==(e=this.routeInfo.geometry.extent)&&void 0!==e?e:t;if((0,d.t)(this.stops))return t;var r=this.stops.filter((function(e){return(0,d.r)(e.geometry)}));if(r.length<2)return t;var n=r.getItemAt(0).geometry.spatialReference;if((0,d.t)(n))return t;var o=r.toArray().map((function(e){var t=e.geometry;return[t.x,t.y]}));return new f.u({points:o,spatialReference:n}).extent}},{key:"readMaxScale",value:function(e,t){var r,n;return null!==(r=null===(n=(Ke(t)?t.layers:t.featureCollection.layers).find((function(e){return(0,d.r)(e.layerDefinition.maxScale)})))||void 0===n?void 0:n.layerDefinition.maxScale)&&void 0!==r?r:0}},{key:"readMinScale",value:function(e,t){var r,n;return null!==(r=null===(n=(Ke(t)?t.layers:t.featureCollection.layers).find((function(e){return(0,d.r)(e.layerDefinition.minScale)})))||void 0===n?void 0:n.layerDefinition.minScale)&&void 0!==r?r:0}},{key:"readPointBarriers",value:function(e,t){return this._getNetworkFeatures(t,"Barriers",(function(e){return G.O.fromGraphic(e)}))}},{key:"readPolygonBarriers",value:function(e,t){return this._getNetworkFeatures(t,"PolygonBarriers",(function(e){return G.g.fromGraphic(e)}))}},{key:"readPolylineBarriers",value:function(e,t){return this._getNetworkFeatures(t,"PolylineBarriers",(function(e){return G.f.fromGraphic(e)}))}},{key:"readRouteInfo",value:function(e,t){var r=this._getNetworkFeatures(t,"RouteInfo",(function(e){return G.a.fromGraphic(e)}));return r.length>0?r.getItemAt(0):null}},{key:"readSpatialReference",value:function(e,t){var r,n,o,i,a,s=Ke(t)?t.layers:t.featureCollection.layers;if(!s.length)return T.k.WGS84;var l=s[0],u=l.layerDefinition,p=l.featureSet,c=p.features[0],y=null!==(r=null!==(n=null!==(o=null!==(i=null===(a=(0,d.e)(null===c||void 0===c?void 0:c.geometry))||void 0===a?void 0:a.spatialReference)&&void 0!==i?i:p.spatialReference)&&void 0!==o?o:u.spatialReference)&&void 0!==n?n:u.extent.spatialReference)&&void 0!==r?r:T.n;return T.k.fromJSON(y)}},{key:"readStops",value:function(e,t){var r=this;return this._getNetworkFeatures(t,"Stops",(function(e){return G.D.fromGraphic(e)}),(function(e){return r._setStopSymbol(e)}))}},{key:"title",get:function(){return(0,d.r)(this.routeInfo)&&(0,d.r)(this.routeInfo.name)?this.routeInfo.name:"Route"},set:function(e){this._overrideIfSome("title",e)}},{key:"url",get:function(){return d.s.routeServiceUrl},set:function(e){null!=e?this._set("url",(0,L.S)(e,ct)):this._set("url",d.s.routeServiceUrl)}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)}},{key:"removeAll",value:function(){this.removeResult(),this.pointBarriers.removeAll(),this.polygonBarriers.removeAll(),this.polylineBarriers.removeAll(),this.stops.removeAll()}},{key:"removeResult",value:function(){(0,d.r)(this.directionLines)&&(this.directionLines.removeAll(),this._set("directionLines",null)),(0,d.r)(this.directionPoints)&&(this.directionPoints.removeAll(),this._set("directionPoints",null)),(0,d.r)(this.routeInfo)&&this._set("routeInfo",null)}},{key:"save",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,o,i,a,s,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:if(t=this.fullExtent,r=this.portalItem){e.next=5;break}throw new y.s("routelayer:portal-item-not-set","save() requires to the layer to have a portal item");case 5:if(r.id){e.next=7;break}throw new y.s("routelayer:portal-item-not-saved","Please use saveAs() first to save the routelayer");case 7:if("Feature Collection"===r.type){e.next=9;break}throw new y.s("routelayer:portal-item-wrong-type",'Portal item needs to have type "Feature Collection"');case 9:if(!(0,d.t)(this.routeInfo)){e.next=11;break}throw new y.s("routelayer:route-unsolved","save() requires a solved route");case 11:return o=r.portal,e.next=14,o._signIn();case 14:if(e.t0=o.user,e.t0){e.next=18;break}return e.next=18,r.reload();case 18:if(i=r.itemUrl,"admin"===(a=r.itemControl)||"update"===a){e.next=21;break}throw new y.s("routelayer:insufficient-permissions","To save this layer, you need to be the owner or an administrator of your organization");case 21:return s={messages:[],origin:"portal-item",portal:o,url:i&&(0,k.j)(i),writtenProperties:[]},l=this.write(null,s),e.next=24,et(t);case 24:return r.extent=e.sent,r.title=this.title,e.next=28,r.update({data:l});case 28:return e.abrupt("return",r);case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveAs",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,o,i,a,s,l,u,p,c,f=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>1&&void 0!==f[1]?f[1]:{},e.next=3,this.load();case 3:if(!(0,d.t)(this.routeInfo)){e.next=5;break}throw new y.s("routelayer:route-unsolved","saveAs() requires a solved route");case 5:if(s=M.default.from(t).clone(),null===(r=s.extent)||void 0===r){e.next=10;break}e.next=13;break;case 10:return e.next=12,et(this.fullExtent);case 12:s.extent=e.sent;case 13:return s.id=null,null!==(o=s.portal)&&void 0!==o||(s.portal=D.j.getDefault()),null!==(i=s.title)&&void 0!==i||(s.title=this.title),s.type="Feature Collection",s.typeKeywords=["Data","Feature Collection",J.f.MULTI_LAYER,"Route Layer"],l=s.portal,u={messages:[],origin:"portal-item",portal:l,url:null,writtenProperties:[]},e.next=21,l._signIn();case 21:return p=null===a||void 0===a?void 0:a.folder,c=this.write(null,u),e.next=24,l.user.addItem({item:s,folder:p,data:c});case 24:return this.portalItem=s,(0,N.i)(u),u.portalItem=s,e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"solve",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var o,i,a,l,u,p,c,f,v,m,h,w,S,b,Z,k,T,N,x,B,P,R,j;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=null!==(o=null===t||void 0===t?void 0:t.stops)&&void 0!==o?o:this.stops,c=null!==(i=null===t||void 0===t?void 0:t.pointBarriers)&&void 0!==i?i:ze(this.pointBarriers),f=null!==(a=null===t||void 0===t?void 0:t.polylineBarriers)&&void 0!==a?a:ze(this.polylineBarriers),v=null!==(l=null===t||void 0===t?void 0:t.polygonBarriers)&&void 0!==l?l:ze(this.polygonBarriers),!(0,d.t)(p)){e.next=3;break}throw new y.s("routelayer:undefined-stops","the route layer must have stops defined in the route parameters.");case 3:if(!((Xe(p)||Qe(p))&&p.features.length<2||g.j.isCollection(p)&&p.length<2)){e.next=5;break}throw new y.s("routelayer:insufficent-stops","the route layer must have two or more stops to solve a route.");case 5:if(g.j.isCollection(p)){m=(0,s.Z)(p);try{for(m.s();!(h=m.n()).done;)h.value.routeName=null}catch(n){m.e(n)}finally{m.f()}}return w=null===t||void 0===t?void 0:t.apiKey,S=this.url,e.next=10,this._getServiceDescription(S,w,r);case 10:for(P in b=e.sent,Z=He(b),k=null!==(u=null===t||void 0===t?void 0:t.travelMode)&&void 0!==u?u:Z,T=(0,d.a7)(null===t||void 0===t?void 0:t.accumulateAttributes,[]),(0,d.r)(k)&&(T.push(k.distanceAttributeName),k.timeAttributeName&&T.push(k.timeAttributeName)),N={startTime:new Date},x={accumulateAttributes:T,directionsOutputType:"featuresets",ignoreInvalidLocations:!0,pointBarriers:c,polylineBarriers:f,polygonBarriers:v,preserveFirstStop:!0,preserveLastStop:!0,returnBarriers:!!c,returnDirections:!0,returnPolygonBarriers:!!v,returnPolylineBarriers:!!f,returnRoutes:!0,returnStops:!0,stops:p},B=t?We.from(t):new We,N)null==B[P]&&(B[P]=N[P]);return B.set(x),e.prev=18,e.next=21,Le(S,B,r);case 21:R=e.sent,e.next=27;break;case 24:throw e.prev=24,e.t0=e.catch(18),(0,y.j)(e.t0)?e.t0:new y.s("routelayer:failed-route-request","the routing request failed",{error:e.t0});case 27:return j=this._toRouteLayerSolution(R),e.abrupt("return",(this._isOverridden("title")||(this.title=(0,d.a7)(j.routeInfo.name,"Route")),$e(j,b,B),j));case 29:case"end":return e.stop()}}),e,this,[[18,24]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"update",value:function(e){var t=e.stops,r=e.directionLines,n=e.directionPoints,o=e.pointBarriers,i=e.polylineBarriers,a=e.polygonBarriers,s=e.routeInfo;this.set({stops:t,pointBarriers:o,polylineBarriers:i,polygonBarriers:a}),this._set("directionLines",r),this._set("directionPoints",n),this._set("routeInfo",s),(0,d.r)(s.geometry)&&(this.spatialReference=s.geometry.spatialReference)}},{key:"_getNetworkFeatures",value:function(e,t,r,n){var o,i,a,s=this,l=(Ke(e)?e.layers:e.featureCollection.layers).find((function(e){return e.layerDefinition.name===t}));if((0,d.t)(l))return new g.j;var u=l.layerDefinition,p=l.popupInfo,c=l.featureSet,y=u.drawingInfo.renderer,f=c.features,w=null!==(o=null!==(i=null!==(a=c.spatialReference)&&void 0!==a?a:u.spatialReference)&&void 0!==i?i:u.extent.spatialReference)&&void 0!==o?o:T.n,S=y&&(0,h.o)(y),b=T.k.fromJSON(w),Z=f.map((function(e){var n,o,i,a=v.g.fromJSON(e);(0,d.r)(a.geometry)&&(0,d.r)(e.geometry)&&(0,d.t)(e.geometry.spatialReference)&&(a.geometry.spatialReference=b);var l=r(a);return null!==(n=l.symbol)&&void 0!==n||(l.symbol=null!==(o=null===S||void 0===S?void 0:S.getSymbol(a))&&void 0!==o?o:s._getNetworkSymbol(t)),null!==(i=l.popupTemplate)&&void 0!==i||(l.popupTemplate=p&&m.k.fromJSON(p)),l}));return n&&Z.some((function(e){return!e.symbol}))&&n(Z),new g.j(Z)}},{key:"_getNetworkSymbol",value:function(e){switch(e){case"Barriers":return this.defaultSymbols.pointBarriers;case"DirectionPoints":return this.defaultSymbols.directionPoints;case"DirectionLines":return this.defaultSymbols.directionLines;case"PolylineBarriers":return this.defaultSymbols.polylineBarriers;case"PolygonBarriers":return this.defaultSymbols.polygonBarriers;case"RouteInfo":return this.defaultSymbols.routeInfo;case"Stops":return null}}},{key:"_getServiceDescription",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,d.r)(this._cachedServiceDescription)||this._cachedServiceDescription.url!==t){e.next=2;break}return e.abrupt("return",this._cachedServiceDescription.serviceDescription);case 2:return e.next=4,se(t,r,o);case 4:return i=e.sent,e.abrupt("return",(this._cachedServiceDescription={serviceDescription:i,url:t},i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_setStopSymbol",value:function(e){if(e&&0!==e.length&&!(0,d.t)(this.defaultSymbols.stops)&&!e.every((function(e){return(0,d.r)(e.symbol)}))){var t=this.defaultSymbols.stops,r=t.first,n=t.last,o=t.middle,a=t.unlocated,l=t.waypoint,u=t.break;if((0,d.t)(this.routeInfo)||1===e.length)e.forEach((function(t,i){switch(i){case 0:t.symbol=r;break;case e.length-1:t.symbol=n;break;default:t.symbol=o}}));else{var p,c=e.map((function(e){return e.sequence})).filter((function(e){return(0,d.r)(e)})),y=Math.min.apply(Math,(0,i.Z)(c)),f=Math.max.apply(Math,(0,i.Z)(c)),v=(0,s.Z)(e);try{for(v.s();!(p=v.n()).done;){var m=p.value;m.sequence!==y?m.sequence!==f?"ok"===m.status||"not-located-on-closest"===m.status?"waypoint"!==m.locationType?"break"!==m.locationType?m.symbol=o:m.symbol=u:m.symbol=l:m.symbol=a:m.symbol=n:m.symbol=r}}catch(h){v.e(h)}finally{v.f()}}}}},{key:"_toRouteLayerSolution",value:function(e){var t,r,n,o,i,a=this,s=e.routeResults[0].stops.map((function(e){return G.D.fromJSON(e.toJSON())}));this._setStopSymbol(s);var l=new ut(s),u=new st(null===(t=e.polygonBarriers)||void 0===t?void 0:t.map((function(e){var t=G.g.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.polygonBarriers,t}))),p=new lt(null===(r=e.polylineBarriers)||void 0===r?void 0:r.map((function(e){var t=G.f.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.polylineBarriers,t}))),c=new at(null===(n=e.pointBarriers)||void 0===n?void 0:n.map((function(e){var t=G.O.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.pointBarriers,t}))),y=G.a.fromJSON(e.routeResults[0].route.toJSON());y.symbol=this.defaultSymbols.routeInfo;var d=new it(null===(o=e.routeResults[0].directionPoints)||void 0===o?void 0:o.features.map((function(e){var t=G.h.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.directionPoints,t})));return{directionLines:new ot(null===(i=e.routeResults[0].directionLines)||void 0===i?void 0:i.features.map((function(e){var t=G.b.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.directionLines,t}))),directionPoints:d,pointBarriers:c,polygonBarriers:u,polylineBarriers:p,routeInfo:y,stops:l}}},{key:"_writeDirectionLines",value:function(){return this._writeNetworkFeatures(this.directionLines,this.defaultSymbols.directionLines,"esriGeometryPolyline",G.b.fields,G.b.popupInfo,"DirectionLines","Direction Lines")}},{key:"_writeDirectionPoints",value:function(){return this._writeNetworkFeatures(this.directionPoints,this.defaultSymbols.directionPoints,"esriGeometryPoint",G.h.fields,G.h.popupInfo,"DirectionPoints","Direction Points")}},{key:"_writeNetworkFeatures",value:function(e,t,r,n,o,i,a){if((0,d.t)(e)||!e.length)return null;var s=this.spatialReference.toJSON(),l=this.fullExtent,u=this.maxScale,p=this.minScale;return{featureSet:{features:e.toArray().map((function(e){return function(e){var t=e.toGraphic().toJSON();return{attributes:t.attributes,geometry:t.geometry,popupInfo:t.popupTemplate,symbol:t.symbol}}(e)})),geometryType:r,spatialReference:s},layerDefinition:{capabilities:"Query,Update,Editing",drawingInfo:{renderer:{type:"simple",symbol:(0,d.r)(t)?t.toJSON():Ye(r)}},extent:l.toJSON(),fields:n,geometryType:r,hasM:!1,hasZ:!1,maxScale:u,minScale:p,name:i,objectIdField:"ObjectID",spatialReference:s,title:a,type:"Feature Layer",typeIdField:""},popupInfo:o}}},{key:"_writePointBarriers",value:function(){return this._writeNetworkFeatures(this.pointBarriers,this.defaultSymbols.pointBarriers,"esriGeometryPoint",G.O.fields,G.O.popupInfo,"Barriers","Point Barriers")}},{key:"_writePolygonBarriers",value:function(){return this._writeNetworkFeatures(this.polygonBarriers,this.defaultSymbols.polygonBarriers,"esriGeometryPolygon",G.g.fields,G.g.popupInfo,"PolygonBarriers","Polygon Barriers")}},{key:"_writePolylineBarriers",value:function(){return this._writeNetworkFeatures(this.polylineBarriers,this.defaultSymbols.polylineBarriers,"esriGeometryPolyline",G.f.fields,G.f.popupInfo,"PolylineBarriers","Line Barriers")}},{key:"_writeRouteInfo",value:function(){return this._writeNetworkFeatures((0,d.r)(this.routeInfo)?new g.j([this.routeInfo]):null,this.defaultSymbols.routeInfo,"esriGeometryPolyline",G.a.fields,G.a.popupInfo,"RouteInfo","Route Details")}},{key:"_writeStops",value:function(){var e=this._writeNetworkFeatures(this.stops,null,"esriGeometryPoint",G.D.fields,G.D.popupInfo,"Stops","Stops");if((0,d.t)(e))return null;var t=this.defaultSymbols.stops,r=(0,d.r)(t)&&(0,d.r)(t.first)&&t.first.toJSON(),n=(0,d.r)(t)&&(0,d.r)(t.middle)&&t.middle.toJSON(),o=(0,d.r)(t)&&(0,d.r)(t.last)&&t.last.toJSON();return e.layerDefinition.drawingInfo.renderer={type:"uniqueValue",field1:"Sequence",defaultSymbol:n,uniqueValueInfos:[{value:"1",symbol:r,label:"First Stop"},{value:"".concat(this.stops.length),symbol:o,label:"Last Stop"}]},e}}]),r}((0,R.n)((0,O.t)((0,j.c)((0,I.v)((0,S.O)((0,w.a)(P.b)))))));(0,y.e)([(0,y.y)({readOnly:!0,json:{read:!1,origins:{"portal-item":{write:{allowNull:!0,ignoreOrigin:!0}},"web-map":{write:{overridePolicy:function(){return{allowNull:!0,ignoreOrigin:null==this.portalItem}}}}}}})],yt.prototype,"_featureCollection",void 0),(0,y.e)([(0,T.r)(["web-map","portal-item"],"_featureCollection")],yt.prototype,"writeFeatureCollectionWebmap",null),(0,y.e)([(0,y.y)({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{target:"type",overridePolicy:function(){return{ignoreOrigin:null!=this.portalItem}}}}}}})],yt.prototype,"_type",void 0),(0,y.e)([(0,y.y)({nonNullable:!0,type:K})],yt.prototype,"defaultSymbols",void 0),(0,y.e)([(0,y.y)({readOnly:!0})],yt.prototype,"directionLines",void 0),(0,y.e)([(0,T.o)(["web-map","portal-item"],"directionLines",["layers","featureCollection.layers"])],yt.prototype,"readDirectionLines",null),(0,y.e)([(0,y.y)({readOnly:!0})],yt.prototype,"directionPoints",void 0),(0,y.e)([(0,T.o)(["web-map","portal-item"],"directionPoints",["layers","featureCollection.layers"])],yt.prototype,"readDirectionPoints",null),(0,y.e)([(0,y.y)({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],yt.prototype,"featureCollectionType",void 0),(0,y.e)([(0,y.y)({readOnly:!0})],yt.prototype,"fullExtent",null),(0,y.e)([(0,y.y)({json:{origins:{"web-map":{name:"featureCollection.showLegend"}},write:!0}})],yt.prototype,"legendEnabled",void 0),(0,y.e)([(0,y.y)({type:["show","hide"]})],yt.prototype,"listMode",void 0),(0,y.e)([(0,y.y)({type:Number,nonNullable:!0,json:{write:!1}})],yt.prototype,"maxScale",void 0),(0,y.e)([(0,T.o)(["web-map","portal-item"],"maxScale",["layers","featureCollection.layers"])],yt.prototype,"readMaxScale",null),(0,y.e)([(0,y.y)({type:Number,nonNullable:!0,json:{write:!1}})],yt.prototype,"minScale",void 0),(0,y.e)([(0,T.o)(["web-map","portal-item"],"minScale",["layers","featureCollection.layers"])],yt.prototype,"readMinScale",null),(0,y.e)([(0,y.y)({type:["ArcGISFeatureLayer"],value:"ArcGISFeatureLayer"})],yt.prototype,"operationalLayerType",void 0),(0,y.e)([(0,y.y)({nonNullable:!0,type:g.j.ofType(G.O)})],yt.prototype,"pointBarriers",void 0),(0,y.e)([(0,T.o)(["web-map","portal-item"],"pointBarriers",["layers","featureCollection.layers"])],yt.prototype,"readPointBarriers",null),(0,y.e)([(0,y.y)({nonNullable:!0,type:g.j.ofType(G.g)})],yt.prototype,"polygonBarriers",void 0),(0,y.e)([(0,T.o)(["web-map","portal-item"],"polygonBarriers",["layers","featureCollection.layers"])],yt.prototype,"readPolygonBarriers",null),(0,y.e)([(0,y.y)({nonNullable:!0,type:g.j.ofType(G.f)})],yt.prototype,"polylineBarriers",void 0),(0,y.e)([(0,T.o)(["web-map","portal-item"],"polylineBarriers",["layers","featureCollection.layers"])],yt.prototype,"readPolylineBarriers",null),(0,y.e)([(0,y.y)({readOnly:!0})],yt.prototype,"routeInfo",void 0),(0,y.e)([(0,T.o)(["web-map","portal-item"],"routeInfo",["layers","featureCollection.layers"])],yt.prototype,"readRouteInfo",null),(0,y.e)([(0,y.y)({type:T.k})],yt.prototype,"spatialReference",void 0),(0,y.e)([(0,T.o)(["web-map","portal-item"],"spatialReference",["layers","featureCollection.layers"])],yt.prototype,"readSpatialReference",null),(0,y.e)([(0,y.y)({nonNullable:!0,type:g.j.ofType(G.D)})],yt.prototype,"stops",void 0),(0,y.e)([(0,T.o)(["web-map","portal-item"],"stops",["layers","featureCollection.layers"])],yt.prototype,"readStops",null),(0,y.e)([(0,y.y)()],yt.prototype,"title",null),(0,y.e)([(0,y.y)({readOnly:!0,json:{read:!1}})],yt.prototype,"type",void 0),(0,y.e)([(0,y.y)()],yt.prototype,"url",null);var dt=yt=(0,y.e)([(0,y.n)(pt)],yt);t.default=dt},41820:function(e,t,r){r.d(t,{t:function(){return l}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(48848),l=(r(93661),function(e){var t=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).minScale=0,e.maxScale=0,e}return(0,o.Z)(r,[{key:"effectiveScaleRange",get:function(){var e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);var r=this._get("effectiveScaleRange");return r&&r.minScale===e.minScale&&r.maxScale===e.maxScale?r:e}}]),r}(e);return(0,s.e)([(0,s.y)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,s.e)([(0,s.y)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,s.e)([(0,s.y)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,s.e)([(0,s.n)("esri.layers.mixins.ScaleRangeLayer")],t)})},92355:function(e,t,r){r.d(t,{t:function(){return n}});var n={type:String,json:{read:{source:"token"},write:{target:"token"}}}},20302:function(e,t,r){r.d(t,{r:function(){return i}});var n=r(40558),o=r(48848);function i(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e instanceof n.s?e:new n.s(e,r),a={type:null===(t=null===r||void 0===r?void 0:r.ignoreUnknown)||void 0===t||t?i.apiValues:String,json:{type:i.jsonValues,read:!(null!==r&&void 0!==r&&r.readOnly)&&{reader:i.read},write:{writer:i.write}}};return void 0!==(null===r||void 0===r?void 0:r.readOnly)&&(a.readOnly=!!r.readOnly),void 0!==(null===r||void 0===r?void 0:r.default)&&(a.json.default=r.default),void 0!==(null===r||void 0===r?void 0:r.name)&&(a.json.name=r.name),(0,o.y)(a)}},15436:function(e,t,r){r.d(t,{i:function(){return n}});var n=new(r(40558).s)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},56162:function(e,t,r){r.d(t,{c:function(){return d},d:function(){return v},f:function(){return p},l:function(){return l},s:function(){return u},u:function(){return s},v:function(){return y},y:function(){return c}});var n=r(93661),o=r(46817),i=r(82474),a=r(74384);function s(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function l(e){return void 0!==e.points}function u(e){return void 0!==e.x&&void 0!==e.y}function p(e){return void 0!==e.paths}function c(e){return void 0!==e.rings}function y(e){return(0,n.t)(e)?null:e instanceof i.p?e:u(e)?i.w.fromJSON(e):p(e)?a.m.fromJSON(e):c(e)?a.v.fromJSON(e):l(e)?a.u.fromJSON(e):s(e)?o.w.fromJSON(e):null}function d(e){return e?u(e)?"esriGeometryPoint":p(e)?"esriGeometryPolyline":c(e)?"esriGeometryPolygon":s(e)?"esriGeometryEnvelope":l(e)?"esriGeometryMultipoint":null:null}var f={esriGeometryPoint:i.w,esriGeometryPolyline:a.m,esriGeometryPolygon:a.v,esriGeometryEnvelope:o.w,esriGeometryMultipoint:a.u};function v(e){return e&&f[e]||null}},96516:function(e,t,r){function n(e){return e&&"getAtOrigin"in e&&"originOf"in e}r.d(t,{i:function(){return n}})},63212:function(e,t,r){r.d(t,{U:function(){return j},i:function(){return h},r:function(){return m},s:function(){return g},v:function(){return P}});var n=r(74165),o=r(1413),i=r(29439),a=r(15861),s=r(37762),l=r(93661),u=r(48848),p=r(74384),c=r(82474),y=r(56162),d=r(40558),f=r(39994),v=r(69717),m={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new p.m({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:c.k.WebMercator}),minus180Line:new p.m({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:c.k.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new p.m({paths:[[[180,-180],[180,180]]],spatialReference:c.k.WGS84}),minus180Line:new p.m({paths:[[[-180,-180],[-180,180]]],spatialReference:c.k.WGS84})}};function h(e,t){return Math.ceil((e-t)/(2*t))}function g(e,t){var r,n=w(e),o=(0,s.Z)(n);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,l=(0,s.Z)(a);try{for(l.s();!(i=l.n()).done;){i.value[0]+=t}}catch(u){l.e(u)}finally{l.f()}}}catch(u){o.e(u)}finally{o.f()}return e}function w(e){return(0,y.y)(e)?e.rings:e.paths}function S(e,t,r,n){return b.apply(this,arguments)}function b(){return b=(0,a.Z)((0,n.Z)().mark((function e(t,r,i,a){var s,l,u,p,c,v,m,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,f.f)(t),l=r[0].spatialReference,u=(0,o.Z)((0,o.Z)({},a),{},{query:(0,o.Z)((0,o.Z)({},s.query),{},{f:"json",sr:JSON.stringify(l),target:JSON.stringify({geometryType:(0,y.c)(r[0]),geometries:r}),cutter:JSON.stringify(i)})}),e.next=5,(0,d.U)(s.path+"/cut",u);case 5:return p=e.sent,c=p.data,v=c.cutIndexes,m=c.geometries,h=void 0===m?[]:m,e.abrupt("return",{cutIndexes:v,geometries:h.map((function(e){var t=(0,y.v)(e);return t.spatialReference=l,t}))});case 11:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function Z(e,t,r){return k.apply(this,arguments)}function k(){return k=(0,a.Z)((0,n.Z)().mark((function e(t,r,i){var a,s,l,u,p,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="string"==typeof t?(0,d.j)(t):t,s=r[0].spatialReference,l=(0,y.c)(r[0]),u=(0,o.Z)((0,o.Z)({},i),{},{query:(0,o.Z)((0,o.Z)({},a.query),{},{f:"json",sr:s.wkid?s.wkid:JSON.stringify(s),geometries:JSON.stringify((0,v.r)(r))})}),e.next=6,(0,d.U)(a.path+"/simplify",u);case 6:return p=e.sent,c=p.data,e.abrupt("return",(0,v.o)(c.geometries,l,s));case 9:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}var T=u.a.getLogger("esri.geometry.support.normalizeUtils");function N(e,t,r){if(t){var n=function(e,t){if(!(e instanceof p.m||e instanceof p.v)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw T.error(r),new u.s(r)}var n,o=w(e),i=[],a=(0,s.Z)(o);try{for(a.s();!(n=a.n()).done;){var l=n.value,c=[];i.push(c),c.push([l[0][0],l[0][1]]);for(var y=0;y<l.length-1;y++){var d=l[y][0],f=l[y][1],v=l[y+1][0],m=l[y+1][1],h=Math.sqrt((v-d)*(v-d)+(m-f)*(m-f)),g=(m-f)/h,S=(v-d)/h,b=h/t;if(b>1){for(var Z=1;Z<=b-1;Z++){var k=Z*t,N=S*k+d,x=g*k+f;c.push([N,x])}var B=(h+Math.floor(b-1)*t)/2,P=S*B+d,R=g*B+f;c.push([P,R])}c.push([v,m])}}}catch(j){a.e(j)}finally{a.f()}return function(e){return"polygon"===e.type}(e)?new p.v({rings:i,spatialReference:e.spatialReference}):new p.m({paths:i,spatialReference:e.spatialReference})}(e,1e6);e=(0,c.j)(n,!0)}return r&&(e=g(e,r)),e}function x(e,t,r){if(Array.isArray(e)){var n=e[0];if(n>t){var o=h(n,t);e[0]=n+o*(-2*t)}else if(n<r){var i=h(n,r);e[0]=n+i*(-2*r)}}else{var a=e.x;if(a>t){var s=h(a,t);e=e.clone().offset(s*(-2*t),0)}else if(a<r){var l=h(a,r);e=e.clone().offset(l*(-2*r),0)}}return e}function B(e,t){for(var r=-1,n=function(n){for(var o=t.cutIndexes[n],i=t.geometries[n],a=w(i),l=function(e){var t=a[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,o=0;o<t.length;o++){var a=t[o][0];n=a>n?a:n}for(var s=-360*h(n=Number(n.toFixed(9)),180),l=0;l<t.length;l++){var u=i.getPoint(e,l);i.setPoint(e,l,u.clone().offset(s,0))}return!0}))},u=0;u<a.length;u++)l(u);if(o===r){if(function(e){return"polygon"===e[0].type}(e)){var p,c=(0,s.Z)(w(i));try{for(c.s();!(p=c.n()).done;){var y=p.value;e[o]=e[o].addRing(y)}}catch(m){c.e(m)}finally{c.f()}}else if(function(e){return"polyline"===e[0].type}(e)){var d,f=(0,s.Z)(w(i));try{for(f.s();!(d=f.n()).done;){var v=d.value;e[o]=e[o].addPath(v)}}catch(m){f.e(m)}finally{f.f()}}}else r=o,e[o]=i},o=0;o<t.cutIndexes.length;o++)n(o);return e}function P(e,t,r){return R.apply(this,arguments)}function R(){return R=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i,a,u,y,d,f,v,w,b,k,R,j,I,O,L,_,A,D,M,J,F,C,G,U,E,V,q,W,z,H,Y,K,X,Q,$,ee,te,re,ne,oe,ie;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",P([t],r));case 2:r&&"string"!=typeof r&&T.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead"),a="string"==typeof r?r:null!==(i=null===r||void 0===r?void 0:r.url)&&void 0!==i?i:l.s.geometryServiceUrl,R=0,j=[],I=[],O=(0,s.Z)(t);try{for(O.s();!(L=O.n()).done;)_=L.value,(0,l.t)(_)?I.push(_):(u||(u=_.spatialReference,y=(0,c.a)(u),d=u.isWebMercator,f=m[w=d?102100:4326].maxX,v=m[w].minX,b=m[w].plus180Line,k=m[w].minus180Line),y?"mesh"===_.type?I.push(_):"point"===_.type?I.push(x(_.clone(),f,v)):"multipoint"===_.type?((A=_.clone()).points=A.points.map((function(e){return x(e,f,v)})),I.push(A)):"extent"===_.type?(D=_.clone()._normalize(!1,!1,y),I.push(D.rings?new p.v(D):D)):_.extent?(M=_.extent,J=h(M.xmin,v)*(2*f),F=0===J?_.clone():g(_.clone(),J),M.offset(J,0),M.intersects(b)&&M.xmax!==f?(R=M.xmax>R?M.xmax:R,F=N(F,d),j.push(F),I.push("cut")):M.intersects(k)&&M.xmin!==v?(R=M.xmax*(2*f)>R?M.xmax*(2*f):R,F=N(F,d,360),j.push(F),I.push("cut")):I.push(F)):I.push(_.clone()):I.push(_))}catch(n){O.e(n)}finally{O.f()}for(C=h(R,f),G=-90,U=C,E=new p.m;C>0;)V=360*C-180,E.addPath([[V,G],[V,-1*G]]),G*=-1,C--;if(!(j.length>0&&U>0)){e.next=29;break}return e.t0=B,e.t1=j,e.next=16,S(a,j,E,o);case 16:for(e.t2=e.sent,q=(0,e.t0)(e.t1,e.t2),W=[],z=[],H=0;H<I.length;H++)"cut"!==(Y=I[H])?z.push(Y):(K=q.shift(),X=t[H],(0,l.r)(X)&&"polygon"===X.type&&X.rings&&X.rings.length>1&&K.rings.length>=X.rings.length?(W.push(K),z.push("simplify")):z.push(d?(0,c.R)(K):K));if(W.length){e.next=23;break}return e.abrupt("return",z);case 23:return e.next=25,Z(a,W,o);case 25:for(Q=e.sent,$=[],ee=0;ee<z.length;ee++)"simplify"!==(te=z[ee])?$.push(te):$.push(d?(0,c.R)(Q.shift()):Q.shift());return e.abrupt("return",$);case 29:for(re=[],ne=0;ne<I.length;ne++)"cut"!==(oe=I[ne])?re.push(oe):(ie=j.shift(),re.push(!0===d?(0,c.R)(ie):ie));return e.abrupt("return",re);case 32:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function j(e,t){var r=(0,c.a)(t);if(r){var n=(0,i.Z)(r.valid,2),o=n[0],a=n[1],s=a-o;if(e<o)for(;e<o;)e+=s;if(e>a)for(;e>a;)e-=s}return e}},53586:function(e,t,r){r.d(t,{L:function(){return w},S:function(){return g},m:function(){return T},u:function(){return k}});var n=r(1413),o=r(40558),i=r(65094),a=r(93661),s={year:"numeric",month:"numeric",day:"numeric"},l={year:"numeric",month:"long",day:"numeric"},u={year:"numeric",month:"short",day:"numeric"},p={year:"numeric",month:"long",weekday:"long",day:"numeric"},c={hour:"numeric",minute:"numeric"},y=(0,n.Z)((0,n.Z)({},c),{},{second:"numeric"}),d={"short-date":s,"short-date-short-time":(0,n.Z)((0,n.Z)({},s),c),"short-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),c),{},{hour12:!1}),"short-date-long-time":(0,n.Z)((0,n.Z)({},s),y),"short-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),y),{},{hour12:!1}),"short-date-le":s,"short-date-le-short-time":(0,n.Z)((0,n.Z)({},s),c),"short-date-le-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),c),{},{hour12:!1}),"short-date-le-long-time":(0,n.Z)((0,n.Z)({},s),y),"short-date-le-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),y),{},{hour12:!1}),"long-month-day-year":l,"long-month-day-year-short-time":(0,n.Z)((0,n.Z)({},l),c),"long-month-day-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),c),{},{hour12:!1}),"long-month-day-year-long-time":(0,n.Z)((0,n.Z)({},l),y),"long-month-day-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),y),{},{hour12:!1}),"day-short-month-year":u,"day-short-month-year-short-time":(0,n.Z)((0,n.Z)({},u),c),"day-short-month-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),c),{},{hour12:!1}),"day-short-month-year-long-time":(0,n.Z)((0,n.Z)({},u),y),"day-short-month-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),y),{},{hour12:!1}),"long-date":p,"long-date-short-time":(0,n.Z)((0,n.Z)({},p),c),"long-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},p),c),{},{hour12:!1}),"long-date-long-time":(0,n.Z)((0,n.Z)({},p),y),"long-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},p),y),{},{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":c,"long-time":y},f=(0,o.o)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});f.toJSON.bind(f),f.fromJSON.bind(f);var v={ar:"ar-u-nu-latn-ca-gregory"},m=new WeakMap,h=d["short-date-short-time"];function g(e){return e?d[e]:null}function w(e,t){return function(e){var t=e||h,r=m.get(t);if(!r){var n=(0,i.l)(),o=v[(0,i.l)()]||n;r=new Intl.DateTimeFormat(o,t),m.set(t,r)}return r}(t).format(e)}(0,i.g)((function(){m=new WeakMap,h=d["short-date-short-time"]}));var S={ar:"ar-u-nu-latn"},b=new WeakMap,Z={};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function T(e,t){return-0===e&&(e=0),function(e){var t=e||Z;if(!b.has(t)){var r=(0,i.l)(),n=S[(0,i.l)()]||r;b.set(t,new Intl.NumberFormat(n,e))}return(0,a.x)(b.get(t))}(t).format(e)}(0,i.g)((function(){b=new WeakMap,Z={}}))},96485:function(e,t,r){r.d(t,{i:function(){return o}});var n=r(96516);function o(e){e&&e.writtenProperties&&e.writtenProperties.forEach((function(e){var t=e.target,r=e.propName,o=e.newOrigin;(0,n.i)(t)&&o&&t.originOf(r)!==o&&t.updateOrigin(r,o)}))}},94518:function(e,t,r){r.d(t,{a:function(){return d},c:function(){return y},f:function(){return v},i:function(){return p},s:function(){return c}});var n=r(37762),o=r(74165),i=r(15861),a=r(95249),s=r(82474);function l(e){return u.apply(this,arguments)}function u(){return u=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.spatialReference).isWGS84){e.next=3;break}return e.abrupt("return",t.clone());case 3:if(!r.isWebMercator){e.next=5;break}return e.abrupt("return",(0,s.j)(t));case 5:return n=s.k.WGS84,e.next=8,(0,a._)(r,n);case 8:return e.abrupt("return",(0,a.r)(t,n));case 9:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function p(e,t){if(!c(e,t)){var r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function c(e,t){var r;return!(null===(r=e.typeKeywords)||void 0===r||!r.includes(t))}function y(e,t){var r=e.typeKeywords;if(r){var n=r.indexOf(t);n>-1&&r.splice(n,1)}}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)((0,o.Z)().mark((function e(t){var r,i,a,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.clone().normalize()).length>1){a=(0,n.Z)(r);try{for(a.s();!(s=a.n()).done;)u=s.value,i?u.width>i.width&&(i=u):i=u}catch(o){a.e(o)}finally{a.f()}}else i=r[0];return e.abrupt("return",l(i));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"}},50690:function(e,t,r){r.d(t,{P:function(){return y},U:function(){return d},a:function(){return l},f:function(){return a},h:function(){return f},j:function(){return u},l:function(){return i},w:function(){return v}});var n=r(48848),o=r(93661);function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,t,r,p)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,t,r,c)}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,a=null,s=r.once?function(e,r){i(e)&&((0,o.f)(a),t(e,r))}:function(e,r){i(e)&&t(e,r)};if(a=(0,n.P)(e,s,r.sync,r.equals),r.initial){var l=e();s(l,l)}return a}function l(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=null,l=null,u=null;function p(){var e;s&&l&&(l.remove(),null!==(e=a.onListenerRemove)&&void 0!==e&&e.call(a,s),s=null,l=null)}function c(e){a.once&&a.once&&(0,o.f)(u),r(e)}var y=i(e,(function(e,r){var o;p(),(0,n.B)(e)&&(s=e,l=(0,n.C)(e,t,c),null===(o=a.onListenerAdd)||void 0===o||o.call(a,e))}),{sync:a.sync,initial:!0});return u=(0,n.D)((function(){y.remove(),p()}))}function u(e,t){return function(e,t,r){if((0,n.p)(r))return Promise.reject((0,n.d)());var i=e();if(null!==t&&void 0!==t&&t(i))return Promise.resolve(i);var a=null;function l(){a=(0,o.f)(a)}return new Promise((function(o,i){a=(0,n.F)([(0,n.v)(r,(function(){l(),i((0,n.d)())})),s(e,(function(e){l(),o(e)}),{sync:!1,once:!0},null!==t&&void 0!==t?t:p)])}))}(e,c,t)}function p(e){return!0}function c(e){return!!e}function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1,o=i(e,(function(e,r){n||t(e,r)}),r);return{remove:function(){o.remove()},pause:function(){n=!0},resume:function(){n=!1}}}var d={sync:!0},f={initial:!0},v={sync:!0,initial:!0}},84186:function(e,t,r){var n,o;function i(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function s(e){return e.valueExpression?n.Expression:e.field&&"string"==typeof e.field?n.Field:n.Unknown}function l(e,t){var r=t||s(e),i=e.valueUnit||"unknown";return r===n.Unknown?o.Constant:e.stops?o.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?o.ClampedLinear:"unknown"===i?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?o.Proportional:o.Additive:o.Identity:o.RealWorldSize}r.d(t,{a:function(){return l},e:function(){return i},i:function(){return o},l:function(){return a},n:function(){return n},t:function(){return s}}),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(n||(n={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(o||(o={}))},69717:function(e,t,r){r.d(t,{o:function(){return i},r:function(){return o}});var n=r(56162);function o(e){return{geometryType:(0,n.c)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function i(e,t,r){var o=(0,n.d)(t);return e.map((function(e){var t=o.fromJSON(e);return t.spatialReference=r,t}))}},39994:function(e,t,r){r.d(t,{f:function(){return s},i:function(){return a},s:function(){return l}});var n=r(1413),o=r(93661),i=r(40558);function a(e,t){return t?(0,n.Z)((0,n.Z)({},t),{},{query:(0,n.Z)((0,n.Z)({},e),t.query)}):{query:e}}function s(e){return"string"==typeof e?(0,i.j)(e):(0,o.y)(e)}function l(e,t,r){var n={};for(var o in e)if("declaredClass"!==o){var i=e[o];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){n[o]=[];for(var a=0;a<i.length;a++)n[o][a]=l(i[a])}else if("object"==typeof i)if(i.toJSON){var s=i.toJSON(r&&r[o]);n[o]=t?s:JSON.stringify(s)}else n[o]=t?i:JSON.stringify(i);else n[o]=i}return n}},65415:function(e,t,r){r.d(t,{o:function(){return s}});var n=r(37762),o=r(93661),i=r(47855),a=r(82474);function s(e,t,r){if((0,o.t)(t)||(0,o.t)(r)||r.vcsWkid||(0,a.E)(t,r))return null;var s=(0,i.L)(t)/(0,i.L)(r);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return function(e){return function(e,t){e&&null!=e.z&&(e.z*=t)}(e,s)};case"polyline":case"esriGeometryPolyline":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.paths);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,s=(0,n.Z)(a);try{for(s.s();!(i=s.n()).done;){var l=i.value;l.length>2&&(l[2]*=t)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){o.e(u)}finally{o.f()}}}(e,s)};case"polygon":case"esriGeometryPolygon":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.rings);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,s=(0,n.Z)(a);try{for(s.s();!(i=s.n()).done;){var l=i.value;l.length>2&&(l[2]*=t)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){o.e(u)}finally{o.f()}}}(e,s)};case"multipoint":case"esriGeometryMultipoint":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.points);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.length>2&&(i[2]*=t)}}catch(a){o.e(a)}finally{o.f()}}}(e,s)};case"extent":case"esriGeometryExtent":return function(e){return function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,s)};default:return null}}}}]);
//# sourceMappingURL=2958.f8d85f74.chunk.js.map