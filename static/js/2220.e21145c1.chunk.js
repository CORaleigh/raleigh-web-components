"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[2220],{27229:function(e,t,r){r.d(t,{l:function(){return p}});var i=r(15671),a=r(43144),n=r(60136),s=r(29388),o=r(50165),u=r(22984),l={visible:"visibleSublayers"},p=function(e){(0,n.Z)(r,e);var t=(0,s.Z)(r);function r(e){var a;return(0,i.Z)(this,r),(a=t.call(this,e)).scale=0,a}return(0,a.Z)(r,[{key:"layer",set:function(e){var t=this;this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.sublayers.on("change",(function(){return t.notifyChange("visibleSublayers")})),e.on("wms-sublayer-update",(function(e){return t.notifyChange(l[e.propertyName])}))],"layer"))}},{key:"layers",get:function(){return this.visibleSublayers.filter((function(e){return e.name})).map((function(e){return e.name})).join(",")}},{key:"version",get:function(){this.commitProperty("layers");var e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}},{key:"visibleSublayers",get:function(){var e=this.layer,t=this.scale,r=null===e||void 0===e?void 0:e.sublayers,i=[];return null!==r&&void 0!==r&&r.forEach((function e(r){var a=r.minScale,n=r.maxScale,s=r.sublayers;r.visible&&(0===t||(0===a||t<=a)&&(0===n||t>=n))&&(s?s.forEach(e):i.unshift(r))})),i}},{key:"toJSON",value:function(){var e=this.layer,t=this.layers;return{format:e.imageFormat,request:"GetMap",service:"WMS",styles:"",transparent:e.imageTransparency?"TRUE":"FALSE",version:e.version,layers:t}}}]),r}((0,u.a)(o.y));(0,o.e)([(0,o.d)()],p.prototype,"layer",null),(0,o.e)([(0,o.d)({readOnly:!0})],p.prototype,"layers",null),(0,o.e)([(0,o.d)({type:Number})],p.prototype,"scale",void 0),(0,o.e)([(0,o.d)({readOnly:!0})],p.prototype,"version",null),(0,o.e)([(0,o.d)({readOnly:!0})],p.prototype,"visibleSublayers",null),p=(0,o.e)([(0,o.n)("esri.layers.support.ExportWMSImageParameters")],p)},49233:function(e,t,r){r.d(t,{a:function(){return p}});var i=r(15671),a=r(43144),n=r(60136),s=r(29388),o=r(50165),u=r(63334),l=r(27229),p=function(e){var t=function(e){(0,n.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"initialize",value:function(){this.exportImageParameters=new l.l({layer:this.layer})}},{key:"destroy",value:function(){this.exportImageParameters.destroy(),this.exportImageParameters=null}},{key:"exportImageVersion",get:function(){var e;return null!==(e=this.exportImageParameters)&&void 0!==e&&e.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}},{key:"fetchPopupFeatures",value:function(e){var t=this.layer;if(!e)return Promise.reject(new o.a("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:t}));var r=t.popupEnabled;if(!r)return Promise.reject(new o.a("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:r}));var i=this.createFetchPopupFeaturesQuery(e);if(!i)return Promise.resolve([]);var a=i.extent,n=i.width,s=i.height,u=i.x,l=i.y;if(!(a&&n&&s))throw new o.a("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:a,width:n,height:s});var p=t.fetchFeatureInfo(a,n,s,u,l);return Promise.resolve(p?[p]:[])}}]),r}(e);return(0,o.e)([(0,o.d)()],t.prototype,"exportImageParameters",void 0),(0,o.e)([(0,o.d)({readOnly:!0})],t.prototype,"exportImageVersion",null),(0,o.e)([(0,o.d)()],t.prototype,"layer",void 0),(0,o.e)([(0,o.d)(u.g)],t.prototype,"timeExtent",void 0),t=(0,o.e)([(0,o.n)("esri.layers.mixins.WMSLayerView")],t)}},82220:function(e,t,r){r.r(t);var i=r(15671),a=r(43144),n=r(60136),s=r(29388),o=r(50165),u=r(96263),l=r(30400),p=r(49233),y=(r(77322),r(32335),r(5233),r(73627),r(79146),r(2760),r(35691),r(83745),r(78697),r(55269),r(33530),r(31278),r(13994),r(78664),r(89031),r(98496),r(40133),r(4483),r(79747),r(42),r(52155),r(75662),r(17493),r(62980),r(16377),r(9887),r(88406),r(66307),r(42488),r(9330),r(3029),r(42687),r(78330),r(73393),r(87110),r(72577),r(61772),r(69738),r(92870),r(26079),r(49796),r(42094),r(22984),r(85966),r(73428),r(98643),r(61340),r(76375),r(44217),r(96401),r(71573),r(57952),r(15820),r(40438),r(48561),r(84192),r(3969),r(64747),r(47672),r(12317),r(20838),r(6243),r(37783),r(74021),r(56864),r(66339),r(68634),r(15508),r(17691),r(86931),r(51613),r(80392),r(10489),r(62298),r(2815),r(2326),r(90339),r(82046),r(49961),r(31412),r(53089),r(83172),r(66270),r(60418),r(84539),r(75366),r(36235),r(57439),r(59075),r(97823),r(49350),r(89354),r(16897),r(47642),r(63334),r(38419),r(84231),r(38665),r(32717),r(39853),r(94872),r(43895),r(30594),r(73267),r(22628),r(24982),r(46584),r(7093),r(28003),r(58428),r(8049),r(80933),r(40858),r(95076),r(56389),r(86738),r(69205),r(50338),r(33074),r(31134),r(41524),r(68668),r(55916),r(66319),r(24781),r(2329),r(37243),r(97345),r(39001),r(84913),r(84823),r(9411),r(14826),r(64620),r(22225),r(75272),r(4197),r(86905),r(64997),r(26208),r(2816),r(46237),r(98428),r(5792),r(67871),r(75097),r(87833),r(21523),r(99057),r(26995),r(13445),r(57405),r(92694),r(25715),r(83262),r(7225),r(21286),r(47901),r(6819),r(12989),r(24695),r(94867),r(47692),r(48968),r(92820),r(76821),r(21984),r(61377),r(64591),r(14023),r(44365),r(50463),r(27670),r(75105),r(49734),r(66156),r(62469),r(85490),r(77576),r(38969),r(8369),r(21277),r(80581),r(34095),r(85245),r(75777),r(68792),r(99797),r(49510),r(71871),r(29398),r(43643),r(57620),r(60470),r(1894),r(27229),function(e){(0,n.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.apply(this,arguments)).type="wms-3d",e}return(0,a.Z)(r,[{key:"initialize",value:function(){var e=this;this.layer.serviceSupportsSpatialReference(this.view.spatialReference)||this.addResolvingPromise(Promise.reject(new o.a("layerview:spatial-reference-incompatible","The spatial references supported by this WMS layer are incompatible with the spatial reference of the view"))),this.updatingHandles.add((function(){var t;return null===(t=e.exportImageParameters)||void 0===t?void 0:t.version}),(function(){e.updatingHandles.addPromise(e.refreshDebounced())}))}},{key:"createFetchPopupFeaturesQuery",value:function(e){var t=this.findExtentInfoAt(e),r=t.extent,i=new u.M(r[0],r[1],r[2],r[3],this._spatialReference),a=t.imageSize,n=a.width,s=a.height,o=i.width/n;return{extent:i,width:n,height:s,x:Math.round((e.x-i.xmin)/o),y:Math.round((i.ymax-e.y)/o)}}},{key:"getFetchOptions",value:function(){return{timeExtent:this.timeExtent}}}]),r}((0,p.a)(l.q))),h=y=(0,o.e)([(0,o.n)("esri.views.3d.layers.WMSLayerView3D")],y);t.default=h}}]);
//# sourceMappingURL=2220.e21145c1.chunk.js.map