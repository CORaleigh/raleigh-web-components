{"version":3,"file":"static/js/3214.8ab8c2dd.chunk.js","mappings":"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","sources":["../node_modules/raleigh-map-components/dist/esm/BaseProcessor-ab92451e.js","../node_modules/raleigh-map-components/dist/esm/HeatmapProcessor-b8101d29.js","../node_modules/raleigh-map-components/dist/esm/heatmapUtils-aeff2740.js","../node_modules/raleigh-map-components/dist/esm/tileUtils-a7318971.js","../node_modules/raleigh-map-components/dist/esm/vec4f64-0cbfbafc.js"],"sourcesContent":["import { e, y, n } from './cast-c3f45b36.js';\nimport { d } from './HandleOwner-f847f884.js';\nimport './config-1ffdf45e.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nlet s=class extends d{initialize(){}destroy(){}get supportsTileUpdates(){return !1}get spatialReference(){const e=this.get(\"tileStore.tileScheme.spatialReference\");return e&&e.toJSON()||null}};e([y({readOnly:!0})],s.prototype,\"supportsTileUpdates\",null),e([y({constructOnly:!0})],s.prototype,\"remoteClient\",void 0),e([y({constructOnly:!0})],s.prototype,\"service\",void 0),e([y()],s.prototype,\"spatialReference\",null),e([y({constructOnly:!0})],s.prototype,\"tileInfo\",void 0),e([y({constructOnly:!0})],s.prototype,\"tileStore\",void 0),s=e([n(\"esri.views.2d.layers.features.processors.BaseProcessor\")],s);const p=s;\n\nexport { p };\n","import { e, n } from './cast-c3f45b36.js';\nimport { r, n as o } from './config-1ffdf45e.js';\nimport { m } from './diffUtils-598489c1.js';\nimport { s } from './heatmapUtils-aeff2740.js';\nimport { o as o$1 } from './enums-c5b71a5c.js';\nimport { p as p$1 } from './BaseProcessor-ab92451e.js';\nimport { l as l$1 } from './tileUtils-a7318971.js';\nimport './Collection-4ef916ef.js';\nimport './Evented-cb187462.js';\nimport './SimpleObservable-8d982b09.js';\nimport './mathUtils-2bc3dc3d.js';\nimport './screenUtils-bb784636.js';\nimport './vec4f64-0cbfbafc.js';\nimport './HandleOwner-f847f884.js';\nimport './reactiveUtils-f60c7d41.js';\nimport './Extent-f175f54a.js';\nimport './Point-6cb878d9.js';\nimport './JSONSupport-db08a3d3.js';\nimport './Query-780641ee.js';\nimport './geometry-af7a1990.js';\nimport './jsonMap-ad5a21ba.js';\nimport './TimeExtent-d95e7159.js';\nimport './enumeration-76da1a7a.js';\nimport './jsonUtils-470c2f30.js';\nimport './Field-043c648d.js';\nimport './fieldType-9178e8c8.js';\nimport './FullTextSearch-934480e3.js';\nimport './Clonable-79c9df5b.js';\nimport './TileKey-cf11edbc.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nclass p{constructor(e,t){this.offset=e,this.extent=t;}}function c(e){const t=e.key,s=new Map,r=256,i=o$1,o=e.tileInfoView.tileInfo.isWrappable;return s.set(l$1(t,-1,-1,o).id,new p([-i,-i],[i-r,i-r,i,i])),s.set(l$1(t,0,-1,o).id,new p([0,-i],[0,i-r,i,i])),s.set(l$1(t,1,-1,o).id,new p([i,-i],[0,i-r,r,i])),s.set(l$1(t,-1,0,o).id,new p([-i,0],[i-r,0,i,i])),s.set(l$1(t,1,0,o).id,new p([i,0],[0,0,r,i])),s.set(l$1(t,-1,1,o).id,new p([-i,i],[i-r,0,i,r])),s.set(l$1(t,0,1,o).id,new p([0,i],[0,0,i,r])),s.set(l$1(t,1,1,o).id,new p([i,i],[0,0,r,r])),s}let l=class extends p$1{constructor(){super(...arguments),this.type=\"heatmap\",this._tileKeyToFeatureSets=new Map;}initialize(){this.handles.add([this.tileStore.on(\"update\",this.onTileUpdate.bind(this))]);}async update(e,t){const s=t.schema.processors[0];if(\"heatmap\"!==s.type)return;m(this._schema,s)&&(e.mesh=!0,this._schema=s);}onTileUpdate(e){for(const t of e.removed)this._tileKeyToFeatureSets.delete(t.key.id);}onTileClear(e){const t={clear:!0};return this._tileKeyToFeatureSets.delete(e.key.id),this.remoteClient.invoke(\"tileRenderer.onTileData\",{tileKey:e.id,data:t})}async onTileMessage(e,r$1,i){this._tileKeyToFeatureSets.has(e.key.id)||this._tileKeyToFeatureSets.set(e.key.id,new Map);const a=this._tileKeyToFeatureSets.get(e.key.id);if(r(r$1.addOrUpdate)&&r$1.addOrUpdate.hasFeatures&&a.set(r$1.addOrUpdate.instance,r$1),r$1.end){const t=[],r=c(e);this._tileKeyToFeatureSets.forEach(((i,o$1)=>{if(o$1===e.key.id)i.forEach((e=>o(e.addOrUpdate,(e=>t.push(e)))));else if(r.has(o$1)){const e=r.get(o$1),[a,n]=e.offset;i.forEach((e=>o(e.addOrUpdate,(e=>{const s=e.transform(a,n,1,1);t.push(s);}))));}}));const a=s(t,this._schema.mesh,512,512),n={tileKey:e.key.id,intensityInfo:a},d=[a.matrix];return this.remoteClient.invoke(\"tileRenderer.onTileData\",n,{...i,transferList:d})}}onTileError(e,t,s){return this.remoteClient.invoke(\"tileRenderer.onTileError\",{tileKey:e.id,error:t},s)}};l=e([n(\"esri.views.2d.layers.features.processors.HeatmapProcessor\")],l);const h=l;\n\nexport default h;\n","import { j, a as a$1 } from './mathUtils-2bc3dc3d.js';\nimport { u as u$1, e } from './screenUtils-bb784636.js';\nimport { n } from './vec4f64-0cbfbafc.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst a=2.4;function i(t){return e(t*a)}function c(t){return u$1(t)/a}function f(r,n,e,a){let{color:i,ratio:c}=n,{color:f,ratio:u}=e;if(u===c){const t=1e-6;1===u?c-=t:u+=t;}const s=a$1((a-c)/(u-c),0,1);j(r,i.toArray(),f.toArray(),s);}function u(t){const r=512,n$1=new Uint8ClampedArray(4*r);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,r)=>t.ratio-r.ratio)).map((({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))),t.length<1)return n$1;let o=t[0],a=t[0],i=1;const c=n();for(let e=0;e<r;e++){const u=(e+.5)/r;for(;u>a.ratio&&i<t.length;)o=a,a=t[i++];f(c,o,a,u),n$1.set(c,4*e);}return n$1}function s(t,r,o,e){const{radius:a,fieldOffset:i,field:c}=r,f=Math.round(u$1(a)),u=new Float64Array(o*e);let s,l=Number.NEGATIVE_INFINITY;const h=d(c,i),y=new Set;for(const n of t){const t=n.getCursor();for(;t.next();){const r=t.getObjectId();if(y.has(r))continue;y.add(r);const n=t.readLegacyPointGeometry(),a=128;if(n.x<-a||n.x>=o+a||n.y<-a||n.y>e+a)continue;const i=+h(t),c=Math.max(0,Math.round(n.x)-f),d=Math.max(0,Math.round(n.y)-f),g=Math.min(e,Math.round(n.y)+f),A=Math.min(o,Math.round(n.x)+f);for(let t=d;t<g;t++)for(let r=c;r<A;r++){const e=t*o+r,a=m(n.x-r,n.y-t,f);s=u[e]+=a*i,s>l&&(l=s);}}}return {matrix:u.buffer,max:l}}function l(t,r,n,o,e,a){t.canvas.width=t.canvas.height=r,t.clearRect(0,0,r,r);const i=t.getImageData(0,0,r,r);n&&o&&i.data.set(new Uint8ClampedArray(h(r,n,o,e,a))),t.putImageData(i,0,0);}function h(r,n,o,e,a){const i=new Uint32Array(r*r),c=\"buffer\"in n?n:new Float64Array(n),f=\"buffer\"in o?new Uint32Array(o.buffer):new Uint32Array(new Uint8Array(o).buffer),u=f.length/(a-e);for(let s=0;s<c.length;s++){const r=c[s],n=Math.floor((r-e)*u);i[s]=f[a$1(n,0,f.length-1)];}return i.buffer}function m(t,r,n){const o=Math.sqrt(t**2+r**2)/n;return o>1?0:3/(Math.PI*n**2)*(1-o**2)**2}function y(t,r){return \"function\"==typeof t?t:t?\"string\"==typeof r?r=>-1*+r[t]:n=>+n[t]+r:()=>1}function d(t,r){return null!=t?\"string\"==typeof r?r=>-1*+r.readAttribute(t):n=>+n.readAttribute(t)+r:t=>1}\n\nexport { a, c, i, l, m, s, u, y };\n","import './cast-c3f45b36.js';\nimport './Extent-f175f54a.js';\nimport './config-1ffdf45e.js';\nimport './mathUtils-2bc3dc3d.js';\nimport './Query-780641ee.js';\nimport './TileKey-cf11edbc.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction l(o,e,l,n){const r=o.clone(),t=1<<r.level,i=r.col+e,c=r.row+l;return n&&i<0?(r.col=i+t,r.world-=1):i>=t?(r.col=i-t,r.world+=1):r.col=i,r.row=c,r}\n\nexport { l };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction n(){return [0,0,0,0]}function t(n){return [n[0],n[1],n[2],n[3]]}function r(n,t,r,e){return [n,t,r,e]}function e(t){const r=n(),e=Math.min(4,t.length);for(let n=0;n<e;++n)r[n]=t[n];return r}function u(n,t){return new Float64Array(n,t,4)}function a(){return n()}function o(){return r(1,1,1,1)}function s(){return r(1,0,0,0)}function i(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function f(){return r(0,0,0,1)}const l=a(),_=o(),N=s(),O=i(),T=c(),U=f();Object.freeze(Object.defineProperty({__proto__:null,create:n,clone:t,fromValues:r,fromArray:e,createView:u,zeros:a,ones:o,unitX:s,unitY:i,unitZ:c,unitW:f,ZEROS:l,ONES:_,UNIT_X:N,UNIT_Y:O,UNIT_Z:T,UNIT_W:U},Symbol.toStringTag,{value:\"Module\"}));\n\nexport { _, e, l, n, r, t, u };\n"],"names":["s","e","this","get","toJSON","d","y","readOnly","prototype","constructOnly","p","n","t","offset","extent","c","key","Map","r","i","o$1","o","tileInfoView","tileInfo","isWrappable","set","l$1","id","l","arguments","type","_tileKeyToFeatureSets","handles","add","tileStore","on","onTileUpdate","bind","schema","processors","m","_schema","mesh","removed","delete","remoteClient","invoke","tileKey","data","clear","r$1","a","has","addOrUpdate","hasFeatures","instance","end","forEach","push","transform","intensityInfo","matrix","transferList","error","p$1","h","u$1","f","color","ratio","u","a$1","j","toArray","n$1","Uint8ClampedArray","filter","sort","map","Math","max","length","radius","fieldOffset","field","round","Float64Array","Number","NEGATIVE_INFINITY","readAttribute","Set","getCursor","next","getObjectId","readLegacyPointGeometry","x","g","min","A","buffer","canvas","width","height","clearRect","getImageData","Uint32Array","Uint8Array","floor","putImageData","sqrt","PI","clone","level","col","row","world","_","N","O","T","U","Object","freeze","defineProperty","__proto__","create","fromValues","fromArray","createView","zeros","ones","unitX","unitY","unitZ","unitW","ZEROS","ONES","UNIT_X","UNIT_Y","UNIT_Z","UNIT_W","Symbol","toStringTag","value"],"sourceRoot":""}