"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[6869],{96869:function(e,r,t){t.r(r),t.d(r,{executeScript:function(){return He},extend:function(){return ze},extractFieldLiterals:function(){return Qe},findFunctionCalls:function(){return $e},functionHelper:function(){return Xe},referencesFunction:function(){return Ke},referencesMember:function(){return Je},validateScript:function(){return We}});var n=t(37762),a=t(74165),u=t(15861),c=t(28969),s=t(16485),o=t(65832),i=t(80262),l=t(30709),p=t(36460),f=(t(91204),t(23132),t(75610),t(21583),t(57714),t(30604),t(61495),t(33642),t(43920),t(44455),t(92029),t(47642),t(43124),t(70441),t(50448),t(69797),t(46248),t(6794),t(33703),t(49580),t(41742),t(54841),100);function b(e,r){return h.apply(this,arguments)}function h(){return(h=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],u=0;case 2:if(!(u<t.arguments.length)){e.next=11;break}return e.t0=n,e.next=6,k(r,t.arguments[u]);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:u++,e.next=2;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,r,t){return w.apply(this,arguments)}function w(){return(w=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.preparsed){e.next=2;break}return e.abrupt("return",n(r,null,t.arguments));case 2:return e.t0=n,e.t1=r,e.t2=t,e.next=7,b(r,t);case 7:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,r,t){return v.apply(this,arguments)}function v(){return(v=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.preparsed){e.next=3;break}return u=n(r,null,t.arguments),e.abrupt("return",u);case 3:return e.t0=n,e.t1=r,e.t2=t,e.next=8,b(r,t);case 8:return e.t3=e.sent,c=(0,e.t0)(e.t1,e.t2,e.t3),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,r,t){return m.apply(this,arguments)}function m(){return(m=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.breakpoint||!0===n){e.next=5;break}return u=t.breakpoint(),e.next=4,u;case 4:return e.abrupt("return",k(r,t,!0));case 5:e.t0=t.type,e.next="VariableDeclarator"===e.t0?8:"VariableDeclaration"===e.t0?9:"BlockStatement"===e.t0?10:"FunctionDeclaration"===e.t0?11:"ReturnStatement"===e.t0?12:"IfStatement"===e.t0?13:"ExpressionStatement"===e.t0?14:"UpdateExpression"===e.t0?15:"AssignmentExpression"===e.t0?16:"ForStatement"===e.t0?17:"ForInStatement"===e.t0?18:"BreakStatement"===e.t0?19:"EmptyStatement"===e.t0?20:"ContinueStatement"===e.t0?21:"TemplateElement"===e.t0?22:"TemplateLiteral"===e.t0?23:"Identifier"===e.t0?24:"MemberExpression"===e.t0?25:"Literal"===e.t0?26:"CallExpression"===e.t0?27:"UnaryExpression"===e.t0?28:"BinaryExpression"===e.t0?29:"LogicalExpression"===e.t0?30:"ArrayExpression"===e.t0?31:"ObjectExpression"===e.t0?32:"Property"===e.t0?33:34;break;case 8:return e.abrupt("return",ne(r,t));case 9:return e.abrupt("return",re(r,t,0));case 10:return e.abrupt("return",H(r,t));case 11:return e.abrupt("return",$(r,t));case 12:return e.abrupt("return",J(r,t));case 13:return e.abrupt("return",X(r,t));case 14:return e.abrupt("return",Y(r,t));case 15:return e.abrupt("return",_(r,t));case 16:return e.abrupt("return",B(r,t));case 17:return e.abrupt("return",O(r,t));case 18:return e.abrupt("return",M(r,t));case 19:return e.abrupt("return",s.x);case 20:return e.abrupt("return",s.j);case 21:return e.abrupt("return",s.B);case 22:return e.abrupt("return",ye(r,t));case 23:return e.abrupt("return",Ee(r,t));case 24:return e.abrupt("return",de(r,t));case 25:return e.abrupt("return",se(r,t));case 26:return e.abrupt("return",t.value);case 27:return e.abrupt("return",ke(r,t));case 28:return e.abrupt("return",ie(r,t));case 29:return e.abrupt("return",be(r,t));case 30:return e.abrupt("return",xe(r,t));case 31:return e.abrupt("return",pe(r,t));case 32:return e.abrupt("return",y(r,t));case 33:return e.abrupt("return",E(r,t));case 34:throw new Error((0,c.b)(t,"RUNTIME","UNREOGNISED"));case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,r){return g.apply(this,arguments)}function g(){return(g=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,o,i,l,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],u=0;case 2:if(!(u<t.properties.length)){e.next=9;break}return e.next=5,k(r,t.properties[u]);case 5:n[u]=e.sent;case 6:u++,e.next=2;break;case 9:o={},i=0;case 11:if(!(i<n.length)){e.next=21;break}if(l=n[i],!(0,s.v)(l.value)){e.next=15;break}throw new Error("Illegal Argument");case 15:if(!1!==(0,s.w)(l.key)){e.next=17;break}throw new Error("Illegal Argument");case 17:l.value===s.j?o[l.key.toString()]=null:o[l.key.toString()]=l.value;case 18:i++,e.next=11;break;case 21:return p=new c.d(o),e.abrupt("return",(p.immutable=!1,p));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,r){return N.apply(this,arguments)}function N(){return(N=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r,t.value);case 2:if(n=e.sent,"Identifier"!==t.key.type){e.next=5;break}return e.abrupt("return",{key:t.key.name,value:n});case 5:return e.next=7,k(r,t.key);case 7:return e.t0=e.sent,e.t1=n,e.abrupt("return",{key:e.t0,value:e.t1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,r,t){return I.apply(this,arguments)}function I(){return(I=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r,t.body);case 2:if(u=e.sent,n.lastAction=u,!(n.lastAction===s.x||n.lastAction instanceof s.T)){e.next=8;break}e.t0=(n.testResult=!1,n),e.next=16;break;case 8:if(null===t.update){e.next=14;break}return e.next=11,k(r,t.update);case 11:e.t1=n,e.next=15;break;case 14:e.t1=n;case 15:e.t0=e.t1;case 16:return e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.test){e.next=11;break}return e.next=3,k(r,t.test);case 3:if(u=e.sent,!0!==r.abortSignal.aborted){e.next=6;break}throw new Error("Cancelled");case 6:if(n.testResult=u,!1!==n.testResult){e.next=8;break}return e.abrupt("return",n);case 8:if(!0===n.testResult){e.next=10;break}throw new Error((0,c.b)(t,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));case 10:case 11:return e.abrupt("return",Z(r,t,n));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,r,t,n,a,u){try{(function(e,r,t){return S.apply(this,arguments)})(e,r,t).then((function(){try{!0===t.testResult?++u>f?(u=0,setTimeout((function(){T(e,r,t,n,a,u)}),0)):T(e,r,t,n,a,u):t.lastAction instanceof s.T?n(t.lastAction):n(s.j)}catch(c){a(c)}}),(function(e){a(e)}))}catch(c){a(c)}}function O(e,r){try{return null!==r.init?k(e,r.init).then((function(){return new Promise((function(t,n){T(e,r,{testResult:!0,lastAction:s.j},(function(e){t(e)}),(function(e){n(e)}),0)}))})):new Promise((function(t,n){T(e,r,{testResult:!0,lastAction:s.j},(function(e){t(e)}),(function(e){n(e)}),0)}))}catch(t){return Promise.reject(t)}}function C(e,r,t,n,a,u,c,o,i,l){try{if(n<=u)return void o(s.j);a.value="k"===c?t[u]:u,k(e,r.body).then((function(p){try{p instanceof s.T?o(p):p===s.x?o(s.j):++l>f?(l=0,setTimeout((function(){C(e,r,t,n,a,u+1,c,o,i,l)}),0)):C(e,r,t,n,a,u+1,c,o,i,l)}catch(b){i(b)}}),(function(e){i(e)}))}catch(p){i(p)}}function R(e,r,t,n,a,u,c,o,i){try{if(t.length()<=a)return void c(s.j);n.value="k"===u?t.get(a):a,k(e,r.body).then((function(l){l instanceof s.T?c(l):l===s.x?c(s.j):++i>f?(i=0,setTimeout((function(){R(e,r,t,n,a+1,u,c,o,i)}),0)):R(e,r,t,n,a+1,u,c,o,i)}),(function(e){o(e)}))}catch(l){o(l)}}function U(e,r,t,n,a,u){try{if(void 0===u&&(u="i"),0===t.length)return void n.resolve(s.j);C(e,r,t,t.length,a,0,u,(function(e){n.resolve(e)}),(function(e){n.reject(e)}),0)}catch(c){n.reject(c)}}function F(e,r,t,n,a,u){try{if(void 0===u&&(u="i"),0===t.length)return void n.resolve(s.j);R(e,r,t,a,0,u,(function(e){n.resolve(e)}),(function(e){n.reject(e)}),0)}catch(c){n.reject(c)}}function A(e,r,t,n,a){try{U(e,r,t.keys(),n,a,"k")}catch(u){n.reject(u)}}function j(e,r,t,n,a,u,o,i){try{e.next().then((function(l){try{if(null===l)u(s.j);else{var p=c.a.createFromGraphicLikeObject(l.geometry,l.attributes,n);p._underlyingGraphic=l,a.value=p,k(r,t.body).then((function(c){try{c===s.x?u(s.j):c instanceof s.T?u(c):++i>f?(i=0,setTimeout((function(){j(e,r,t,n,a,u,o,i)}),0)):j(e,r,t,n,a,u,o,i)}catch(l){o(l)}}),(function(e){o(e)}))}}catch(b){o(b)}}),(function(e){o(e)}))}catch(l){o(l)}}function M(e,r){return P.apply(this,arguments)}function P(){return(P=(0,u.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){k(r,t.right).then((function(a){try{("VariableDeclaration"===t.left.type?k(r,t.left):Promise.resolve()).then((function(){try{var u="";if("VariableDeclaration"===t.left.type){var o=t.left.declarations[0].id;"Identifier"===o.type&&(u=o.name)}else"Identifier"===t.left.type&&(u=t.left.name);if(!u)throw new Error((0,c.b)(t,"RUNTIME","INVALIDVARIABLE"));u=u.toLowerCase();var i=null;if(null!==r.localScope&&void 0!==r.localScope[u]&&(i=r.localScope[u]),null===i&&void 0!==r.globalScope[u]&&(i=r.globalScope[u]),null===i)return void n(new Error((0,c.b)(t,"RUNTIME","VARIABLENOTDECLARED")));(0,s.L)(a)||(0,s.w)(a)?U(r,t,a,{reject:n,resolve:e},i):(0,s.E)(a)?F(r,t,a,{reject:n,resolve:e},i):a instanceof c.d||(0,s.Y)(a)?A(r,t,a,{reject:n,resolve:e},i):(0,s.J)(a)?j(a.iterator(r.abortSignal),r,t,a,i,(function(r){e(r)}),(function(e){n(e)}),0):U(r,t,[],{reject:n,resolve:e},i)}catch(l){n(l)}}),n)}catch(u){n(u)}}),n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,r){return L.apply(this,arguments)}function L(){return(L=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,o,i,l,p,f,b;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MemberExpression"!==(n=t.argument).type){e.next=40;break}return u={t:null},e.next=5,k(r,n.object);case 5:if(o=e.sent,i=null,u.t=o,!0!==n.computed){e.next=14;break}return e.next=11,k(r,n.property);case 11:i=e.sent,e.next=15;break;case 14:"Identifier"===n.property.type&&(i=n.property.name);case 15:if(l=u.t,!(0,s.L)(l)){e.next=24;break}if((0,s.O)(i)){e.next=19;break}throw new Error("Invalid Parameter");case 19:if(i<0&&(i=l.length+i),!(i<0||i>=l.length)){e.next=21;break}throw new Error("Assignment outside of array bounds");case 21:p=(0,s.n)(l[i]),l[i]="++"===t.operator?p+1:p-1,e.next=39;break;case 24:if(!(l instanceof c.d)){e.next=32;break}if(!1!==(0,s.w)(i)){e.next=27;break}throw new Error("Dictionary accessor must be a string");case 27:if(!0===l.hasField(i)){e.next=29;break}throw new Error("Invalid Parameter");case 29:p=(0,s.n)(l.field(i)),l.setField(i,"++"===t.operator?p+1:p-1),e.next=39;break;case 32:if((0,s.Y)(l)){e.next=34;break}throw(0,s.E)(l)?new Error("Array is Immutable"):new Error("Invalid Parameter");case 34:if(!1!==(0,s.w)(i)){e.next=36;break}throw new Error("Feature accessor must be a string");case 36:if(!0===l.hasField(i)){e.next=38;break}throw new Error("Invalid Parameter");case 38:p=(0,s.n)(l.field(i)),l.setField(i,"++"===t.operator?p+1:p-1);case 39:return e.abrupt("return",!1===t.prefix?p:"++"===t.operator?p+1:p-1);case 40:if(f="Identifier"===t.argument.type?t.argument.name.toLowerCase():""){e.next=43;break}throw new Error("Invalid identifier");case 43:if(null===r.localScope||void 0===r.localScope[f]){e.next=45;break}return e.abrupt("return",(b=(0,s.n)(r.localScope[f].value),r.localScope[f]={value:"++"===t.operator?b+1:b-1,valueset:!0,node:t},!1===t.prefix?b:"++"===t.operator?b+1:b-1));case 45:if(void 0===r.globalScope[f]){e.next=47;break}return e.abrupt("return",(b=(0,s.n)(r.globalScope[f].value),r.globalScope[f]={value:"++"===t.operator?b+1:b-1,valueset:!0,node:t},!1===t.prefix?b:"++"===t.operator?b+1:b-1));case 47:throw new Error("Variable not recognised");case 48:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,r,t,n){switch(r){case"=":return e===s.j?null:e;case"/=":return(0,s.n)(t)/(0,s.n)(e);case"*=":return(0,s.n)(t)*(0,s.n)(e);case"-=":return(0,s.n)(t)-(0,s.n)(e);case"+=":return(0,s.w)(t)||(0,s.w)(e)?(0,s.X)(t)+(0,s.X)(e):(0,s.n)(t)+(0,s.n)(e);case"%=":return(0,s.n)(t)%(0,s.n)(e);default:throw new Error((0,c.b)(n,"RUNTIME","OPERATORNOTRECOGNISED"))}}function B(e,r){return G.apply(this,arguments)}function G(){return(G=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,o,i,l,p,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MemberExpression"!==(n=t.left).type){e.next=56;break}return e.next=4,k(r,t.right);case 4:return u=e.sent,e.next=7,k(r,n.object);case 7:if(o=e.sent,i=null,!0!==n.computed){e.next=15;break}return e.next=12,k(r,n.property);case 12:i=e.sent,e.next=18;break;case 15:if("Identifier"===n.property.type){e.next=17;break}throw new Error("Expected computed or identifier for assignemnt target");case 17:i=n.property.name;case 18:if(!(0,s.L)(o)){e.next=32;break}if((0,s.O)(i)){e.next=21;break}throw new Error("Invalid Parameter");case 21:if(i<0&&(i=o.length+i),!(i<0||i>o.length)){e.next=23;break}throw new Error("Assignment outside of array bounds");case 23:if(i!==o.length){e.next=29;break}if("="===t.operator){e.next=26;break}throw new Error("Invalid Parameter");case 26:o[i]=D(u,t.operator,o[i],t),e.next=30;break;case 29:o[i]=D(u,t.operator,o[i],t);case 30:e.next=55;break;case 32:if(!(o instanceof c.d)){e.next=44;break}if(!1!==(0,s.w)(i)){e.next=35;break}throw new Error("Dictionary accessor must be a string");case 35:if(!0!==o.hasField(i)){e.next=39;break}o.setField(i,D(u,t.operator,o.field(i),t)),e.next=42;break;case 39:if("="===t.operator){e.next=41;break}throw new Error("Invalid Parameter");case 41:o.setField(i,D(u,t.operator,null,t));case 42:e.next=55;break;case 44:if((0,s.Y)(o)){e.next=46;break}throw(0,s.E)(o)?new Error("Array is Immutable"):new Error("Invalid Parameter");case 46:if(!1!==(0,s.w)(i)){e.next=48;break}throw new Error("Feature accessor must be a string");case 48:if(!0!==o.hasField(i)){e.next=52;break}o.setField(i,D(u,t.operator,o.field(i),t)),e.next=55;break;case 52:if("="===t.operator){e.next=54;break}throw new Error("Invalid Parameter");case 54:o.setField(i,D(u,t.operator,null,t));case 55:return e.abrupt("return",s.j);case 56:if(l=n.name.toLowerCase(),null===r.localScope||void 0===r.localScope[l]){e.next=62;break}return e.next=60,k(r,t.right);case 60:return p=e.sent,e.abrupt("return",(r.localScope[l]={value:D(p,t.operator,r.localScope[l].value,t),valueset:!0,node:t.right},s.j));case 62:if(void 0===r.globalScope[l]){e.next=67;break}return e.next=65,k(r,t.right);case 65:return f=e.sent,e.abrupt("return",(r.globalScope[l]={value:D(f,t.operator,r.globalScope[l].value,t),valueset:!0,node:t.right},s.j));case 67:throw new Error("Cannot assign undeclared variable");case 68:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,r){return V.apply(this,arguments)}function V(){return(V=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("AssignmentExpression"!==t.expression.type){e.next=2;break}return e.abrupt("return",k(r,t.expression));case 2:if("CallExpression"!==t.expression.type){e.next=7;break}return e.next=5,k(r,t.expression);case 5:return n=e.sent,e.abrupt("return",n===s.j?s.j:new s.U(n));case 7:return e.next=9,k(r,t.expression);case 9:return u=e.sent,e.abrupt("return",u===s.j?s.j:new s.U(u));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,r){return z.apply(this,arguments)}function z(){return(z=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("AssignmentExpression"!==t.test.type&&"UpdateExpression"!==t.test.type){e.next=2;break}throw new Error((0,c.b)(t.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));case 2:return e.next=4,k(r,t.test);case 4:if(!0!==(n=e.sent)){e.next=7;break}return e.abrupt("return",k(r,t.consequent));case 7:if(!1!==n){e.next=9;break}return e.abrupt("return",null!==t.alternate?k(r,t.alternate):s.j);case 9:throw new Error((0,c.b)(t.test,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,r){return q.apply(this,arguments)}function q(){return(q=(0,u.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(r,t,0));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,r,t){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>=t.body.length)){e.next=2;break}return e.abrupt("return",s.j);case 2:return e.next=4,k(r,t.body[n]);case 4:return u=e.sent,e.abrupt("return",u instanceof s.T||u===s.x||u===s.B||n===t.body.length-1?u:Q(r,t,n+1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,r){return K.apply(this,arguments)}function K(){return(K=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.argument){e.next=2;break}return e.abrupt("return",new s.T(s.j));case 2:return e.next=4,k(r,t.argument);case 4:return n=e.sent,e.abrupt("return",new s.T(n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,r){return ee.apply(this,arguments)}function ee(){return(ee=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id.name.toLowerCase(),e.abrupt("return",(r.globalScope[n]={valueset:!0,node:null,value:new s.a(t,r)},s.j));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,r,t){return te.apply(this,arguments)}function te(){return(te=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>=t.declarations.length)){e.next=4;break}e.t0=s.j,e.next=11;break;case 4:return e.next=6,k(r,t.declarations[n]);case 6:if(e.t1=n===t.declarations.length-1,e.t1){e.next=10;break}return e.next=10,re(r,t,n+1);case 10:e.t0=s.j;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,r){return ae.apply(this,arguments)}function ae(){return(ae=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,null!==t.init){e.next=5;break}e.t0=null,e.next=8;break;case 5:return e.next=7,k(r,t.init);case 7:e.t0=e.sent;case 8:if(n=e.t0,null===r.localScope){e.next=14;break}if(n===s.j&&(n=null),"Identifier"===t.id.type){e.next=12;break}throw new Error("Can only assign a regular variable");case 12:return u=t.id.name.toLowerCase(),e.abrupt("return",(r.localScope[u]={value:n,valueset:!0,node:t.init},s.j));case 14:if("Identifier"===t.id.type){e.next=16;break}throw new Error("Can only assign a regular variable");case 16:return c=t.id.name.toLowerCase(),e.abrupt("return",(n===s.j&&(n=null),r.globalScope[c]={value:n,valueset:!0,node:t.init},s.j));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=0;function ce(e,r,t,n){var a;switch(r=r.toLowerCase()){case"hasz":var u=e.hasZ;return void 0!==u&&u;case"hasm":var o=e.hasM;return void 0!==o&&o;case"spatialreference":var i=e.spatialReference._arcadeCacheId;if(void 0===i){var l=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(l=!1),l&&(ue++,e.spatialReference._arcadeCacheId=ue,i=ue)}var p=new c.d({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==i&&(p._arcadeCacheId="SPREF"+i.toString()),p}switch(e.type){case"extent":switch(r){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":var f=e[r];return void 0!==f?f:null;case"type":return"Extent"}break;case"polygon":switch(r){case"rings":return void 0===(a=e.cache._arcadeCacheId)&&(a=++ue,e.cache._arcadeCacheId=a),new s.a0(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,a);case"type":return"Polygon"}break;case"point":switch(r){case"x":case"y":case"z":case"m":return void 0!==e[r]?e[r]:null;case"type":return"Point"}break;case"polyline":switch(r){case"paths":return void 0===(a=e.cache._arcadeCacheId)&&(a=++ue,e.cache._arcadeCacheId=a),new s.a0(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,a);case"type":return"Polyline"}break;case"multipoint":switch(r){case"points":return void 0===(a=e.cache._arcadeCacheId)&&(a=++ue,e.cache._arcadeCacheId=a),new s.c(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,a,1);case"type":return"Multipoint"}}throw new Error((0,c.b)(n,"RUNTIME","PROPERTYNOTFOUND"))}function se(e,r){return oe.apply(this,arguments)}function oe(){return(oe=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r,t.object);case 2:if(null!==(n=e.sent)){e.next=5;break}throw new Error((0,c.b)(t,"RUNTIME","NOTFOUND"));case 5:if(!1!==t.computed){e.next=13;break}if("Identifier"!==t.property.type){e.next=12;break}if(!(n instanceof c.d||(0,s.Y)(n))){e.next=9;break}return e.abrupt("return",n.field(t.property.name));case 9:if(!(n instanceof l.p)){e.next=11;break}return e.abrupt("return",ce(n,t.property.name,0,t));case 11:case 12:case 19:case 23:case 29:case 35:case 41:case 42:throw new Error((0,c.b)(t,"RUNTIME","INVALIDTYPE"));case 13:return e.next=15,k(r,t.property);case 15:if(u=e.sent,!(n instanceof c.d||(0,s.Y)(n))){e.next=20;break}if(!(0,s.w)(u)){e.next=19;break}return e.abrupt("return",n.field(u));case 20:if(!(n instanceof l.p)){e.next=24;break}if(!(0,s.w)(u)){e.next=23;break}return e.abrupt("return",ce(n,u,0,t));case 24:if(!(0,s.L)(n)){e.next=30;break}if(!(0,s.O)(u)||!isFinite(u)||Math.floor(u)!==u){e.next=29;break}if(u<0&&(u=n.length+u),!(u>=n.length||u<0)){e.next=28;break}throw new Error((0,c.b)(t,"RUNTIME","OUTOFBOUNDS"));case 28:case 40:return e.abrupt("return",n[u]);case 30:if(!(0,s.E)(n)){e.next=36;break}if(!(0,s.O)(u)||!isFinite(u)||Math.floor(u)!==u){e.next=35;break}if(u<0&&(u=n.length()+u),!(u>=n.length()||u<0)){e.next=34;break}throw new Error((0,c.b)(t,"RUNTIME","OUTOFBOUNDS"));case 34:return e.abrupt("return",n.get(u));case 36:if(!(0,s.w)(n)){e.next=42;break}if(!(0,s.O)(u)||!isFinite(u)||Math.floor(u)!==u){e.next=41;break}if(u<0&&(u=n.length+u),!(u>=n.length||u<0)){e.next=40;break}throw new Error((0,c.b)(t,"RUNTIME","OUTOFBOUNDS"));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,r){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r,t.argument);case 2:if(n=e.sent,!(0,s._)(n)){e.next=13;break}if("!"!==t.operator){e.next=6;break}return e.abrupt("return",!n);case 6:if("-"!==t.operator){e.next=8;break}return e.abrupt("return",-1*(0,s.n)(n));case 8:if("+"!==t.operator){e.next=10;break}return e.abrupt("return",1*(0,s.n)(n));case 10:if("~"!==t.operator){e.next=12;break}return e.abrupt("return",~(0,s.n)(n));case 12:case 19:throw new Error((0,c.b)(t,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));case 13:if("-"!==t.operator){e.next=15;break}return e.abrupt("return",-1*(0,s.n)(n));case 15:if("+"!==t.operator){e.next=17;break}return e.abrupt("return",1*(0,s.n)(n));case 17:if("~"!==t.operator){e.next=19;break}return e.abrupt("return",~(0,s.n)(n));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,r){return fe.apply(this,arguments)}function fe(){return(fe=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],u=0;case 2:if(!(u<t.elements.length)){e.next=11;break}return e.t0=n,e.next=6,k(r,t.elements[u]);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:u++,e.next=2;break;case 11:o=0;case 12:if(!(o<n.length)){e.next=19;break}if(!(0,s.v)(n[o])){e.next=15;break}throw new Error((0,c.b)(t,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));case 15:n[o]===s.j&&(n[o]=null);case 16:o++,e.next=12;break;case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,r){return he.apply(this,arguments)}function he(){return(he=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,k(r,t.left);case 3:return n[0]=e.sent,e.next=6,k(r,t.right);case 6:n[1]=e.sent,u=n[0],o=n[1],e.t0=t.operator,e.next="|"===e.t0||"<<"===e.t0||">>"===e.t0||">>>"===e.t0||"^"===e.t0||"&"===e.t0?11:"=="===e.t0?12:"!="===e.t0?13:"<"===e.t0||">"===e.t0||"<="===e.t0||">="===e.t0?14:"+"===e.t0?15:"-"===e.t0?16:"*"===e.t0?17:"/"===e.t0?18:"%"===e.t0?19:20;break;case 11:return e.abrupt("return",(0,s.D)((0,s.n)(u),(0,s.n)(o),t.operator));case 12:return e.abrupt("return",(0,s.Q)(u,o));case 13:return e.abrupt("return",!(0,s.Q)(u,o));case 14:return e.abrupt("return",(0,s.W)(u,o,t.operator));case 15:return e.abrupt("return",(0,s.w)(u)||(0,s.w)(o)?(0,s.X)(u)+(0,s.X)(o):(0,s.n)(u)+(0,s.n)(o));case 16:return e.abrupt("return",(0,s.n)(u)-(0,s.n)(o));case 17:return e.abrupt("return",(0,s.n)(u)*(0,s.n)(o));case 18:return e.abrupt("return",(0,s.n)(u)/(0,s.n)(o));case 19:return e.abrupt("return",(0,s.n)(u)%(0,s.n)(o));case 20:throw new Error((0,c.b)(t,"RUNTIME","OPERATORNOTRECOGNISED"));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,r){return we.apply(this,arguments)}function we(){return(we=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("AssignmentExpression"!==t.left.type&&"UpdateExpression"!==t.left.type){e.next=2;break}throw new Error((0,c.b)(t.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));case 2:if("AssignmentExpression"!==t.right.type&&"UpdateExpression"!==t.right.type){e.next=4;break}throw new Error((0,c.b)(t.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));case 4:return e.next=6,k(r,t.left);case 6:if(n=e.sent,u=null,(0,s._)(n)){e.next=10;break}throw new Error((0,c.b)(t,"RUNTIME","ONLYBOOLEAN"));case 10:e.t0=t.operator,e.next="||"===e.t0?13:"&&"===e.t0?21:29;break;case 13:if(!0!==n){e.next=15;break}return e.abrupt("return",n);case 15:return e.next=17,k(r,t.right);case 17:if(u=e.sent,!(0,s._)(u)){e.next=20;break}return e.abrupt("return",u);case 20:case 28:case 29:throw new Error((0,c.b)(t,"RUNTIME","ONLYORORAND"));case 21:if(!1!==n){e.next=23;break}return e.abrupt("return",n);case 23:return e.next=25,k(r,t.right);case 25:if(u=e.sent,!(0,s._)(u)){e.next=28;break}return e.abrupt("return",u);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,r){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,s,o,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name.toLowerCase(),null===r.localScope||void 0===r.localScope[n]){e.next=12;break}if(!0!==(u=r.localScope[n]).valueset){e.next=5;break}return e.abrupt("return",u.value);case 5:if(null===u.d){e.next=7;break}return e.abrupt("return",u.d);case 7:return u.d=k(r,u.node),e.next=10,u.d;case 10:return s=e.sent,e.abrupt("return",(u.value=s,u.valueset=!0,s));case 12:if(void 0===r.globalScope[n]){e.next=23;break}if(!0!==(o=r.globalScope[n]).valueset){e.next=16;break}return e.abrupt("return",o.value);case 16:if(null===o.d){e.next=18;break}return e.abrupt("return",o.d);case 18:return o.d=k(r,o.node),e.next=21,o.d;case 21:return i=e.sent,e.abrupt("return",(o.value=i,o.valueset=!0,i));case 23:throw new Error((0,c.b)(t,"RUNTIME","VARIABLENOTFOUND"));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,r){return me.apply(this,arguments)}function me(){return(me=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Identifier"===t.callee.type){e.next=2;break}throw new Error((0,c.b)(t,"RUNTIME","ONLYNODESSUPPORTED"));case 2:if(null===r.localScope||void 0===r.localScope[t.callee.name.toLowerCase()]){e.next=9;break}if(!((n=r.localScope[t.callee.name.toLowerCase()]).value instanceof s.N)){e.next=6;break}return e.abrupt("return",n.value.fn(r,t));case 6:if(!(n.value instanceof s.a)){e.next=8;break}return e.abrupt("return",_e(r,t,n.value.definition));case 8:case 15:throw new Error((0,c.b)(t,"RUNTIME","NOTAFUNCTION"));case 9:if(void 0===r.globalScope[t.callee.name.toLowerCase()]){e.next=16;break}if(!((u=r.globalScope[t.callee.name.toLowerCase()]).value instanceof s.N)){e.next=13;break}return e.abrupt("return",u.value.fn(r,t));case 13:if(!(u.value instanceof s.a)){e.next=15;break}return e.abrupt("return",_e(r,t,u.value.definition));case 16:throw new Error((0,c.b)(t,"RUNTIME","NOTFOUND"));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,r){return ge.apply(this,arguments)}function ge(){return(ge=(0,u.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.value?t.value.cooked:"");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,r){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)((0,a.Z)().mark((function e(r,t){var u,c,o,i,l,p,f,b;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=[],c=0;case 2:if(!(c<t.expressions.length)){e.next=10;break}return e.next=5,k(r,t.expressions[c]);case 5:o=e.sent,u[c]=(0,s.X)(o);case 7:c++,e.next=2;break;case 10:i="",l=0,p=(0,n.Z)(t.quasis);try{for(p.s();!(f=p.n()).done;)b=f.value,i+=b.value?b.value.cooked:"",!1===b.tail&&(i+=u[l]?u[l]:"",l++)}catch(a){p.e(a)}finally{p.f()}return e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ze={};function Ie(e){return null===e?"":(0,s.L)(e)||(0,s.E)(e)?"Array":(0,s.z)(e)?"Date":(0,s.w)(e)?"String":(0,s._)(e)?"Boolean":(0,s.O)(e)?"Number":e instanceof c.e?"Attachment":e instanceof c.s?"Portal":e instanceof c.d?"Dictionary":(0,s.Y)(e)?"Feature":e instanceof l.j?"Point":e instanceof p.v?"Polygon":e instanceof p.m?"Polyline":e instanceof p.a?"Multipoint":e instanceof i.M?"Extent":(0,s.v)(e)?"Function":(0,s.J)(e)?"FeatureSet":(0,s.p)(e)?"FeatureSetCollection":e===s.j?"":"number"==typeof e&&isNaN(e)?"Number":"Unrecognised Type"}function Se(e,r,t,n){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)((0,a.Z)().mark((function e(r,t,n,u){var c,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r,t.arguments[n]);case 2:if(c=e.sent,!(0,s.Q)(c,u)){e.next=5;break}return e.abrupt("return",k(r,t.arguments[n+1]));case 5:return o=t.arguments.length-n,e.abrupt("return",1===o?k(r,t.arguments[n]):2===o?null:3===o?k(r,t.arguments[n+2]):Se(r,t,n+2,u));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,r,t,n){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,u.Z)((0,a.Z)().mark((function e(r,t,n,u){var c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==u){e.next=2;break}return e.abrupt("return",k(r,t.arguments[n+1]));case 2:if(3!==t.arguments.length-n){e.next=4;break}return e.abrupt("return",k(r,t.arguments[n+2]));case 4:return e.next=6,k(r,t.arguments[n+2]);case 6:if(c=e.sent,!1!==(0,s._)(c)){e.next=9;break}throw new Error("WHEN needs boolean test conditions");case 9:return e.abrupt("return",Oe(r,t,n+2,c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,r){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length,u=Math.floor(n/2),0!==n){e.next=3;break}return e.abrupt("return",[]);case 3:if(1!==n){e.next=5;break}return e.abrupt("return",[r[0]]);case 5:return c=[Re(r.slice(0,u),t),Re(r.slice(u,n),t)],e.next=8,Promise.all(c);case 8:return s=e.sent,e.abrupt("return",Fe(s[0],s[1],t,[]));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,r,t,n){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,u.Z)((0,a.Z)().mark((function e(r,t,n,u){var c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u,r.length>0||t.length>0){e.next=3;break}return e.abrupt("return",u);case 3:if(!(r.length>0&&t.length>0)){e.next=8;break}return e.next=6,n(r[0],t[0]);case 6:return s=e.sent,e.abrupt("return",(isNaN(s)&&(s=1),s<=0?(c.push(r[0]),r=r.slice(1)):(c.push(t[0]),t=t.slice(1)),Fe(r,t,n,u)));case 8:return e.abrupt("return",r.length>0?(c.push(r[0]),Fe(r=r.slice(1),t,n,u)):t.length>0?(c.push(t[0]),Fe(r,t=t.slice(1),n,u)):void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,r){var t=e.length,n=Math.floor(t/2);return r||(r=function(e,r){return e<r?-1:e===r?0:1}),0===t?[]:1===t?[e[0]]:function(e,r,t){for(var n=[];e.length>0||r.length>0;)if(e.length>0&&r.length>0){var a=t(e[0],r[0]);isNaN(a)&&(a=1),a<=0?(n.push(e[0]),e=e.slice(1)):(n.push(r[0]),r=r.slice(1))}else e.length>0?(n.push(e[0]),e=e.slice(1)):r.length>0&&(n.push(r[0]),r=r.slice(1));return n}(je(e.slice(0,n),r),je(e.slice(n,t),r),r)}function Me(e,r,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u,c,o,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.body,n.length===r.params.length){e.next=3;break}throw new Error("Invalid Parameter calls to function.");case 3:for(c=0;c<n.length;c++)"Identifier"===(o=r.params[c]).type&&(t.localScope[o.name.toLowerCase()]={d:null,value:n[c],valueset:!0,node:null});return e.next=6,k(t,u);case 6:if(!((i=e.sent)instanceof s.T)){e.next=9;break}return e.abrupt("return",i.value);case 9:if(i!==s.x){e.next=11;break}throw new Error("Cannot Break from a Function");case 11:if(i!==s.B){e.next=13;break}throw new Error("Cannot Continue from a Function");case 13:return e.abrupt("return",i instanceof s.U?i.value:i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,r,t){return d(e,r,(function(r,n,a){var u={spatialReference:e.spatialReference,services:e.services,console:e.console,lrucache:e.lrucache,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:e.depthCounter+1};if(u.depthCounter>64)throw new Error("Exceeded maximum function depth");return Me(t,u,a)}))}function Le(e){return function(){var r={abortSignal:e.context.abortSignal,spatialReference:e.context.spatialReference,console:e.context.console,lrucache:e.context.lrucache,interceptor:e.context.interceptor,services:e.context.services,localScope:{},globalScope:e.context.globalScope,depthCounter:e.context.depthCounter+1};if(r.depthCounter>64)throw new Error("Exceeded maximum function depth");return Me(e.definition,r,arguments)}}(0,c.y)(Ze,x),(0,c.O)(Ze,x),(0,c.N)(Ze,x),(0,c.P)(Ze,x),(0,c.o)(Ze,x),(0,o.registerFunctions)({functions:Ze,compiled:!1,signatures:null,evaluateIdentifier:null,arcadeCustomFunctionHandler:null,mode:"async",standardFunction:x,standardFunctionAsync:d}),Ze.typeof=function(e,r){return x(e,r,(function(e,r,t){(0,s.G)(t,1,1);var n=Ie(t[0]);if("Unrecognised Type"===n)throw new Error("Unrecognised Type");return n}))},Ze.iif=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,s.G)(null===t.arguments?[]:t.arguments,3,3),e.next=3,k(r,t.arguments[0]);case 3:if(n=e.sent,!1!==(0,s._)(n)){e.next=6;break}throw new Error("IF Function must have a boolean test condition");case 6:return u=[],e.next=9,k(r,t.arguments[1]);case 9:return u[0]=e.sent,e.next=12,k(r,t.arguments[2]);case 12:return u[1]=e.sent,e.abrupt("return",n?u[0]:u[1]);case 14:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),Ze.decode=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.arguments.length<2)){e.next=2;break}throw new Error("Missing Parameters");case 2:if(2!==t.arguments.length){e.next=4;break}return e.abrupt("return",k(r,t.arguments[1]));case 4:if((t.arguments.length-1)%2!=0){e.next=6;break}throw new Error("Must have a default value result.");case 6:return e.t0=Se,e.t1=r,e.t2=t,e.next=11,k(r,t.arguments[0]);case 11:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,1,e.t3));case 13:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),Ze.when=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.arguments.length<3)){e.next=2;break}throw new Error("Missing Parameters");case 2:if(t.arguments.length%2!=0){e.next=4;break}throw new Error("Must have a default value result.");case 4:return e.next=6,k(r,t.arguments[0]);case 6:if(n=e.sent,!1!==(0,s._)(n)){e.next=9;break}throw new Error("WHEN needs boolean test conditions");case 9:return e.abrupt("return",Oe(r,t,0,n));case 10:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),Ze.sort=function(e,r){return d(e,r,function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u,c,o,i,l,p,f,b;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,s.G)(n,1,2),u=n[0],(0,s.E)(u)&&(u=u.toArray()),!1!==(0,s.L)(u)){e.next=4;break}throw new Error("Illegal Argument");case 4:if(!(n.length>1)){e.next=8;break}if(!1!==(0,s.v)(n[1])){e.next=7;break}throw new Error("Illegal Argument");case 7:return e.abrupt("return",Re(u,Le(n[1])));case 8:if(0!==(c=u).length){e.next=11;break}return e.abrupt("return",[]);case 11:for(o={},i=0;i<c.length;i++)""!==(l=Ie(c[i]))&&(o[l]=!0);if(!0!==o.Array&&!0!==o.Dictionary&&!0!==o.Feature&&!0!==o.Point&&!0!==o.Polygon&&!0!==o.Polyline&&!0!==o.Multipoint&&!0!==o.Extent&&!0!==o.Function){e.next=15;break}return e.abrupt("return",c.slice(0));case 15:for(b in p=0,f="",o)p++,f=b;return e.abrupt("return",(p>1||"String"===f?c=je(c,(function(e,r){if(null==e||e===s.j)return null==r||r===s.j?0:1;if(null==r||r===s.j)return-1;var t=(0,s.X)(e),n=(0,s.X)(r);return t<n?-1:t===n?0:1})):"Number"===f?c=je(c,(function(e,r){return e-r})):"Boolean"===f?c=je(c,(function(e,r){return e===r?0:r?-1:1})):"Date"===f&&(c=je(c,(function(e,r){return r-e}))),c));case 18:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}())};var De={fixSpatialReference:s.s,parseArguments:b,standardFunction:x,standardFunctionAsync:d,evaluateIdentifier:de,arcadeCustomFunction:Le};for(var Be in Ze)Ze[Be]={value:new s.N(Ze[Be]),valueset:!0,node:null};var Ge=function(){};function Ye(e,r){var t=new Ge;null==e&&(e={}),null==r&&(r={});var n=new c.d({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});for(var a in n.immutable=!1,t.textformatting={value:n,valueset:!0,node:null},r)t[a]={value:new s.N(r[a]),native:!0,valueset:!0,node:null};for(var u in e)e[u]&&"esri.Graphic"===e[u].declaredClass?t[u]={value:c.a.createFromGraphic(e[u]),valueset:!0,node:null}:t[u]={value:e[u],valueset:!0,node:null};return t}function Ve(e){console.log(e)}(Ge.prototype=Ze).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},Ge.prototype.pi={value:Math.PI,valueset:!0,node:null};var Xe=De;function ze(e){for(var r={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:x,standardFunctionAsync:d,evaluateIdentifier:de,arcadeCustomFunctionHandler:Le},t=0;t<e.length;t++)e[t].registerFunctions(r);for(var n in r.functions)Ze[n]={value:new s.N(r.functions[n]),valueset:!0,node:null},Ge.prototype[n]=Ze[n];for(var a=0;a<r.signatures.length;a++)(0,c.r)(r.signatures[a],"async")}function He(e,r){return qe.apply(this,arguments)}function qe(){return(qe=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=t.spatialReference)&&(n=new l.k({wkid:102100})),u=Ye(t.vars,t.customfunctions),c={spatialReference:n,services:t.services,abortSignal:void 0===t.abortSignal||null===t.abortSignal?{aborted:!1}:t.abortSignal,globalScope:u,console:t.console?t.console:Ve,lrucache:t.lrucache,interceptor:t.interceptor,localScope:null,depthCounter:1},e.next=5,k(c,r.body[0].body);case 5:if((o=e.sent)instanceof s.T&&(o=o.value),o instanceof s.U&&(o=o.value),o===s.j&&(o=null),o!==s.x){e.next=8;break}throw new Error("Cannot return BREAK");case 8:if(o!==s.B){e.next=10;break}throw new Error("Cannot return CONTINUE");case 10:if(!(o instanceof s.N)){e.next=12;break}throw new Error("Cannot return FUNCTION");case 12:if(!(o instanceof s.a)){e.next=14;break}throw new Error("Cannot return FUNCTION");case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,r){return(0,c.f)(e)}function We(e,r){return(0,c.S)(e,r,"full")}function Je(e,r){return(0,c.p)(e,r)}function Ke(e,r){return(0,c.u)(e,r)}function $e(e){return(0,c.I)(e)}ze([c.m])}}]);
//# sourceMappingURL=6869.1235c76c.chunk.js.map