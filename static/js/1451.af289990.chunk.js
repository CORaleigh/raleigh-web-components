"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[1451],{51451:function(t,e,n){n.d(e,{B:function(){return Kt},I:function(){return jt},a:function(){return P},b:function(){return z},c:function(){return Dt},d:function(){return At},e:function(){return Q},f:function(){return bt},g:function(){return R},i:function(){return T},u:function(){return B}});var r=n(74165),o=n(93433),i=n(15861),a=n(37762),s=n(1413),l=n(43144),p=n(15671),u=n(60136),d=n(29388),c=n(23132),y=n(80175),f=n(70441),h=n(75610),v=n(30709),m=n(50526),Z=n(57714),w=n(50448),g=n(41742),I=n(1773),x=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type=null,r}return(0,l.Z)(n)}(f.l);(0,c.e)([(0,c.d)({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],x.prototype,"type",void 0);var F,S=x=(0,c.e)([(0,c.n)("esri.popup.content.Content")],x),j=F=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).description=null,r.displayType="auto",r.title=null,r.type="attachments",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new F({description:this.description,displayType:this.displayType,title:this.title})}}]),n}(S);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],j.prototype,"description",void 0),(0,c.e)([(0,c.d)({type:["auto","preview","list"],json:{write:!0}})],j.prototype,"displayType",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],j.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],j.prototype,"type",void 0);var k,T=j=F=(0,c.e)([(0,c.n)("esri.popup.content.AttachmentsContent")],j),b=k=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).creator=null,r.destroyer=null,r.outFields=null,r.type="custom",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new k({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,h.m)(this.outFields):null})}}]),n}(S);(0,c.e)([(0,c.d)()],b.prototype,"creator",void 0),(0,c.e)([(0,c.d)()],b.prototype,"destroyer",void 0),(0,c.e)([(0,c.d)()],b.prototype,"outFields",void 0),(0,c.e)([(0,c.d)({type:["custom"],readOnly:!0})],b.prototype,"type",void 0);var N,O=b=k=(0,c.e)([(0,c.n)("esri.popup.content.CustomContent")],b),_=N=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).title=null,r.expression=null,r.returnType="dictionary",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new N({title:this.title,expression:this.expression})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],_.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],_.prototype,"expression",void 0),(0,c.e)([(0,c.d)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],_.prototype,"returnType",void 0);var A,R=_=N=(0,c.e)([(0,c.n)("esri.popup.ElementExpressionInfo")],_),C=A=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).expressionInfo=null,r.type="expression",r}return(0,l.Z)(n,[{key:"clone",value:function(){var t;return new A({expressionInfo:null===(t=this.expressionInfo)||void 0===t?void 0:t.clone()})}}]),n}(S);(0,c.e)([(0,c.d)({type:R,json:{write:!0}})],C.prototype,"expressionInfo",void 0),(0,c.e)([(0,c.d)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],C.prototype,"type",void 0);var E,M=C=A=(0,c.e)([(0,c.n)("esri.popup.content.ExpressionContent")],C),L=(0,Z.o)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});L.toJSON.bind(L),L.fromJSON.bind(L);var D=E=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).dateFormat=null,r.dateTimeFormatOptions=null,r.digitSeparator=!1,r.places=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new E({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}},{key:"format",value:function(t){return this.dateFormat?(0,g.L)(t,(0,s.Z)((0,s.Z)({},(0,g.S)(this.dateFormat)),this.dateTimeFormatOptions)):(0,g.m)(t,(0,g.u)(this))}},{key:"formatRasterPixelValue",value:function(t){var e,n;return t.trim().includes(",")?(n=(e=",")+" ",this._formatDelimitedString(t,e,n,this)):t.trim().includes(";")?(n=(e=";")+" ",this._formatDelimitedString(t,e,n,this)):t.trim().includes(" ")?(e=n=" ",this._formatDelimitedString(t,e,n,this)):this.format(Number(t))}},{key:"_formatDelimitedString",value:function(t,e,n,r){var o=this;return t&&e&&n&&r?t.trim().split(e).map((function(t){return o.format(Number(t))})).join(n):t}}]),n}(f.l);(0,c.e)([(0,w.r)(L)],D.prototype,"dateFormat",void 0),(0,c.e)([(0,c.d)({type:Object,json:{read:!1}})],D.prototype,"dateTimeFormatOptions",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0}})],D.prototype,"digitSeparator",void 0),(0,c.e)([(0,c.d)({type:c.S,json:{write:!0}})],D.prototype,"places",void 0);var J,B=D=E=(0,c.e)([(0,c.n)("esri.popup.support.FieldInfoFormat")],D),Y=J=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).fieldName=null,r.format=null,r.isEditable=!1,r.label=null,r.stringFieldOption="text-box",r.statisticType=null,r.tooltip=null,r.visible=!0,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new J({fieldName:this.fieldName,format:this.format?(0,h.m)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Y.prototype,"fieldName",void 0),(0,c.e)([(0,c.d)({type:B,json:{write:!0}})],Y.prototype,"format",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0,default:!1}})],Y.prototype,"isEditable",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Y.prototype,"label",void 0),(0,c.e)([(0,w.r)(new Z.s({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Y.prototype,"stringFieldOption",void 0),(0,c.e)([(0,c.d)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Y.prototype,"statisticType",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Y.prototype,"tooltip",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0}})],Y.prototype,"visible",void 0);var U,P=Y=J=(0,c.e)([(0,c.n)("esri.popup.FieldInfo")],Y),V=U=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).attributes=null,r.description=null,r.fieldInfos=null,r.title=null,r.type="fields",r}return(0,l.Z)(n,[{key:"writeFieldInfos",value:function(t,e){e.fieldInfos=t&&t.map((function(t){return t.toJSON()}))}},{key:"clone",value:function(){return new U((0,h.m)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}}]),n}(S);(0,c.e)([(0,c.d)({type:Object,json:{write:!0}})],V.prototype,"attributes",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],V.prototype,"description",void 0),(0,c.e)([(0,c.d)({type:[P]})],V.prototype,"fieldInfos",void 0),(0,c.e)([(0,v.r)("fieldInfos")],V.prototype,"writeFieldInfos",null),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],V.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],V.prototype,"type",void 0);var z=V=U=(0,c.e)([(0,c.n)("esri.popup.content.FieldsContent")],V),q=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).altText=null,r.caption="",r.title="",r.type=null,r}return(0,l.Z)(n)}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],q.prototype,"altText",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],q.prototype,"caption",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],q.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],q.prototype,"type",void 0);var G,K=q=(0,c.e)([(0,c.n)("esri.popup.content.mixins.MediaInfo")],q),H=G=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).fieldName=null,r.tooltip=null,r.value=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new G({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}}]),n}(c.y);(0,c.e)([(0,c.d)()],H.prototype,"fieldName",void 0),(0,c.e)([(0,c.d)()],H.prototype,"tooltip",void 0),(0,c.e)([(0,c.d)()],H.prototype,"value",void 0);var $,Q=H=G=(0,c.e)([(0,c.n)("esri.popup.content.support.ChartMediaInfoValueSeries")],H),W=$=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).fields=[],r.normalizeField=null,r.series=[],r.tooltipField=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new $({fields:(0,h.m)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:[String],json:{write:!0}})],W.prototype,"fields",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],W.prototype,"normalizeField",void 0),(0,c.e)([(0,c.d)({type:[Q],json:{read:!1}})],W.prototype,"series",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],W.prototype,"tooltipField",void 0);var X=W=$=(0,c.e)([(0,c.n)("esri.popup.content.support.ChartMediaInfoValue")],W),tt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type=null,r.value=null,r}return(0,l.Z)(n)}(K);(0,c.e)([(0,c.d)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],tt.prototype,"type",void 0),(0,c.e)([(0,c.d)({type:X,json:{write:!0}})],tt.prototype,"value",void 0);var et,nt=tt=(0,c.e)([(0,c.n)("esri.popup.content.mixins.ChartMediaInfo")],tt),rt=(0,Z.o)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"}),ot=et=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type="bar-chart",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new et({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(nt);(0,c.e)([(0,c.d)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:rt.write}})],ot.prototype,"type",void 0);var it,at=ot=et=(0,c.e)([(0,c.n)("esri.popup.content.BarChartMediaInfo")],ot),st=it=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type="column-chart",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new it({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(nt);(0,c.e)([(0,c.d)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:rt.write}})],st.prototype,"type",void 0);var lt,pt=st=it=(0,c.e)([(0,c.n)("esri.popup.content.ColumnChartMediaInfo")],st),ut=lt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).linkURL=null,r.sourceURL=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new lt({linkURL:this.linkURL,sourceURL:this.sourceURL})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],ut.prototype,"linkURL",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],ut.prototype,"sourceURL",void 0);var dt,ct=ut=lt=(0,c.e)([(0,c.n)("esri.popup.content.support.ImageMediaInfoValue")],ut),yt=dt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).refreshInterval=null,r.type="image",r.value=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new dt({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}}]),n}(K);(0,c.e)([(0,c.d)({type:Number,json:{write:!0}})],yt.prototype,"refreshInterval",void 0),(0,c.e)([(0,c.d)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],yt.prototype,"type",void 0),(0,c.e)([(0,c.d)({type:ct,json:{write:!0}})],yt.prototype,"value",void 0);var ft,ht=yt=dt=(0,c.e)([(0,c.n)("esri.popup.content.ImageMediaInfo")],yt),vt=ft=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type="line-chart",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new ft({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(nt);(0,c.e)([(0,c.d)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:rt.write}})],vt.prototype,"type",void 0);var mt,Zt=vt=ft=(0,c.e)([(0,c.n)("esri.popup.content.LineChartMediaInfo")],vt),wt=mt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type="pie-chart",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new mt({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(nt);(0,c.e)([(0,c.d)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:rt.write}})],wt.prototype,"type",void 0);var gt,It=wt=mt=(0,c.e)([(0,c.n)("esri.popup.content.PieChartMediaInfo")],wt),xt={base:K,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":at,"column-chart":pt,"line-chart":Zt,"pie-chart":It,image:ht}},Ft=gt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).activeMediaInfoIndex=null,r.attributes=null,r.description=null,r.mediaInfos=null,r.title=null,r.type="media",r}return(0,l.Z)(n,[{key:"readMediaInfos",value:function(t){return t&&t.map((function(t){return"image"===t.type?ht.fromJSON(t):"barchart"===t.type?at.fromJSON(t):"columnchart"===t.type?pt.fromJSON(t):"linechart"===t.type?Zt.fromJSON(t):"piechart"===t.type?It.fromJSON(t):void 0})).filter(Boolean)}},{key:"writeMediaInfos",value:function(t,e){e.mediaInfos=t&&t.map((function(t){return t.toJSON()}))}},{key:"clone",value:function(){return new gt((0,h.m)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}}]),n}(S);(0,c.e)([(0,c.d)()],Ft.prototype,"activeMediaInfoIndex",void 0),(0,c.e)([(0,c.d)({type:Object,json:{write:!0}})],Ft.prototype,"attributes",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Ft.prototype,"description",void 0),(0,c.e)([(0,c.d)({types:[xt]})],Ft.prototype,"mediaInfos",void 0),(0,c.e)([(0,v.o)("mediaInfos")],Ft.prototype,"readMediaInfos",null),(0,c.e)([(0,v.r)("mediaInfos")],Ft.prototype,"writeMediaInfos",null),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Ft.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Ft.prototype,"type",void 0);var St,jt=Ft=gt=(0,c.e)([(0,c.n)("esri.popup.content.MediaContent")],Ft),kt=St=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).text=null,r.type="text",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new St({text:this.text})}}]),n}(S);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],kt.prototype,"text",void 0),(0,c.e)([(0,c.d)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],kt.prototype,"type",void 0);var Tt,bt=kt=St=(0,c.e)([(0,c.n)("esri.popup.content.TextContent")],kt),Nt={base:null,key:"type",typeMap:{attachment:T,media:jt,text:bt,expression:M,field:z}},Ot=Tt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).name=null,r.title=null,r.expression=null,r.returnType=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new Tt({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Ot.prototype,"name",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Ot.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Ot.prototype,"expression",void 0),(0,c.e)([(0,c.d)({type:["string","number"],json:{write:!0}})],Ot.prototype,"returnType",void 0);var _t,At=Ot=Tt=(0,c.e)([(0,c.n)("esri.popup.ExpressionInfo")],Ot),Rt=_t=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).returnTopmostRaster=null,r.showNoDataRecords=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new _t({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0}})],Rt.prototype,"returnTopmostRaster",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0}})],Rt.prototype,"showNoDataRecords",void 0);var Ct,Et=Rt=_t=(0,c.e)([(0,c.n)("esri.popup.LayerOptions")],Rt),Mt=Ct=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).field=null,r.order=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new Ct({field:this.field,order:this.order})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Mt.prototype,"field",void 0),(0,c.e)([(0,c.d)({type:["asc","desc"],json:{write:!0}})],Mt.prototype,"order",void 0);var Lt,Dt=Mt=Ct=(0,c.e)([(0,c.n)("esri.popup.support.RelatedRecordsInfoFieldOrder")],Mt),Jt=Lt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).showRelatedRecords=null,r.orderByFields=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new Lt({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,h.m)(this.orderByFields):null})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0}})],Jt.prototype,"showRelatedRecords",void 0),(0,c.e)([(0,c.d)({type:[Dt],json:{write:!0}})],Jt.prototype,"orderByFields",void 0);var Bt,Yt=Jt=Lt=(0,c.e)([(0,c.n)("esri.popup.RelatedRecordsInfo")],Jt),Ut=y.j.ofType({key:"type",defaultKeyValue:"button",base:I.c,typeMap:{button:I.a,toggle:I.b}}),Pt={base:S,key:"type",typeMap:{media:jt,custom:O,text:bt,attachments:T,fields:z,expression:M}},Vt="esri.PopupTemplate",zt=c.s.getLogger(Vt),qt=["attachments","fields","media","text","expression"],Gt=Bt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(){var t;return(0,p.Z)(this,n),(t=e.apply(this,arguments)).actions=null,t.content="",t.expressionInfos=null,t.fieldInfos=null,t.layerOptions=null,t.lastEditInfoEnabled=!0,t.outFields=null,t.overwriteActions=!1,t.returnGeometry=!1,t.title="",t.relatedRecordsInfo=null,t}return(0,l.Z)(n,[{key:"castContent",value:function(t){return Array.isArray(t)?t.map((function(t){return(0,c.N)(Pt,t)})):"string"==typeof t||"function"==typeof t||t instanceof HTMLElement||(0,c.D)(t)?t:(zt.error("content error","unsupported content value",{value:t}),null)}},{key:"readContent",value:function(t,e){var n=e.popupElements;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(e):this._readPopupInfo(e)}},{key:"writeContent",value:function(t,e,n,r){var o=this;"string"!=typeof t?Array.isArray(t)&&(e.popupElements=t.filter((function(t){return qt.includes(t.type)})).map((function(t){return t&&t.toJSON(r)})),e.popupElements.forEach((function(t){"attachments"===t.type?o._writeAttachmentContent(e):"media"===t.type?o._writeMediaContent(t,e):"text"===t.type&&o._writeTextContent(t,e)}))):e.description=t}},{key:"writeFieldInfos",value:function(t,e,n,r){var o=this.content,i=Array.isArray(o)?o:null;if(t){var s=i?i.filter((function(t){return"fields"===t.type})):[],l=s.length&&s.every((function(t){var e;return null===(e=t.fieldInfos)||void 0===e?void 0:e.length}));e.fieldInfos=t.filter(Boolean).map((function(t){var e=t.toJSON(r);return l&&(e.visible=!1),e}))}if(i){var p,u=(0,a.Z)(i);try{for(u.s();!(p=u.n()).done;){var d=p.value;"fields"===d.type&&this._writeFieldsContent(d,e)}}catch(c){u.e(c)}finally{u.f()}}}},{key:"writeLayerOptions",value:function(t,e,n,r){e[n]=!t||null===t.showNoDataRecords&&null===t.returnTopmostRaster?null:t.toJSON(r)}},{key:"writeTitle",value:function(t,e){e.title=t||""}},{key:"clone",value:function(){var t=this.actions,e=t?(0,h.m)(t.toArray()):[];return new Bt({actions:e,content:Array.isArray(this.content)?(0,h.m)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?(0,h.m)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?(0,h.m)(this.fieldInfos):null,layerOptions:this.layerOptions?(0,h.m)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?(0,h.m)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?(0,h.m)(this.relatedRecordsInfo):null})}},{key:"collectRequiredFields",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.expressionInfos||[],t.next=3,this._collectExpressionInfoFields(e,n,[].concat((0,o.Z)(i),(0,o.Z)(this._getContentExpressionInfos(this.content,i))));case 3:(0,m.g)(e,n,[].concat((0,o.Z)(this.outFields||[]),(0,o.Z)(this._getActionsFields(this.actions)),(0,o.Z)(this._getTitleFields(this.title)),(0,o.Z)(this._getContentFields(this.content))));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getRequiredFields",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Set,t.next=3,this.collectRequiredFields(n,e);case 3:return t.abrupt("return",(0,o.Z)(n).sort());case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_writeFieldsContent",value:function(t,e){if(Array.isArray(t.fieldInfos)&&t.fieldInfos.length){var n=(0,h.m)(t.fieldInfos);Array.isArray(e.fieldInfos)?n.forEach((function(t){var n=e.fieldInfos.find((function(e){return e.fieldName.toLowerCase()===t.fieldName.toLowerCase()}));n?n.visible=!0:e.fieldInfos.push(t)})):e.fieldInfos=n}}},{key:"_writeAttachmentContent",value:function(t){t.showAttachments||(t.showAttachments=!0)}},{key:"_writeTextContent",value:function(t,e){!e.description&&t.text&&(e.description=t.text)}},{key:"_writeMediaContent",value:function(t,e){if(Array.isArray(t.mediaInfos)&&t.mediaInfos.length){var n=(0,h.m)(t.mediaInfos);Array.isArray(e.mediaInfos)?e.mediaInfos=[].concat((0,o.Z)(e.mediaInfos),(0,o.Z)(n)):e.mediaInfos=n}}},{key:"_readPopupInfoElements",value:function(t){var e=t.description,n=t.mediaInfos,r=t.popupElements,o={description:!1,mediaInfos:!1};return r.map((function(t){return"media"===t.type?(t.mediaInfos||!n||o.mediaInfos||(t.mediaInfos=n,o.mediaInfos=!0),jt.fromJSON(t)):"text"===t.type?(t.text||!e||o.description||(t.text=e,o.description=!0),bt.fromJSON(t)):"attachments"===t.type?T.fromJSON(t):"fields"===t.type?z.fromJSON(t):"expression"===t.type?M.fromJSON(t):void 0})).filter(Boolean)}},{key:"_readPopupInfo",value:function(t){var e=t.description,n=t.mediaInfos,r=t.showAttachments,o=[];return e?o.push(new bt({text:e})):o.push(new z),Array.isArray(n)&&n.length&&o.push(jt.fromJSON({mediaInfos:n})),r&&o.push(T.fromJSON({displayType:"auto"})),o.length?o:e}},{key:"_getContentElementFields",value:function(t){var e=this,n=null===t||void 0===t?void 0:t.type;if("attachments"===n)return[].concat((0,o.Z)(this._extractFieldNames(t.title)),(0,o.Z)(this._extractFieldNames(t.description)));if("custom"===n)return t.outFields||[];if("fields"===n)return[].concat((0,o.Z)(this._extractFieldNames(t.title)),(0,o.Z)(this._extractFieldNames(t.description)),(0,o.Z)(this._getFieldInfoFields(t.fieldInfos||this.fieldInfos)));if("media"===n){var r=t.mediaInfos||[];return[].concat((0,o.Z)(this._extractFieldNames(t.title)),(0,o.Z)(this._extractFieldNames(t.description)),(0,o.Z)(r.reduce((function(t,n){return[].concat((0,o.Z)(t),(0,o.Z)(e._getMediaInfoFields(n)))}),[])))}return"text"===n?this._extractFieldNames(t.text):[]}},{key:"_getMediaInfoFields",value:function(t){var e=t.caption,n=t.title,r=t.value||{},i=r.fields,a=void 0===i?[]:i,s=r.normalizeField,l=r.tooltipField,p=r.sourceURL,u=r.linkURL,d=[].concat((0,o.Z)(this._extractFieldNames(n)),(0,o.Z)(this._extractFieldNames(e)),(0,o.Z)(this._extractFieldNames(p)),(0,o.Z)(this._extractFieldNames(u)),(0,o.Z)(a));return s&&d.push(s),l&&d.push(l),d}},{key:"_getContentExpressionInfos",value:function(t,e){return Array.isArray(t)?t.reduce((function(t,e){return[].concat((0,o.Z)(t),(0,o.Z)("expression"===e.type&&e.expressionInfo?[e.expressionInfo]:[]))}),e):[]}},{key:"_getContentFields",value:function(t){var e=this;return"string"==typeof t?this._extractFieldNames(t):Array.isArray(t)?t.reduce((function(t,n){return[].concat((0,o.Z)(t),(0,o.Z)(e._getContentElementFields(n)))}),[]):[]}},{key:"_collectExpressionInfoFields",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n,o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=o,!t.t0){t.next=4;break}return t.next=4,Promise.all(o.map((function(t){return(0,m.b)(e,n,t.expression)})));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_getFieldInfoFields",value:function(t){return t?t.filter((function(t){return void 0===t.visible||!!t.visible})).map((function(t){return t.fieldName})).filter((function(t){return!t.includes("relationships/")&&!t.includes("expression/")})):[]}},{key:"_getActionsFields",value:function(t){var e=this;return t?t.toArray().reduce((function(t,n){return[].concat((0,o.Z)(t),(0,o.Z)(e._getActionFields(n)))}),[]):[]}},{key:"_getActionFields",value:function(t){var e=t.className,n=t.title,r=t.type,i="button"===r||"toggle"===r?t.image:"";return[].concat((0,o.Z)(this._extractFieldNames(n)),(0,o.Z)(this._extractFieldNames(e)),(0,o.Z)(this._extractFieldNames(i)))}},{key:"_getTitleFields",value:function(t){return"string"==typeof t?this._extractFieldNames(t):[]}},{key:"_extractFieldNames",value:function(t){if(!t||"string"!=typeof t)return[];var e=t.match(/{[^}]*}/g);if(!e)return[];var n=/\{(\w+):.+\}/,r=e.filter((function(t){return!(0===t.indexOf("{relationships/")||0===t.indexOf("{expression/"))})).map((function(t){return t.replace(n,"{$1}")}));return r?r.map((function(t){return t.slice(1,-1)})):[]}}]),n}(f.l);(0,c.e)([(0,c.d)({type:Ut})],Gt.prototype,"actions",void 0),(0,c.e)([(0,c.d)()],Gt.prototype,"content",void 0),(0,c.e)([(0,c.q)("content")],Gt.prototype,"castContent",null),(0,c.e)([(0,v.o)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Gt.prototype,"readContent",null),(0,c.e)([(0,v.r)("content",{popupElements:{type:y.j.ofType(Nt)},showAttachments:{type:Boolean},mediaInfos:{type:y.j.ofType(xt)},description:{type:String}})],Gt.prototype,"writeContent",null),(0,c.e)([(0,c.d)({type:[At],json:{write:!0}})],Gt.prototype,"expressionInfos",void 0),(0,c.e)([(0,c.d)({type:[P]})],Gt.prototype,"fieldInfos",void 0),(0,c.e)([(0,v.r)("fieldInfos")],Gt.prototype,"writeFieldInfos",null),(0,c.e)([(0,c.d)({type:Et})],Gt.prototype,"layerOptions",void 0),(0,c.e)([(0,v.r)("layerOptions")],Gt.prototype,"writeLayerOptions",null),(0,c.e)([(0,c.d)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Gt.prototype,"lastEditInfoEnabled",void 0),(0,c.e)([(0,c.d)()],Gt.prototype,"outFields",void 0),(0,c.e)([(0,c.d)()],Gt.prototype,"overwriteActions",void 0),(0,c.e)([(0,c.d)()],Gt.prototype,"returnGeometry",void 0),(0,c.e)([(0,c.d)({json:{type:String}})],Gt.prototype,"title",void 0),(0,c.e)([(0,v.r)("title")],Gt.prototype,"writeTitle",null),(0,c.e)([(0,c.d)({type:Yt,json:{write:!0}})],Gt.prototype,"relatedRecordsInfo",void 0);var Kt=Gt=Bt=(0,c.e)([(0,c.n)(Vt)],Gt)}}]);
//# sourceMappingURL=1451.af289990.chunk.js.map