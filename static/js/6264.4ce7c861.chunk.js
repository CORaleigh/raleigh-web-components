"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[6264,2235,3688,5612],{1773:function(e,t,r){r.d(t,{a:function(){return h},b:function(){return m},c:function(){return y}});var n,i=r(15671),o=r(43144),a=r(60136),l=r(29388),u=r(23132),s=(r(75610),r(77196)),c=n=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).active=!1,n.className=null,n.disabled=!1,n.id=null,n.indicator=!1,n.title=null,n.type=null,n.visible=!0,n}return(0,o.Z)(r,[{key:"clone",value:function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}}]),r}((0,s.s)(u.y));(0,u.e)([(0,u.d)()],c.prototype,"active",void 0),(0,u.e)([(0,u.d)()],c.prototype,"className",void 0),(0,u.e)([(0,u.d)()],c.prototype,"disabled",void 0),(0,u.e)([(0,u.d)()],c.prototype,"id",void 0),(0,u.e)([(0,u.d)()],c.prototype,"indicator",void 0),(0,u.e)([(0,u.d)()],c.prototype,"title",void 0),(0,u.e)([(0,u.d)()],c.prototype,"type",void 0),(0,u.e)([(0,u.d)()],c.prototype,"visible",void 0);var d,y=c=n=(0,u.e)([(0,u.n)("esri.support.actions.ActionBase")],c),p=d=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).image=null,n.type="button",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new d({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}}]),r}(y);(0,u.e)([(0,u.d)()],p.prototype,"image",void 0);var f,h=p=d=(0,u.e)([(0,u.n)("esri.support.Action.ActionButton")],p),v=f=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).image=null,n.type="toggle",n.value=!1,n}return(0,o.Z)(r,[{key:"clone",value:function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}}]),r}(y);(0,u.e)([(0,u.d)()],v.prototype,"image",void 0),(0,u.e)([(0,u.d)()],v.prototype,"value",void 0);var m=v=f=(0,u.e)([(0,u.n)("esri.support.Action.ActionToggle")],v)},68890:function(e,t,r){r.d(t,{a:function(){return c}});var n=r(43144),i=r(15671),o=r(60136),a=r(29388),l=r(23132),u=(r(75610),r(83024)),s={read:{reader:u.n},write:{allowNull:!0,writer:u.a}},c=function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.apply(this,arguments)).blendMode="normal",e.effect=null,e}return(0,n.Z)(r)}(e);return(0,l.e)([(0,l.d)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),(0,l.e)([(0,l.d)({json:{read:!1,write:!1,origins:{"web-map":s,"portal-item":s}}})],t.prototype,"effect",void 0),t=(0,l.e)([(0,l.n)("esri.layers.mixins.BlendLayer")],t)}},30150:function(e,t,r){r.d(t,{p:function(){return p}});var n=r(37762),i=r(15671),o=r(43144),a=r(60136),l=r(29388),u=r(23132),s=r(80175),c=r(97033),d=r(75610),y=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).getCollections=null,n}return(0,o.Z)(r,[{key:"initialize",value:function(){var e=this;this.handles.add((0,u.a5)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this.getCollections=null}},{key:"_refresh",value:function(){var e=(0,d.r)(this.getCollections)?this.getCollections():null;if((0,d.t)(e))this.removeAll();else{var t,r=0,i=(0,n.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;(0,d.r)(o)&&(r=this._processCollection(r,o))}}catch(a){i.e(a)}finally{i.f()}this.splice(r,this.length)}}},{key:"_createNewInstance",value:function(e){return new s.j(e)}},{key:"_processCollection",value:function(e,t){if(!t)return e;var r,i=this.itemFilterFunction?this.itemFilterFunction:function(e){return!!e},o=(0,n.Z)(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a){if(i(a)){var l=this.indexOf(a,e);l>=0?l!==e&&this.reorder(a,e):this.add(a,e),++e}if(this.getChildrenFunction){var u=this.getChildrenFunction(a);if(Array.isArray(u)){var s,c=(0,n.Z)(u);try{for(c.s();!(s=c.n()).done;){var d=s.value;e=this._processCollection(e,d)}}catch(y){c.e(y)}finally{c.f()}}else e=this._processCollection(e,u)}}}}catch(y){o.e(y)}finally{o.f()}return e}}]),r}((0,c.a)(s.j));(0,u.e)([(0,u.d)()],y.prototype,"getCollections",void 0),(0,u.e)([(0,u.d)()],y.prototype,"getChildrenFunction",void 0),(0,u.e)([(0,u.d)()],y.prototype,"itemFilterFunction",void 0);var p=y=(0,u.e)([(0,u.n)("esri.core.CollectionFlattener")],y)},15612:function(e,t,r){r.r(t);var n,i=r(29439),o=r(37762),a=r(15671),l=r(43144),u=r(60136),s=r(29388),c=r(23132),d=r(91204),y=r(83822),p=r(57714),f=r(70441),h=r(75610),v=r(30709),m=r(30604),g=r(43124),b=(r(80262),r(36460),r(51451),r(80175),r(50526),r(50448),r(41742),r(43920),r(1773),r(77196),r(24980),r(3114),r(22144),r(78674),r(66307),r(2760),r(88370),r(72820),r(78311),r(96349),r(9055),r(79611),r(2157),r(21583),r(69797),new p.s({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null})),Z=n=function(e){(0,u.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return(0,l.Z)(r,[{key:"readFeatures",value:function(e,t){for(var r=v.k.fromJSON(t.spatialReference),n=[],i=0;i<e.length;i++){var o=e[i],a=y.g.fromJSON(o),l=o.geometry&&o.geometry.spatialReference;(0,h.r)(a.geometry)&&!l&&(a.geometry.spatialReference=r);var u=o.aggregateGeometries,s=a.aggregateGeometries;if(u&&(0,h.r)(s))for(var c in s){var d,p=s[c],f=null===(d=u[c])||void 0===d?void 0:d.spatialReference;(0,h.r)(p)&&!f&&(p.spatialReference=r)}n.push(a)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)b.write(e,t,r,n);else{var i=this.features;if(i){var a,l=(0,o.Z)(i);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(u&&(0,h.r)(u.geometry))return void b.write(u.geometry.type,t,r,n)}}catch(s){l.e(s)}finally{l.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=(0,m.d)(e);return!r&&t.spatialReference&&(n.spatialReference=v.k.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,i=(0,o.Z)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a&&(0,h.r)(a.geometry)&&a.geometry.spatialReference)return void(t.spatialReference=a.geometry.spatialReference.toJSON())}}catch(l){i.e(l)}finally{i.f()}}}}},{key:"clone",value:function(){return new n(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,h.m)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var i=e&&e[r];n.geometry=i&&i.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=(0,i.Z)(e.scale,2),r=t[0],n=t[1],o=(0,i.Z)(e.translate,2),a=o[0],l=o[1],u=this.features,s=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/r)}),(function(e){return Math.round((l-e)/n)})),c=0,d=u.length;c<d;c++)s((0,h.e)(u[c].geometry))||(u.splice(c,1),c--,d--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var n,a=(0,i.Z)(r.translate,2),l=a[0],u=a[1],s=(0,i.Z)(r.scale,2),c=s[0],d=s[1],y=this._getHydrationFunction(e,(function(e){return e*c+l}),(function(e){return u-e*d})),p=(0,o.Z)(t);try{for(p.s();!(n=p.n()).done;){var f=n.value.geometry;(0,h.r)(f)&&y(f)}}catch(v){p.e(v)}finally{p.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,i,o=[],a=0,l=e.length;a<l;a++){var u=e[a];if(a>0){var s=t(u[0]),c=r(u[1]);s===n&&c===i||(o.push([s-n,c-i]),n=s,i=c)}else n=t(u[0]),i=r(u[1]),o.push([n,i])}return o.length>0?o:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=(0,m.c)(e)?e.rings:e.paths,o=[],a=0,l=i.length;a<l;a++){var u=i[a],s=n._quantizePoints(u,t,r);s&&o.push(s)}return o.length>0?((0,m.c)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?function(e){var i=n._quantizePoints(e.points,t,r);return i.length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,i,o=(0,m.c)(e)?e.rings:e.paths,a=0,l=o.length;a<l;a++)for(var u=o[a],s=0,c=u.length;s<c;s++){var d=u[s];s>0?(n+=d[0],i+=d[1]):(n=d[0],i=d[1]),d[0]=t(n),d[1]=r(i)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,i,o=e.points,a=0,l=o.length;a<l;a++){var u=o[a];a>0?(n+=u[0],i+=u[1]):(n=u[0],i=u[1]),u[0]=t(n),u[1]=r(i)}}:void 0}}]),r}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Z.prototype,"displayFieldName",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],Z.prototype,"exceededTransferLimit",void 0),(0,c.e)([(0,c.d)({type:[y.g],json:{write:!0}})],Z.prototype,"features",void 0),(0,c.e)([(0,v.o)("features")],Z.prototype,"readFeatures",null),(0,c.e)([(0,c.d)({type:[g.y],json:{write:!0}})],Z.prototype,"fields",void 0),(0,c.e)([(0,c.d)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:b.read}}})],Z.prototype,"geometryType",void 0),(0,c.e)([(0,v.r)("geometryType")],Z.prototype,"writeGeometryType",null),(0,c.e)([(0,c.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],Z.prototype,"hasM",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],Z.prototype,"hasZ",void 0),(0,c.e)([(0,c.d)({types:d.i,json:{write:!0}})],Z.prototype,"queryGeometry",void 0),(0,c.e)([(0,v.o)("queryGeometry")],Z.prototype,"readQueryGeometry",null),(0,c.e)([(0,c.d)({type:v.k,json:{write:!0}})],Z.prototype,"spatialReference",void 0),(0,c.e)([(0,v.r)("spatialReference")],Z.prototype,"writeSpatialReference",null),(0,c.e)([(0,c.d)({json:{write:!0}})],Z.prototype,"transform",void 0),(Z=n=(0,c.e)([(0,c.n)("esri.rest.support.FeatureSet")],Z)).prototype.toJSON.isDefaultToJSON=!0;var S=Z;t.default=S},43124:function(e,t,r){r.d(t,{n:function(){return O},p:function(){return h},t:function(){return T},u:function(){return k},y:function(){return G}});var n,i=r(15671),o=r(43144),a=r(60136),l=r(29388),u=r(23132),s=r(57714),c=r(70441),d=r(75610),y=r(50448),p=r(30709),f=r(69797),h=n=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).name=null,n.code=null,n}return(0,o.Z)(r,[{key:"clone",value:function(){return new n({name:this.name,code:this.code})}}]),r}(c.l);(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,u.e)([(0,u.d)({type:[String,Number],json:{write:!0}})],h.prototype,"code",void 0),h=n=(0,u.e)([(0,u.n)("esri.layers.support.CodedValue")],h);var v=new s.s({inherited:"inherited",codedValue:"coded-value",range:"range"}),m=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).name=null,n.type=null,n}return(0,o.Z)(r)}(c.l);(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,u.e)([(0,y.r)(v)],m.prototype,"type",void 0);var g,b=m=(0,u.e)([(0,u.n)("esri.layers.support.Domain")],m),Z=g=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).codedValues=null,n.type="coded-value",n}return(0,o.Z)(r,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((function(e){return String(e.code)===r&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new g({codedValues:(0,d.m)(this.codedValues),name:this.name})}}]),r}(b);(0,u.e)([(0,u.d)({type:[h],json:{write:!0}})],Z.prototype,"codedValues",void 0),(0,u.e)([(0,y.r)({codedValue:"coded-value"})],Z.prototype,"type",void 0);var S,k=Z=g=(0,u.e)([(0,u.n)("esri.layers.support.CodedValueDomain")],Z),w=S=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).type="inherited",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new S}}]),r}(b);(0,u.e)([(0,y.r)({inherited:"inherited"})],w.prototype,"type",void 0);var x,I=w=S=(0,u.e)([(0,u.n)("esri.layers.support.InheritedDomain")],w),_=x=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).maxValue=null,n.minValue=null,n.type="range",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new x({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),r}(b);(0,u.e)([(0,u.d)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,r){t[r]=[this.minValue||0,e]}}}})],_.prototype,"maxValue",void 0),(0,u.e)([(0,u.d)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,r){t[r]=[e,this.maxValue||0]}}}})],_.prototype,"minValue",void 0),(0,u.e)([(0,y.r)({range:"range"})],_.prototype,"type",void 0);var P,N=_=x=(0,u.e)([(0,u.n)("esri.layers.support.RangeDomain")],_),O={key:"type",base:b,typeMap:{range:N,"coded-value":k,inherited:I}};function T(e){if(!e||!e.type)return null;switch(e.type){case"range":return N.fromJSON(e);case"codedValue":return k.fromJSON(e);case"inherited":return I.fromJSON(e)}return null}var j=new s.s({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),F=P=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).alias=null,n.defaultValue=void 0,n.description=null,n.domain=null,n.editable=!0,n.length=-1,n.name=null,n.nullable=!0,n.type=null,n.valueType=null,n}return(0,o.Z)(r,[{key:"readDescription",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(i){}return r?r.value:null}},{key:"readValueType",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(i){}return r?j.fromJSON(r.fieldValueType):null}},{key:"clone",value:function(){return new P({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}}]),r}(c.l);(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],F.prototype,"alias",void 0),(0,u.e)([(0,u.d)({type:[String,Number],json:{write:{allowNull:!0}}})],F.prototype,"defaultValue",void 0),(0,u.e)([(0,u.d)()],F.prototype,"description",void 0),(0,u.e)([(0,p.o)("description")],F.prototype,"readDescription",null),(0,u.e)([(0,u.d)({types:O,json:{read:{reader:T},write:!0}})],F.prototype,"domain",void 0),(0,u.e)([(0,u.d)({type:Boolean,json:{write:!0}})],F.prototype,"editable",void 0),(0,u.e)([(0,u.d)({type:u.S,json:{write:!0}})],F.prototype,"length",void 0),(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],F.prototype,"name",void 0),(0,u.e)([(0,u.d)({type:Boolean,json:{write:!0}})],F.prototype,"nullable",void 0),(0,u.e)([(0,y.r)(f.i)],F.prototype,"type",void 0),(0,u.e)([(0,u.d)()],F.prototype,"valueType",void 0),(0,u.e)([(0,p.o)("valueType",["description"])],F.prototype,"readValueType",null);var G=F=P=(0,u.e)([(0,u.n)("esri.layers.support.Field")],F)},97033:function(e,t,r){r.d(t,{a:function(){return h},c:function(){return d},d:function(){return v}});var n=r(15671),i=r(43144),o=r(60136),a=r(29388),l=r(23132),u=r(77470),s=r(75610),c=r(36551),d=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).updating=!1,e.handleId=0,e.handles=new u.u,e.scheduleHandleId=0,e.pendingPromises=new Set,e}return(0,i.Z)(r,[{key:"destroy",value:function(){this.removeAll(),this.handles.destroy()}},{key:"add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,c.l)}},{key:"addWhen",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,c.f)}},{key:"addOnCollectionChange",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.initial,o=void 0!==i&&i,a=n.final,l=void 0!==a&&a,u=++this.handleId;return this.handles.add([(0,c.a)(e,"after-changes",this._createSyncUpdatingCallback(),c.U),(0,c.a)(e,"change",t,{onListenerAdd:o?function(e){return t({added:e.toArray(),removed:[]})}:void 0,onListenerRemove:l?function(e){return t({added:[],removed:e.toArray()})}:void 0})],u),{remove:function(){return r.handles.remove(u)}}}},{key:"addPromise",value:function(e){var t=this;if((0,s.t)(e))return e;var r=++this.handleId;this.handles.add({remove:function(){t.pendingPromises.delete(e)&&(0!==t.pendingPromises.size||t.handles.has(f)||t._set("updating",!1))}},r),this.pendingPromises.add(e),this._set("updating",!0);var n=function(){return t.handles.remove(r)};return e.then(n,n),e}},{key:"removeAll",value:function(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}},{key:"_installWatch",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,o=++this.handleId;n.sync||this._installSyncUpdatingWatch(e,o);var a=i(e,t,n);return this.handles.add(a,o),{remove:function(){return r.handles.remove(o)}}}},{key:"_installSyncUpdatingWatch",value:function(e,t){var r=this._createSyncUpdatingCallback(),n=(0,c.l)(e,r,{sync:!0,equals:function(){return!1}});return this.handles.add(n,t),n}},{key:"_createSyncUpdatingCallback",value:function(){var e=this;return function(){e.handles.remove(f),++e.scheduleHandleId;var t=e.scheduleHandleId;e._get("updating")||e._set("updating",!0),e.handles.add((0,l.B)((function(){t===e.scheduleHandleId&&(e._set("updating",e.pendingPromises.size>0),e.handles.remove(f))})),f)}}}]),r}(l.y);(0,l.e)([(0,l.d)({readOnly:!0})],d.prototype,"updating",void 0),d=(0,l.e)([(0,l.n)("esri.core.support.WatchUpdatingTracking")],d);var y,p,f=-42;(p=y||(y={}))[p.NONE=0]="NONE",p[p.SYNC=1]="SYNC",p[p.INIT=2]="INIT";var h=function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"destroy",value:function(){var e,t;this.destroyed||(null!==(e=this._get("handles"))&&void 0!==e&&e.destroy(),null===(t=this._get("updatingHandles"))||void 0===t||t.destroy())}},{key:"handles",get:function(){return this._get("handles")||new u.u}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new d}}]),r}(e);return(0,l.e)([(0,l.d)({readOnly:!0})],t.prototype,"handles",null),(0,l.e)([(0,l.d)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,l.e)([(0,l.n)("esri.core.HandleOwner")],t),t},v=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r)}(h(l.y));v=(0,l.e)([(0,l.n)("esri.core.HandleOwner")],v)},77470:function(e,t,r){r.d(t,{u:function(){return d}});var n=r(15671),i=r(43144),o=r(60136),a=r(29388),l=r(23132),u=r(80175),s=r(75610),c=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e))._groups=new Map,i}return(0,i.Z)(r,[{key:"destroy",value:function(){this.removeAll()}},{key:"size",get:function(){var e=0;return this._groups.forEach((function(t){e+=t.length})),e}},{key:"add",value:function(e,t){var r=this;if(!this._isHandle(e)&&!Array.isArray(e)&&!u.j.isCollection(e))return this;var n=this._getOrCreateGroup(t);return Array.isArray(e)||u.j.isCollection(e)?e.forEach((function(e){return r._isHandle(e)&&n.push(e)})):n.push(e),this.notifyChange("size"),this}},{key:"forEach",value:function(e,t){if("function"==typeof e)this._groups.forEach((function(t){return t.forEach(e)}));else{var r=this._getGroup(e);r&&t&&r.forEach(t)}}},{key:"has",value:function(e){return this._groups.has(this._ensureGroupKey(e))}},{key:"remove",value:function(e){if(Array.isArray(e)||u.j.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}},{key:"removeAll",value:function(){return this._groups.forEach((function(e){for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}},{key:"_isHandle",value:function(e){return e&&!!e.remove}},{key:"_getOrCreateGroup",value:function(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}},{key:"_getGroup",value:function(e){return(0,s.q)(this._groups.get(this._ensureGroupKey(e)))}},{key:"_deleteGroup",value:function(e){return this._groups.delete(this._ensureGroupKey(e))}},{key:"_ensureGroupKey",value:function(e){return e||"_default_"}}]),r}(l.y);(0,l.e)([(0,l.d)({readOnly:!0})],c.prototype,"size",null);var d=c=(0,l.e)([(0,l.n)("esri.core.Handles")],c)},77196:function(e,t,r){r.d(t,{o:function(){return d},s:function(){return c}});var n=r(43144),i=r(15671),o=r(97326),a=r(60136),l=r(29388),u=r(23132),s=0,c=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),Object.defineProperty((0,o.Z)(e),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+s++}),e}return(0,n.Z)(r)}(e);return t=(0,u.e)([(0,u.n)("esri.core.Identifiable")],t)},d=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r)}(c(function(){return(0,n.Z)((function e(){(0,i.Z)(this,e)}))}()));d=(0,u.e)([(0,u.n)("esri.core.Identifiable")],d)},26264:function(e,t,r){r.r(t);var n,i=r(37762),o=r(74165),a=r(15861),l=r(93433),u=r(1413),s=r(11752),c=r(61120),d=r(15671),y=r(43144),p=r(60136),f=r(29388),h=r(23132),v=(r(91204),r(80175)),m=r(30150),g=r(75610),b=r(9575),Z=r(36551),S=r(57714),k=r(30709),w=r(72763),x=r(68890),I=r(28623),_=r(95254),P=r(12158),N=r(93874),O=r(18411),T=r(70441),j=r(79611),F=r(64526),G=r(80262),E=(r(36460),r(97033),r(77470),r(21583),r(77196),r(83024),r(66307),r(61340),r(2760),r(38304),r(61099),r(33703),r(43920),r(36638),r(96349),r(50526),r(44455),r(88370),r(51451),r(50448),r(41742),r(1773),r(72820),r(78311),r(407),r(67154),r(24980),r(3114),r(22144),r(78674),r(9055),r(2157),r(96636),r(79054),r(29709),r(47642),r(83822),r(30604),r(43782),r(33976),r(28210),r(17436),r(25316),r(77389),r(53373),r(94872),r(3969),r(15612),r(43124),r(69797),n=function(e){(0,p.Z)(r,e);var t=(0,f.Z)(r);function r(){var e;return(0,d.Z)(this,r),(e=t.apply(this,arguments))._sublayersHandles=null,e.description=null,e.id=null,e.networkLink=null,e.title=null,e.sourceJSON=null,e.fullExtent=null,e}return(0,y.Z)(r,[{key:"initialize",value:function(){var e=this;(0,Z.j)((function(){return e.networkLink})).then((function(){return(0,Z.j)((function(){return!0===e.visible}))})).then((function(){return e.load()}))}},{key:"load",value:function(e){var t=this;if(this.networkLink&&!this.networkLink.viewFormat){var r=(0,g.r)(e)?e.signal:null,i=this._fetchService(this._get("networkLink").href,r).then((function(e){var r=(0,F.j)(e.sublayers);t.fullExtent=G.M.fromJSON(r),t.sourceJSON=e;var i=(0,h.b)(v.j.ofType(n),(0,F.S)(n,e));t.sublayers?t.sublayers.addMany(i):t.sublayers=i,t.layer.emit("sublayer-update"),t.layer&&t.layer.notifyChange("visibleSublayers")}));return this.addResolvingPromise(i),Promise.resolve(this)}}},{key:"sublayers",set:function(e){var t=this,r=this._get("sublayers");r&&(r.forEach((function(e){e.parent=null,e.layer=null})),this._sublayersHandles.forEach((function(e){return e.remove()})),this._sublayersHandles=null),e&&(e.forEach((function(e){e.parent=t,e.layer=t.layer})),this._sublayersHandles=[e.on("after-add",(function(e){var r=e.item;r.parent=t,r.layer=t.layer})),e.on("after-remove",(function(e){var t=e.item;t.parent=null,t.layer=null}))]),this._set("sublayers",e)}},{key:"castSublayers",value:function(e){return(0,h.b)(v.j.ofType(n),e)}},{key:"visible",get:function(){return this._get("visible")},set:function(e){this._get("visible")!==e&&(this._set("visible",e),this.layer&&this.layer.notifyChange("visibleSublayers"))}},{key:"readVisible",value:function(e,t){return!!t.visibility}},{key:"layer",set:function(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((function(t){return t.layer=e}))}},{key:"_fetchService",value:function(e,t){return(0,F.g)(e,this.layer.outSpatialReference,this.layer.refreshInterval,t).then((function(e){return(0,F.d)(e.data)}))}}]),r}(v.n.EventedMixin((0,T.u)(j.m))));(0,h.e)([(0,h.d)()],E.prototype,"description",void 0),(0,h.e)([(0,h.d)()],E.prototype,"id",void 0),(0,h.e)([(0,h.d)({readOnly:!0,value:null})],E.prototype,"networkLink",void 0),(0,h.e)([(0,h.d)({json:{write:{allowNull:!0}}})],E.prototype,"parent",void 0),(0,h.e)([(0,h.d)({value:null,json:{write:{allowNull:!0}}})],E.prototype,"sublayers",null),(0,h.e)([(0,h.q)("sublayers")],E.prototype,"castSublayers",null),(0,h.e)([(0,h.d)({value:null,json:{read:{source:"name",reader:function(e){return(0,h.aI)(e)}}}})],E.prototype,"title",void 0),(0,h.e)([(0,h.d)({value:!0})],E.prototype,"visible",null),(0,h.e)([(0,k.o)("visible",["visibility"])],E.prototype,"readVisible",null),(0,h.e)([(0,h.d)()],E.prototype,"sourceJSON",void 0),(0,h.e)([(0,h.d)({value:null})],E.prototype,"layer",null),(0,h.e)([(0,h.d)({type:G.M})],E.prototype,"fullExtent",void 0);var M=E=n=(0,h.e)([(0,h.n)("esri.layers.support.KMLSublayer")],E),D=["kml","xml"],L=function(e){(0,p.Z)(r,e);var t=(0,f.Z)(r);function r(){var e;(0,d.Z)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._visibleFolders=[],e.allSublayers=new m.p({getCollections:function(){return[e.sublayers]},getChildrenFunction:function(e){return e.sublayers}}),e.outSpatialReference=k.k.WGS84,e.path=null,e.legendEnabled=!1,e.operationalLayerType="KML",e.sublayers=null,e.type="kml",e.url=null,e}return(0,y.Z)(r,[{key:"initialize",value:function(){var e=this;this.own([(0,Z.l)((function(){return e.sublayers}),(function(t,r){r&&r.forEach((function(e){e.parent=null,e.layer=null})),t&&t.forEach((function(t){t.parent=e,t.layer=e}))}),Z.U),this.on("sublayer-update",(function(){return e.notifyChange("fullExtent")}))])}},{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?(0,u.Z)({url:e},t):e}},{key:"readSublayersFromItemOrWebMap",value:function(e,t){this._visibleFolders=t.visibleFolders}},{key:"readSublayers",value:function(e,t,r){return(0,F.S)(M,t,r,this._visibleFolders)}},{key:"writeSublayers",value:function(e,t){for(var r=[],n=e.toArray();n.length;){var i=n[0];i.networkLink||(i.visible&&r.push(i.id),i.sublayers&&n.push.apply(n,(0,l.Z)(i.sublayers.toArray()))),n.shift()}t.visibleFolders=r}},{key:"title",get:function(){var e=this._get("title");return e&&"defaults"!==this.originOf("title")?e:this.url?(0,S.q)(this.url,D)||"KML":e||""},set:function(e){this._set("title",e)}},{key:"visibleSublayers",get:function(){var e=this.sublayers,t=[];return e&&e.forEach((function e(r){r.visible&&(t.push(r),r.sublayers&&r.sublayers.forEach(e))})),t}},{key:"fullExtent",get:function(){return this._recomputeFullExtent()}},{key:"load",value:function(e){var t=this,r=(0,g.r)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["KML"]},e).catch(h.M).then((function(){return t._fetchService(r)}))),Promise.resolve(this)}},{key:"destroy",value:function(){(0,s.Z)((0,c.Z)(r.prototype),"destroy",this).call(this),this.allSublayers.destroy()}},{key:"_fetchService",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var r,n,i=this;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return i.resourceInfo?{ssl:!1,data:i.resourceInfo}:(0,F.g)(i.url,i.outSpatialReference,i.refreshInterval,t)}));case 2:r=e.sent,(n=(0,F.d)(r.data))&&this.read(n,{origin:"service"});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_recomputeFullExtent",value:function(){var e=null;(0,g.r)(this.extent)&&(e=this.extent.clone());return function t(r){if(r.sublayers){var n,o=(0,i.Z)(r.sublayers.items);try{for(o.s();!(n=o.n()).done;){var a=n.value;t(a),a.visible&&a.fullExtent&&((0,g.r)(e)?e.union(a.fullExtent):e=a.fullExtent.clone())}}catch(l){o.e(l)}finally{o.f()}}}(this),e}}]),r}((0,x.a)((0,P.n)((0,N.t)((0,I.c)((0,_.v)((0,b.O)(w.b)))))));(0,h.e)([(0,h.d)({readOnly:!0})],L.prototype,"allSublayers",void 0),(0,h.e)([(0,h.d)({type:k.k})],L.prototype,"outSpatialReference",void 0),(0,h.e)([(0,h.d)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],L.prototype,"path",void 0),(0,h.e)([(0,h.d)({readOnly:!0,json:{read:!1,write:!1}})],L.prototype,"legendEnabled",void 0),(0,h.e)([(0,h.d)({type:["show","hide","hide-children"]})],L.prototype,"listMode",void 0),(0,h.e)([(0,h.d)({type:["KML"]})],L.prototype,"operationalLayerType",void 0),(0,h.e)([(0,h.d)({})],L.prototype,"resourceInfo",void 0),(0,h.e)([(0,h.d)({type:v.j.ofType(M),json:{write:{ignoreOrigin:!0}}})],L.prototype,"sublayers",void 0),(0,h.e)([(0,k.o)(["web-map","portal-item"],"sublayers",["visibleFolders"])],L.prototype,"readSublayersFromItemOrWebMap",null),(0,h.e)([(0,k.o)("service","sublayers",["sublayers"])],L.prototype,"readSublayers",null),(0,h.e)([(0,k.r)("sublayers")],L.prototype,"writeSublayers",null),(0,h.e)([(0,h.d)({readOnly:!0,json:{read:!1}})],L.prototype,"type",void 0),(0,h.e)([(0,h.d)({json:{origins:{"web-map":{read:{source:"title"}}},write:{ignoreOrigin:!0}}})],L.prototype,"title",null),(0,h.e)([(0,h.d)(O.f)],L.prototype,"url",void 0),(0,h.e)([(0,h.d)({readOnly:!0})],L.prototype,"visibleSublayers",null),(0,h.e)([(0,h.d)({type:G.M})],L.prototype,"extent",void 0),(0,h.e)([(0,h.d)()],L.prototype,"fullExtent",null);var R=L=(0,h.e)([(0,h.n)("esri.layers.KMLLayer")],L);t.default=R},72763:function(e,t,r){r.d(t,{b:function(){return S}});var n=r(74165),i=r(15671),o=r(43144),a=r(60136),l=r(29388),u=r(15861),s=r(23132),c=(r(91204),r(57714)),d=r(80175),y=r(77196),p=r(79611),f=r(75610),h=r(80262),v=r(30709),m=s.s.getLogger("esri.layers.support.fromPortalItem");function g(){return g=(0,u.Z)((0,n.Z)().mark((function e(t){var i,o,a,l,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="portalItem"in t?t:{portalItem:t},e.next=3,Promise.all([r.e(1340),r.e(3022),r.e(8854),r.e(6498),r.e(9737)]).then(r.bind(r,76498));case 3:return o=e.sent,e.prev=4,e.next=7,o.fromItem(i);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),a=i&&i.portalItem,l=a&&a.id||"unset",u=a&&a.portal&&a.portal.url||f.b.portalUrl,m.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+l+"')",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])}))),g.apply(this,arguments)}var b=0,Z=function(e){(0,a.Z)(d,e);var t=(0,l.Z)(d);function d(){var e;return(0,i.Z)(this,d),(e=t.apply(this,arguments)).attributionDataUrl=null,e.fullExtent=new h.M(-180,-90,180,90,v.k.WGS84),e.id=Date.now().toString(16)+"-layer-"+b++,e.legendEnabled=!0,e.listMode="show",e.opacity=1,e.parent=null,e.popupEnabled=!0,e.attributionVisible=!0,e.spatialReference=v.k.WGS84,e.title=null,e.type=null,e.url=null,e.visible=!0,e}return(0,o.Z)(d,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var r,n;(0,s.u)(t)||s.s.getLogger(e.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!==(r=e.title)&&void 0!==r?r:"no title","', id: '").concat(null!==(n=e.id)&&void 0!==n?n:"no id","')"),{error:t})}))}},{key:"destroy",value:function(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){var e=this.url;return e?(0,c.j)(e):null}},{key:"fetchAttributionData",value:function(){var e=(0,u.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.attributionDataUrl,!this.hasAttributionData||!t){e.next=5;break}return e.next=4,(0,c.U)(t,{query:{f:"json"},responseType:"json"});case 4:return e.abrupt("return",e.sent.data);case 5:throw new s.a("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromArcGISServerUrl",value:function(){var e=(0,u.Z)((0,n.Z)().mark((function e(t){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?{url:t}:t,e.next=3,Promise.all([r.e(8854),r.e(8201)]).then(r.bind(r,38201));case 3:return e.abrupt("return",e.sent.fromUrl(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromPortalItem",value:function(e){return function(e){return g.apply(this,arguments)}(e)}}]),d}(d.n.EventedMixin((0,y.s)(p.m)));(0,s.e)([(0,s.d)({type:String})],Z.prototype,"attributionDataUrl",void 0),(0,s.e)([(0,s.d)({type:h.M})],Z.prototype,"fullExtent",void 0),(0,s.e)([(0,s.d)({readOnly:!0})],Z.prototype,"hasAttributionData",null),(0,s.e)([(0,s.d)({type:String,clonable:!1})],Z.prototype,"id",void 0),(0,s.e)([(0,s.d)({type:Boolean,nonNullable:!0})],Z.prototype,"legendEnabled",void 0),(0,s.e)([(0,s.d)({type:["show","hide","hide-children"]})],Z.prototype,"listMode",void 0),(0,s.e)([(0,s.d)({type:Number,range:{min:0,max:1},nonNullable:!0})],Z.prototype,"opacity",void 0),(0,s.e)([(0,s.d)({clonable:!1})],Z.prototype,"parent",void 0),(0,s.e)([(0,s.d)({readOnly:!0})],Z.prototype,"parsedUrl",null),(0,s.e)([(0,s.d)({type:Boolean})],Z.prototype,"popupEnabled",void 0),(0,s.e)([(0,s.d)({type:Boolean})],Z.prototype,"attributionVisible",void 0),(0,s.e)([(0,s.d)({type:v.k})],Z.prototype,"spatialReference",void 0),(0,s.e)([(0,s.d)({type:String})],Z.prototype,"title",void 0),(0,s.e)([(0,s.d)({readOnly:!0,json:{read:!1}})],Z.prototype,"type",void 0),(0,s.e)([(0,s.d)()],Z.prototype,"url",void 0),(0,s.e)([(0,s.d)({type:Boolean,nonNullable:!0})],Z.prototype,"visible",void 0);var S=Z=(0,s.e)([(0,s.n)("esri.layers.Layer")],Z)},95254:function(e,t,r){r.d(t,{v:function(){return Z}});var n=r(1413),i=r(74165),o=r(15861),a=r(15671),l=r(43144),u=r(11752),s=r(61120),c=r(60136),d=r(29388),y=r(23132),p=r(57714),f=r(38304),h=r(75610),v=r(30709),m=r(79611),g=r(61099),b=y.s.getLogger("esri.layers.mixins.PortalLayer"),Z=function(e){var t=function(e){(0,c.Z)(v,e);var t=(0,d.Z)(v);function v(){var e;return(0,a.Z)(this,v),(e=t.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},e.userHasEditingPrivileges=!0,e}return(0,l.Z)(v,[{key:"destroy",value:function(){var e;null!==(e=this.portalItem)&&void 0!==e&&e.destroy(),this.portalItem=null}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,r){if(t.itemId)return new g.default({id:t.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.portalItem||!this.portalItem.id){e.next=14;break}return e.prev=1,e.next=4,Promise.all([r.e(8854),r.e(277)]).then(r.bind(r,50277)).then((function(e){return e.l}));case 4:return o=e.sent,(0,y.H)(n),e.next=8,o.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},n);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),(0,y.u)(e.t0)||b.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"finishLoadEditablePortalLayer",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this._fetchUserHasEditingPrivileges(t).catch((function(e){return(0,y.M)(e),!0}));case 3:e.t1=e.sent,e.t0._set.call(e.t0,"userHasEditingPrivileges",e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchUserHasEditingPrivileges",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var r,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.url?null===p.a||void 0===p.a?void 0:p.a.findCredential(this.url):null){e.next=3;break}return e.abrupt("return",!0);case 3:if(S.credential!==r){e.next=7;break}e.t0=S.user,e.next=10;break;case 7:return e.next=9,this._fetchEditingUser(t);case 9:e.t0=e.sent;case 10:return n=e.t0,e.abrupt("return",(S.credential=r,S.user=n,(0,h.t)(n)||null==n.privileges||n.privileges.includes("features:user:edit")));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchEditingUser",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var r,n,o,a,l,u,s,c,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=null===(r=this.portalItem)||void 0===r||null===(n=r.portal)||void 0===n?void 0:n.user)){e.next=3;break}return e.abrupt("return",o);case 3:if(null!==(a=p.a.findServerInfo(this.url))&&void 0!==a&&a.owningSystemUrl){e.next=6;break}return e.abrupt("return",null);case 6:if(l="".concat(a.owningSystemUrl,"/sharing/rest"),!(u=m.B.getDefault())||!u.loaded||(0,p.F)(u.restUrl)!==(0,p.F)(l)){e.next=9;break}return e.abrupt("return",u.user);case 9:return s="".concat(l,"/community/self"),c=(0,h.r)(t)?t.signal:null,e.next=13,(0,f.a)((0,p.U)(s,{authMode:"no-prompt",query:{f:"json"},signal:c}));case 13:return d=e.sent,e.abrupt("return",d.ok?m.p.fromJSON(d.value.data):null);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(e,t){t&&(t.layer=this),(0,u.Z)((0,s.Z)(v.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var r=t&&t.portal,i=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||m.B.getDefault());return r&&i&&!(0,p.N)(i.restUrl,r.restUrl)?(t.messages&&t.messages.push(new y.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer"),{layer:this})),null):(0,u.Z)((0,s.Z)(v.prototype),"write",this).call(this,e,(0,n.Z)((0,n.Z)({},t),{},{layer:this}))}}]),v}(e);return(0,y.e)([(0,y.d)({type:g.default})],t.prototype,"portalItem",null),(0,y.e)([(0,v.o)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,y.e)([(0,v.r)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,y.e)([(0,y.d)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,y.e)([(0,y.d)({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=(0,y.e)([(0,y.n)("esri.layers.mixins.PortalLayer")],t),t},S={credential:null,user:null}},12158:function(e,t,r){r.d(t,{n:function(){return S},p:function(){return Z}});var n=r(74165),i=r(15861),o=r(15671),a=r(43144),l=r(97326),u=r(60136),s=r(29388),c=r(37762),d=r(23132),y=(r(75610),new(r(80175).j)),p=new WeakMap;function f(e){h(e)&&y.push(e)}function h(e){return e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function v(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:v(t,e%t):0}var m=0,g=0;function b(){var e,t=Date.now(),r=(0,c.Z)(y);try{for(r.s();!(e=r.n()).done;){var n,i=e.value;if(i.refreshInterval)t-(null!==(n=p.get(i))&&void 0!==n?n:0)+5>=6e4*i.refreshInterval&&(p.set(i,t),i.refresh(t))}}catch(o){r.e(o)}finally{r.f()}}function Z(e){return e&&"object"==typeof e&&"refreshTimestamp"in e&&"refresh"in e}(0,d.a5)((function(){var e,t=Date.now(),r=0,n=(0,c.Z)(y);try{for(n.s();!(e=n.n()).done;){var i=e.value;r=v(Math.round(6e4*i.refreshInterval),r),i.refreshInterval?p.get(i)||p.set(i,t):p.delete(i)}}catch(o){n.e(o)}finally{n.f()}if(r!==g){if(g=r,clearInterval(m),0===g)return void(m=0);m=setInterval(b,g)}}));var S=function(e){var t=function(e){(0,u.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).refreshInterval=0,e.refreshTimestamp=0,e._debounceHasDataChanged=(0,d.x)((function(){return e.hasDataChanged()})),e.when().then((function(){f((0,l.Z)(e))}),(function(){})),e}return(0,a.Z)(r,[{key:"destroy",value:function(){var e;h(e=this)&&y.includes(e)&&y.remove(e)}},{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();(0,d.a9)(this._debounceHasDataChanged()).then((function(r){r&&e._set("refreshTimestamp",t),e.emit("refresh",{dataChanged:r})}),(function(t){d.s.getLogger(e.declaredClass).error(t),e.emit("refresh",{dataChanged:!1,error:t})}))}},{key:"hasDataChanged",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(e);return(0,d.e)([(0,d.d)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0}})],t.prototype,"refreshInterval",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),(0,d.e)([(0,d.d)()],t.prototype,"refreshParameters",null),t=(0,d.e)([(0,d.n)("esri.layers.mixins.RefreshableLayer")],t),t}},93874:function(e,t,r){r.d(t,{t:function(){return u}});var n=r(15671),i=r(43144),o=r(60136),a=r(29388),l=r(23132),u=(r(75610),function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).minScale=0,e.maxScale=0,e}return(0,i.Z)(r,[{key:"effectiveScaleRange",get:function(){var e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);var r=this._get("effectiveScaleRange");return r&&r.minScale===e.minScale&&r.maxScale===e.maxScale?r:e}}]),r}(e);return(0,l.e)([(0,l.d)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,l.e)([(0,l.d)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,l.e)([(0,l.d)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,l.e)([(0,l.n)("esri.layers.mixins.ScaleRangeLayer")],t)})},77389:function(e,t,r){r.d(t,{o:function(){return o}});var n=r(1413),i=r(23132);function o(e,t){var r=t?(0,n.Z)((0,n.Z)({},t),{},{source:e}):e;return(0,i.d)({aliasOf:r})}},50448:function(e,t,r){r.d(t,{r:function(){return o}});var n=r(57714),i=r(23132);function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e instanceof n.s?e:new n.s(e,r),a={type:null===(t=null===r||void 0===r?void 0:r.ignoreUnknown)||void 0===t||t?o.apiValues:String,json:{type:o.jsonValues,read:!(null!==r&&void 0!==r&&r.readOnly)&&{reader:o.read},write:{writer:o.write}}};return void 0!==(null===r||void 0===r?void 0:r.readOnly)&&(a.readOnly=!!r.readOnly),void 0!==(null===r||void 0===r?void 0:r.default)&&(a.json.default=r.default),void 0!==(null===r||void 0===r?void 0:r.name)&&(a.json.name=r.name),(0,i.d)(a)}},69797:function(e,t,r){r.d(t,{i:function(){return n}});var n=new(r(57714).s)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},91204:function(e,t,r){r.d(t,{a:function(){return u},i:function(){return c},t:function(){return s}});var n=r(23132),i=r(80262),o=r(30709),a=r(36460),l=r(57714),u=(0,l.o)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),s=(0,l.o)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),c={base:o.p,key:"type",typeMap:{extent:i.M,multipoint:a.a,point:o.j,polyline:a.m,polygon:a.v}};(0,n.N)(c)},30604:function(e,t,r){r.d(t,{a:function(){return h},c:function(){return d},d:function(){return y},f:function(){return u},l:function(){return s},s:function(){return l},v:function(){return p},y:function(){return c}});var n=r(75610),i=r(80262),o=r(30709),a=r(36460);function l(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function u(e){return void 0!==e.points}function s(e){return void 0!==e.x&&void 0!==e.y}function c(e){return void 0!==e.paths}function d(e){return void 0!==e.rings}function y(e){return(0,n.t)(e)?null:e instanceof o.p?e:s(e)?o.j.fromJSON(e):c(e)?a.m.fromJSON(e):d(e)?a.v.fromJSON(e):u(e)?a.a.fromJSON(e):l(e)?i.M.fromJSON(e):null}function p(e){return e?s(e)?"esriGeometryPoint":c(e)?"esriGeometryPolyline":d(e)?"esriGeometryPolygon":l(e)?"esriGeometryEnvelope":u(e)?"esriGeometryMultipoint":null:null}var f={esriGeometryPoint:o.j,esriGeometryPolyline:a.m,esriGeometryPolygon:a.v,esriGeometryEnvelope:i.M,esriGeometryMultipoint:a.a};function h(e){return e&&f[e]||null}},64526:function(e,t,r){r.d(t,{S:function(){return m},b:function(){return b},d:function(){return h},g:function(){return v},j:function(){return S}});var n=r(74165),i=r(15861),o=r(37762),a=r(75610),l=r(57714),u=r(51451),s=r(30709),c=r(72820),d=r(36460),y=r(407),p=r(15612),f={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function h(e){var t=e.folders||[],r=t.slice(),n=new Map,i=new Map,l=new Map,u=new Map,s=new Map,c={esriGeometryPoint:i,esriGeometryPolyline:l,esriGeometryPolygon:u};(e.featureCollection&&e.featureCollection.layers||[]).forEach((function(e){var t=(0,a.m)(e);t.featureSet.features=[];var r=e.featureSet.geometryType;n.set(r,t);var o=e.layerDefinition.objectIdField;"esriGeometryPoint"===r?g(i,o,e.featureSet.features):"esriGeometryPolyline"===r?g(l,o,e.featureSet.features):"esriGeometryPolygon"===r&&g(u,o,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((function(e){s.set(e.id,e)})),t.forEach((function(t){t.networkLinkIds.forEach((function(n){var i=function(e,t,r){var n=function(e,t){var r;return t.some((function(t){return t.id===e&&(r=t,!0)})),r}(e,r);return n&&(n.parentFolderId=t,n.networkLink=n),n}(n,t.id,e.networkLinks);i&&r.push(i)}))})),r.forEach((function(e){if(e.featureInfos){e.points=(0,a.m)(n.get("esriGeometryPoint")),e.polylines=(0,a.m)(n.get("esriGeometryPolyline")),e.polygons=(0,a.m)(n.get("esriGeometryPolygon")),e.mapImages=[];var t,r=(0,o.Z)(e.featureInfos);try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(i.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":var l=c[i.type].get(i.id);l&&e[f[i.type]].featureSet.features.push(l);break;case"GroundOverlay":var u=s.get(i.id);u&&e.mapImages.push(u)}}}catch(d){r.e(d)}finally{r.f()}e.fullExtent=S([e])}}));var d=S(r);return{folders:t,sublayers:r,extent:d}}function v(e,t,r,n){var i=l.a&&l.a.findCredential(e);e=(0,l.B)(e,{token:i&&i.token});var o=a.b.kmlServiceUrl;return(0,l.U)(o,{query:{url:e,model:"simple",folders:"",refresh:0!==r||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:n})}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=[],o={},a=t.sublayers,l=t.folders.map((function(e){return e.id}));return a.forEach((function(t){var a=new e;if(r?a.read(t,r):a.read(t),n.length&&l.includes(a.id)&&(a.visible=n.includes(a.id)),o[t.id]=a,null!=t.parentFolderId&&-1!==t.parentFolderId){var u=o[t.parentFolderId];u.sublayers||(u.sublayers=[]),u.sublayers.unshift(a)}else i.unshift(a)})),i}function g(e,t,r){r.forEach((function(r){e.set(r.attributes[t],r)}))}function b(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,l,s,c,d,f,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=p.default.fromJSON(t.featureSet).features,i=t.layerDefinition,a=(0,y.t)(i.drawingInfo.renderer),l=u.B.fromJSON(t.popupInfo),s=[],c=(0,o.Z)(r),e.prev=2,c.s();case 4:if((d=c.n()).done){e.next=12;break}return f=d.value,e.next=8,a.getSymbolAsync(f);case 8:h=e.sent,f.symbol=h,f.popupTemplate=l,f.visible=!0,s.push(f);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})))).apply(this,arguments)}function S(e){var t,r=(0,c.a)(c.D),n=(0,c.a)(c.D),i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.polygons&&a.polygons.featureSet&&a.polygons.featureSet.features){var l,u=(0,o.Z)(a.polygons.featureSet.features);try{for(u.s();!(l=u.n()).done;){var y=l.value;(0,d.j)(r,y.geometry),(0,c.f)(n,r)}}catch(k){u.e(k)}finally{u.f()}}if(a.polylines&&a.polylines.featureSet&&a.polylines.featureSet.features){var p,f=(0,o.Z)(a.polylines.featureSet.features);try{for(f.s();!(p=f.n()).done;){var h=p.value;(0,d.j)(r,h.geometry),(0,c.f)(n,r)}}catch(k){f.e(k)}finally{f.f()}}if(a.points&&a.points.featureSet&&a.points.featureSet.features){var v,m=(0,o.Z)(a.points.featureSet.features);try{for(m.s();!(v=m.n()).done;){var g=v.value;(0,d.j)(r,g.geometry),(0,c.f)(n,r)}}catch(k){m.e(k)}finally{m.f()}}if(a.mapImages){var b,Z=(0,o.Z)(a.mapImages);try{for(Z.s();!(b=Z.n()).done;){var S=b.value;(0,d.j)(r,S.extent),(0,c.f)(n,r)}}catch(k){Z.e(k)}finally{Z.f()}}}}catch(k){i.e(k)}finally{i.f()}return(0,c.k)(n,c.D)?null:{xmin:n[0],ymin:n[1],zmin:n[2],xmax:n[3],ymax:n[4],zmax:n[5],spatialReference:s.k.WGS84}}},41742:function(e,t,r){r.d(t,{L:function(){return b},S:function(){return g},m:function(){return x},u:function(){return w}});var n=r(1413),i=r(57714),o=r(43920),a=r(75610),l={year:"numeric",month:"numeric",day:"numeric"},u={year:"numeric",month:"long",day:"numeric"},s={year:"numeric",month:"short",day:"numeric"},c={year:"numeric",month:"long",weekday:"long",day:"numeric"},d={hour:"numeric",minute:"numeric"},y=(0,n.Z)((0,n.Z)({},d),{},{second:"numeric"}),p={"short-date":l,"short-date-short-time":(0,n.Z)((0,n.Z)({},l),d),"short-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),d),{},{hour12:!1}),"short-date-long-time":(0,n.Z)((0,n.Z)({},l),y),"short-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),y),{},{hour12:!1}),"short-date-le":l,"short-date-le-short-time":(0,n.Z)((0,n.Z)({},l),d),"short-date-le-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),d),{},{hour12:!1}),"short-date-le-long-time":(0,n.Z)((0,n.Z)({},l),y),"short-date-le-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),y),{},{hour12:!1}),"long-month-day-year":u,"long-month-day-year-short-time":(0,n.Z)((0,n.Z)({},u),d),"long-month-day-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),d),{},{hour12:!1}),"long-month-day-year-long-time":(0,n.Z)((0,n.Z)({},u),y),"long-month-day-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),y),{},{hour12:!1}),"day-short-month-year":s,"day-short-month-year-short-time":(0,n.Z)((0,n.Z)({},s),d),"day-short-month-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),d),{},{hour12:!1}),"day-short-month-year-long-time":(0,n.Z)((0,n.Z)({},s),y),"day-short-month-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),y),{},{hour12:!1}),"long-date":c,"long-date-short-time":(0,n.Z)((0,n.Z)({},c),d),"long-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},c),d),{},{hour12:!1}),"long-date-long-time":(0,n.Z)((0,n.Z)({},c),y),"long-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},c),y),{},{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":d,"long-time":y},f=(0,i.o)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});f.toJSON.bind(f),f.fromJSON.bind(f);var h={ar:"ar-u-nu-latn-ca-gregory"},v=new WeakMap,m=p["short-date-short-time"];function g(e){return p[e]||null}function b(e,t){return function(e){var t=e||m;if(!v.has(t)){var r=(0,o.l)(),n=h[(0,o.l)()]||r;v.set(t,new Intl.DateTimeFormat(n,t))}return v.get(t)}(t).format(e)}(0,o.g)((function(){v=new WeakMap,m=p["short-date-short-time"]}));var Z={ar:"ar-u-nu-latn"},S=new WeakMap,k={};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function x(e,t){return-0===e&&(e=0),function(e){var t=e||k;if(!S.has(t)){var r=(0,o.l)(),n=Z[(0,o.l)()]||r;S.set(t,new Intl.NumberFormat(n,e))}return(0,a.q)(S.get(t))}(t).format(e)}(0,o.g)((function(){S=new WeakMap,k={}}))},96349:function(e,t,r){r.d(t,{I:function(){return s},R:function(){return v},U:function(){return f},c:function(){return a},h:function(){return p},i:function(){return o},m:function(){return l},p:function(){return u}});var n=r(75610),i=r(57714);function o(e,t){var r=t&&t.url&&t.url.path;if(e&&r&&(e=(0,i.Q)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){var n=(0,i._)(e,t.portalItem.itemUrl);y.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return h(e,t&&t.portal)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.YES;if(!e)return e;!(0,i.K)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);var n=(0,i.Q)(e);if(t){var o=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(o){var a=h(o,t.portal);(n=(0,i._)(h(n,t.portal),a,a))!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=f(n,t&&t.portal),(0,i.K)(n)&&(n=(0,i.F)(n)),null!==t&&void 0!==t&&t.resources&&null!==t&&void 0!==t&&t.portalItem&&!(0,i.K)(n)&&!(0,i.X)(n)&&r===s.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function l(e,t,r){return o(e,r)}function u(e,t,r,n){var i=a(e,n);void 0!==i&&(t[r]=i)}var s,c,d=/\/items\/([^\/]+)\/resources\//,y=/^\.\/resources\//;function p(e){var t=(0,n.r)(e)?e.match(d):null;return(0,n.r)(t)?t[1]:null}function f(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,i.v)(e,"".concat(t.urlKey,".").concat(t.customBaseUrl),t.portalHostname):e}function h(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;var r="".concat(t.urlKey,".").concat(t.customBaseUrl),n=(0,i.b)();return(0,i.z)(n,"".concat(n.scheme,"://").concat(r))?(0,i.v)(e,t.portalHostname,r):(0,i.v)(e,r,t.portalHostname)}(c=s||(s={}))[c.YES=0]="YES",c[c.NO=1]="NO";var v=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:o,toJSON:a,read:l,write:u,itemIdFromResourceUrl:p,ensureMainOnlineDomain:f,get MarkKeep(){return s}},Symbol.toStringTag,{value:"Module"}))},36551:function(e,t,r){r.d(t,{P:function(){return y},U:function(){return p},a:function(){return u},f:function(){return a},h:function(){return f},j:function(){return s},l:function(){return o},w:function(){return h}});var n=r(23132),i=r(75610);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l(e,t,r,c)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l(e,t,r,d)}function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,a=null,l=r.once?function(e,r){o(e)&&((0,i.d)(a),t(e,r))}:function(e,r){o(e)&&t(e,r)};if(a=(0,n.P)(e,l,r.sync,r.equals),r.initial){var u=e();l(u,u)}return a}function u(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=null,u=null,s=null;function c(){var e;l&&u&&(u.remove(),null!==(e=a.onListenerRemove)&&void 0!==e&&e.call(a,l),l=null,u=null)}function d(e){a.once&&a.once&&(0,i.d)(s),r(e)}var y=o(e,(function(e,r){var i;c(),(0,n.c)(e)&&(l=e,u=(0,n.f)(e,t,d),null===(i=a.onListenerAdd)||void 0===i||i.call(a,e))}),{sync:a.sync,initial:!0});return s=(0,n.g)((function(){y.remove(),c()}))}function s(e,t){return function(e,t,r){if((0,n.p)(r))return Promise.reject((0,n.m)());var o=e();if(null!==t&&void 0!==t&&t(o))return Promise.resolve(o);var a=null;function u(){a=(0,i.d)(a)}return new Promise((function(i,o){a=(0,n.h)([(0,n.v)(r,(function(){u(),o((0,n.m)())})),l(e,(function(e){u(),i(e)}),{sync:!1,once:!0},null!==t&&void 0!==t?t:c)])}))}(e,d,t)}function c(e){return!0}function d(e){return!!e}function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1,i=o(e,(function(e,r){n||t(e,r)}),r);return{remove:function(){i.remove()},pause:function(){n=!0},resume:function(){n=!1}}}var p={sync:!0},f={initial:!0},h={sync:!0,initial:!0}},47642:function(e,t,r){var n,i;function o(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function l(e){return e.valueExpression?n.Expression:e.field&&"string"==typeof e.field?n.Field:n.Unknown}function u(e,t){var r=t||l(e),o=e.valueUnit||"unknown";return r===n.Unknown?i.Constant:e.stops?i.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?i.ClampedLinear:"unknown"===o?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?i.Proportional:i.Additive:i.Identity:i.RealWorldSize}r.d(t,{a:function(){return u},e:function(){return o},i:function(){return i},l:function(){return a},n:function(){return n},t:function(){return l}}),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(n||(n={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(i||(i={}))}}]);
//# sourceMappingURL=6264.4ce7c861.chunk.js.map