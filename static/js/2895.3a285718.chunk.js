"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[2895],{15820:function(e,n,t){t.d(n,{A:function(){return y},E:function(){return p},F:function(){return g},H:function(){return K},I:function(){return Q},J:function(){return j},L:function(){return A},O:function(){return N},P:function(){return I},Q:function(){return z},T:function(){return m},U:function(){return L},V:function(){return P},W:function(){return B},Z:function(){return q},_:function(){return b},a:function(){return oe},b:function(){return M},c:function(){return ne},d:function(){return te},e:function(){return re},f:function(){return ae},g:function(){return ue},h:function(){return fe},i:function(){return $},j:function(){return T},k:function(){return W},l:function(){return se},m:function(){return l},n:function(){return ie},o:function(){return f},p:function(){return h},q:function(){return k},r:function(){return d},s:function(){return ee},t:function(){return s},v:function(){return X},x:function(){return Z},z:function(){return S}});var r=t(40438),i=t(61340),a=t(2760),o=t(3969),u=t(64747),c=t(50165);function s(e){return e?{ray:(0,u.d)(e.ray),c0:e.c0,c1:e.c1}:{ray:(0,u.d)(),c0:0,c1:Number.MAX_VALUE}}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return(0,u.l)(e,n.ray),n.c0=0,n.c1=Number.MAX_VALUE,n}function f(e,n){return v(e,e.c0,n)}function d(e,n){return v(e,e.c1,n)}function v(e,n,t){return(0,a.u)(t,e.ray.origin,(0,a.q)(t,e.ray.direction,n))}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V;return[e[0],e[1],e[2],e[3]]}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V[3];return g(e,n,t,i,r.r.get())}function y(e,n){return g(n[0],n[1],n[2],n[3],e)}function g(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h();return i[0]=e,i[1]=n,i[2]=t,i[3]=r,i}function m(e,n,t){return(0,a.a)(t,e),t[3]=n,t}function b(e,n,t){var r=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],i=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=-(t[0]*e[0]+t[1]*e[1]+t[2]*e[2]),t}function T(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h(),i=t[0]-n[0],a=t[1]-n[1],o=t[2]-n[2],u=e[0]-n[0],c=e[1]-n[1],s=e[2]-n[2],l=a*s-o*c,f=o*u-i*s,d=i*c-a*u,v=l*l+f*f+d*d,p=Math.abs(v-1)>1e-5&&v>1e-12?1/Math.sqrt(v):1;return r[0]=l*p,r[1]=f*p,r[2]=d*p,r[3]=-(r[0]*e[0]+r[1]*e[1]+r[2]*e[2]),r}function M(e,n,t,r,i){if(e.count<3)return!1;e.getVec(t,w);for(var o=r,u=!1;o<e.count-1&&!u;)e.getVec(o,R),o++,u=!(0,a.F)(w,R);if(!u)return!1;for(o=Math.max(o,i),u=!1;o<e.count&&!u;)e.getVec(o,O),o++,(0,a.e)(x,w,R),(0,a.z)(x,x),(0,a.e)(E,R,O),(0,a.z)(E,E),u=!(0,a.F)(w,O)&&!(0,a.F)(R,O)&&Math.abs((0,a.P)(x,E))<_;return u?(T(w,R,O,n),!0):(0!==t||1!==r||2!==i)&&M(e,n,0,1,2)}new r.s((function(){return{c0:0,c1:0,ray:null}}));var _=.99619469809,w=(0,a.n)(),R=(0,a.n)(),O=(0,a.n)(),x=(0,a.n)(),E=(0,a.n)();function A(e,n,t){return n!==e&&y(e,n),e[3]=-(0,a.P)(e,t),e}function I(e,n){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=-e[3],n}function N(e,n,t,r){return(0,a._)(O,n,e),b(t,O,r)}function P(e,n,t,i){return H(e,n,(0,a.e)(r.c.get(),t,n),J,i)}function k(e,n,t){return!!(0,c.r)(n)&&H(e,n.origin,n.direction,Y,t)}function Z(e,n,t){return H(e,n.origin,n.vector,U.NONE,t)}function L(e,n,t){return H(e,n.origin,n.vector,U.CLAMP,t)}function S(e,n){return B(e,n)>=0}function F(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],u=n[5];return e[0]*(e[0]>0?t:a)+e[1]*(e[1]>0?r:o)+e[2]*(e[2]>0?i:u)+e[3]>=0}function C(e,n){var t=(0,a.P)(e,n.ray.direction),r=-B(e,n.ray.origin);if(r<0&&t>=0)return!1;if(t>-1e-6&&t<1e-6)return r>0;if((r<0||t<0)&&!(r<0&&t<0))return!0;var i=r/t;return t>0?i<n.c1&&(n.c1=i):i>n.c0&&(n.c0=i),n.c0<=n.c1}function G(e,n){var t=(0,a.P)(e,n.ray.direction),r=-B(e,n.ray.origin);if(t>-1e-6&&t<1e-6)return r>0;var i=r/t;return t>0?i<n.c1&&(n.c1=i):i>n.c0&&(n.c0=i),n.c0<=n.c1}function j(e,n,t){var i=(0,a.q)(r.c.get(),e,-e[3]),o=z(e,(0,a.e)(r.c.get(),n,i),r.c.get());return(0,a.u)(t,o,i),t}function z(e,n,t){var i=(0,a.q)(r.c.get(),e,(0,a.P)(e,n));return(0,a.e)(t,n,i),t}function B(e,n){return(0,a.P)(e,n)+e[3]}function H(e,n,t,r,i){var o=(0,a.P)(e,t);if(0===o)return!1;var u=-((0,a.P)(e,n)+e[3])/o;return r&U.CLAMP&&(u=(0,a.o)(u,0,1)),!(!(r&U.INFINITE_MIN)&&u<0||!(r&U.INFINITE_MAX)&&u>1)&&((0,a.u)(i,n,(0,a.q)(i,t,u)),!0)}function q(e){return e}var U,D,V=[0,0,1,0];(D=U||(U={}))[D.NONE=0]="NONE",D[D.CLAMP=1]="CLAMP",D[D.INFINITE_MIN=4]="INFINITE_MIN",D[D.INFINITE_MAX=8]="INFINITE_MAX";var W,X,J=U.INFINITE_MIN|U.INFINITE_MAX,Y=U.INFINITE_MAX;function K(e){return e?[h(e[0]),h(e[1]),h(e[2]),h(e[3]),h(e[4]),h(e[5])]:[h(),h(),h(),h(),h(),h()]}function Q(){return[(0,a.n)(),(0,a.n)(),(0,a.n)(),(0,a.n)(),(0,a.n)(),(0,a.n)(),(0,a.n)(),(0,a.n)()]}function $(e,n){for(var t=0;t<se.NUM;t++)y(e[t],n[t])}function ee(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:he,u=(0,i.u)(r.f.get(),n,e);(0,i.h)(u,u);for(var c=0;c<le.NUM;++c){var s=(0,a.w)(r.r.get(),de[c],u);(0,a.f)(o[c],s[0]/s[3],s[1]/s[3],s[2]/s[3])}ne(t,o)}function ne(e,n){T(n[X.FAR_BOTTOM_LEFT],n[X.NEAR_BOTTOM_LEFT],n[X.NEAR_TOP_LEFT],e[W.LEFT]),T(n[X.NEAR_BOTTOM_RIGHT],n[X.FAR_BOTTOM_RIGHT],n[X.FAR_TOP_RIGHT],e[W.RIGHT]),T(n[X.FAR_BOTTOM_LEFT],n[X.FAR_BOTTOM_RIGHT],n[X.NEAR_BOTTOM_RIGHT],e[W.BOTTOM]),T(n[X.NEAR_TOP_LEFT],n[X.NEAR_TOP_RIGHT],n[X.FAR_TOP_RIGHT],e[W.TOP]),T(n[X.NEAR_BOTTOM_LEFT],n[X.NEAR_BOTTOM_RIGHT],n[X.NEAR_TOP_RIGHT],e[W.NEAR]),T(n[X.FAR_BOTTOM_RIGHT],n[X.FAR_BOTTOM_LEFT],n[X.FAR_TOP_LEFT],e[W.FAR])}function te(e,n){for(var t=0;t<se.NUM;t++){var r=e[t];if(r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]>=n[3])return!1}return!0}function re(e,n){return ce(e,l(n,ve.get()))}function ie(e,n){for(var t=0;t<se.NUM;t++){if(!G(e[t],n))return!1}return!0}function ae(e,n,t){return ce(e,function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s(),r=(0,a.s)(e.vector);return(0,u.k)(e.origin,n,t.ray),t.c0=0,t.c1=r,t}(n,t,ve.get()))}function oe(e,n){for(var t=0;t<se.NUM;t++)if(B(e[t],n)>0)return!1;return!0}function ue(e,n){for(var t=0;t<se.NUM;t++)if(F(e[t],n))return!1;return!0}function ce(e,n){for(var t=0;t<se.NUM;t++)if(!C(e[t],n))return!1;return!0}!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.TOP=3]="TOP",e[e.NEAR=4]="NEAR",e[e.FAR=5]="FAR"}(W||(W={})),function(e){e[e.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",e[e.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",e[e.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",e[e.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",e[e.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",e[e.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",e[e.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",e[e.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(X||(X={}));var se,le,fe={bottom:[X.FAR_BOTTOM_RIGHT,X.NEAR_BOTTOM_RIGHT,X.NEAR_BOTTOM_LEFT,X.FAR_BOTTOM_LEFT],near:[X.NEAR_BOTTOM_LEFT,X.NEAR_BOTTOM_RIGHT,X.NEAR_TOP_RIGHT,X.NEAR_TOP_LEFT],far:[X.FAR_BOTTOM_RIGHT,X.FAR_BOTTOM_LEFT,X.FAR_TOP_LEFT,X.FAR_TOP_RIGHT],right:[X.NEAR_BOTTOM_RIGHT,X.FAR_BOTTOM_RIGHT,X.FAR_TOP_RIGHT,X.NEAR_TOP_RIGHT],left:[X.FAR_BOTTOM_LEFT,X.NEAR_BOTTOM_LEFT,X.NEAR_TOP_LEFT,X.FAR_TOP_LEFT],top:[X.FAR_TOP_LEFT,X.NEAR_TOP_LEFT,X.NEAR_TOP_RIGHT,X.FAR_TOP_RIGHT]};!function(e){e[e.NUM=6]="NUM"}(se||(se={})),function(e){e[e.NUM=8]="NUM"}(le||(le={}));var de=[(0,o.r)(-1,-1,-1,1),(0,o.r)(1,-1,-1,1),(0,o.r)(1,1,-1,1),(0,o.r)(-1,1,-1,1),(0,o.r)(-1,-1,1,1),(0,o.r)(1,-1,1,1),(0,o.r)(1,1,1,1),(0,o.r)(-1,1,1,1)],ve=new r.s(s),he=Q()},57952:function(e,n,t){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function a(e,n,t,r,i,a,o,u,c,s,l,f,d,v,h,p){return[e,n,t,r,i,a,o,u,c,s,l,f,d,v,h,p]}function o(e,n){return new Float64Array(e,n,16)}t.d(n,{e:function(){return r},n:function(){return o},o:function(){return u},r:function(){return i},t:function(){return a}});var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:i,fromValues:a,createView:o,IDENTITY:u},Symbol.toStringTag,{value:"Module"}))},6243:function(e,n,t){t.d(n,{B:function(){return d},K:function(){return R},Q:function(){return x},S:function(){return s},k:function(){return f},v:function(){return a},x:function(){return o},y:function(){return u}});var r=t(71573),i=t(2760);function a(e,n,t){t*=.5;var r=Math.sin(t);return e[0]=r*n[0],e[1]=r*n[1],e[2]=r*n[2],e[3]=Math.cos(t),e}function o(e,n){var t=2*Math.acos(n[3]),r=Math.sin(t/2);return r>i.t?(e[0]=n[0]/r,e[1]=n[1]/r,e[2]=n[2]/r):(e[0]=1,e[1]=0,e[2]=0),t}function u(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],u=t[0],c=t[1],s=t[2],l=t[3];return e[0]=r*l+o*u+i*s-a*c,e[1]=i*l+o*c+a*u-r*s,e[2]=a*l+o*s+r*c-i*u,e[3]=o*l-r*u-i*c-a*s,e}function c(e,n,t,r){var a,o,u,c,s,l=n[0],f=n[1],d=n[2],v=n[3],h=t[0],p=t[1],y=t[2],g=t[3];return(o=l*h+f*p+d*y+v*g)<0&&(o=-o,h=-h,p=-p,y=-y,g=-g),1-o>i.t?(a=Math.acos(o),u=Math.sin(a),c=Math.sin((1-r)*a)/u,s=Math.sin(r*a)/u):(c=1-r,s=r),e[0]=c*l+s*h,e[1]=c*f+s*p,e[2]=c*d+s*y,e[3]=c*v+s*g,e}function s(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e[3]=n[3],e}function l(e,n){var t,r=n[0]+n[4]+n[8];if(r>0)t=Math.sqrt(r+1),e[3]=.5*t,t=.5/t,e[0]=(n[5]-n[7])*t,e[1]=(n[6]-n[2])*t,e[2]=(n[1]-n[3])*t;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;t=Math.sqrt(n[3*i+i]-n[3*a+a]-n[3*o+o]+1),e[i]=.5*t,t=.5/t,e[3]=(n[3*a+o]-n[3*o+a])*t,e[a]=(n[3*a+i]+n[3*i+a])*t,e[o]=(n[3*o+i]+n[3*i+o])*t}return e}function f(e,n,t,r){var i=.5*Math.PI/180;n*=i,t*=i,r*=i;var a=Math.sin(n),o=Math.cos(n),u=Math.sin(t),c=Math.cos(t),s=Math.sin(r),l=Math.cos(r);return e[0]=a*c*l-o*u*s,e[1]=o*u*l+a*c*s,e[2]=o*c*s-a*u*l,e[3]=o*c*l+a*u*s,e}var d=i.B,v=i.D,h=i.E,p=u,y=i.G,g=i.I,m=i.j,b=i.J,T=b,M=i.K,_=M,w=i.N,R=i.Q,O=i.R;function x(e,n,t){var r=(0,i.P)(n,t);return r<-.999999?((0,i._)(E,A,n),(0,i.Y)(E)<1e-6&&(0,i._)(E,I,n),(0,i.z)(E,E),a(e,E,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,i._)(E,n,t),e[0]=E[0],e[1]=E[1],e[2]=E[2],e[3]=1+r,w(e,e))}var E=(0,i.n)(),A=(0,i.r)(1,0,0),I=(0,i.r)(0,1,0);var N=(0,r.b)(),P=(0,r.b)();var k=(0,r.e)();Object.freeze(Object.defineProperty({__proto__:null,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},setAxisAngle:a,getAxisAngle:o,multiply:u,rotateX:function(e,n,t){t*=.5;var r=n[0],i=n[1],a=n[2],o=n[3],u=Math.sin(t),c=Math.cos(t);return e[0]=r*c+o*u,e[1]=i*c+a*u,e[2]=a*c-i*u,e[3]=o*c-r*u,e},rotateY:function(e,n,t){t*=.5;var r=n[0],i=n[1],a=n[2],o=n[3],u=Math.sin(t),c=Math.cos(t);return e[0]=r*c-a*u,e[1]=i*c+o*u,e[2]=a*c+r*u,e[3]=o*c-i*u,e},rotateZ:function(e,n,t){t*=.5;var r=n[0],i=n[1],a=n[2],o=n[3],u=Math.sin(t),c=Math.cos(t);return e[0]=r*c+i*u,e[1]=i*c-r*u,e[2]=a*c+o*u,e[3]=o*c-a*u,e},calculateW:function(e,n){var t=n[0],r=n[1],i=n[2];return e[0]=t,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-t*t-r*r-i*i)),e},slerp:c,random:function(e){var n=(0,i.d)(),t=(0,i.d)(),r=(0,i.d)(),a=Math.sqrt(1-n),o=Math.sqrt(n);return e[0]=a*Math.sin(2*Math.PI*t),e[1]=a*Math.cos(2*Math.PI*t),e[2]=o*Math.sin(2*Math.PI*r),e[3]=o*Math.cos(2*Math.PI*r),e},invert:function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t*t+r*r+i*i+a*a,u=o?1/o:0;return e[0]=-t*u,e[1]=-r*u,e[2]=-i*u,e[3]=a*u,e},conjugate:s,fromMat3:l,fromEuler:f,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},copy:d,set:v,add:h,mul:p,scale:y,dot:g,lerp:m,length:b,len:T,squaredLength:M,sqrLen:_,normalize:w,exactEquals:R,equals:O,rotationTo:x,sqlerp:function(e,n,t,r,i,a){return c(N,n,i,a),c(P,t,r,a),c(e,N,P,2*a*(1-a)),e},setAxes:function(e,n,t,r){var i=k;return i[0]=t[0],i[3]=t[1],i[6]=t[2],i[1]=r[0],i[4]=r[1],i[7]=r[2],i[2]=-n[0],i[5]=-n[1],i[8]=-n[2],w(e,l(e,i))}},Symbol.toStringTag,{value:"Module"}))},71573:function(e,n,t){function r(){return[1,0,0,0,1,0,0,0,1]}function i(e,n){return new Float64Array(e,n,9)}function a(){return[0,0,0,1]}function o(e){return[e[0],e[1],e[2],e[3]]}function u(e,n){return new Float64Array(e,n,4)}t.d(n,{a:function(){return u},b:function(){return a},e:function(){return r},n:function(){return i},o:function(){return c},r:function(){return o}}),Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},fromValues:function(e,n,t,r,i,a,o,u,c){return[e,n,t,r,i,a,o,u,c]},createView:i},Symbol.toStringTag,{value:"Module"}));var c=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:a,clone:o,fromValues:function(e,n,t,r){return[e,n,t,r]},createView:u,IDENTITY:c},Symbol.toStringTag,{value:"Module"}))},66339:function(e,n,t){t.d(n,{c:function(){return o},i:function(){return a},r:function(){return i}});var r=t(73428);function i(e,n){var t=n||e.extent,i=e.width,a=(0,r.z)(t&&t.spatialReference);return t&&i?t.width/i*a*r.d*96:0}function a(e,n){return e/((0,r.z)(n)*r.d*96)}function o(e,n){var t=e.extent,r=e.width,i=a(n,t.spatialReference);return t.clone().expand(i*r/t.width)}},44217:function(e,n,t){t.d(n,{$:function(){return Ct},A:function(){return Se},B:function(){return Oe},C:function(){return jn},D:function(){return We},E:function(){return dr},F:function(){return St},G:function(){return De},H:function(){return Yt},I:function(){return jt},J:function(){return fr},K:function(){return nr},L:function(){return Bn},M:function(){return Jt},N:function(){return Wt},O:function(){return tr},P:function(){return Nn},Q:function(){return On},R:function(){return xn},S:function(){return Ie},T:function(){return Ht},U:function(){return Ze},V:function(){return Rn},W:function(){return un},X:function(){return Ve},Y:function(){return Rt},Z:function(){return Lt},_:function(){return Gt},a:function(){return ee},a0:function(){return En},a1:function(){return An},a2:function(){return Ue},a3:function(){return Le},a4:function(){return xe},a5:function(){return Ee},a6:function(){return Pe},a7:function(){return Ke},a8:function(){return sn},a9:function(){return ln},aa:function(){return Xe},ab:function(){return Ye},ac:function(){return rn},b:function(){return ce},c:function(){return lr},d:function(){return re},e:function(){return pe},f:function(){return zn},g:function(){return kn},h:function(){return Yn},i:function(){return se},j:function(){return Ae},k:function(){return Ne},l:function(){return an},m:function(){return ct},n:function(){return q},o:function(){return cn},p:function(){return oe},q:function(){return wt},r:function(){return z},s:function(){return _t},t:function(){return Tt},u:function(){return Mt},v:function(){return Re},w:function(){return Fe},x:function(){return ke},y:function(){return we},z:function(){return Fn}});var r,i=t(74165),a=t(15861),o=t(37762),u=t(1413),c=t(15671),s=t(43144),l=t(60136),f=t(29388),d=t(50165),v=t(32335),h=t(79747),p=t(77322),y=t(88406),g=t(62980),m=t(2760),b=t(83745),T=(t(33530),t(89031)),M=t(5233),_=t(55269),w=t(96401),R=t(71573),O=t(57952),x=t(98643),E=t(9330),A=t(79146),I=t(15820),N=t(73428),P=t(61340),k=t(3969),Z=t(64747),L=t(47672),S=t(40438),F=t(12317),C=t(20838),G=t(66339),j=t(96263);function z(e,n){return null!=e&&(null==n||(n===L.l.Local?!e.isGeographic||e.isWGS84||e.wkid===p.S.CGCS2000:e.isWebMercator||e.isWGS84||e.wkid===p.S.CGCS2000||e.wkid===p.S.GCSMARS2000||e.wkid===p.S.GCSMARS2000_SPHERE||e.wkid===p.S.GCSMOON2000))}var B=r=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="sunny",r.cloudCover=.5,r}return(0,s.Z)(t,[{key:"clone",value:function(){return new r({cloudCover:this.cloudCover})}}]),t}(v.l);(0,d.e)([(0,h.r)({sunny:"sunny"})],B.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],B.prototype,"cloudCover",void 0);var H,q=B=r=(0,d.e)([(0,d.n)("esri.views.3d.environment.SunnyWeather")],B),U=H=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="cloudy",r.cloudCover=.5,r}return(0,s.Z)(t,[{key:"clone",value:function(){return new H({cloudCover:this.cloudCover})}}]),t}(v.l);(0,d.e)([(0,h.r)({cloudy:"cloudy"})],U.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],U.prototype,"cloudCover",void 0);var D,V=U=H=(0,d.e)([(0,d.n)("esri.views.3d.environment.CloudyWeather")],U),W=D=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="foggy",r.fogStrength=.5,r}return(0,s.Z)(t,[{key:"clone",value:function(){return new D({fogStrength:this.fogStrength})}}]),t}(v.l);(0,d.e)([(0,h.r)({foggy:"foggy"})],W.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],W.prototype,"fogStrength",void 0);var X,J=W=D=(0,d.e)([(0,d.n)("esri.views.3d.environment.FoggyWeather")],W),Y=X=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="rainy",r.cloudCover=.5,r.precipitation=.5,r}return(0,s.Z)(t,[{key:"clone",value:function(){return new X({cloudCover:this.cloudCover,precipitation:this.precipitation})}}]),t}(v.l);(0,d.e)([(0,h.r)({rainy:"rainy"})],Y.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],Y.prototype,"cloudCover",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],Y.prototype,"precipitation",void 0);var K,Q=Y=X=(0,d.e)([(0,d.n)("esri.views.3d.environment.RainyWeather")],Y),$=K=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="snowy",r.cloudCover=.5,r.precipitation=.5,r.snowCover="disabled",r}return(0,s.Z)(t,[{key:"clone",value:function(){return new K({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}}]),t}(v.l);(0,d.e)([(0,h.r)({snowy:"snowy"})],$.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],$.prototype,"cloudCover",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],$.prototype,"precipitation",void 0),(0,d.e)([(0,d.d)({type:["enabled","disabled"],nonNullable:!0,json:{write:!0}})],$.prototype,"snowCover",void 0),$=K=(0,d.e)([(0,d.n)("esri.views.3d.environment.SnowyWeather")],$);var ee={key:"type",base:q,typeMap:{sunny:q,cloudy:V,rainy:Q,snowy:$,foggy:J}},ne=Object.keys(ee.typeMap);var te,re=1e4,ie=te=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="sun",r.date=null,r.directShadowsEnabled=!1,r.displayUTCOffset=null,r}return(0,s.Z)(t,[{key:"readDate",value:function(e,n){return null!=n.datetime&&new Date(n.datetime)||null}},{key:"writeDate",value:function(e,n,t){n[t]=e.getTime()}},{key:"readDirectShadowsEnabled",value:function(e,n){return!!n.directShadows}},{key:"writedirectShadowsEnabled",value:function(e,n,t){e&&(n[t]=e)}},{key:"writeDisplayUTCOffset",value:function(e,n){null!=e&&(n.displayUTCOffset=e)}},{key:"clone",value:function(){return new te(this.cloneConstructProperties())}},{key:"cloneConstructProperties",value:function(){var e={directShadowsEnabled:this.directShadowsEnabled,displayUTCOffset:null!=this.displayUTCOffset?this.displayUTCOffset:null};return null!=this.date&&(e.date=new Date(this.date.getTime())),e}}]),t}(v.l);(0,d.e)([(0,d.d)({readOnly:!0,type:["sun"],json:{write:!0}})],ie.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Date,json:{type:Number,write:{target:"datetime"}}})],ie.prototype,"date",void 0),(0,d.e)([(0,p.o)("date",["datetime"])],ie.prototype,"readDate",null),(0,d.e)([(0,p.r)("date")],ie.prototype,"writeDate",null),(0,d.e)([(0,d.d)({type:Boolean,json:{default:!1,write:{target:"directShadows"}}})],ie.prototype,"directShadowsEnabled",void 0),(0,d.e)([(0,p.o)("directShadowsEnabled",["directShadows"])],ie.prototype,"readDirectShadowsEnabled",null),(0,d.e)([(0,p.r)("directShadowsEnabled")],ie.prototype,"writedirectShadowsEnabled",null),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],ie.prototype,"displayUTCOffset",void 0),(0,d.e)([(0,p.r)("displayUTCOffset")],ie.prototype,"writeDisplayUTCOffset",null);var ae,oe=ie=te=(0,d.e)([(0,d.n)("esri.webscene.SunLighting")],ie),ue=ae=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="virtual",r.directShadowsEnabled=!1,r}return(0,s.Z)(t,[{key:"clone",value:function(){return new ae(this.cloneConstructProperties())}},{key:"cloneConstructProperties",value:function(){return{directShadowsEnabled:this.directShadowsEnabled}}}]),t}(v.l);(0,d.e)([(0,d.d)({readOnly:!0,type:["virtual"],json:{write:!0}})],ue.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{default:!1,name:"directShadows",write:!0}})],ue.prototype,"directShadowsEnabled",void 0);var ce=ue=ae=(0,d.e)([(0,d.n)("esri.webscene.VirtualLighting")],ue),se={key:"type",defaultKeyValue:"sun",base:null,typeMap:{sun:oe,virtual:ce}},le=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){return(0,c.Z)(this,t),n.call(this,e)}return(0,s.Z)(t,[{key:"clone",value:function(){}}]),t}(v.l);(0,d.e)([(0,d.d)({readOnly:!0,json:{read:!1}})],le.prototype,"type",void 0);var fe,de=le=(0,d.e)([(0,d.n)("esri.webscene.background.Background")],le),ve=(0,u.Z)((0,u.Z)({},g.p),{},{nonNullable:!0}),he=fe=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="color",r.color=new y.l([0,0,0,1]),r}return(0,s.Z)(t,[{key:"clone",value:function(){return new fe(this.cloneProperties())}},{key:"cloneProperties",value:function(){return{color:this.color.clone()}}}]),t}(de);(0,d.e)([(0,h.r)({color:"color"},{readOnly:!0})],he.prototype,"type",void 0),(0,d.e)([(0,d.d)(ve)],he.prototype,"color",void 0);var pe=he=fe=(0,d.e)([(0,d.n)("esri.webscene.background.ColorBackground")],he),ye={base:de,key:"type",typeMap:{color:pe}};var ge,me,be={types:ye,json:{read:(ge=ye,function(e,n,t){if(!e)return e;for(var r in ge.typeMap)if(e.type===r){var i=new ge.typeMap[r];return i.read(e,t),i}}),write:{overridePolicy:function(e,n,t){return{enabled:!t||!t.isPresentation}}}}},Te=d.s.getLogger("esri.webscene.Environment"),Me=function(e,n,t){return{enabled:!t||!t.isPresentation}},_e=me=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).lighting=new oe,r.background=null,r.atmosphereEnabled=!0,r.starsEnabled=!0,r}return(0,s.Z)(t,[{key:"weather",set:function(e){(function(e,n){return!!ne.includes(e)||(n.error('"'.concat(e,'" is not a valid weather type')),!1)})(null===e||void 0===e?void 0:e.type,Te)&&this._set("weather",e)}},{key:"clone",value:function(){return new me(this.cloneConstructProperties())}},{key:"cloneConstructProperties",value:function(){return{lighting:this.lighting&&"virtual"===this.lighting.type?ce.prototype.clone.call(this.lighting):oe.prototype.clone.call(this.lighting),background:(0,d.m)(this.background),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,weather:this.weather.clone()}}}]),t}(v.l);(0,d.e)([(0,d.d)({types:se,nonNullable:!0,json:{write:!0}})],_e.prototype,"lighting",void 0),(0,d.e)([(0,d.d)(be)],_e.prototype,"background",void 0),(0,d.e)([(0,d.d)({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:Me}}})],_e.prototype,"atmosphereEnabled",void 0),(0,d.e)([(0,d.d)({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:Me}}})],_e.prototype,"starsEnabled",void 0),(0,d.e)([(0,d.d)({types:ee,nonNullable:!0,json:{write:!0},value:new q})],_e.prototype,"weather",null);var we=_e=me=(0,d.e)([(0,d.n)("esri.webscene.Environment")],_e);function Re(e){var n=e[0]*e[0]+e[4]*e[4]+e[8]*e[8],t=e[1]*e[1]+e[5]*e[5]+e[9]*e[9],r=e[2]*e[2]+e[6]*e[6]+e[10]*e[10];return Math.sqrt(Math.max(n,t,r))}function Oe(e,n){var t=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),r=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),i=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return(0,m.f)(e,t,r,i),e}function xe(e,n,t){t=t||e;var r=(0,m.P)(e,n);(0,m.f)(t,e[0]-r*n[0],e[1]-r*n[1],e[2]-r*n[2]),(0,m.z)(t,t)}function Ee(e,n,t){Math.abs(e[0])>Math.abs(e[1])?(0,m.f)(n,0,1,0):(0,m.f)(n,1,0,0),(0,m._)(t,e,n),(0,m.z)(n,n),(0,m._)(n,t,e),(0,m.z)(t,t)}function Ae(e,n){return(e%n+n)%n}function Ie(e,n,t,r,i,a){var o=e+(n-e)*i;return o+(t+(r-t)*i-o)*a}function Ne(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,m.n)(),i=(0,m.s)(e),a=(0,m.s)(n),o=(0,m.P)(e,n)/(i*a);if(o<.9999999999999999){var u=Math.acos(o),c=((1-t)*i+t*a)/Math.sin(u),s=c/i*Math.sin((1-t)*u),l=c/a*Math.sin(t*u);return(0,m.q)(ze,e,s),(0,m.q)(Be,n,l),(0,m.u)(r,ze,Be)}return(0,m.A)(r,e,n,t)}function Pe(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,m.n)(),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,m.n)(),a=(0,m.s)(e),o=(0,m.s)(n),u=(0,m.P)(e,n)/(a*o);if(u<.9999999999999999){var c=Math.acos(u),s=Math.sin(c),l=Math.sin(t*c),f=Math.sin((1-t)*c),d=(1-t)*a+t*o,v=d/s,h=v/o*l;(0,m.q)(ze,e,v/a*f),(0,m.q)(Be,n,h),(0,m.u)(r,ze,Be);var p=1/a*(-Math.cos((1-t)*c)*c*d+f*(-a+o));(0,m.q)(ze,e,p);var y=1/o*(Math.cos(t*c)*c*d+l*(-a+o));return(0,m.q)(Be,n,y),(0,m.u)(i,ze,Be),(0,m.q)(i,i,1/s),i}return(0,m.A)(r,e,n,t),(0,m.e)(i,n,e),(0,m.z)(i,i),i}function ke(e,n,t){e=(0,m.z)(ze,e),n=(0,m.z)(Be,n);var r=(0,m.g)((0,m.P)(e,n));if(t){var i=(0,m._)(je,e,n);if((0,m.P)(i,t)<0)return-r}return r}function Ze(e){var n=e.length;return function(t){if(t<=e[0][0])return e[0][1];if(t>=e[n-1][0])return e[n-1][1];for(var r=1;t>e[r][0];)r++;var i=e[r-1][0],a=e[r][0],o=(a-t)/(a-i);return o*e[r-1][1]+(1-o)*e[r][1]}}function Le(e,n,t,r){(0,m.e)(Ce,n,e),(0,m.e)(Ge,t,e),(0,m._)(r,Ce,Ge),(0,m.z)(r,r),r[3]=-(0,m.P)(e,r)}var Se,Fe,Ce=(0,m.n)(),Ge=(0,m.n)(),je=(0,m.n)(),ze=(0,m.n)(),Be=(0,m.n)();!function(e){e[e.OBJECT=0]="OBJECT",e[e.HUD=1]="HUD",e[e.TERRAIN=2]="TERRAIN",e[e.OVERLAY=3]="OVERLAY",e[e.I3S=4]="I3S",e[e.PCL=5]="PCL",e[e.LOD=6]="LOD",e[e.VOXEL=7]="VOXEL"}(Se||(Se={}));var He=(0,s.Z)((function e(){(0,c.Z)(this,e),this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=Fe.ALL}));!function(e){e[e.MIN=0]="MIN",e[e.MINMAX=1]="MINMAX",e[e.ALL=2]="ALL"}(Fe||(Fe={}));var qe=d.s.getLogger("esri.views.3d.support.geometryUtils.boundedPlane"),Ue=(0,s.Z)((function e(){(0,c.Z)(this,e),this.plane=(0,I.p)(),this.origin=(0,m.n)(),this.basis1=(0,m.n)(),this.basis2=(0,m.n)()}));function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn;return{plane:(0,I.p)(e.plane),origin:(0,m.h)(e.origin),basis1:(0,m.h)(e.basis1),basis2:(0,m.h)(e.basis2)}}function Ve(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De();return We(e.origin,e.basis1,e.basis2,n)}function We(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:De();return(0,m.a)(r.origin,e),(0,m.a)(r.basis1,n),(0,m.a)(r.basis2,t),Xe(r),hn(r,"fromValues()"),r}function Xe(e){(0,I.O)(e.basis2,e.basis1,e.origin,e.plane)}function Je(e,n,t){e!==t&&Ve(e,t);var r=(0,m.q)(S.c.get(),ln(e),n);return(0,m.u)(t.origin,t.origin,r),t.plane[3]-=n,t}function Ye(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De(),t=(e[2]-e[0])/2,r=(e[3]-e[1])/2;return(0,m.f)(n.origin,e[0]+t,e[1]+r,0),(0,m.f)(n.basis1,t,0,0),(0,m.f)(n.basis2,0,r,0),(0,I.F)(0,0,1,0,n.plane),n}function Ke(e,n,t){return!!(0,I.q)(e.plane,n,t)&&fn(e,t)}function Qe(e,n,t){var r=gn.get();pn(e,n,r,gn.get());var i,a=Number.POSITIVE_INFINITY,u=(0,o.Z)(Mn);try{for(u.s();!(i=u.n()).done;){var c=vn(e,i.value,mn.get()),s=S.c.get();if((0,I.x)(r,c,s)){var l=(0,m.H)(S.c.get(),n.origin,s),f=Math.abs((0,m.g)((0,m.P)(n.direction,l)));f<a&&(a=f,(0,m.a)(t,s))}}}catch(d){u.e(d)}finally{u.f()}return a===Number.POSITIVE_INFINITY?$e(e,n,t):t}function $e(e,n,t){if(Ke(e,n,t))return t;var r=gn.get(),i=gn.get();pn(e,n,r,i);var a,u=Number.POSITIVE_INFINITY,c=(0,o.Z)(Mn);try{for(c.s();!(a=c.n()).done;){var s=vn(e,a.value,mn.get()),l=S.c.get();if((0,I.U)(r,s,l)){var f=(0,Z.h)(n,l);if(!(0,I.z)(i,l))continue;f<u&&(u=f,(0,m.a)(t,l))}}}catch(d){c.e(d)}finally{c.f()}return tn(e,n.origin)<u&&en(e,n.origin,t),t}function en(e,n,t){var r=(0,I.J)(e.plane,n,S.c.get()),i=(0,F.A)(dn(e,e.basis1),r,-1,1,S.c.get()),a=(0,F.A)(dn(e,e.basis2),r,-1,1,S.c.get());return(0,m.e)(t,(0,m.u)(S.c.get(),i,a),e.origin),t}function nn(e,n,t){var r=e.origin,i=e.basis1,a=e.basis2,o=(0,m.e)(S.c.get(),n,r),u=(0,Z.f)(i,o),c=(0,Z.f)(a,o),s=(0,Z.f)(ln(e),o);return(0,m.f)(t,u,c,s)}function tn(e,n){var t=nn(e,n,S.c.get()),r=e.basis1,i=e.basis2,a=(0,m.s)(r),o=(0,m.s)(i),u=Math.max(Math.abs(t[0])-a,0),c=Math.max(Math.abs(t[1])-o,0),s=t[2];return u*u+c*c+s*s}function rn(e,n){return Math.sqrt(tn(e,n))}function an(e,n){return(0,I.z)(e.plane,n)&&fn(e,n)}function on(e,n){var t=-e.plane[3];return(0,Z.f)(ln(e),n)-t}function un(e,n){return(0,m.F)(e.basis1,n.basis1)&&(0,m.F)(e.basis2,n.basis2)&&(0,m.F)(e.origin,n.origin)}function cn(e,n,t){return e!==t&&Ve(e,t),(0,P.h)(_n,n),(0,P.o)(_n,_n),(0,m.L)(t.basis1,e.basis1,_n),(0,m.L)(t.basis2,e.basis2,_n),(0,m.L)((0,I.Z)(t.plane),(0,I.Z)(e.plane),_n),(0,m.L)(t.origin,e.origin,n),(0,I.L)(t.plane,t.plane,t.origin),t}function sn(e,n,t,r){return e!==r&&Ve(e,r),(0,P.p)(wn,n,t),(0,m.L)(r.basis1,e.basis1,wn),(0,m.L)(r.basis2,e.basis2,wn),Xe(r),r}function ln(e){return(0,I.Z)(e.plane)}function fn(e,n){var t=(0,m.e)(S.c.get(),n,e.origin),r=(0,m.v)(e.basis1),i=(0,m.v)(e.basis2),a=(0,m.P)(e.basis1,t),o=(0,m.P)(e.basis2,t);return-a-r<0&&a-r<0&&-o-i<0&&o-i<0}function dn(e,n){var t=mn.get();return(0,m.a)(t.origin,e.origin),(0,m.a)(t.vector,n),t}function vn(e,n,t){var r=e.basis1,i=e.basis2,a=e.origin,o=(0,m.q)(S.c.get(),r,n.origin[0]),u=(0,m.q)(S.c.get(),i,n.origin[1]);(0,m.u)(t.origin,o,u),(0,m.u)(t.origin,t.origin,a);var c=(0,m.q)(S.c.get(),r,n.direction[0]),s=(0,m.q)(S.c.get(),i,n.direction[1]);return(0,m.q)(t.vector,(0,m.u)(c,c,s),2),t}function hn(e,n){Math.abs((0,m.P)(e.basis1,e.basis2)/((0,m.s)(e.basis1)*(0,m.s)(e.basis2)))>1e-6&&qe.warn(n,"Provided basis vectors are not perpendicular"),Math.abs((0,m.P)(e.basis1,ln(e)))>1e-6&&qe.warn(n,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,m.P)(ln(e),e.origin)-e.plane[3])>1e-6&&qe.warn(n,"Plane offset is not consistent with plane origin")}function pn(e,n,t,r){var i=ln(e);(0,I.O)(i,n.direction,n.origin,t),(0,I.O)((0,I.Z)(t),i,n.origin,r)}var yn={plane:(0,I.p)(),origin:(0,m.r)(0,0,0),basis1:(0,m.r)(1,0,0),basis2:(0,m.r)(0,1,0)},gn=new S.s(I.p),mn=new S.s(F.v),bn=(0,m.n)(),Tn=new S.s((function(){return{origin:null,basis1:null,basis2:null,plane:null}})),Mn=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],_n=(0,O.e)(),wn=(0,O.e)(),Rn=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:Ue,create:De,wrap:function(e,n,t){var r=Tn.get();return r.origin=e,r.basis1=n,r.basis2=t,r.plane=(0,I.E)(0,0,0,0),Xe(r),r},copy:Ve,copyWithoutVerify:function(e,n){(0,m.a)(n.origin,e.origin),(0,m.a)(n.basis1,e.basis1),(0,m.a)(n.basis2,e.basis2),(0,I.A)(n.plane,e.plane)},fromValues:We,updateUnboundedPlane:Xe,elevate:Je,setExtent:function(e,n,t){return Ye(n,t),Je(t,on(e,e.origin),t),t},fromAABoundingRect:Ye,intersectRay:Ke,intersectRayClosestSilhouette:function(e,n,t){if(Ke(e,n,t))return t;var r=Qe(e,n,S.c.get());return(0,m.u)(t,n.origin,(0,m.q)(S.c.get(),n.direction,(0,m.x)(n.origin,r)/(0,m.s)(n.direction))),t},closestPointOnSilhouette:Qe,closestPoint:$e,projectPoint:en,projectPointLocal:nn,distance2:tn,distance:rn,distanceToSilhouette:function(e,n){var t,r=Number.NEGATIVE_INFINITY,i=(0,o.Z)(Mn);try{for(i.s();!(t=i.n()).done;){var a=vn(e,t.value,mn.get()),u=(0,F.b)(a,n);u>r&&(r=u)}}catch(c){i.e(c)}finally{i.f()}return Math.sqrt(r)},extrusionContainsPoint:an,axisAt:function(e,n,t,r){return function(e,n,t){switch(n){case Z.n.X:(0,m.a)(t,e.basis1),(0,m.z)(t,t);break;case Z.n.Y:(0,m.a)(t,e.basis2),(0,m.z)(t,t);break;case Z.n.Z:(0,m.a)(t,ln(e))}return t}(e,t,r)},altitudeAt:on,setAltitudeAt:function(e,n,t,r){var i=on(e,n),a=(0,m.q)(bn,ln(e),t-i);return(0,m.u)(r,n,a),r},equals:un,transform:cn,rotate:sn,normal:ln,UP:yn},Symbol.toStringTag,{value:"Module"}));function On(e){return(0,d.r)(e)&&(0,d.r)(e.dist)}function xn(e){return function(n,t,r){return(0,m.A)(In,n,t,r),!an(e,In)}}function En(e){return On(e)&&e.intersector===Se.OBJECT&&!!e.target}function An(e){return On(e)&&e.intersector===Se.HUD&&!!e.target&&(0,d.r)(e.target.center)}var In=(0,m.n)(),Nn=1e-5,Pn=function(){function e(n){(0,c.Z)(this,e),this.options=new He,this._results=new Zn,this.transform=new C.u,this.tolerance=Nn,this.verticalOffset=null,this._ray=(0,Z.d)(),this._rayEnd=(0,m.n)(),this._rayBeginTransformed=(0,m.n)(),this._rayEndTransformed=(0,m.n)(),this.viewingMode=null==n?L.l.Global:n}return(0,s.Z)(e,[{key:"results",get:function(){return this._results}},{key:"ray",get:function(){return this._ray}},{key:"rayBegin",get:function(){return this._ray.origin}},{key:"rayEnd",get:function(){return this._rayEnd}},{key:"reset",value:function(e,n,t){this.resetWithRay((0,Z.p)(e,n,this._ray),t)}},{key:"resetWithRay",value:function(e,n){this.camera=n,e!==this._ray&&(0,Z.l)(e,this._ray),0!==this.options.verticalOffset?this.viewingMode===L.l.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,(0,m.u)(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}},{key:"intersect",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;this.point=t,this.filterPredicate=i,this.tolerance=null==r?Nn:r;var u=(0,C.y)(this.verticalOffset);(0,d.r)(n)&&n.length>0&&function(){var t,r=a?function(n){a(n)&&e.intersectObject(n)}:function(n){e.intersectObject(n)},i=(0,o.Z)(n);try{for(i.s();!(t=i.n()).done;){var c=t.value,s=c.getSpatialQueryAccelerator&&c.getSpatialQueryAccelerator();(0,d.r)(s)?((0,d.r)(u)?s.forEachAlongRayWithVerticalOffset(e._ray.origin,e._ray.direction,r,u):s.forEachAlongRay(e._ray.origin,e._ray.direction,r),e.options.selectionMode&&e.options.hud&&s.forEachDegenerateObject(r)):c.objects.forAll((function(e){return r(e)}))}}catch(l){i.e(l)}finally{i.f()}}(),this.sortResults()}},{key:"intersectObject",value:function(e){var n=this,t=e.geometryRecords;if(t){var r,i=e.transformation,a=(0,C.y)(this.verticalOffset),u=(0,o.Z)(t);try{var c=function(){var t=r.value,o=t.geometry,u=t.material,c=t.instanceParameters;if((0,C.a)(c))return"continue";var s=o.id;n.transform.setAndInvalidateLazyTransforms(i,t.getShaderTransformation()),(0,m.L)(n._rayBeginTransformed,n.rayBegin,n.transform.inverse),(0,m.L)(n._rayEndTransformed,n.rayEnd,n.transform.inverse);var l=n.transform.transform;(0,d.r)(a)&&(a.objectTransform=n.transform),u.intersect(o,c,n.transform.transform,n,n._rayBeginTransformed,n._rayEndTransformed,(function(t,r,i,a,o,u){if(t>=0){if((0,d.r)(n.filterPredicate)&&!n.filterPredicate(n._ray.origin,n._rayEnd,t))return;var c=a?n._results.hud:n._results,f=a?function(n){var a={object:e,geometryId:s,triangleNr:i,center:(0,d.r)(u)?[u[0],u[1],u[2]]:null};n.set(Se.HUD,a,t,r,O.o,o)}:function(n){return n.set(Se.OBJECT,{object:e,geometryId:s,triangleNr:i},t,r,l,o)};if((null==c.min.drapedLayerOrder||o>=c.min.drapedLayerOrder)&&(null==c.min.dist||t<c.min.dist)&&f(c.min),n.options.store!==Fe.MIN&&(null==c.max.drapedLayerOrder||o<c.max.drapedLayerOrder)&&(null==c.max.dist||t>c.max.dist)&&f(c.max),n.options.store===Fe.ALL)if(a){var v=new Sn(n._ray);f(v),n._results.hud.all.push(v)}else{var h=new Ln(n._ray);f(h),n._results.all.push(h)}}}),t.shaderTransformation)};for(u.s();!(r=u.n()).done;)c()}catch(s){u.e(s)}finally{u.f()}}}},{key:"sortResults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._results.all;e.sort((function(e,n){return e.dist!==n.dist?(0,d.af)(e.dist,0)-(0,d.af)(n.dist,0):e.drapedLayerOrder!==n.drapedLayerOrder?(0,d.af)(e.drapedLayerOrder,Number.MAX_VALUE)-(0,d.af)(n.drapedLayerOrder,Number.MAX_VALUE):(0,d.af)(n.drapedLayerGraphicOrder,Number.MIN_VALUE)-(0,d.af)(e.drapedLayerGraphicOrder,Number.MIN_VALUE)}))}}]),e}();function kn(e){return new Pn(e)}var Zn=function(){function e(){(0,c.Z)(this,e),this.min=new Ln((0,Z.d)()),this.max=new Ln((0,Z.d)()),this.hud={min:new Sn((0,Z.d)()),max:new Sn((0,Z.d)()),all:new Array},this.ground=new Ln((0,Z.d)()),this.all=[]}return(0,s.Z)(e,[{key:"init",value:function(e){this.min.init(e),this.max.init(e),this.ground.init(e),this.all.length=0,this.hud.min.init(e),this.hud.max.init(e),this.hud.all.length=0}}]),e}(),Ln=function(){function e(n){(0,c.Z)(this,e),this.intersector=Se.OBJECT,this.normal=(0,m.n)(),this.transformation=(0,O.e)(),this._ray=(0,Z.d)(),this.init(n)}return(0,s.Z)(e,[{key:"ray",get:function(){return this._ray}},{key:"distanceInRenderSpace",get:function(){return(0,d.r)(this.dist)?((0,m.q)(Cn,this.ray.direction,this.dist),(0,m.s)(Cn)):null}},{key:"getIntersectionPoint",value:function(e){return!!On(this)&&((0,m.q)(Cn,this.ray.direction,this.dist),(0,m.u)(e,this.ray.origin,Cn),!0)}},{key:"getTransformedNormal",value:function(e){return(0,m.a)(Gn,this.normal),Gn[3]=0,(0,m.w)(Gn,Gn,this.transformation),(0,m.a)(e,Gn),(0,m.z)(e,e)}},{key:"init",value:function(e){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=Se.OBJECT,(0,Z.l)(e,this._ray)}},{key:"set",value:function(e,n,t,r,i,a,o){this.intersector=e,this.dist=t,(0,m.a)(this.normal,(0,d.af)(r,m.i)),(0,P.n)(this.transformation,(0,d.af)(i,O.o)),this.target=n,this.drapedLayerOrder=a,this.drapedLayerGraphicOrder=o}},{key:"copy",value:function(e){(0,Z.l)(e.ray,this._ray),this.intersector=e.intersector,this.dist=e.dist,this.target=e.target,this.drapedLayerOrder=e.drapedLayerOrder,this.drapedLayerGraphicOrder=e.drapedLayerGraphicOrder,(0,m.a)(this.normal,e.normal),(0,P.n)(this.transformation,e.transformation)}}]),e}(),Sn=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(){var e;return(0,c.Z)(this,t),(e=n.apply(this,arguments)).intersector=Se.HUD,e}return(0,s.Z)(t)}(Ln);function Fn(e){return new Ln(e)}var Cn=(0,m.n)(),Gn=(0,k.n)();function jn(e,n,t,r){return(0,d.r)(e.renderCoordsHelper.fromRenderCoords(n.eye,Un,r))&&(0,A.b)(t,Un)}function zn(e,n){return e.elevationProvider?(0,d.af)(e.elevationProvider.getElevation(n[0],n[1],n[2],e.renderCoordsHelper.spatialReference,"ground"),0):0}function Bn(e,n,t,r){var i=e.state.camera.clone();n&&(i.eye=n,i.center=t,i.up=r),function(e,n,t){var r=qn[e.viewingMode];r||((r=kn(e.state.viewingMode)).options.backfacesTerrain=!e.state.isGlobal,r.options.invisibleTerrain=!0,qn[e.viewingMode]=r);var i=e.state.isGlobal;return!(!e.sceneIntersectionHelper.intersectRay(n,r,t)||Hn(e,n.origin,t))||!(!e.renderCoordsHelper.intersectManifold(n,0,t)||Hn(e,n.origin,t))||!!i&&function(e,n,t){var r=(0,m.P)(e.origin,e.origin)-t*t,i=r>0?Math.sqrt(r)/3:1;return(0,m.q)(n,e.direction,i/(0,m.s)(e.direction)),(0,m.u)(n,n,e.origin),!0}(n,t,(0,N.p)(e.spatialReference).radius)}(e,i.ray,Dn)||(0,m.a)(Dn,i.center);var a=e.state.constraints,o=a.minimumPoiDistance;if((0,m.p)(i.eye,Dn)<o){var u=a.collision.enabled;(0,m.a)(Vn,i.viewForward),(0,m.q)(Vn,Vn,o),u?i.eye=(0,m.e)(Un,Dn,Vn):(0,m.u)(Dn,i.eye,Vn);var c=e.renderCoordsHelper,s=c.getAltitude(i.eye),l=a.collision.elevationMargin;u&&s<l&&((0,m.e)(Vn,Dn,i.eye),i.eye=c.setAltitude(Un,l,i.eye),(0,m.u)(Dn,i.eye,Vn))}return i.center=Dn,i}function Hn(e,n,t){if(!e.state.isGlobal)return!1;var r=zn(e,n),i=e.stateManager.constraintsManager.nearFarHeuristic.compute(n,t,e.renderDataExtent,r,Wn).far,a=i*i;return(0,m.p)(n,t)>a}var qn={},Un=(0,m.n)(),Dn=(0,m.n)(),Vn=(0,m.n)(),Wn={near:0,far:0},Xn=(0,m.n)(),Jn=(0,m.n)();function Yn(){return{direction:(0,m.n)(),up:(0,m.n)()}}function Kn(e,n,t,r,i){var a=(0,m.z)(Xn,e),o=(0,m.P)(a,r),u=o>0;(o=Math.abs(o))>.99&&((o=Math.abs((0,m.P)(n,r)))<.99?((0,m.a)(a,n),u&&(0,m.q)(a,a,-1)):a=null);var c=0;if(a){(0,m.q)(Jn,r,(0,m.P)(r,a)),(0,m.e)(a,a,Jn);var s=(0,m.P)(a,i)/((0,m.s)(a)*(0,m.s)(i));(0,m._)(Jn,a,i),c=((0,m.P)(Jn,r)>0?1:-1)*(0,m.m)((0,m.g)(s))}var l=(0,m.m)((0,m.g)(-(0,m.P)(r,e)/(0,m.s)(e)));return t?(t.heading=c,t.tilt=l,t):{heading:c,tilt:l}}var Qn=(0,m.r)(0,1,0),$n=(0,m.r)(0,0,1),et=(0,O.e)(),nt=(0,m.n)(),tt=(0,m.n)();function rt(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yn(),i=r.direction,a=r.up;return(0,P.R)(et,-(0,m.M)(n)),(0,P.b)(et,et,(0,m.M)(t)),(0,m.L)(i,$n,et),(0,m.q)(i,i,-1),(0,m.L)(a,Qn,et),r}function it(e,n,t,r,i){var a=e.renderSpatialReference,o=e.map&&e.spatialReference||n.spatialReference;return(0,x.H)(n,nt,a),(0,x.H)(n,tt,a),nt[0]-=t/2,tt[0]+=t/2,nt[1]-=r/2,tt[1]+=r/2,(0,x.B)(nt,a,nt,o),(0,x.B)(tt,a,tt,o),i?(i.xmin=nt[0],i.ymin=nt[1],i.xmax=tt[0],i.ymax=tt[1],i.spatialReference=o):i=new j.M(nt[0],nt[1],tt[0],tt[1],o),i}var at=Object.freeze(Object.defineProperty({__proto__:null,headingTiltToDirectionUp:rt,directionToHeadingTilt:function(e,n,t,r){return Kn(n,t,r,$n,Qn)},eyeForCenterWithHeadingTilt:function(e,n,t,r){var i=rt(e,t,r),a=(0,m.n)();return(0,m.q)(a,i.direction,-n),(0,m.u)(a,a,e),{up:i.up,eye:a,heading:t,tilt:r}},lookAtTiltToEyeTilt:function(e){return(0,m.m)(e)},eyeTiltToLookAtTilt:function(e){return(0,m.M)(e)},toExtent:it},Symbol.toStringTag,{value:"Module"}));function ot(e,n,t){return function(e,n,t,r,i){var a=(0,m.M)(t),o=(0,m.M)(i),u=a-o,c=(0,m.M)(n)-(0,m.M)(r),s=Math.sin(u/2),l=Math.sin(c/2),f=2*(0,m.b)(Math.sqrt(s*s+Math.cos(a)*Math.cos(o)*l*l))*e;return Math.round(1e4*f)/1e4}(e,n.longitude,n.latitude,t.longitude,t.latitude)}function ut(e,n,t){var r=n.spatialReference,i=(0,N.p)(r),a=new p.j(n.x,e.y,r),o=new p.j(t.x,e.y,r),u=new p.j(e.x,n.y,r),c=new p.j(e.x,t.y,r);return{lon:ot(i.radius,a,o),lat:ot(i.radius,u,c)}}function ct(e,n){n||(n={hours:0,minutes:0,seconds:0}),n.hours=function(e,n){var t=e/15;return n||(t=Math.round(t)),t}(e[0],!0);var t=n.hours%1;n.hours-=t,n.minutes=60*t;var r=n.minutes%1;return n.minutes-=r,n.seconds=Math.round(60*r),n}var st=(0,m.r)(0,0,1),lt=(0,m.z)((0,m.n)(),(0,m.r)(1,1,1)),ft=new _.i(-180,180),dt=(0,O.e)(),vt=(0,m.n)(),ht=(0,m.n)();function pt(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yn();(0,m._)(vt,e,st),0===(0,m.P)(vt,vt)&&(0,m._)(vt,e,lt),(0,P.p)(dt,-(0,m.M)(n),e),(0,P.f)(dt,dt,-(0,m.M)(t),vt);var i=r.up,a=r.direction;return(0,m._)(i,vt,e),(0,m.z)(i,i),(0,m.L)(i,i,dt),(0,m.z)(a,e),(0,m.k)(a,a),(0,m.L)(a,a,dt),r}function yt(e){var n=e[1];e[1]=-e[2],e[2]=n}function gt(e,n){var t=pt(n,e.heading,e.tilt);return e.up=t.up,e}function mt(e,n,t,r,i){var a,o,u,c,s=n.latitude,l=(0,N.p)(e.spatialReference).radius,f=n.longitude,d=function(e,n,t){var r=n/t,i=(0,m.M)(e),a=Math.sin(r/2),o=Math.cos(i),u=2*(0,m.b)(Math.sqrt(a*a/(o*o)));return(0,m.m)(u)}(s,t,l)/2;a=f-d,o=f+d;var v=(0,m.M)(s),h=(1+Math.sin(v))/(1-Math.sin(v)),y=(h+1)*Math.tan(r/l/2),g=y*y;function b(e){var n=Math.PI/2;return(e=_.o.normalize(e,-n))>n&&(e=Math.PI-e),e}if(c=(u=1.5*Math.PI-2*Math.atan(.5*(y+Math.sqrt(4*h+g))))+r/l,u=b(u),(c=b(c))<u){var T=c;c=u,u=T}if(u=Math.max((0,m.m)(u),-90),c=Math.min((0,m.m)(c),90),(o=ft.monotonic(a,o))-a>180){var M=(o-a-180)/2;a+=M,o-=M}var w=e.spatialReference&&e.spatialReference.isGeographic?e.spatialReference:p.k.WGS84;return i?(i.xmin=a,i.ymin=u,i.xmax=o,i.ymax=c,i.spatialReference=w):i=new j.M(a,u,o,c,w),e.spatialReference&&e.spatialReference.isWebMercator&&(0,p.R)(i,!1,i),i}var bt=Object.freeze(Object.defineProperty({__proto__:null,headingTiltToDirectionUp:pt,directionToHeadingTilt:function(e,n,t,r){var i=vt,a=ht;return(0,m.z)(i,e),(0,m._)(ht,i,st),0===(0,m.P)(ht,ht)&&(0,m._)(ht,i,lt),(0,m._)(a,ht,i),Kn(n,t,r,i,a)},eyeForCenterWithHeadingTilt:function(e,n,t,r){var i={eye:(0,m.n)(),up:null,tilt:r,heading:t},a=vt;a[0]=e[0],a[1]=e[2],a[2]=-e[1];var o,u=n,c=(0,m.M)(t),s=(0,m.M)(r),l=Math.sin(c),f=Math.cos(c),d=Math.sin(s),v=Math.cos(s),h=(0,m.s)(a);if(Math.abs(s)<1e-8)o=u+h;else{var p=h/d,y=(0,m.b)(u/p),g=Math.PI-s-y;o=p*Math.sin(g)}var b=v*u,T=u*u*(d*d),M=f*f*T,_=o-b,w=_*_,R=M*(M+w-a[1]*a[1]);if(R<0)return(0,m.q)(i.eye,a,o/h),i.tilt=0,i;var O,x=Math.sqrt(R),E=a[1]*_,A=M+w;if(O=f>0?-x+E:x+E,Math.abs(A)<1e-8)return h<1e-8?(i.eye[0]=0,i.eye[1]=0,i.eye[2]=u):(0,m.q)(i.eye,a,o/h),i.tilt=0,yt(i.eye),gt(i,e);i.eye[1]=O/A;var I=l*l*T,N=d*u,P=f*N*i.eye[1],k=i.eye[1]*i.eye[1],Z=1-k,L=Math.sqrt(Z),S=M*k+I-2*P*L*_+Z*w;return Math.abs(S)<1e-8?((0,m.q)(i.eye,a,o/h),i.tilt=0,yt(i.eye),gt(i,e)):(i.eye[0]=(Z*(o*a[0]-b*a[0])-N*L*(a[0]*i.eye[1]*f+a[2]*l))/S,i.eye[2]=(Z*(o*a[2]-b*a[2])-N*L*(a[2]*i.eye[1]*f-a[0]*l))/S,(0,m.q)(i.eye,i.eye,o),yt(i.eye),gt(i,e))},lookAtTiltToEyeTilt:function(e,n,t){var r=(0,m.s)(n),i=Math.sqrt(t*t+r*r-2*t*r*Math.cos(Math.PI-e)),a=(0,m.b)(t/(i/Math.sin(e)));return(0,m.m)(e-a)},eyeTiltToLookAtTilt:function(e,n,t){var r=(0,m.M)(e),i=(0,m.s)(n);return(0,m.b)(t/(i/Math.sin(r)))+r},toExtent:mt},Symbol.toStringTag,{value:"Module"}));function Tt(e){return"point"===e.type}var Mt=(0,s.Z)((function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,c.Z)(this,e),this.array=n,this.spatialReference=t,this.offset=r}));function _t(e){return"array"in e}function wt(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ground";if(Tt(n))return e.getElevation(n.x,n.y,n.z||0,n.spatialReference,t);if(_t(n)){var r=n.offset;return e.getElevation(n.array[r++],n.array[r++],n.array[r]||0,(0,d.af)(n.spatialReference,e.spatialReference),t)}return e.getElevation(n[0],n[1],n[2]||0,e.spatialReference,t)}var Rt,Ot=d.s.getLogger("esri.views.3d.support.cameraUtils"),xt=(0,m.n)(),Et=(0,m.n)(),At={heading:0,tilt:0},It=new p.j,Nt=new _.i(-20037508.342788905,20037508.342788905),Pt=new _.i(-180,180);function kt(e){return e.spatialReference||p.k.WGS84}function Zt(e){return"global"===e.viewingMode?bt:at}function Lt(e,n,t,r,i){return Zt(e).headingTiltToDirectionUp(n,t,r,i)}function St(e,n){if((0,d.t)(n))return null;var t=e.renderSpatialReference,r=Zt(e).headingTiltToDirectionUp,i=(0,m.n)();if(!(0,x.H)(n.position,i,t))return null;var a=r(i,n.heading,n.tilt);(0,m.q)(a.direction,a.direction,e.state.camera.distance),(0,m.u)(a.direction,a.direction,i);var o=Bn(e,i,a.direction,a.up);return o.fov=(0,m.M)(n.fov),o}!function(e){e[e.LOCKED=0]="LOCKED",e[e.ADJUST=1]="ADJUST"}(Rt||(Rt={}));var Ft=(0,m.n)();function Ct(e,n,t){var r=e.renderSpatialReference,i=Ht(e,n.eye,n.viewForward,n.up,At),a=kt(e);return(0,x.B)(n.eye,r,Ft,a)||(a=p.k.WGS84,(0,x.B)(n.eye,r,Ft,a)),(0,d.t)(t)?new b.d(new p.j(Ft,a),i.heading,i.tilt,(0,m.m)(n.fov)):(t.position.x=Ft[0],t.position.y=Ft[1],t.position.z=Ft[2],t.position.spatialReference=a,t.heading=i.heading,t.tilt=i.tilt,t.fov=(0,m.m)(n.fov),t)}function Gt(e,n,t){var r=e.state.camera,i=r.width/2/r.pixelRatio;return e.renderCoordsHelper.viewingMode===L.l.Global&&null!=t&&(n*=Math.cos((0,m.M)(t))),i/(96*39.37/(n/=e.renderCoordsHelper.unitInMeters))/Math.tan(r.fovX/2)}function jt(e,n,t){var r=e.state.camera,i=n*Math.tan(r.fovX/2),a=96*39.37/(r.width/2/r.pixelRatio/i);return e.renderCoordsHelper.viewingMode===L.l.Global&&(a/=Math.cos((0,m.M)(t))),a*=e.renderCoordsHelper.unitInMeters}function zt(e,n,t,r,i,a){return Bt(e,n,Gt(e,t,n.latitude),r,i,a)}function Bt(e,n,t,r,i,a){if(ar(a)){var o=new ir(a.signal);return Wt(e,r.heading,r.tilt,n,t,i,o),void o.resolver.promise.then((function(n){var t=er(e,n,r.fov);if(!(0,d.t)(t))return a.resolver.resolve(t);a.resolver.reject()}),(function(e){return a.resolver.reject(e)}))}var u=Wt(e,r.heading,r.tilt,n,t,i);return er(e,u,r.fov,a)}function Ht(e,n,t,r,i){return Zt(e).directionToHeadingTilt(n,t,r,i)}function qt(e,n){return!!(e.basemapTerrain&&e.renderCoordsHelper.fromRenderCoords(n,It,e.spatialReference)&&(0,d.af)(wt(e.elevationProvider,It),0)>It.z-1)}function Ut(){return Ut=(0,a.Z)((0,i.Z)().mark((function e(n,t,r){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.renderCoordsHelper.fromRenderCoords(t,It,n.spatialReference)){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,n.elevationProvider.queryElevation(It.x,It.y,It.z,It.spatialReference,"ground",r);case 4:return a=e.sent,e.abrupt("return",(0,d.af)(a,0)>It.z-1);case 6:case"end":return e.stop()}}),e)}))),Ut.apply(this,arguments)}function Dt(){return Dt=(0,a.Z)((0,i.Z)().mark((function e(n,t,r){var a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,m.n)(),!t){e.next=13;break}if(!(t instanceof p.j)){e.next=10;break}if((0,x.H)(t,a,n.renderSpatialReference),null!=t.z||null==n.basemapTerrain){e.next=8;break}return e.next=6,n.elevationProvider.queryElevation(t.x,t.y,t.z,t.spatialReference,"ground",r);case 6:return o=e.sent,e.abrupt("return",((0,d.r)(o)&&n.renderCoordsHelper.setAltitude(a,o),a));case 8:e.next=11;break;case 10:(0,m.a)(a,t);case 11:e.next=14;break;case 13:(0,m.a)(a,n.state.camera.center);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)}))),Dt.apply(this,arguments)}function Vt(e,n){var t=(0,m.n)();if(n&&n instanceof p.j){if((0,x.H)(n,t,e.renderSpatialReference),null==n.z&&null!=e.basemapTerrain){var r=wt(e.elevationProvider,n);(0,d.r)(r)&&e.renderCoordsHelper.setAltitude(t,r)}}else(0,m.a)(t,n||e.state.camera.center);return t}function Wt(e,n,t,r,i,a,o){var u=r&&r instanceof p.j?r:null;if(ar(o))return function(e,n,t){return Dt.apply(this,arguments)}(e,r,o.signal).then((function(r){Xt(e,n,t,u,r,i,a,o)}),(function(e){return o.resolver.reject(e)})),null;var c=Vt(e,r);return Xt(e,n,t,u,c,i,a,o)}function Xt(e,n,t,r,i,a,o,u){if((0,d.t)(r)){var c=e.renderSpatialReference;if(r=(0,x.I)(i,c,kt(e)),(0,d.t)(r))return null}a=Math.max(a,e.state.constraints.minimumPoiDistance);var s=function(e,n,t,r,i,a){var o=0;return a===Rt.ADJUST&&function(e,n,t){var r=e.pointsOfInterest.centerOnSurfaceFrequent.distance;if(Math.log(t/r)/Math.LN2>8)return!0;var i=e.renderSpatialReference,a=kt(e),o=(0,x.I)(n,i,a),u=(0,x.I)(e.pointsOfInterest.centerOnSurfaceFrequent.renderLocation,i,a);if((0,d.t)(o)||(0,d.t)(u))return!1;var c=Math.tan(.5*e.state.camera.fov)*r;return u.distance(o)/c>5}(e,r,i)?(n=0,o=function(e,n,t,r){var i=e.state.constraints.tilt(n);i.max=Math.min(i.max,.5*Math.PI);var a=i.min*(1-Kt)+i.max*Kt,o=$t(e,r,n,t);return Math.min(o,a)}(e,i,t,r)):o=$t(e,r,i,t),o=e.state.constraints.clampTilt(i,o),{heading:n,tilt:t=Qt(e,r,i,o)}}(e,n,t,i,a,o),l=(0,Zt(e).eyeForCenterWithHeadingTilt)(i,a,s.heading,s.tilt);if(o===Rt.ADJUST&&"global"===e.viewingMode&&t>0){var f=function(){var c=Qt(e,i,a,function(e,n,t,r){var i=e.state.constraints.tilt(n),a=$t(e,r,n,t);return a=Math.min(a,.5*Math.PI),i.min*(1-Kt)+a*Kt}(e,a,t,i));return o=t-c<1?Rt.LOCKED:Rt.ADJUST,Xt(e,n,c,r,i,a,o,u)},v=e.map.ground.navigationConstraint;if(!v||"stay-above"===v.type){if(qt(e,l.eye))return f();if(ar(u))return function(e,n,t){return Ut.apply(this,arguments)}(e,l.eye,u.signal).then((function(e){return e?f():(u.resolver.resolve({eye:l.eye,up:l.up,center:(0,m.h)(i),heading:l.heading,tilt:l.tilt}),null)})),null}}var h=!u||ar(u)?{center:(0,m.n)(),eye:(0,m.n)(),up:(0,m.n)(),tilt:0,heading:0}:u;return h.eye=l.eye,h.up=l.up,h.center=(0,m.h)(i),h.heading=l.heading,h.tilt=l.tilt,ar(u)&&u.resolver.resolve(h),h}function Jt(e,n,t,r,i){var a,o,u,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=null!=n.zmax&&null!=n.zmin;if(e.state.isGlobal){if(!z(n.spatialReference,L.l.Global))return ar(c)&&c.resolver.reject(),null;var l=new p.j(n.xmin,n.ymin,n.spatialReference),f=new p.j(n.xmax,n.ymax,n.spatialReference),v=n.spatialReference.isGeographic?Pt:Nt;a=new p.j({x:v.center(l.x,f.x),y:(f.y+l.y)/2,z:s?(n.zmax+n.zmin)/2:null,spatialReference:n.spatialReference});var h=(0,N.p)(n.spatialReference),y=ut(a,l,f);o=y.lon,u=y.lat,v.diff(l.x,f.x)>v.range/2&&(o+=h.halfCircumference),o=Math.min(o,h.halfCircumference),u=Math.min(u,h.halfCircumference)}else{var g=(0,d.af)(e.renderSpatialReference,n.spatialReference);g.equals(n.spatialReference)||(n=(0,x.r)(n,g)),o=n.xmax-n.xmin,u=n.ymax-n.ymin;var m=s?(n.zmax+n.zmin)/2:null;a=new p.j({x:n.xmin+.5*o,y:n.ymin+.5*u,z:m,spatialReference:g})}var b=s?n.zmax-n.zmin:0,T=e.state.camera,M=1/Math.tan(T.fovX/2),_=1/Math.tan(T.fovY/2),w=1/Math.tan(T.fov/2),R=Math.max(.5*o*M,.5*u*_,.5*b*w)/1;if(ar(c)){var O=new ir(c.signal);return Wt(e,t,r,a,R,i,O),void O.resolver.promise.then((function(n){var t=er(e,n,e.camera.fov);if(!(0,d.t)(t))return c.resolver.resolve(t);c.resolver.reject()}),(function(e){return c.resolver.reject(e)}))}var E=Wt(e,t,r,a,R,i);return er(e,E,e.camera.fov,c)}function Yt(e,n,t){var r=e.renderSpatialReference,i=(0,x.I)(t,r,kt(e));if((0,d.t)(i))return null;var a=Math.tan(n.fovX/2),o=Math.tan(n.fovY/2),u=(0,m.U)(n.eye,t),c=2*u*a*1,s=2*u*o*1;return"global"===e.viewingMode?mt(e,i,c,s):it(e,i,c,s)}var Kt=.7;function Qt(e,n,t,r){return Zt(e).lookAtTiltToEyeTilt(r,n,t)}function $t(e,n,t,r){return Zt(e).eyeTiltToLookAtTilt(r,n,t)}function er(e,n,t,r){if((0,d.t)(n))return null;var i=e.renderSpatialReference,a=(0,x.I)(n.eye,i,kt(e));return(0,d.t)(a)?null:(0,d.r)(r)?(r.position=a,r.heading=n.heading,r.tilt=n.tilt,r.fov=t,r):new b.d(a,n.heading,n.tilt,t)}function nr(e,n){var t,r=null===(t=e.basemapTerrain)||void 0===t?void 0:t.tilingScheme;if(r)return r.levelAtScale(n);Ot.error("#scaleToZoom()","Cannot compute zoom from scale without a tiling scheme")}function tr(e,n){var t,r=null===(t=e.basemapTerrain)||void 0===t?void 0:t.tilingScheme;if(r)return r.scaleAtLevel(n);Ot.error("#zoomToScale()","Cannot compute scale from zoom without a tiling scheme")}function rr(e,n,t){var r,i,a=e.renderSpatialReference;n||(n=e.state.camera);var o=p.k.WGS84;return n instanceof b.d?(r=n.position.latitude,(0,x.H)(n.position,xt,a),(0,x.H)(t,Et,a),i=(0,m.x)(xt,Et)):((0,x.B)(n.center,a,Et,o),r=Et[1],i=n.distance),jt(e,i,r)}var ir=(0,s.Z)((function e(n){(0,c.Z)(this,e),this.signal=n,this.resolver=(0,d.aO)()}));function ar(e){return e&&"resolver"in e}function or(e){return 360-_.s.normalize(e)}function ur(e){return _.s.normalize(360-e)}function cr(e){return(0,d.r)(e)&&e.resolver&&e.resolver.reject(),null}function sr(e,n){return(0,d.r)(e)&&e.resolver&&e.resolver.resolve(n),n}function lr(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!n)return cr(r);var i=e.spatialReference||p.k.WGS84;if((0,d.r)(n.camera)){var a=(0,p.M)(n.camera.position,i);if((0,d.t)(a))return cr(r);var o=n.camera.clone();return o.position=a,sr(r,o)}if((0,d.t)(n.targetGeometry))return cr(r);var u=n.get("targetGeometry.spatialReference");if(u&&!(0,p.g)(u,i))return cr(r);var c=Ct(e,e.state.camera),s=Rt.ADJUST;if(null!=n.rotation&&(c.heading=or(n.rotation),s=Rt.LOCKED),null!=t&&(c.tilt=t),"point"===n.targetGeometry.type){var l=n.targetGeometry,f=n.targetGeometry.clone();return Bt(e,f,null!=n.scale?Gt(e,n.scale,l.latitude):e.state.camera.distance,c,s,r)}var v=n.targetGeometry.extent;return Jt(e,v,c.heading,c.tilt,s,r)}function fr(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,d.t)(t)&&(t=new b.u),gr(e,null,n.clone(),t)}function dr(e,n,t){return vr.apply(this,arguments)}function vr(){return vr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r){var a,o,u,c,s,l,f,v,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Cr(n,t)){e.next=3;break}throw new d.a("viewpointutils-create:no-target","Missing target for creating viewpoint");case 3:if(o=new b.d({fov:n.camera.fov}),u=new b.u({camera:o}),!(a.target instanceof b.u)){e.next=10;break}return e.t0=Gr,e.next=8,wr(n,a.target,a,r,u);case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:if(!(a.target instanceof b.d)){e.next=12;break}return e.abrupt("return",Gr(Or(n,a.target,u)));case 12:if(c=null!=a.scale||null!=a.zoom,!(a.target instanceof j.M)){e.next=27;break}if(s=a.target.xmin===a.target.xmax||a.target.ymin===a.target.ymax,e.t2=Gr,!c&&!s){e.next=22;break}return e.next=19,Er(n,a,a.target.center,o,r,u);case 19:e.t3=e.sent,e.next=25;break;case 22:return e.next=24,kr(n,a,a.target,o,r,u);case 24:e.t3=e.sent;case 25:return e.t4=e.t3,e.abrupt("return",(0,e.t2)(e.t4));case 27:return l={boundingBox:(0,E.B)(),hasZ:!1,screenSpaceObjects:[]},f=c?pr(n,a):void 0,e.next=30,Mr(n,a.target,f,l);case 30:if(!isFinite(l.boundingBox[0])){e.next=43;break}if((0,E.p)(l.boundingBox,zr),Jr.x=zr[0],Jr.y=zr[1],Jr.z=zr[2],Jr.spatialReference=n.spatialReference,isFinite(Jr.z)&&l.hasZ?v=(0,E.S)(l.boundingBox):(Jr.z=void 0,v=(0,A.H)((0,E.G)(l.boundingBox,Ur))),!c&&!v){e.next=37;break}return e.t5=Gr,e.next=35,Er(n,a,Jr,o,r,u);case 35:return e.t6=e.sent,e.abrupt("return",(0,e.t5)(e.t6));case 37:return h=jr(n,l.screenSpaceObjects),e.t7=Gr,e.next=41,Sr(n,a,Jr,l.boundingBox,h,o,r,u);case 41:return e.t8=e.sent,e.abrupt("return",(0,e.t7)(e.t8));case 43:if(!a.position){e.next=47;break}e.t9=Gr(Ir(n,a,o,u)),e.next=52;break;case 47:return e.t10=Gr,e.next=50,Nr(n,a,o,r,u);case 50:e.t11=e.sent,e.t9=(0,e.t10)(e.t11);case 52:return e.abrupt("return",e.t9);case 53:case"end":return e.stop()}}),e)}))),vr.apply(this,arguments)}function hr(e,n){return null==n.scale&&null!=n.zoom?tr(e,n.zoom):n.scale}function pr(e,n){return function(e,n){return e.spatialReference?(0,G.i)(n,e.spatialReference):void 0}(e,hr(e,n))}function yr(e,n){var t=!1;return null!=n.heading?(e.heading=n.heading,t=!0):null!=n.rotation&&(e.heading=or(n.rotation),t=!0),null!=n.tilt&&(e.tilt=n.tilt,t=!0),null!=n.fov&&(e.fov=n.fov),t}function gr(e,n,t,r){var i=e.spatialReference||p.k.WGS84;return n=(0,d.r)(n)?n:St(e,t),(0,d.t)(n)||(r.targetGeometry=(0,x.I)(n.center,e.renderSpatialReference,i),r.scale=rr(e,n),r.rotation=ur(t.heading),r.camera=t),r}function mr(e,n,t){if(n){if(!(0,p.g)(n.spatialReference,e.spatialReference))throw new d.a("viewpointutils:incompatible-spatialreference","Spatial reference (".concat(n.spatialReference?n.spatialReference.wkid:"unknown",") is incompatible with the view (").concat(e.spatialReference.wkid,")"),{geometry:n});var r=[];if(!n.hasZ&&e.basemapTerrain){var i;switch(n.type){case"point":i=n;break;case"multipoint":case"polyline":i=n.extent.center;break;case"mesh":i=n.origin;break;case"extent":i=n.center;break;case"polygon":i=n.centroid}i&&(0,p.g)(i,e.basemapTerrain.spatialReference)?zr[2]=(0,d.af)(wt(e.elevationProvider,i),0):zr[2]=0}(0,Yr[n.type])(n,(function(e){r.push(e[0],e[1],e[2])}),zr);var a=r.length/3;if(0!==a){var o=new Array(r.length);if((0,x.U)(r,n.spatialReference,0,o,e.spatialReference,0,a)){n.hasZ&&(t.hasZ=!0);for(var u=0;u<o.length;u+=3)n.hasZ?(zr[0]=o[u+0],zr[1]=o[u+1],zr[2]=o[u+2]):(zr[0]=o[u+0],zr[1]=o[u+1]),(0,E.h)(t.boundingBox,zr)}}}}function br(e,n,t,r){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a){var o,u,c,s,l,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.a)(n.whenViewForGraphic(t));case 2:if(!1!==(o=e.sent).ok&&!(0,d.t)(o.value)&&"whenGraphicBounds"in o.value){e.next=5;break}return e.abrupt("return",void mr(n,t.geometry,a));case 5:return u=o.value,e.next=8,(0,M.a)(u.whenGraphicBounds(t,{minDemResolution:r}));case 8:if(!1!==(c=e.sent).ok){e.next=11;break}return e.abrupt("return",void mr(n,t.geometry,a));case 11:s=c.value,l=s.screenSpaceObjects,f=s.boundingBox,(0,E.f)(a.boundingBox,f),l&&l.forEach((function(e){a.screenSpaceObjects.push(e)})),isFinite(f[2])&&(a.hasZ=!0);case 13:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}function Mr(e,n,t,r){return _r.apply(this,arguments)}function _r(){return _r=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a){var o,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)||2!==t.length){e.next=4;break}if(o=t[0],u=t[1],"number"!=typeof o||"number"!=typeof u){e.next=4;break}return e.abrupt("return",(Jr.x=o,Jr.y=u,Jr.z=void 0,Jr.spatialReference=n.spatialReference.isGeographic?n.spatialReference:p.k.WGS84,void mr(n,Jr,a)));case 4:if(!t||"function"!=typeof t.map){e.next=9;break}return e.next=7,(0,d.E)(t.map((function(e){return Mr(n,e,r,a)})));case 7:e.next=17;break;case 9:if(!(t instanceof p.p)){e.next=13;break}mr(n,t,a),e.next=17;break;case 13:if(e.t0=t instanceof T.g,!e.t0){e.next=17;break}return e.next=17,br(n,t,r,a);case 17:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function wr(e,n,t,r,i){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a,o){var u,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,d.r)(t.camera)){e.next=2;break}return e.abrupt("return",Or(n,t.camera,o));case 2:return o.scale=t.scale,o.rotation=t.rotation,o.targetGeometry=(0,d.r)(t.targetGeometry)?t.targetGeometry.clone():null,o.camera=null,null!=r.heading?o.rotation=ur(r.heading):null!=r.rotation&&(o.rotation=r.rotation),null!=(u=hr(n,r))&&(o.scale=u),c=new ir(a),lr(n,o,r.tilt,c),e.next=9,c.resolver.promise;case 9:return o.camera=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}function Or(e,n,t){var r=e.spatialReference,i=(0,p.M)(n.position,r);return(0,d.t)(i)?null:((n=n.clone()).fov=e.camera.fov,n.position=i,gr(e,null,n,t))}function xr(e,n,t,r,i,a){var o=e.renderSpatialReference;return(0,x.H)(t.position,Vr,o),(0,x.H)(n,Wr,o),a.targetGeometry=new p.j(n),i.position=new p.j(t.position),(0,m.e)(Dr,Wr,Vr),Ht(e,Vr,Dr,r.up,i),a.scale=jt(e,(0,m.x)(Vr,Wr),a.targetGeometry.latitude),a.rotation=ur(i.heading),a.camera=i,a}function Er(e,n,t,r,i,a){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a,o,u){var c,s,l,f,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,d.t)(r)){e.next=2;break}throw new d.a("createfromcenter","invalid point");case 2:if(u.targetGeometry=r.clone(),c=Bn(n),!t.position){e.next=6;break}return e.abrupt("return",xr(n,u.targetGeometry,t,c,a,u));case 6:if(t.zoomFactor&&(s=c.distance/t.zoomFactor,l=(0,m.q)(zr,c.viewForward,-s),c.eye=(0,m.u)(zr,c.center,l),u.scale=jt(n,s,r.latitude)),Ct(n,c,a),f=yr(a,t)?Rt.LOCKED:Rt.ADJUST,t.zoomFactor){e.next=16;break}return u.scale=hr(n,t),null==u.scale&&((0,x.H)(r,zr,n.renderSpatialReference),(0,I.a)(c.frustum,zr)?u.scale=jt(n,(0,m.x)(c.eye,zr),r.latitude):u.scale=rr(n,c)),v=new ir(o),zt(n,u.targetGeometry,u.scale,a,f,v),e.next=15,v.resolver.promise;case 15:u.camera=e.sent;case 16:return e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}function Ir(e,n,t,r){var i=Bn(e);return(0,m.a)(Dr,i.viewForward),Ht(e,i.eye,Dr,i.up,Xr),t.position=new p.j(n.position),t.heading=null!=n.heading?n.heading:Xr.heading,t.tilt=null!=n.tilt?n.tilt:Xr.tilt,gr(e,null,t,r)}function Nr(e,n,t,r,i){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a,o){var u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Bn(n),e.abrupt("return",Er(n,t,(0,x.I)(u.center,n.renderSpatialReference,n.spatialReference),r,a,o));case 2:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function kr(e,n,t,r,i,a){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a,o,u){var c,s,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.targetGeometry=r.clone(),c=Bn(n),Ct(n,c,a),s=yr(a,t)?Rt.LOCKED:Rt.ADJUST,l=new ir(o),Jt(n,r,a.heading,a.tilt,s,l),e.next=7,l.resolver.promise;case 7:return u.camera=e.sent,e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function Lr(e,n,t,r,i){var a=0;t.hasZ?a=t.z:e.basemapTerrain&&(a=(0,d.g)(wt(e.elevationProvider,t))),(0,m.f)(zr,t.x,t.y,a),(0,x.q)(e.spatialReference,zr,Br,e.renderSpatialReference),(0,w.a)(Hr,Br),(0,w.o)(Hr,Hr),(0,E.B)(qr);for(var o=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]],u=0;u<o.length;u++){var c=o[u],s=r[c[2]];isFinite(s)||(s=a),(0,m.f)(zr,r[c[0]],r[c[1]],s),(0,x.B)(zr,e.spatialReference,zr,e.renderSpatialReference),(0,E.h)(qr,(0,m.O)(zr,zr,Hr))}var l=(0,E.I)(qr),f=(0,E.N)(qr),v=(0,E.y)(qr),h=1/Math.tan(n.fovX/2),p=1/Math.tan(n.fovY/2),y=.5*Math.sqrt(l*l+v*v)*Math.max(p,h)+.5*f,g=.5*f*p+.5*Math.max(l,v);return Math.max(y,g)/i}function Sr(e,n,t,r,i,a,o,u){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a,o,u,c,s){var l,f,d,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.targetGeometry=r.clone(),l=Bn(n),f=Lr(n,l,r,a,o),Ct(n,l,u),d=yr(u,t)?Rt.LOCKED:Rt.ADJUST,s.scale=jt(n,f,s.targetGeometry.latitude),v=new ir(c),zt(n,s.targetGeometry,s.scale,u,d,v),e.next=9,v.resolver.promise;case 9:return s.camera=e.sent,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}function Cr(e,n){if(!n||!e.spatialReference)return null;var t={target:null};if("declaredClass"in n||Array.isArray(n))t.target=n;else{for(var r in n)t[r]=n[r];n.center&&!t.target&&(t.target=n.center)}return t}function Gr(e){return e&&(0,d.r)(e.camera)&&(e.rotation=ur(e.camera.heading)),e}function jr(e,n){if(!n.length)return.66;for(var t=Number.NEGATIVE_INFINITY,r=0;r<n.length;r++){var i=n[r].screenSpaceBoundingRect;t=Math.max(t,Math.abs(i[0]),Math.abs(i[1]),Math.abs(i[2]),Math.abs(i[3]))}return.66-t/Math.min(e.width,e.height)*2}var zr=(0,m.n)(),Br=(0,O.e)(),Hr=(0,R.e)(),qr=(0,E.a)(),Ur=(0,A.u)(),Dr=(0,m.n)(),Vr=(0,m.n)(),Wr=(0,m.n)(),Xr={heading:0,tilt:0},Jr=new p.j,Yr={point:function(e,n,t){t[0]=e.x,t[1]=e.y,e.hasZ&&(t[2]=e.z),n(t)},polygon:function(e,n,t){for(var r=e.hasZ,i=0;i<e.rings.length;i++)for(var a=e.rings[i],o=0;o<a.length;o++)t[0]=a[o][0],t[1]=a[o][1],r&&(t[2]=a[o][2]),n(t)},polyline:function(e,n,t){for(var r=e.hasZ,i=0;i<e.paths.length;i++)for(var a=e.paths[i],o=0;o<a.length;o++)t[0]=a[o][0],t[1]=a[o][1],r&&(t[2]=a[o][2]),n(t)},multipoint:function(e,n,t){for(var r=e.points,i=e.hasZ,a=0;a<r.length;a++)t[0]=r[a][0],t[1]=r[a][1],i&&(t[2]=r[a][2]),n(t)},extent:function(e,n,t){e.hasZ?(n((0,m.f)(t,e.xmin,e.ymin,e.zmin)),n((0,m.f)(t,e.xmax,e.ymin,e.zmin)),n((0,m.f)(t,e.xmin,e.ymax,e.zmin)),n((0,m.f)(t,e.xmax,e.ymax,e.zmin)),n((0,m.f)(t,e.xmin,e.ymin,e.zmax)),n((0,m.f)(t,e.xmax,e.ymin,e.zmax)),n((0,m.f)(t,e.xmin,e.ymax,e.zmax)),n((0,m.f)(t,e.xmax,e.ymax,e.zmax))):(n((0,m.f)(t,e.xmin,e.ymin,t[2])),n((0,m.f)(t,e.xmax,e.ymin,t[2])),n((0,m.f)(t,e.xmin,e.ymax,t[2])),n((0,m.f)(t,e.xmax,e.ymax,t[2])))},mesh:function(e,n,t){var r=e.vertexAttributes&&e.vertexAttributes.position;if(r)for(var i=0;i<r.length;i+=3)n((0,m.f)(t,r[i+0],r[i+1],r[i+2]))}}}}]);
//# sourceMappingURL=2895.3a285718.chunk.js.map