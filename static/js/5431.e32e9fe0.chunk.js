"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[5431,2235],{47626:function(e,t,r){r.d(t,{e:function(){return i}});var n=r(15671),o=r(43144),a=r(25316),i=function(){function e(t,r){(0,n.Z)(this,e),this._storage=new a.h,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return(0,o.Z)(e,[{key:"put",value:function(e,t){this._storage.put(e,t,1,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}}]),e}()},50448:function(e,t,r){r.d(t,{r:function(){return a}});var n=r(57714),o=r(23132);function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e instanceof n.s?e:new n.s(e,r),i={type:null===(t=null===r||void 0===r?void 0:r.ignoreUnknown)||void 0===t||t?a.apiValues:String,json:{type:a.jsonValues,read:!(null!==r&&void 0!==r&&r.readOnly)&&{reader:a.read},write:{writer:a.write}}};return void 0!==(null===r||void 0===r?void 0:r.readOnly)&&(i.readOnly=!!r.readOnly),void 0!==(null===r||void 0===r?void 0:r.default)&&(i.json.default=r.default),void 0!==(null===r||void 0===r?void 0:r.name)&&(i.json.name=r.name),(0,o.d)(i)}},91204:function(e,t,r){r.d(t,{a:function(){return l},i:function(){return s},t:function(){return c}});var n=r(23132),o=r(80262),a=r(30709),i=r(36460),u=r(57714),l=(0,u.o)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),c=(0,u.o)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),s={base:a.p,key:"type",typeMap:{extent:o.M,multipoint:i.a,point:a.j,polyline:i.m,polygon:i.v}};(0,n.N)(s)},30604:function(e,t,r){r.d(t,{a:function(){return h},c:function(){return f},d:function(){return p},f:function(){return l},l:function(){return c},s:function(){return u},v:function(){return m},y:function(){return s}});var n=r(75610),o=r(80262),a=r(30709),i=r(36460);function u(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function l(e){return void 0!==e.points}function c(e){return void 0!==e.x&&void 0!==e.y}function s(e){return void 0!==e.paths}function f(e){return void 0!==e.rings}function p(e){return(0,n.t)(e)?null:e instanceof a.p?e:c(e)?a.j.fromJSON(e):s(e)?i.m.fromJSON(e):f(e)?i.v.fromJSON(e):l(e)?i.a.fromJSON(e):u(e)?o.M.fromJSON(e):null}function m(e){return e?c(e)?"esriGeometryPoint":s(e)?"esriGeometryPolyline":f(e)?"esriGeometryPolygon":u(e)?"esriGeometryEnvelope":l(e)?"esriGeometryMultipoint":null:null}var v={esriGeometryPoint:a.j,esriGeometryPolyline:i.m,esriGeometryPolygon:i.v,esriGeometryEnvelope:o.M,esriGeometryMultipoint:i.a};function h(e){return e&&v[e]||null}},96349:function(e,t,r){r.d(t,{I:function(){return c},R:function(){return y},U:function(){return v},c:function(){return i},h:function(){return m},i:function(){return a},m:function(){return u},p:function(){return l}});var n=r(75610),o=r(57714);function a(e,t){var r=t&&t.url&&t.url.path;if(e&&r&&(e=(0,o.Q)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){var n=(0,o._)(e,t.portalItem.itemUrl);p.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return h(e,t&&t.portal)}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.YES;if(!e)return e;!(0,o.K)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);var n=(0,o.Q)(e);if(t){var a=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(a){var i=h(a,t.portal);(n=(0,o._)(h(n,t.portal),i,i))!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=v(n,t&&t.portal),(0,o.K)(n)&&(n=(0,o.F)(n)),null!==t&&void 0!==t&&t.resources&&null!==t&&void 0!==t&&t.portalItem&&!(0,o.K)(n)&&!(0,o.X)(n)&&r===c.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function u(e,t,r){return a(e,r)}function l(e,t,r,n){var o=i(e,n);void 0!==o&&(t[r]=o)}var c,s,f=/\/items\/([^\/]+)\/resources\//,p=/^\.\/resources\//;function m(e){var t=(0,n.r)(e)?e.match(f):null;return(0,n.r)(t)?t[1]:null}function v(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,o.v)(e,"".concat(t.urlKey,".").concat(t.customBaseUrl),t.portalHostname):e}function h(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;var r="".concat(t.urlKey,".").concat(t.customBaseUrl),n=(0,o.b)();return(0,o.z)(n,"".concat(n.scheme,"://").concat(r))?(0,o.v)(e,t.portalHostname,r):(0,o.v)(e,r,t.portalHostname)}(s=c||(c={}))[s.YES=0]="YES",s[s.NO=1]="NO";var y=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:a,toJSON:i,read:u,write:l,itemIdFromResourceUrl:m,ensureMainOnlineDomain:v,get MarkKeep(){return c}},Symbol.toStringTag,{value:"Module"}))},47642:function(e,t,r){var n,o;function a(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function i(e){return null!=e&&!isNaN(e)&&isFinite(e)}function u(e){return e.valueExpression?n.Expression:e.field&&"string"==typeof e.field?n.Field:n.Unknown}function l(e,t){var r=t||u(e),a=e.valueUnit||"unknown";return r===n.Unknown?o.Constant:e.stops?o.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?o.ClampedLinear:"unknown"===a?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?o.Proportional:o.Additive:o.Identity:o.RealWorldSize}r.d(t,{a:function(){return l},e:function(){return a},i:function(){return o},l:function(){return i},n:function(){return n},t:function(){return u}}),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(n||(n={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(o||(o={}))},53249:function(e,t,r){r.d(t,{r:function(){return i},t:function(){return l}});var n=r(74165),o=r(15861),a=r(75610);function i(e,t){return u.apply(this,arguments)}function u(){return u=(0,o.Z)((0,n.Z)().mark((function e(t,o){var a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(1019).then(r.bind(r,81019));case 2:return a=e.sent,i=a.WhereClause,e.abrupt("return",i.create(t,o));case 5:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e,t){return(0,a.r)(e)?(0,a.r)(t)?"(".concat(e,") AND (").concat(t,")"):e:t}},19948:function(e,t,r){r.d(t,{a:function(){return w},b:function(){return N},c:function(){return G},d:function(){return q},e:function(){return K},f:function(){return H},g:function(){return Q},h:function(){return J},i:function(){return S},j:function(){return j},k:function(){return W},l:function(){return Z},m:function(){return V},n:function(){return b},o:function(){return R},p:function(){return k},r:function(){return M},s:function(){return O},u:function(){return E}});var n=r(37762),o=r(74165),a=r(93433),i=r(15861),u=r(1413),l=r(2760),c=r(84538),s=r(75610),f=r(23132),p=r(41742),m=(r(49580),r(96636),r(30664)),v=r(78674),h=r(24980),y=r(407),d="esri-widget__heading";function b(e,t){var r=g(e.level),n="h".concat(r);return delete e.level,(0,c.n)(n,(0,u.Z)((0,u.Z)({},e),{},{class:(0,c.p)(d,e.class),role:"heading","aria-level":String(r)}),t)}function g(e){return(0,l.o)(Math.ceil(e),1,6)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return g(e+t)}var A="calcite-theme-";function M(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"").startsWith("dark")}function w(e){(function(e){Array.from(e.classList).forEach((function(t){t.startsWith(A)&&e.classList.remove(t)}))})(e),e.classList.add("".concat(A).concat(M()?"dark":"light"))}var C=/^-?(\d+)(\.(\d+))?$/i;function I(e,t){return e-t}function x(e,t){var r,n;return(r=Number(e.toFixed(t)))<e?n=r+1/Math.pow(10,t):(n=r,r-=1/Math.pow(10,t)),[r=Number(r.toFixed(t)),n=Number(n.toFixed(t))]}function P(e,t,r,n,o){var a=Z(e,t,r,n),i=null==a.previous||a.previous<=o,u=null==a.next||a.next<=o;return i&&u||a.previous+a.next<=2*o}function S(e){var t=String(e),r=t.match(C);if(r&&r[1])return{integer:r[1].split("").length,fractional:r[3]?r[3].split("").length:0};if(t.toLowerCase().includes("e")){var n=t.split("e"),o=n[0],a=n[1];if(o&&a){var i=Number(o),u=Number(a),l=u>0;l||(u=Math.abs(u));var c=S(i);return l?(c.integer+=u,u>c.fractional?c.fractional=0:c.fractional-=u):(c.fractional+=u,u>c.integer?c.integer=1:c.integer-=u),c}}return{integer:0,fractional:0}}function Z(e,t,r,n){var o={previous:null,next:null};if(null!=r){var a=e-r,i=t-r-a;o.previous=Math.floor(Math.abs(100*i/a))}if(null!=n){var u=n-e,l=n-t-u;o.next=Math.floor(Math.abs(100*l/u))}return o}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.slice(0),n=t.tolerance,o=void 0===n?2:n,a=t.strictBounds,i=void 0!==a&&a,u=t.indexes,l=void 0===u?r.map((function(e,t){return t})):u;l.sort(I);for(var c=0;c<l.length;c++){var s=l[c],f=r[s],p=0===s?null:r[s-1],m=s===r.length-1?null:r[s+1],v=S(f).fractional;if(v){for(var h=void 0,y=0,d=!1;y<=v&&!d;){var b=x(f,y);d=P(f,h=i&&0===c?b[1]:b[0],p,m,o),y++}d&&(r[s]=h)}}return r}var L={maximumFractionDigits:20};var O="<",G=">",U=(0,p.S)("short-date");function R(e,t,r,n){var o="";0===t?o="".concat(O," "):t===r&&(o="".concat(G," "));var a;return a=n?(0,p.L)(e,U):function(e){return(0,p.m)(e,L)}(e),o+a}var V=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];function j(e){return z.apply(this,arguments)}function z(){return z=(0,i.Z)((0,o.Z)().mark((function e(t){var n,a,i,u,l,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("visualVariables"in t&&t.visualVariables){e.next=2;break}return e.abrupt("return",null);case 2:if(n=t.visualVariables.find((function(e){return"color"===e.type}))){e.next=5;break}return e.abrupt("return",null);case 5:if(a=null,i=null,!n.stops){e.next=10;break}if(1!==n.stops.length){e.next=9;break}return e.abrupt("return",n.stops[0].color);case 9:a=n.stops[0].value,i=n.stops[n.stops.length-1].value;case 10:return u=a+(i-a)/2,e.next=13,Promise.resolve().then(r.bind(r,67154)).then((function(e){return e.i}));case 13:return l=e.sent,c=l.getColor,e.abrupt("return",c(n,u));case 16:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function N(e,t){return F.apply(this,arguments)}function F(){return F=(0,i.Z)((0,o.Z)().mark((function e(t,r){var n,a,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.trailCap,a=t.trailWidth||1,e.t1=r,e.t1){e.next=7;break}return e.next=6,j(t);case 6:e.t1=e.sent;case 7:if(e.t0=e.t1,e.t0){e.next=10;break}e.t0=t.color;case 10:return i=e.t0,e.abrupt("return",new h.m({cap:n,color:i,width:a}));case 12:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}var B=new v.l([64,64,64]);function T(e,t){var r=[],n=e.length-1;return 5===e.length?r.push(0,2,4):r.push(0,n),e.map((function(e,o){return r.includes(o)?R(e,o,n,t):null}))}function W(e,t,r){return Y.apply(this,arguments)}function Y(){return Y=(0,i.Z)((0,o.Z)().mark((function e(t,n,a){var u,l,c,s,f,p,m;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=!1,l=[],c=[],t.stops&&(s=t.stops,l=s.map((function(e){return e.value})),u=s.some((function(e){return!!e.label})),u&&(c=s.map((function(e){return e.label})))),f=l[0],p=l[l.length-1],null!=f||null!=p){e.next=5;break}return e.abrupt("return",null);case 5:return m=u?null:T(l,a),e.next=8,Promise.all(l.map(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a,i){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a,"opacity"!==t.type){e.next=7;break}return e.next=4,X(a,t,n);case 4:e.t1=e.sent,e.next=10;break;case 7:return e.next=9,Promise.resolve().then(r.bind(r,67154)).then((function(e){return e.i}));case 9:e.t1=e.sent.getColor(t,a);case 10:return e.t2=e.t1,e.t3=u?c[i]:m[i],e.abrupt("return",{value:e.t0,color:e.t2,label:e.t3});case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent.reverse());case 9:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}function X(e,t){return _.apply(this,arguments)}function _(){return _=(0,i.Z)((0,o.Z)().mark((function e(t,n){var a,i,u,l=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]?l[2]:B,i=new v.l(a),e.next=4,Promise.resolve().then(r.bind(r,67154)).then((function(e){return e.i}));case 4:return u=e.sent.getOpacity(n,t),e.abrupt("return",(null!=u&&(i.a=u),i));case 6:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function K(e){var t,r=[],n=[];r=e.map((function(e){return e.value})),(t=e.some((function(e){return!!e.label})))&&(n=e.map((function(e){return e.label})));var o=r[0],a=r[r.length-1];if(null==o&&null==a)return null;var i=t?null:T(r,!1);return r.map((function(r,o){return{value:r,color:q(r,e),label:t?n[o]:i[o]}})).reverse()}function q(e,t){var r=function(e,t){var r=0,n=t.length-1;return t.some((function(t,o){return e<t.value?(n=o,!0):(r=o,!1)})),{startIndex:r,endIndex:n,weight:(e-t[r].value)/(t[n].value-t[r].value)}}(e,t),n=r.startIndex,o=r.endIndex,a=r.weight;if(n===o)return t[n].color;var i=v.l.blendColors(t[n].color,t[o].color,a);return new v.l(i)}function Q(e,t){var r,n,o=[];e&&"multipart"===e.type?e.colorRamps.reverse().forEach((function(r,n){0===n?o.push({value:t.max,color:new v.l(r.toColor),label:"high"}):o.push({value:null,color:new v.l(r.toColor),label:""}),n===e.colorRamps.length-1?o.push({value:t.min,color:new v.l(r.fromColor),label:"low"}):o.push({value:null,color:new v.l(r.fromColor),label:""})})):(e&&"algorithmic"===e.type?(r=e.fromColor,n=e.toColor):(r=[0,0,0,1],n=[255,255,255,1]),o=[{value:t.max,color:new v.l(n),label:"high"},{value:t.min,color:new v.l(r),label:"low"}]);return o}function H(e){if(!e.colorStops)return[];var t=(0,a.Z)(e.colorStops).filter((function(e){var t;return(null===(t=e.color)||void 0===t?void 0:t.a)>0})),r=t.length-1;if(t&&t[0]){var n=t[r];n&&1!==n.ratio&&(t.push(new y.b({ratio:1,color:n.color})),r++)}return t.map((function(t,n){var o,a,i="";return 0===n?i=(null===(o=e.legendOptions)||void 0===o?void 0:o.minLabel)||"low":n===r&&(i=(null===(a=e.legendOptions)||void 0===a?void 0:a.maxLabel)||"high"),{color:t.color,label:i,ratio:t.ratio}})).reverse()}function D(e,t,r){var n;(n=(0,f.ac)(e,t,(function(){return[]}))).push.apply(n,(0,a.Z)(r))}function J(e){return $.apply(this,arguments)}function $(){return $=(0,i.Z)((0,o.Z)().mark((function e(t){var r,a,i,u,l,c,f,p,v,h,y,d,b,g,k,A,M,w,C,I,x,P,S,Z,E;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new Map,!("visualVariables"in t)||!t.visualVariables){e.next=23;break}i=t.visualVariables.filter((function(e){return"color"===e.type})),u=(0,n.Z)(i),e.prev=4,u.s();case 6:if((l=u.n()).done){e.next=15;break}return c=l.value,f=c.field||c.valueExpression,e.next=11,W(c);case 11:p=e.sent.map((function(e){return e.color})),D(a,f,p);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),u.e(e.t0);case 20:return e.prev=20,u.f(),e.finish(20);case 23:if("heatmap"===t.type)v=H(t).map((function(e){return e.color})),D(a,t.field,v);else if("pie-chart"===t.type){y=(0,n.Z)(t.attributes);try{for(y.s();!(d=y.n()).done;)b=d.value,D(a,b.field,[b.color])}catch(o){y.e(o)}finally{y.f()}D(a,null,[null===t||void 0===t||null===(h=t.othersCategory)||void 0===h?void 0:h.color,(0,m.j)(t.backgroundFillSymbol,null)])}else if("dot-density"===t.type){g=(0,n.Z)(t.attributes);try{for(g.s();!(k=g.n()).done;)A=k.value,D(a,A.field,[A.color])}catch(o){g.e(o)}finally{g.f()}D(a,null,[t.backgroundColor])}else if("unique-value"===t.type)if("predominance"===(null===(r=t.authoringInfo)||void 0===r?void 0:r.type)){M=(0,n.Z)(t.uniqueValueInfos);try{for(M.s();!(w=M.n()).done;)C=w.value,D(a,C.value.toString(),[(0,m.j)(C.symbol,null)])}catch(o){M.e(o)}finally{M.f()}}else I=t.uniqueValueInfos.map((function(e){return(0,m.j)(e.symbol,null)})),x=t.field,P=t.field2,S=t.field3,Z=t.valueExpression,(x||Z)&&D(a,x||Z,I),P&&D(a,P,I),S&&D(a,S,I);else"class-breaks"===t.type?(E=t.classBreakInfos.map((function(e){return(0,m.j)(e.symbol,null)})),D(a,t.field||t.valueExpression,E)):"simple"===t.type&&D(a,null,[(0,m.j)(t.symbol,null)]);return e.abrupt("return",("defaultSymbol"in t&&t.defaultSymbol&&D(a,null,[(0,m.j)(t.defaultSymbol,null)]),a.forEach((function(e,t){var r=(0,s.B)(e.filter(Boolean),(function(e,t){return JSON.stringify(e)===JSON.stringify(t)}));a.set(t,r)})),a));case 25:case"end":return e.stop()}}),e,null,[[4,17,20,23]])}))),$.apply(this,arguments)}f.s.getLogger("esri.renderers.support.utils")},38511:function(e,t,r){r.d(t,{C:function(){return b},M:function(){return y},a:function(){return c},c:function(){return f},e:function(){return a},f:function(){return h},i:function(){return s},l:function(){return p},n:function(){return u},o:function(){return l},p:function(){return d},r:function(){return i},s:function(){return v},u:function(){return m}});var n=r(29439),o=r(37762);function a(e,t,r,n){return function(e){return"function"==typeof e}(e)?e(t,r,n):e}function i(e){return[e.r,e.g,e.b,e.a]}function u(e,t,r){var a=function(e){for(var t=e.length;t--;)if(!" /-,\n".includes(e.charAt(t)))return!1;return!0},i=[],u=0,c=-1;do{if((c=t.indexOf("[",u))>=u){if(c>u){var s=t.substr(u,c-u);i.push([s,null,a(s)])}if(u=c+1,(c=t.indexOf("]",u))>=u){if(c>u){var f=e[t.substr(u,c-u)];f&&i.push([null,f,!1])}u=c+1}}}while(-1!==c);if(u<t.length-1){var p=t.substr(u);i.push([p,null,a(p)])}return function(e){var t,a="",u=null,c=(0,o.Z)(i);try{for(c.s();!(t=c.n()).done;){var s=t.value,f=(0,n.Z)(s,3),p=f[0],m=f[1],v=f[2];if(p)v?u=p:(u&&(a+=u,u=null),a+=p);else{var h=e.attributes[m];h&&(u&&(a+=u,u=null),a+=h)}}}catch(y){c.e(y)}finally{c.f()}return l(a,r)}}function l(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function c(e,t,r,n,o,a){for(var i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=t/o,l=r/a,c=Math.ceil(u/2),s=Math.ceil(l/2),f=0;f<a;f++)for(var p=0;p<o;p++){for(var m=4*(p+(i?a-f-1:f)*o),v=0,h=0,y=0,d=0,b=0,g=0,k=0,A=(f+.5)*l,M=Math.floor(f*l);M<(f+1)*l;M++)for(var w=Math.abs(A-(M+.5))/s,C=(p+.5)*u,I=w*w,x=Math.floor(p*u);x<(p+1)*u;x++){var P=Math.abs(C-(x+.5))/c,S=Math.sqrt(I+P*P);S>=-1&&S<=1&&((v=2*S*S*S-3*S*S+1)>0&&(k+=v*e[(P=4*(x+M*t))+3],y+=v,e[P+3]<255&&(v=v*e[P+3]/250),d+=v*e[P],b+=v*e[P+1],g+=v*e[P+2],h+=v))}n[m]=d/h,n[m+1]=b/h,n[m+2]=g/h,n[m+3]=k/y}}function s(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function f(e){var t;return null===(t=e.data)||void 0===t?void 0:t.symbol}function p(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function m(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function v(e){return"CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type}function h(e){return"CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type}var y=function(e){return isNaN(e)||!e?0:e},d=function(e){if(!e)return!1;var t,r=(0,o.Z)(e);try{for(r.s();!(t=r.n()).done;){switch(t.value.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":return!0}}}catch(n){r.e(n)}finally{r.f()}return!1};function b(){return Promise.all([r.e(6549),r.e(8422)]).then(r.bind(r,18422))}},30664:function(e,t,r){r.d(t,{M:function(){return ie},N:function(){return le},a:function(){return U},b:function(){return O},c:function(){return G},d:function(){return F},e:function(){return R},f:function(){return g},g:function(){return B},i:function(){return b},j:function(){return T},k:function(){return V},m:function(){return A},p:function(){return x},q:function(){return ce},w:function(){return N},x:function(){return Y}});var n=r(74165),o=r(15861),a=r(1413),i=r(37762),u=r(78674),l=r(24980),c=r(38304),s=r(75610),f=r(78880),p=r(2760),m=r(83024),v=r(33703),h=r(57714),y=r(47626),d=r(38511);function b(e){var t=(0,d.c)(e);if("CIMTextSymbol"===t.type)return t.height;var r=0;if(t.symbolLayers){var n,o=(0,i.Z)(t.symbolLayers);try{for(o.s();!(n=o.n()).done;){var a=n.value;(0,d.l)(a)&&a.size>r?r=a.size:(0,d.u)(a)&&a.width>r?r=a.width:(0,d.s)(a)}}catch(u){o.e(u)}finally{o.f()}}return r}function g(e,t,r){var n=(0,d.c)(e),o=b(e);0!==o?k(n,t/o,!1,r):function(e,t){if("CIMTextSymbol"!==e.type){if(e.symbolLayers){var r,n=(0,i.Z)(e.symbolLayers);try{for(n.s();!(r=n.n()).done;){var o=r.value;switch(o.type){case"CIMPictureMarker":case"CIMVectorMarker":o.size=t;break;case"CIMPictureStroke":case"CIMSolidStroke":o.width=t}}}catch(a){n.e(a)}finally{n.f()}}}else e.height=t}(n,t)}function k(e,t,r,n){if("CIMTextSymbol"!==e.type){if(r&&e.effects){var o,u=(0,i.Z)(e.effects);try{for(u.s();!(o=u.n()).done;){M(o.value,t)}}catch(f){u.e(f)}finally{u.f()}}if(e.symbolLayers){var l,c=(0,i.Z)(e.symbolLayers);try{for(c.s();!(l=c.n()).done;){var s=l.value;switch(s.type){case"CIMPictureMarker":case"CIMVectorMarker":A(s,t,n);break;case"CIMPictureStroke":case"CIMSolidStroke":(null===n||void 0===n||!n.preserveOutlineWidth)&&s.width&&(s.width*=t);break;case"CIMPictureFill":s.height&&(s.height*=t),s.offsetX&&(s.offsetX*=t),s.offsetY&&(s.offsetY*=t);break;case"CIMHatchFill":k(s.lineSymbol,t,!0,(0,a.Z)((0,a.Z)({},n),{},{preserveOutlineWidth:!1})),s.offsetX&&(s.offsetX*=t),s.offsetY&&(s.offsetY*=t),s.separation&&(s.separation*=t)}}}catch(f){c.e(f)}finally{c.f()}}}else e.height*=t}function A(e,t,r){if(e.markerPlacement&&function(e,t){switch((0,d.f)(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){var r=e.placementTemplate.map((function(e){return e*t}));e.placementTemplate=r}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){var n=e.placementTemplate.map((function(e){return e*t}));e.placementTemplate=n}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size*=t,"CIMVectorMarker"===e.type&&e.markerGraphics){var n,o=(0,i.Z)(e.markerGraphics);try{for(o.s();!(n=o.n()).done;){var a=n.value;e.scaleSymbolsProportionally||k(a.symbol,t,!0,r)}}catch(u){o.e(u)}finally{o.f()}}}function M(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){var r=e.dashTemplate.map((function(e){return e*t}));e.dashTemplate=r}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function w(e){var t=[];return C((0,d.c)(e),t),t.length?new u.l((0,d.i)(t[0])):null}function C(e,t){var r;r="CIMTextSymbol"===e.type?e.symbol:e;var n="CIMPolygonSymbol"===e.type;if(r.symbolLayers){var o,a=(0,i.Z)(r.symbolLayers);try{for(a.s();!(o=a.n()).done;){var u=o.value;if(!(u.colorLocked||n&&((0,d.u)(u)||(0,d.l)(u)&&u.markerPlacement&&(0,d.f)(u.markerPlacement))))switch(u.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":u.tintColor&&I(t,u.tintColor);break;case"CIMVectorMarker":u.markerGraphics.forEach((function(e){C(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":I(t,u.color);break;case"CIMHatchFill":C(u.lineSymbol,t)}}}catch(l){a.e(l)}finally{a.f()}}}function I(e,t){var r,n=(0,i.Z)(e);try{for(n.s();!(r=n.n()).done;){if(r.value.join(".")===t.join("."))return}}catch(o){n.e(o)}finally{n.f()}e.push(t)}function x(e,t,r){t instanceof u.l||(t=new u.l(t));var n=(0,d.c)(e);n&&P(n,t,r)}function P(e,t,r){var n,o="CIMPolygonSymbol"===(n="CIMTextSymbol"===e.type?e.symbol:e).type;if(n.symbolLayers){var a,u=(0,i.Z)(n.symbolLayers);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(!l.colorLocked){if(o)if(r){var c=r.layersToColor;if(((0,d.u)(l)||(0,d.l)(l)&&l.markerPlacement&&(0,d.f)(l.markerPlacement))&&"fill"===c||(0,d.s)(l)&&"outline"===c)continue}else if((0,d.u)(l)||(0,d.l)(l)&&l.markerPlacement&&(0,d.f)(l.markerPlacement))continue;var s=t.toArray();switch(l.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":l.tintColor=s;break;case"CIMVectorMarker":l.markerGraphics.forEach((function(e){P(e.symbol,t,r)}));break;case"CIMSolidStroke":case"CIMSolidFill":l.color=s;break;case"CIMHatchFill":P(l.lineSymbol,t,r)}}}}catch(f){u.e(f)}finally{u.f()}}}var S="picture-fill",Z="simple-fill",E="simple-marker",L=new y.e(1e3);function O(e){var t=e.style,r=null;if(e)switch(e.type){case E:"cross"!==t&&"x"!==t&&(r=e.color);break;case Z:"solid"===t?r=e.color:"none"!==t&&(r={type:"pattern",x:0,y:0,src:(0,v.a)("esri/symbols/patterns/".concat(t,".png")),width:5,height:5});break;case S:r={type:"pattern",src:e.url,width:(0,f.u)(e.width)*e.xscale,height:(0,f.u)(e.height)*e.yscale,x:(0,f.u)(e.xoffset),y:(0,f.u)(e.yoffset)};break;case"text":r=e.color;break;case"cim":r=w(e)}return r}function G(e,t){var r=e+"-"+t;return void 0!==L.get(r)?Promise.resolve(L.get(r)):(0,h.U)(e,{responseType:"image"}).then((function(e){var n=e.data,o=n.naturalWidth,a=n.naturalHeight,i=document.createElement("canvas");i.width=o,i.height=a;var u=i.getContext("2d");u.fillStyle=t,u.fillRect(0,0,o,a),u.globalCompositeOperation="destination-in",u.drawImage(n,0,0);var l=i.toDataURL();return L.put(r,l),l}))}function U(e){if(!e)return null;var t;switch(e.type){case Z:case S:case E:t=U(e.outline);break;case"simple-line":var r=(0,f.u)(e.width);"none"!==e.style&&0!==r&&(t={color:e.color,style:R(e.style),width:r,cap:e.cap,join:"miter"===e.join?(0,f.u)(e.miterLimit):e.join});break;default:t=null}return t}var R=function(){var e={};return function(t){if(e[t])return e[t];var r=t.replace(/-/g,"");return e[t]=r,r}}(),V=new u.l([128,128,128]),j=/\/resource\/(.*?)\.svg$/,z=new u.l("white");function N(e){if(!e)return 0;if((0,l.d)(e)){var t=function(e){var t=e.symbolLayers&&e.symbolLayers.length;if(t){var r=e.symbolLayers.getItemAt(t-1);return"outline"in r?(0,s.p)(r,"outline","size"):void 0}}(e);return(0,s.r)(t)?t:0}var r=U(e);return r&&(0,f.e)(r.width)||0}function F(e){if((0,s.t)(e)||!("symbolLayers"in e)||(0,s.t)(e.symbolLayers))return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((function(e){return"object"===e.type}));case"line-3d":return e.symbolLayers.some((function(e){return"path"===e.type}));case"polygon-3d":return e.symbolLayers.some((function(e){return"object"===e.type||"extrude"===e.type}));default:return!1}}function B(e,t){var r=t.resource.href;return!(0,s.a)("esri-canvas-svg-support")&&e.styleOrigin&&j.test(r)?r.replace(j,"/resource/png/$1.png"):r}function T(e,t){if(!e)return null;var r=null;return(0,l.d)(e)?r=function(e){var t=e.symbolLayers;if(!t)return null;var r=null;return t.forEach((function(e){"object"===e.type&&null!=e.resource.href||(r="water"===e.type?(0,s.e)(e.color):(0,s.r)(e.material)?(0,s.e)(e.material.color):null)})),r?new u.l(r):null}(e):(0,l.x)(e)&&(r=e.color?new u.l(e.color):null),r?W(r,t):null}function W(e,t){if(null==t)return e;var r=e.toRgba();return r[3]=r[3]*t,new u.l(r)}function Y(e,t,r){var n,o,a;e&&(t||null!=r)&&(t&&(t=new u.l(t)),(0,l.d)(e)?function(e,t,r){var n=e.symbolLayers;if(n){var o=function(e){var n=(0,s.r)(e)?e:null;return W(t=t||n||null!=r&&z,r)};n.forEach((function(e){if("object"!==e.type||null==e.resource.href||t)if("water"===e.type)e.color=o(e.color);else{var n=(0,s.r)(e.material)?e.material.color:null,a=o(n);(0,s.t)(e.material)?e.material=new l.l({color:a}):e.material.color=a,null!=r&&"outline"in e&&(0,s.r)(e.outline)&&(0,s.r)(e.outline.color)&&(e.outline.color=W(e.outline.color,r))}}))}}(e,t,r):(0,l.x)(e)&&(n=e,a=r,(o=(o=t)||n.color)&&(n.color=W(o,a)),null!=a&&"outline"in n&&n.outline&&n.outline.color&&(n.outline.color=W(n.outline.color,a))))}function X(e,t){return _.apply(this,arguments)}function _(){return _=(0,o.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.symbolLayers,e.t0=a,!e.t0){e.next=5;break}return e.next=5,(0,c.n)(a,function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function K(e,t){return q.apply(this,arguments)}function q(){return(q=(0,o.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="extrude"===e.t0?3:"icon"===e.t0||"line"===e.t0||"text"===e.t0?5:"path"===e.t0?7:"object"===e.t0?9:11;break;case 3:return D(t,r),e.abrupt("break",11);case 5:return Q(t,r),e.abrupt("break",11);case 7:return ee(t,r),e.abrupt("break",11);case 9:return e.next=11,J(t,r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){var r=H(t);(0,s.r)(r)&&(e.size=r)}function H(e){var t,r=(0,i.Z)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("number"==typeof n)return n}}catch(o){r.e(o)}finally{r.f()}return null}function D(e,t){e.size="number"==typeof t[2]?t[2]:0}function J(e,t){return $.apply(this,arguments)}function $(){return($=(0,o.Z)((0,n.Z)().mark((function e(t,r){var o,a,i,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:o=e.sent,a=o.resourceSize,i=o.symbolSize,u=te(r,a,i),t.width=oe(r[0],i[0],a[0],u),t.depth=oe(r[1],i[1],a[1],u),t.height=oe(r[2],i[2],a[2],u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){var r=te(t,p.l,[e.width,void 0,e.height]);e.width=oe(t[0],e.width,1,r),e.height=oe(t[2],e.height,1,r)}function te(e,t,r){for(var n=0;n<3;n++){var o=e[n];switch(o){case"symbol-value":return null!=r[n]?r[n]/t[n]:1;case"proportional":break;default:if(o&&t[n])return o/t[n]}}return 1}function re(e){return ne.apply(this,arguments)}function ne(){return ne=(0,o.Z)((0,n.Z)().mark((function e(t){var o,a,i,u,l,c,s,f,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(699).then(r.bind(r,30699));case 2:return o=e.sent,e.next=5,o.computeObjectLayerResourceSize(t,10);case 5:a=e.sent,i=t.width,u=t.height,l=t.depth,c=[i,l,u],s=1,f=0;case 12:if(!(f<3)){e.next=19;break}if(null==c[f]){e.next=16;break}return s=c[f]/a[f],e.abrupt("break",19);case 16:f++,e.next=12;break;case 19:for(p=0;p<3;p++)null==c[p]&&(c[p]=a[p]*s);return e.abrupt("return",{resourceSize:a,symbolSize:c});case 21:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}function oe(e,t,r,n){switch(e){case"proportional":return r*n;case"symbol-value":return null!=t?t:r;default:return e}}function ae(e,t){var r=H(t);if(!(0,s.t)(r))switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":var n=e.width/e.height;n>1?(e.width=r,e.height=r*n):(e.width=r*n,e.height=r);break;case"simple-line":e.width=r;break;case"text":e.font.size=r}}function ie(e,t){return ue.apply(this,arguments)}function ue(){return(ue=(0,o.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!r){e.next=2;break}return e.abrupt("return",(0,l.d)(t)?X(t,r):void((0,l.x)(t)&&ae(t,r)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t,r){if(e&&null!=t)if((0,l.d)(e)){var n=e.symbolLayers;n&&n.forEach((function(e){if(e&&"object"===e.type)switch(r){case"tilt":e.tilt=t;break;case"roll":e.roll=t;break;default:e.heading=t}}))}else(0,l.x)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle=t))}function ce(e){if(!e)return null;var t=e.effects.filter((function(e){return"bloom"!==e.type})).map((function(e){return e.toJSON()}));return(0,m.i)(t)}}}]);
//# sourceMappingURL=5431.e32e9fe0.chunk.js.map