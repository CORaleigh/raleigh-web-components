"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[264,2235,3688,5612],{1773:function(e,t,r){r.d(t,{a:function(){return v},b:function(){return h},c:function(){return d}});var n,o=r(15671),i=r(43144),a=r(60136),s=r(29388),u=r(23132),l=(r(75610),r(77196)),p=n=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).active=!1,n.className=null,n.disabled=!1,n.id=null,n.indicator=!1,n.title=null,n.type=null,n.visible=!0,n}return(0,i.Z)(r,[{key:"clone",value:function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}}]),r}((0,l.s)(u.y));(0,u.e)([(0,u.d)()],p.prototype,"active",void 0),(0,u.e)([(0,u.d)()],p.prototype,"className",void 0),(0,u.e)([(0,u.d)()],p.prototype,"disabled",void 0),(0,u.e)([(0,u.d)()],p.prototype,"id",void 0),(0,u.e)([(0,u.d)()],p.prototype,"indicator",void 0),(0,u.e)([(0,u.d)()],p.prototype,"title",void 0),(0,u.e)([(0,u.d)()],p.prototype,"type",void 0),(0,u.e)([(0,u.d)()],p.prototype,"visible",void 0);var c,d=p=n=(0,u.e)([(0,u.n)("esri.support.actions.ActionBase")],p),y=c=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).image=null,n.type="button",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}}]),r}(d);(0,u.e)([(0,u.d)()],y.prototype,"image",void 0);var f,v=y=c=(0,u.e)([(0,u.n)("esri.support.Action.ActionButton")],y),m=f=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).image=null,n.type="toggle",n.value=!1,n}return(0,i.Z)(r,[{key:"clone",value:function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}}]),r}(d);(0,u.e)([(0,u.d)()],m.prototype,"image",void 0),(0,u.e)([(0,u.d)()],m.prototype,"value",void 0);var h=m=f=(0,u.e)([(0,u.n)("esri.support.Action.ActionToggle")],m)},68890:function(e,t,r){r.d(t,{a:function(){return p}});var n=r(43144),o=r(15671),i=r(60136),a=r(29388),s=r(23132),u=(r(75610),r(83024)),l={read:{reader:u.n},write:{allowNull:!0,writer:u.a}},p=function(e){var t=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,o.Z)(this,r),(e=t.apply(this,arguments)).blendMode="normal",e.effect=null,e}return(0,n.Z)(r)}(e);return(0,s.e)([(0,s.d)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),(0,s.e)([(0,s.d)({json:{read:!1,write:!1,origins:{"web-map":l,"portal-item":l}}})],t.prototype,"effect",void 0),t=(0,s.e)([(0,s.n)("esri.layers.mixins.BlendLayer")],t)}},15612:function(e,t,r){r.r(t);var n,o=r(29439),i=r(37762),a=r(15671),s=r(43144),u=r(60136),l=r(29388),p=r(23132),c=r(91204),d=r(83822),y=r(57714),f=r(70441),v=r(75610),m=r(30709),h=r(30604),g=r(43124),w=(r(80262),r(36460),r(51451),r(80175),r(50526),r(50448),r(41742),r(43920),r(1773),r(77196),r(24980),r(3114),r(22144),r(78674),r(66307),r(2760),r(88370),r(72820),r(78311),r(96349),r(9055),r(79611),r(2157),r(21583),r(69797),new y.s({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null})),b=n=function(e){(0,u.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return(0,s.Z)(r,[{key:"readFeatures",value:function(e,t){for(var r=m.k.fromJSON(t.spatialReference),n=[],o=0;o<e.length;o++){var i=e[o],a=d.g.fromJSON(i),s=i.geometry&&i.geometry.spatialReference;(0,v.r)(a.geometry)&&!s&&(a.geometry.spatialReference=r);var u=i.aggregateGeometries,l=a.aggregateGeometries;if(u&&(0,v.r)(l))for(var p in l){var c,y=l[p],f=null===(c=u[p])||void 0===c?void 0:c.spatialReference;(0,v.r)(y)&&!f&&(y.spatialReference=r)}n.push(a)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)w.write(e,t,r,n);else{var o=this.features;if(o){var a,s=(0,i.Z)(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u&&(0,v.r)(u.geometry))return void w.write(u.geometry.type,t,r,n)}}catch(l){s.e(l)}finally{s.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=(0,h.d)(e);return!r&&t.spatialReference&&(n.spatialReference=m.k.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,o=(0,i.Z)(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a&&(0,v.r)(a.geometry)&&a.geometry.spatialReference)return void(t.spatialReference=a.geometry.spatialReference.toJSON())}}catch(s){o.e(s)}finally{o.f()}}}}},{key:"clone",value:function(){return new n(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,v.m)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var o=e&&e[r];n.geometry=o&&o.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=(0,o.Z)(e.scale,2),r=t[0],n=t[1],i=(0,o.Z)(e.translate,2),a=i[0],s=i[1],u=this.features,l=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/r)}),(function(e){return Math.round((s-e)/n)})),p=0,c=u.length;p<c;p++)l((0,v.e)(u[p].geometry))||(u.splice(p,1),p--,c--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var n,a=(0,o.Z)(r.translate,2),s=a[0],u=a[1],l=(0,o.Z)(r.scale,2),p=l[0],c=l[1],d=this._getHydrationFunction(e,(function(e){return e*p+s}),(function(e){return u-e*c})),y=(0,i.Z)(t);try{for(y.s();!(n=y.n()).done;){var f=n.value.geometry;(0,v.r)(f)&&d(f)}}catch(m){y.e(m)}finally{y.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,o,i=[],a=0,s=e.length;a<s;a++){var u=e[a];if(a>0){var l=t(u[0]),p=r(u[1]);l===n&&p===o||(i.push([l-n,p-o]),n=l,o=p)}else n=t(u[0]),o=r(u[1]),i.push([n,o])}return i.length>0?i:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var o=(0,h.c)(e)?e.rings:e.paths,i=[],a=0,s=o.length;a<s;a++){var u=o[a],l=n._quantizePoints(u,t,r);l&&i.push(l)}return i.length>0?((0,h.c)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?function(e){var o=n._quantizePoints(e.points,t,r);return o.length>0?(e.points=o,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,o,i=(0,h.c)(e)?e.rings:e.paths,a=0,s=i.length;a<s;a++)for(var u=i[a],l=0,p=u.length;l<p;l++){var c=u[l];l>0?(n+=c[0],o+=c[1]):(n=c[0],o=c[1]),c[0]=t(n),c[1]=r(o)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,o,i=e.points,a=0,s=i.length;a<s;a++){var u=i[a];a>0?(n+=u[0],o+=u[1]):(n=u[0],o=u[1]),u[0]=t(n),u[1]=r(o)}}:void 0}}]),r}(f.l);(0,p.e)([(0,p.d)({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0),(0,p.e)([(0,p.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"exceededTransferLimit",void 0),(0,p.e)([(0,p.d)({type:[d.g],json:{write:!0}})],b.prototype,"features",void 0),(0,p.e)([(0,m.o)("features")],b.prototype,"readFeatures",null),(0,p.e)([(0,p.d)({type:[g.y],json:{write:!0}})],b.prototype,"fields",void 0),(0,p.e)([(0,p.d)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:w.read}}})],b.prototype,"geometryType",void 0),(0,p.e)([(0,m.r)("geometryType")],b.prototype,"writeGeometryType",null),(0,p.e)([(0,p.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"hasM",void 0),(0,p.e)([(0,p.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"hasZ",void 0),(0,p.e)([(0,p.d)({types:c.i,json:{write:!0}})],b.prototype,"queryGeometry",void 0),(0,p.e)([(0,m.o)("queryGeometry")],b.prototype,"readQueryGeometry",null),(0,p.e)([(0,p.d)({type:m.k,json:{write:!0}})],b.prototype,"spatialReference",void 0),(0,p.e)([(0,m.r)("spatialReference")],b.prototype,"writeSpatialReference",null),(0,p.e)([(0,p.d)({json:{write:!0}})],b.prototype,"transform",void 0),(b=n=(0,p.e)([(0,p.n)("esri.rest.support.FeatureSet")],b)).prototype.toJSON.isDefaultToJSON=!0;var S=b;t.default=S},43124:function(e,t,r){r.d(t,{n:function(){return B},p:function(){return v},t:function(){return R},u:function(){return Z},y:function(){return L}});var n,o=r(15671),i=r(43144),a=r(60136),s=r(29388),u=r(23132),l=r(57714),p=r(70441),c=r(75610),d=r(50448),y=r(30709),f=r(69797),v=n=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).name=null,n.code=null,n}return(0,i.Z)(r,[{key:"clone",value:function(){return new n({name:this.name,code:this.code})}}]),r}(p.l);(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],v.prototype,"name",void 0),(0,u.e)([(0,u.d)({type:[String,Number],json:{write:!0}})],v.prototype,"code",void 0),v=n=(0,u.e)([(0,u.n)("esri.layers.support.CodedValue")],v);var m=new l.s({inherited:"inherited",codedValue:"coded-value",range:"range"}),h=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).name=null,n.type=null,n}return(0,i.Z)(r)}(p.l);(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,u.e)([(0,d.r)(m)],h.prototype,"type",void 0);var g,w=h=(0,u.e)([(0,u.n)("esri.layers.support.Domain")],h),b=g=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).codedValues=null,n.type="coded-value",n}return(0,i.Z)(r,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((function(e){return String(e.code)===r&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new g({codedValues:(0,c.m)(this.codedValues),name:this.name})}}]),r}(w);(0,u.e)([(0,u.d)({type:[v],json:{write:!0}})],b.prototype,"codedValues",void 0),(0,u.e)([(0,d.r)({codedValue:"coded-value"})],b.prototype,"type",void 0);var S,Z=b=g=(0,u.e)([(0,u.n)("esri.layers.support.CodedValueDomain")],b),k=S=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).type="inherited",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new S}}]),r}(w);(0,u.e)([(0,d.r)({inherited:"inherited"})],k.prototype,"type",void 0);var T,N=k=S=(0,u.e)([(0,u.n)("esri.layers.support.InheritedDomain")],k),x=T=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).maxValue=null,n.minValue=null,n.type="range",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new T({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),r}(w);(0,u.e)([(0,u.d)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,r){t[r]=[this.minValue||0,e]}}}})],x.prototype,"maxValue",void 0),(0,u.e)([(0,u.d)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,r){t[r]=[e,this.maxValue||0]}}}})],x.prototype,"minValue",void 0),(0,u.e)([(0,d.r)({range:"range"})],x.prototype,"type",void 0);var P,I=x=T=(0,u.e)([(0,u.n)("esri.layers.support.RangeDomain")],x),B={key:"type",base:w,typeMap:{range:I,"coded-value":Z,inherited:N}};function R(e){if(!e||!e.type)return null;switch(e.type){case"range":return I.fromJSON(e);case"codedValue":return Z.fromJSON(e);case"inherited":return N.fromJSON(e)}return null}var j=new l.s({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),O=P=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).alias=null,n.defaultValue=void 0,n.description=null,n.domain=null,n.editable=!0,n.length=-1,n.name=null,n.nullable=!0,n.type=null,n.valueType=null,n}return(0,i.Z)(r,[{key:"readDescription",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(o){}return r?r.value:null}},{key:"readValueType",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(o){}return r?j.fromJSON(r.fieldValueType):null}},{key:"clone",value:function(){return new P({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}}]),r}(p.l);(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],O.prototype,"alias",void 0),(0,u.e)([(0,u.d)({type:[String,Number],json:{write:{allowNull:!0}}})],O.prototype,"defaultValue",void 0),(0,u.e)([(0,u.d)()],O.prototype,"description",void 0),(0,u.e)([(0,y.o)("description")],O.prototype,"readDescription",null),(0,u.e)([(0,u.d)({types:B,json:{read:{reader:R},write:!0}})],O.prototype,"domain",void 0),(0,u.e)([(0,u.d)({type:Boolean,json:{write:!0}})],O.prototype,"editable",void 0),(0,u.e)([(0,u.d)({type:u.S,json:{write:!0}})],O.prototype,"length",void 0),(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],O.prototype,"name",void 0),(0,u.e)([(0,u.d)({type:Boolean,json:{write:!0}})],O.prototype,"nullable",void 0),(0,u.e)([(0,d.r)(f.i)],O.prototype,"type",void 0),(0,u.e)([(0,u.d)()],O.prototype,"valueType",void 0),(0,u.e)([(0,y.o)("valueType",["description"])],O.prototype,"readValueType",null);var L=O=P=(0,u.e)([(0,u.n)("esri.layers.support.Field")],O)},97033:function(e,t,r){r.d(t,{a:function(){return v},c:function(){return c},d:function(){return m}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(23132),u=r(77470),l=r(75610),p=r(36551),c=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).updating=!1,e.handleId=0,e.handles=new u.u,e.scheduleHandleId=0,e.pendingPromises=new Set,e}return(0,o.Z)(r,[{key:"destroy",value:function(){this.removeAll(),this.handles.destroy()}},{key:"add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,p.l)}},{key:"addWhen",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,p.f)}},{key:"addOnCollectionChange",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.initial,i=void 0!==o&&o,a=n.final,s=void 0!==a&&a,u=++this.handleId;return this.handles.add([(0,p.a)(e,"after-changes",this._createSyncUpdatingCallback(),p.U),(0,p.a)(e,"change",t,{onListenerAdd:i?function(e){return t({added:e.toArray(),removed:[]})}:void 0,onListenerRemove:s?function(e){return t({added:[],removed:e.toArray()})}:void 0})],u),{remove:function(){return r.handles.remove(u)}}}},{key:"addPromise",value:function(e){var t=this;if((0,l.t)(e))return e;var r=++this.handleId;this.handles.add({remove:function(){t.pendingPromises.delete(e)&&(0!==t.pendingPromises.size||t.handles.has(f)||t._set("updating",!1))}},r),this.pendingPromises.add(e),this._set("updating",!0);var n=function(){return t.handles.remove(r)};return e.then(n,n),e}},{key:"removeAll",value:function(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}},{key:"_installWatch",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=++this.handleId;n.sync||this._installSyncUpdatingWatch(e,i);var a=o(e,t,n);return this.handles.add(a,i),{remove:function(){return r.handles.remove(i)}}}},{key:"_installSyncUpdatingWatch",value:function(e,t){var r=this._createSyncUpdatingCallback(),n=(0,p.l)(e,r,{sync:!0,equals:function(){return!1}});return this.handles.add(n,t),n}},{key:"_createSyncUpdatingCallback",value:function(){var e=this;return function(){e.handles.remove(f),++e.scheduleHandleId;var t=e.scheduleHandleId;e._get("updating")||e._set("updating",!0),e.handles.add((0,s.B)((function(){t===e.scheduleHandleId&&(e._set("updating",e.pendingPromises.size>0),e.handles.remove(f))})),f)}}}]),r}(s.y);(0,s.e)([(0,s.d)({readOnly:!0})],c.prototype,"updating",void 0),c=(0,s.e)([(0,s.n)("esri.core.support.WatchUpdatingTracking")],c);var d,y,f=-42;(y=d||(d={}))[y.NONE=0]="NONE",y[y.SYNC=1]="SYNC",y[y.INIT=2]="INIT";var v=function(e){var t=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"destroy",value:function(){var e,t;this.destroyed||(null!==(e=this._get("handles"))&&void 0!==e&&e.destroy(),null===(t=this._get("updatingHandles"))||void 0===t||t.destroy())}},{key:"handles",get:function(){return this._get("handles")||new u.u}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new c}}]),r}(e);return(0,s.e)([(0,s.d)({readOnly:!0})],t.prototype,"handles",null),(0,s.e)([(0,s.d)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,s.e)([(0,s.n)("esri.core.HandleOwner")],t),t},m=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r)}(v(s.y));m=(0,s.e)([(0,s.n)("esri.core.HandleOwner")],m)},77470:function(e,t,r){r.d(t,{u:function(){return c}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(23132),u=r(80175),l=r(75610),p=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var o;return(0,n.Z)(this,r),(o=t.call(this,e))._groups=new Map,o}return(0,o.Z)(r,[{key:"destroy",value:function(){this.removeAll()}},{key:"size",get:function(){var e=0;return this._groups.forEach((function(t){e+=t.length})),e}},{key:"add",value:function(e,t){var r=this;if(!this._isHandle(e)&&!Array.isArray(e)&&!u.j.isCollection(e))return this;var n=this._getOrCreateGroup(t);return Array.isArray(e)||u.j.isCollection(e)?e.forEach((function(e){return r._isHandle(e)&&n.push(e)})):n.push(e),this.notifyChange("size"),this}},{key:"forEach",value:function(e,t){if("function"==typeof e)this._groups.forEach((function(t){return t.forEach(e)}));else{var r=this._getGroup(e);r&&t&&r.forEach(t)}}},{key:"has",value:function(e){return this._groups.has(this._ensureGroupKey(e))}},{key:"remove",value:function(e){if(Array.isArray(e)||u.j.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}},{key:"removeAll",value:function(){return this._groups.forEach((function(e){for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}},{key:"_isHandle",value:function(e){return e&&!!e.remove}},{key:"_getOrCreateGroup",value:function(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}},{key:"_getGroup",value:function(e){return(0,l.q)(this._groups.get(this._ensureGroupKey(e)))}},{key:"_deleteGroup",value:function(e){return this._groups.delete(this._ensureGroupKey(e))}},{key:"_ensureGroupKey",value:function(e){return e||"_default_"}}]),r}(s.y);(0,s.e)([(0,s.d)({readOnly:!0})],p.prototype,"size",null);var c=p=(0,s.e)([(0,s.n)("esri.core.Handles")],p)},77196:function(e,t,r){r.d(t,{o:function(){return c},s:function(){return p}});var n=r(43144),o=r(15671),i=r(97326),a=r(60136),s=r(29388),u=r(23132),l=0,p=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object.defineProperty((0,i.Z)(e),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+l++}),e}return(0,n.Z)(r)}(e);return t=(0,u.e)([(0,u.n)("esri.core.Identifiable")],t)},c=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r)}(p(function(){return(0,n.Z)((function e(){(0,o.Z)(this,e)}))}()));c=(0,u.e)([(0,u.n)("esri.core.Identifiable")],c)},72763:function(e,t,r){r.d(t,{b:function(){return S}});var n=r(74165),o=r(15671),i=r(43144),a=r(60136),s=r(29388),u=r(15861),l=r(23132),p=(r(91204),r(57714)),c=r(80175),d=r(77196),y=r(79611),f=r(75610),v=r(80262),m=r(30709),h=l.s.getLogger("esri.layers.support.fromPortalItem");function g(){return g=(0,u.Z)((0,n.Z)().mark((function e(t){var o,i,a,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="portalItem"in t?t:{portalItem:t},e.next=3,Promise.all([r.e(1340),r.e(3022),r.e(8854),r.e(6498),r.e(9737)]).then(r.bind(r,76498));case 3:return i=e.sent,e.prev=4,e.next=7,i.fromItem(o);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),a=o&&o.portalItem,s=a&&a.id||"unset",u=a&&a.portal&&a.portal.url||f.b.portalUrl,h.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+s+"')",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])}))),g.apply(this,arguments)}var w=0,b=function(e){(0,a.Z)(c,e);var t=(0,s.Z)(c);function c(){var e;return(0,o.Z)(this,c),(e=t.apply(this,arguments)).attributionDataUrl=null,e.fullExtent=new v.M(-180,-90,180,90,m.k.WGS84),e.id=Date.now().toString(16)+"-layer-"+w++,e.legendEnabled=!0,e.listMode="show",e.opacity=1,e.parent=null,e.popupEnabled=!0,e.attributionVisible=!0,e.spatialReference=m.k.WGS84,e.title=null,e.type=null,e.url=null,e.visible=!0,e}return(0,i.Z)(c,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var r,n;(0,l.u)(t)||l.s.getLogger(e.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!==(r=e.title)&&void 0!==r?r:"no title","', id: '").concat(null!==(n=e.id)&&void 0!==n?n:"no id","')"),{error:t})}))}},{key:"destroy",value:function(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){var e=this.url;return e?(0,p.j)(e):null}},{key:"fetchAttributionData",value:function(){var e=(0,u.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.attributionDataUrl,!this.hasAttributionData||!t){e.next=5;break}return e.next=4,(0,p.U)(t,{query:{f:"json"},responseType:"json"});case 4:return e.abrupt("return",e.sent.data);case 5:throw new l.a("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromArcGISServerUrl",value:function(){var e=(0,u.Z)((0,n.Z)().mark((function e(t){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="string"==typeof t?{url:t}:t,e.next=3,Promise.all([r.e(8854),r.e(8201)]).then(r.bind(r,38201));case 3:return e.abrupt("return",e.sent.fromUrl(o));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromPortalItem",value:function(e){return function(e){return g.apply(this,arguments)}(e)}}]),c}(c.n.EventedMixin((0,d.s)(y.m)));(0,l.e)([(0,l.d)({type:String})],b.prototype,"attributionDataUrl",void 0),(0,l.e)([(0,l.d)({type:v.M})],b.prototype,"fullExtent",void 0),(0,l.e)([(0,l.d)({readOnly:!0})],b.prototype,"hasAttributionData",null),(0,l.e)([(0,l.d)({type:String,clonable:!1})],b.prototype,"id",void 0),(0,l.e)([(0,l.d)({type:Boolean,nonNullable:!0})],b.prototype,"legendEnabled",void 0),(0,l.e)([(0,l.d)({type:["show","hide","hide-children"]})],b.prototype,"listMode",void 0),(0,l.e)([(0,l.d)({type:Number,range:{min:0,max:1},nonNullable:!0})],b.prototype,"opacity",void 0),(0,l.e)([(0,l.d)({clonable:!1})],b.prototype,"parent",void 0),(0,l.e)([(0,l.d)({readOnly:!0})],b.prototype,"parsedUrl",null),(0,l.e)([(0,l.d)({type:Boolean})],b.prototype,"popupEnabled",void 0),(0,l.e)([(0,l.d)({type:Boolean})],b.prototype,"attributionVisible",void 0),(0,l.e)([(0,l.d)({type:m.k})],b.prototype,"spatialReference",void 0),(0,l.e)([(0,l.d)({type:String})],b.prototype,"title",void 0),(0,l.e)([(0,l.d)({readOnly:!0,json:{read:!1}})],b.prototype,"type",void 0),(0,l.e)([(0,l.d)()],b.prototype,"url",void 0),(0,l.e)([(0,l.d)({type:Boolean,nonNullable:!0})],b.prototype,"visible",void 0);var S=b=(0,l.e)([(0,l.n)("esri.layers.Layer")],b)},95254:function(e,t,r){r.d(t,{v:function(){return b}});var n=r(1413),o=r(74165),i=r(15861),a=r(15671),s=r(43144),u=r(11752),l=r(61120),p=r(60136),c=r(29388),d=r(23132),y=r(57714),f=r(38304),v=r(75610),m=r(30709),h=r(79611),g=r(61099),w=d.s.getLogger("esri.layers.mixins.PortalLayer"),b=function(e){var t=function(e){(0,p.Z)(m,e);var t=(0,c.Z)(m);function m(){var e;return(0,a.Z)(this,m),(e=t.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},e.userHasEditingPrivileges=!0,e}return(0,s.Z)(m,[{key:"destroy",value:function(){var e;null!==(e=this.portalItem)&&void 0!==e&&e.destroy(),this.portalItem=null}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,r){if(t.itemId)return new g.default({id:t.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,n){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.portalItem||!this.portalItem.id){e.next=14;break}return e.prev=1,e.next=4,Promise.all([r.e(8854),r.e(277)]).then(r.bind(r,50277)).then((function(e){return e.l}));case 4:return i=e.sent,(0,d.H)(n),e.next=8,i.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},n);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),(0,d.u)(e.t0)||w.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"finishLoadEditablePortalLayer",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this._fetchUserHasEditingPrivileges(t).catch((function(e){return(0,d.M)(e),!0}));case 3:e.t1=e.sent,e.t0._set.call(e.t0,"userHasEditingPrivileges",e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchUserHasEditingPrivileges",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.url?null===y.a||void 0===y.a?void 0:y.a.findCredential(this.url):null){e.next=3;break}return e.abrupt("return",!0);case 3:if(S.credential!==r){e.next=7;break}e.t0=S.user,e.next=10;break;case 7:return e.next=9,this._fetchEditingUser(t);case 9:e.t0=e.sent;case 10:return n=e.t0,e.abrupt("return",(S.credential=r,S.user=n,(0,v.t)(n)||null==n.privileges||n.privileges.includes("features:user:edit")));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchEditingUser",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n,i,a,s,u,l,p,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=null===(r=this.portalItem)||void 0===r||null===(n=r.portal)||void 0===n?void 0:n.user)){e.next=3;break}return e.abrupt("return",i);case 3:if(null!==(a=y.a.findServerInfo(this.url))&&void 0!==a&&a.owningSystemUrl){e.next=6;break}return e.abrupt("return",null);case 6:if(s="".concat(a.owningSystemUrl,"/sharing/rest"),!(u=h.B.getDefault())||!u.loaded||(0,y.F)(u.restUrl)!==(0,y.F)(s)){e.next=9;break}return e.abrupt("return",u.user);case 9:return l="".concat(s,"/community/self"),p=(0,v.r)(t)?t.signal:null,e.next=13,(0,f.a)((0,y.U)(l,{authMode:"no-prompt",query:{f:"json"},signal:p}));case 13:return c=e.sent,e.abrupt("return",c.ok?h.p.fromJSON(c.value.data):null);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(e,t){t&&(t.layer=this),(0,u.Z)((0,l.Z)(m.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var r=t&&t.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||h.B.getDefault());return r&&o&&!(0,y.N)(o.restUrl,r.restUrl)?(t.messages&&t.messages.push(new d.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer"),{layer:this})),null):(0,u.Z)((0,l.Z)(m.prototype),"write",this).call(this,e,(0,n.Z)((0,n.Z)({},t),{},{layer:this}))}}]),m}(e);return(0,d.e)([(0,d.d)({type:g.default})],t.prototype,"portalItem",null),(0,d.e)([(0,m.o)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,d.e)([(0,m.r)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,d.e)([(0,d.d)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=(0,d.e)([(0,d.n)("esri.layers.mixins.PortalLayer")],t),t},S={credential:null,user:null}},40264:function(e,t,r){r.r(t);var n=r(74165),o=r(93433),i=r(1413),a=r(15861),s=r(37762),u=r(43144),l=r(15671),p=r(60136),c=r(29388),d=r(23132),y=r(75610),f=r(91204),v=r(83822),m=r(51451),h=(r(67154),r(407)),g=r(80175),w=r(97033),b=r(9575),S=r(36551),Z=r(44455),k=r(57714),T=r(30709),N=r(81905),x=r(80262),P=r(63022),I=r(72763),B=r(68890),R=r(28623),j=r(95254),O=r(93874),L=r(97866),_=r(24980),A=r(70441),D=r(79611),M=r(61099),C=r(56384),G=r(69202),U=r(50448),E=r(32683),J=r(1241),F=r(15612),V=r(36460),z=r(2157),W=r(44932),q=r(30604),H=(r(21583),r(50526),r(41742),r(43920),r(1773),r(77196),r(96636),r(78674),r(66307),r(2760),r(79054),r(29709),r(88370),r(47642),r(18411),r(36638),r(96349),r(43782),r(22144),r(33976),r(28210),r(17436),r(25316),r(3114),r(77389),r(53373),r(94872),r(3969),r(77470),r(61340),r(33703),r(78311),r(69953),r(83024),r(38304),r(72820),r(9055),r(43124),r(69797),function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).break=new _.y({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),n.first=new _.y({color:[0,255,0],size:20,outline:{color:[255,255,255],width:4}}),n.unlocated=new _.y({color:[255,0,0],size:12,outline:{color:[255,255,255],width:3}}),n.last=new _.y({color:[255,0,0],size:20,outline:{color:[255,255,255],width:4}}),n.middle=new _.y({color:[51,51,51],size:12,outline:{color:[0,122,194],width:3}}),n.waypoint=new _.y({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),n}return(0,u.Z)(r)}(A.l));(0,d.e)([(0,d.d)({types:_.j})],H.prototype,"break",void 0),(0,d.e)([(0,d.d)({types:_.j})],H.prototype,"first",void 0),(0,d.e)([(0,d.d)({types:_.j})],H.prototype,"unlocated",void 0),(0,d.e)([(0,d.d)({types:_.j})],H.prototype,"last",void 0),(0,d.e)([(0,d.d)({types:_.j})],H.prototype,"middle",void 0),(0,d.e)([(0,d.d)({types:_.j})],H.prototype,"waypoint",void 0);var K=H=(0,d.e)([(0,d.n)("esri.layers.support.RouteStopSymbols")],H),Y=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).directionLines=new _.m({color:[0,122,194],width:6}),n.directionPoints=new _.y({color:[255,255,255],size:6,outline:{color:[0,122,194],width:2}}),n.pointBarriers=new _.y({style:"x",size:10,outline:{color:[255,0,0],width:3}}),n.polygonBarriers=new _.S({color:[255,170,0,.6],outline:{width:7.5,color:[255,0,0,.6]}}),n.polylineBarriers=new _.m({width:7.5,color:[255,85,0,.7]}),n.routeInfo=new _.m({width:8,color:[20,89,127]}),n.stops=new K,n}return(0,u.Z)(r)}(A.l);(0,d.e)([(0,d.d)({types:_.j})],Y.prototype,"directionLines",void 0),(0,d.e)([(0,d.d)({types:_.j})],Y.prototype,"directionPoints",void 0),(0,d.e)([(0,d.d)({types:_.j})],Y.prototype,"pointBarriers",void 0),(0,d.e)([(0,d.d)({types:_.j})],Y.prototype,"polygonBarriers",void 0),(0,d.e)([(0,d.d)({types:_.j})],Y.prototype,"polylineBarriers",void 0),(0,d.e)([(0,d.d)({types:_.j})],Y.prototype,"routeInfo",void 0),(0,d.e)([(0,d.d)({type:K})],Y.prototype,"stops",void 0);var Q=Y=(0,d.e)([(0,d.n)("esri.layers.support.RouteSymbols")],Y),X=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).dataType=null,n.name=null,n.parameterNames=null,n.restrictionUsageParameterName=null,n.timeNeutralAttributeName=null,n.trafficSupport=null,n.units=null,n.usageType=null,n}return(0,u.Z)(r)}(A.l);(0,d.e)([(0,d.d)({type:String})],X.prototype,"dataType",void 0),(0,d.e)([(0,U.r)(E.T,{ignoreUnknown:!1})],X.prototype,"name",void 0),(0,d.e)([(0,d.d)({type:[String]})],X.prototype,"parameterNames",void 0),(0,d.e)([(0,d.d)({type:String})],X.prototype,"restrictionUsageParameterName",void 0),(0,d.e)([(0,U.r)(E.y,{ignoreUnknown:!1})],X.prototype,"timeNeutralAttributeName",void 0),(0,d.e)([(0,d.d)({type:String})],X.prototype,"trafficSupport",void 0),(0,d.e)([(0,d.d)({type:String})],X.prototype,"units",void 0),(0,d.e)([(0,U.r)(E.d)],X.prototype,"usageType",void 0);var $=X=(0,d.e)([(0,d.n)("esri.rest.support.NetworkAttribute")],X),ee=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).buildTime=null,n.name=null,n.networkAttributes=null,n.networkSources=null,n.state=null,n}return(0,u.Z)(r)}(A.l);(0,d.e)([(0,d.d)({type:Number})],ee.prototype,"buildTime",void 0),(0,d.e)([(0,d.d)({type:String})],ee.prototype,"name",void 0),(0,d.e)([(0,d.d)({type:[$]})],ee.prototype,"networkAttributes",void 0),(0,d.e)([(0,d.d)()],ee.prototype,"networkSources",void 0),(0,d.e)([(0,d.d)({type:String})],ee.prototype,"state",void 0);var te=ee=(0,d.e)([(0,d.n)("esri.rest.support.NetworkDataset")],ee),re=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).accumulateAttributeNames=null,n.currentVersion=null,n.defaultTravelMode=null,n.directionsLanguage=null,n.directionsLengthUnits=null,n.directionsSupportedLanguages=null,n.directionsTimeAttribute=null,n.hasZ=null,n.impedance=null,n.networkDataset=null,n.supportedTravelModes=null,n}return(0,u.Z)(r,[{key:"readAccumulateAttributes",value:function(e){return(0,y.t)(e)?null:e.map((function(e){return E.T.fromJSON(e)}))}},{key:"writeAccumulateAttributes",value:function(e,t,r){!(0,y.t)(e)&&e.length&&(t[r]=e.map((function(e){return E.T.toJSON(e)})))}}]),r}(A.l);(0,d.e)([(0,d.d)()],re.prototype,"accumulateAttributeNames",void 0),(0,d.e)([(0,T.o)("accumulateAttributeNames")],re.prototype,"readAccumulateAttributes",null),(0,d.e)([(0,T.r)("accumulateAttributeNames")],re.prototype,"writeAccumulateAttributes",null),(0,d.e)([(0,d.d)()],re.prototype,"currentVersion",void 0),(0,d.e)([(0,d.d)()],re.prototype,"defaultTravelMode",void 0),(0,d.e)([(0,d.d)()],re.prototype,"directionsLanguage",void 0),(0,d.e)([(0,U.r)(E.r)],re.prototype,"directionsLengthUnits",void 0),(0,d.e)([(0,d.d)()],re.prototype,"directionsSupportedLanguages",void 0),(0,d.e)([(0,U.r)(E.y,{ignoreUnknown:!1})],re.prototype,"directionsTimeAttribute",void 0),(0,d.e)([(0,d.d)()],re.prototype,"hasZ",void 0),(0,d.e)([(0,U.r)(E.T,{ignoreUnknown:!1})],re.prototype,"impedance",void 0),(0,d.e)([(0,d.d)({type:te})],re.prototype,"networkDataset",void 0),(0,d.e)([(0,d.d)({type:[E.e]})],re.prototype,"supportedTravelModes",void 0);var ne=re=(0,d.e)([(0,d.n)("esri.rest.support.NetworkServiceDescription")],re);function oe(e,t,r,n){n[r]=[t.length,t.length+e.length],e.forEach((function(e){t.push(e.geometry)}))}function ie(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var o,i=(0,s.Z)(n);try{for(i.s();!(o=i.n()).done;){o.value.z=void 0}}catch(a){i.e(a)}finally{i.f()}}}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function ae(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var o,i=(0,s.Z)(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;if((0,y.r)(a)&&a.hasZ)return!0}}catch(u){i.e(u)}finally{i.f()}}}return!1}function se(e,t,r){return ue.apply(this,arguments)}function ue(){return ue=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i,a,s,u,l,p,c,y;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new d.a("network-service:missing-url","Url to Network service is missing");case 2:return i=(0,G.e)({f:"json",token:r},o),e.next=5,(0,k.U)(t,i);case 5:for(a=e.sent,(s=a.data).supportedTravelModes||(s.supportedTravelModes=[]),u=0;u<s.supportedTravelModes.length;u++)s.supportedTravelModes[u].id||(s.supportedTravelModes[u].id=s.supportedTravelModes[u].itemId);return l=s.currentVersion>=10.4?ce(t,r,o):le(t,o),e.next=12,l;case 12:return p=e.sent,c=p.defaultTravelMode,y=p.supportedTravelModes,e.abrupt("return",(s.defaultTravelMode=c,s.supportedTravelModes=y,ne.fromJSON(s)));case 16:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function le(e,t){return pe.apply(this,arguments)}function pe(){return pe=(0,a.Z)((0,n.Z)().mark((function e(t,r){var o,i,a,u,l,p,c,d,f,v,m,h,g,w,b,S,Z,T,N,x,P,I,B,R,j,O;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,G.e)({f:"json"},r),e.next=3,(0,k.U)(t.replace(/\/rest\/.*$/i,"/info"),a);case 3:if(u=e.sent,(l=u.data)&&l.owningSystemUrl){e.next=7;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 7:return p=l.owningSystemUrl,c=(0,k.C)(p)+"/sharing/rest/portals/self",e.next=11,(0,k.U)(c,a);case 11:if(d=e.sent,f=d.data,v=(0,y.c)("helperServices.routingUtilities.url",f)){e.next=16;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 16:return m=(0,G.n)(p),h=/\/solve$/i.test(m.path)?"Route":/\/solveclosestfacility$/i.test(m.path)?"ClosestFacility":"ServiceAreas",g=(0,G.e)({f:"json",serviceName:h},r),w=(0,k.C)(v)+"/GetTravelModes/execute",e.next=22,(0,k.U)(w,g);case 22:if(b=e.sent,S=[],Z=null,null!==b&&void 0!==b&&null!==(o=b.data)&&void 0!==o&&null!==(i=o.results)&&void 0!==i&&i.length){T=b.data.results,N=(0,s.Z)(T);try{for(N.s();!(x=N.n()).done;)if("supportedTravelModes"===(P=x.value).paramName){if(null!==(I=P.value)&&void 0!==I&&I.features){B=(0,s.Z)(P.value.features);try{for(B.s();!(R=B.n()).done;)(j=R.value.attributes)&&(O=JSON.parse(j.TravelMode),S.push(O))}catch(n){B.e(n)}finally{B.f()}}}else"defaultTravelMode"===P.paramName&&(Z=P.value)}catch(n){N.e(n)}finally{N.f()}}return e.abrupt("return",{supportedTravelModes:S,defaultTravelMode:Z});case 27:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function ce(e,t,r){return de.apply(this,arguments)}function de(){return de=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i,a,s,u,l,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(0,G.e)({f:"json",token:r},o),a=(0,k.C)(t)+"/retrieveTravelModes",e.next=5,(0,k.U)(a,i);case 5:return s=e.sent,u=s.data,l=u.supportedTravelModes,p=u.defaultTravelMode,e.abrupt("return",{supportedTravelModes:l,defaultTravelMode:p});case 12:throw e.prev=12,e.t0=e.catch(0),new d.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),de.apply(this,arguments)}var ye=new k.s({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"}),fe=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).description=null,n.type=null,n}return(0,u.Z)(r)}(A.l);(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],fe.prototype,"description",void 0),(0,d.e)([(0,d.d)({type:String,json:{read:ye.read,write:ye.write}})],fe.prototype,"type",void 0);var ve=fe=(0,d.e)([(0,d.n)("esri.rest.support.GPMessage")],fe),me=new k.s({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"}),he=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).type=null,n}return(0,u.Z)(r)}(ve);(0,d.e)([(0,d.d)({type:String,json:{read:me.read,write:me.write}})],he.prototype,"type",void 0);var ge=he=(0,d.e)([(0,d.n)("esri.rest.support.NAMessage")],he),we=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(){return(0,l.Z)(this,r),t.apply(this,arguments)}return(0,u.Z)(r)}(v.g);(0,d.e)([(0,d.d)()],we.prototype,"events",void 0),(0,d.e)([(0,d.d)()],we.prototype,"strings",void 0);var be=we=(0,d.e)([(0,d.n)("esri.rest.support.DirectionsFeature")],we),Se=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).extent=null,n.features=null,n.geometryType="polyline",n.routeId=null,n.routeName=null,n.totalDriveTime=null,n.totalLength=null,n.totalTime=null,n}return(0,u.Z)(r,[{key:"readFeatures",value:function(e,t){var r,n=this;if(!e)return[];var o=null!==(r=t.summary.envelope.spatialReference)&&void 0!==r?r:t.spatialReference,a=o&&T.k.fromJSON(o);return e.map((function(e){var t,r,o=n._decompressGeometry(e.compressedGeometry),s=new V.m((0,i.Z)((0,i.Z)({},o),{},{spatialReference:a})),u=null!==(t=null===(r=e.events)||void 0===r?void 0:r.map((function(e){var t=e.arriveTimeUTC,r=e.ETA,n=e.point,o=n.x,i=n.y,s=n.z,u=e.strings;return new be({geometry:new T.j({x:o,y:i,z:s,hasZ:void 0!==s,spatialReference:a}),attributes:{ETA:r,arriveTimeUTC:t},strings:u})})))&&void 0!==t?t:[];return new be({attributes:e.attributes,events:u,geometry:s,strings:e.strings})}))}},{key:"mergedGeometry",get:function(){if(!this.features)return null;var e=this.features.map((function(e){var t=e.geometry;return(0,y.e)(t)})),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)}},{key:"strings",get:function(){return this.features.map((function(e){return e.strings}))}},{key:"_decompressGeometry",value:function(e){var t,r,n,o,i,a,s,u,l=0,p=0,c=0,d=0,y=[],f=0,v=0,m=0;if((i=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(i=[]),0===parseInt(i[f],32)){f=2;var h=parseInt(i[f],32);f++,a=parseInt(i[f],32),f++,1&h&&(v=i.indexOf("|")+1,s=parseInt(i[v],32),v++),2&h&&(m=i.indexOf("|",v)+1,u=parseInt(i[m],32),m++)}else a=parseInt(i[f],32),f++;for(;f<i.length&&"|"!==i[f];){t=parseInt(i[f],32)+l,f++,l=t,r=parseInt(i[f],32)+p,f++,p=r;var g=[t/a,r/a];v&&(o=parseInt(i[v],32)+c,v++,c=o,g.push(o/s)),m&&(n=parseInt(i[m],32)+d,m++,d=n,g.push(n/u)),y.push(g)}return{paths:[y],hasZ:v>0,hasM:m>0}}},{key:"_mergePolylinesToSinglePath",value:function(e,t){if(0===e.length)return new V.m({spatialReference:t});var r,n=[],i=(0,s.Z)(e);try{for(i.s();!(r=i.n()).done;){var a,u=r.value,l=(0,s.Z)(u.paths);try{for(l.s();!(a=l.n()).done;){var p=a.value;n.push.apply(n,(0,o.Z)(p))}}catch(v){l.e(v)}finally{l.f()}}}catch(v){i.e(v)}finally{i.f()}var c=[];n.forEach((function(e,t){0!==t&&e[0]===n[t-1][0]&&e[1]===n[t-1][1]||c.push(e)}));var d=e[0],y=d.hasM,f=d.hasZ;return new V.m({hasM:y,hasZ:f,paths:[c],spatialReference:t})}}]),r}(F.default);(0,d.e)([(0,d.d)({type:x.M,json:{read:{source:"summary.envelope"}}})],Se.prototype,"extent",void 0),(0,d.e)([(0,d.d)()],Se.prototype,"features",void 0),(0,d.e)([(0,T.o)("features")],Se.prototype,"readFeatures",null),(0,d.e)([(0,d.d)()],Se.prototype,"geometryType",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],Se.prototype,"mergedGeometry",null),(0,d.e)([(0,d.d)()],Se.prototype,"routeId",void 0),(0,d.e)([(0,d.d)()],Se.prototype,"routeName",void 0),(0,d.e)([(0,d.d)({value:null,readOnly:!0})],Se.prototype,"strings",null),(0,d.e)([(0,d.d)({json:{read:{source:"summary.totalDriveTime"}}})],Se.prototype,"totalDriveTime",void 0),(0,d.e)([(0,d.d)({json:{read:{source:"summary.totalLength"}}})],Se.prototype,"totalLength",void 0),(0,d.e)([(0,d.d)({json:{read:{source:"summary.totalTime"}}})],Se.prototype,"totalTime",void 0);var Ze=Se=(0,d.e)([(0,d.n)("esri.rest.support.DirectionsFeatureSet")],Se),ke=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).directionLines=null,n.directionPoints=null,n.directions=null,n.route=null,n.routeName=null,n.stops=null,n.traversedEdges=null,n.traversedJunctions=null,n.traversedTurns=null,n}return(0,u.Z)(r)}(A.l);(0,d.e)([(0,d.d)({type:F.default,json:{write:!0}})],ke.prototype,"directionLines",void 0),(0,d.e)([(0,d.d)({type:F.default,json:{write:!0}})],ke.prototype,"directionPoints",void 0),(0,d.e)([(0,d.d)({type:Ze,json:{write:!0}})],ke.prototype,"directions",void 0),(0,d.e)([(0,d.d)({type:v.g,json:{write:!0}})],ke.prototype,"route",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],ke.prototype,"routeName",void 0),(0,d.e)([(0,d.d)({type:[v.g],json:{write:!0}})],ke.prototype,"stops",void 0),(0,d.e)([(0,d.d)({type:F.default,json:{write:!0}})],ke.prototype,"traversedEdges",void 0),(0,d.e)([(0,d.d)({type:F.default,json:{write:!0}})],ke.prototype,"traversedJunctions",void 0),(0,d.e)([(0,d.d)({type:F.default,json:{write:!0}})],ke.prototype,"traversedTurns",void 0);var Te=ke=(0,d.e)([(0,d.n)("esri.rest.support.RouteResult")],ke);function Ne(e){return e&&F.default.fromJSON(e).features.map((function(e){return e}))}var xe=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).messages=null,n.pointBarriers=null,n.polylineBarriers=null,n.polygonBarriers=null,n.routeResults=null,n}return(0,u.Z)(r,[{key:"readPointBarriers",value:function(e,t){return Ne(t.barriers)}},{key:"readPolylineBarriers",value:function(e){return Ne(e)}},{key:"readPolygonBarriers",value:function(e){return Ne(e)}}]),r}(A.l);(0,d.e)([(0,d.d)({type:[ge]})],xe.prototype,"messages",void 0),(0,d.e)([(0,d.d)({type:[v.g]})],xe.prototype,"pointBarriers",void 0),(0,d.e)([(0,T.o)("pointBarriers",["barriers"])],xe.prototype,"readPointBarriers",null),(0,d.e)([(0,d.d)({type:[v.g]})],xe.prototype,"polylineBarriers",void 0),(0,d.e)([(0,T.o)("polylineBarriers")],xe.prototype,"readPolylineBarriers",null),(0,d.e)([(0,d.d)({type:[v.g]})],xe.prototype,"polygonBarriers",void 0),(0,d.e)([(0,T.o)("polygonBarriers")],xe.prototype,"readPolygonBarriers",null),(0,d.e)([(0,d.d)({type:[Te]})],xe.prototype,"routeResults",void 0);var Pe=xe=(0,d.e)([(0,d.n)("esri.rest.support.RouteSolveResult")],xe);function Ie(e){return"esri.rest.support.FeatureSet"===(null===e||void 0===e?void 0:e.declaredClass)}function Be(e,t,r){return Re.apply(this,arguments)}function Re(){return Re=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var a,s,u,l,p,c,d,y,f,v,m,h,g,w,b,S;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],s=[],u={},l={},p=(0,G.n)(t),c=p.path,Ie(r.stops)&&oe(r.stops.features,s,"stops.features",u),Ie(r.pointBarriers)&&oe(r.pointBarriers.features,s,"pointBarriers.features",u),Ie(r.polylineBarriers)&&oe(r.polylineBarriers.features,s,"polylineBarriers.features",u),Ie(r.polygonBarriers)&&oe(r.polygonBarriers.features,s,"polygonBarriers.features",u),e.next=4,(0,J.L)(s);case 4:for(y in d=e.sent,u)f=u[y],a.push(y),l[y]=d.slice(f[0],f[1]);if(!ae(l,a)){e.next=17;break}return v=null,e.prev=8,e.next=11,se(c,r.apiKey,o);case 11:v=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:v&&!v.hasZ&&ie(l,a);case 17:for(h in m=function(e){l[e].forEach((function(t,n){r.get(e)[n].geometry=t}))},l)m(h);return g=(0,i.Z)((0,i.Z)({},o),{},{query:(0,i.Z)((0,i.Z)((0,i.Z)({},p.query),(0,E.u)(r)),{},{f:"json"})}),w=c.endsWith("/solve")?c:"".concat(c,"/solve"),e.next=23,(0,k.U)(w,g);case 23:return b=e.sent,S=b.data,e.abrupt("return",je(S));case 26:case"end":return e.stop()}}),e,null,[[8,14]])}))),Re.apply(this,arguments)}function je(e){var t,r=e.barriers,n=e.directionLines,o=e.directionPoints,i=e.directions,a=e.messages,s=e.polygonBarriers,u=e.polylineBarriers,l=e.routes,p=e.stops,c=e.traversedEdges,d=e.traversedJunctions,f=e.traversedTurns,v=function(e){var t=h.find((function(t){return t.routeName===e}));if((0,y.r)(t))return t;var r={routeId:h.length+1,routeName:e};return h.push(r),r},m=function(e){var t=h.find((function(t){return t.routeId===e}));if((0,y.r)(t))return t;var r={routeId:e,routeName:null};return h.push(r),r},h=[];null!==l&&void 0!==l&&l.features.forEach((function(e,t){e.geometry.spatialReference=l.spatialReference;var r=e.attributes.Name,n=t+1;h.push({routeId:n,routeName:r,route:e})})),null===i||void 0===i||i.forEach((function(e){var t=e.routeName;v(t).directions=e}));var g=null!==(t=null===p||void 0===p?void 0:p.features.every((function(e){return(0,y.t)(e.attributes.RouteName)})))&&void 0!==t&&t&&h.length>0?h[0].routeName:null;return null!==p&&void 0!==p&&p.features.forEach((function(e){var t,r,n;e.geometry&&(null!==(t=(n=e.geometry).spatialReference)&&void 0!==t||(n.spatialReference=p.spatialReference));var o=null!==g&&void 0!==g?g:e.attributes.RouteName,i=v(o);null!==(r=i.stops)&&void 0!==r||(i.stops=[]),i.stops.push(e)})),null!==n&&void 0!==n&&n.features.forEach((function(e){var t,r=e.attributes.RouteID,o=m(r),i=n.geometryType,a=n.spatialReference;null!==(t=o.directionLines)&&void 0!==t||(o.directionLines={features:[],geometryType:i,spatialReference:a}),o.directionLines.features.push(e)})),null!==o&&void 0!==o&&o.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r),i=o.geometryType,a=o.spatialReference;null!==(t=n.directionPoints)&&void 0!==t||(n.directionPoints={features:[],geometryType:i,spatialReference:a}),n.directionPoints.features.push(e)})),null!==c&&void 0!==c&&c.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r),o=c.geometryType,i=c.spatialReference;null!==(t=n.traversedEdges)&&void 0!==t||(n.traversedEdges={features:[],geometryType:o,spatialReference:i}),n.traversedEdges.features.push(e)})),null!==d&&void 0!==d&&d.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r),o=d.geometryType,i=d.spatialReference;null!==(t=n.traversedJunctions)&&void 0!==t||(n.traversedJunctions={features:[],geometryType:o,spatialReference:i}),n.traversedJunctions.features.push(e)})),null!==f&&void 0!==f&&f.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r);null!==(t=n.traversedTurns)&&void 0!==t||(n.traversedTurns={features:[]}),n.traversedTurns.features.push(e)})),Pe.fromJSON({routeResults:h,barriers:r,polygonBarriers:s,polylineBarriers:u,messages:a})}var Oe=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).doNotLocateOnRestrictedElements=null,n.geometry=null,n.geometryType=null,n.name=null,n.spatialRelationship=null,n.type="layer",n.where=null,n}return(0,u.Z)(r)}((0,z.l)(A.l));(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Oe.prototype,"doNotLocateOnRestrictedElements",void 0),(0,d.e)([(0,d.d)({types:f.i,json:{read:q.d,write:!0}})],Oe.prototype,"geometry",void 0),(0,d.e)([(0,U.r)(E.w)],Oe.prototype,"geometryType",void 0),(0,d.e)([(0,d.d)({type:String,json:{name:"layerName",write:!0}})],Oe.prototype,"name",void 0),(0,d.e)([(0,U.r)(E.R,{name:"spatialRel"})],Oe.prototype,"spatialRelationship",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],Oe.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],Oe.prototype,"where",void 0);var Le,_e=Oe=(0,d.e)([(0,d.n)("esri.rest.support.DataLayer")],Oe),Ae=Le=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).doNotLocateOnRestrictedElements=null,n}return(0,u.Z)(r,[{key:"clone",value:function(){return new Le((0,i.Z)({doNotLocateOnRestrictedElements:this.doNotLocateOnRestrictedElements},this.cloneProperties()))}}]),r}(F.default);(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ae.prototype,"doNotLocateOnRestrictedElements",void 0);var De=Ae=Le=(0,d.e)([(0,d.n)("esri.rest.support.NetworkFeatureSet")],Ae),Me=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).doNotLocateOnRestrictedElements=null,n.url=null,n}return(0,u.Z)(r)}((0,z.l)(A.l));(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Me.prototype,"doNotLocateOnRestrictedElements",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],Me.prototype,"url",void 0);var Ce,Ge=Me=(0,d.e)([(0,d.n)("esri.rest.support.NetworkUrl")],Me);function Ue(e,t,r){(0,y.r)(e)&&(t[r]=g.j.isCollection(e)?{features:e.toArray().map((function(e){return e.toJSON()}))}:e.toJSON())}var Ee=Ce=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).accumulateAttributes=null,n.apiKey=null,n.attributeParameterValues=null,n.directionsLanguage=null,n.directionsLengthUnits=null,n.directionsOutputType=null,n.directionsStyleName=null,n.directionsTimeAttribute=null,n.findBestSequence=null,n.geometryPrecision=null,n.geometryPrecisionM=null,n.geometryPrecisionZ=null,n.ignoreInvalidLocations=null,n.impedanceAttribute=null,n.outputGeometryPrecision=null,n.outputGeometryPrecisionUnits=null,n.outputLines="true-shape",n.outSpatialReference=null,n.overrides=null,n.pointBarriers=null,n.polygonBarriers=null,n.polylineBarriers=null,n.preserveFirstStop=null,n.preserveLastStop=null,n.preserveObjectID=null,n.restrictionAttributes=null,n.restrictUTurns=null,n.returnBarriers=!1,n.returnDirections=!1,n.returnPolygonBarriers=!1,n.returnPolylineBarriers=!1,n.returnRoutes=!0,n.returnStops=!1,n.returnTraversedEdges=null,n.returnTraversedJunctions=null,n.returnTraversedTurns=null,n.returnZ=!0,n.startTime=null,n.startTimeIsUTC=!0,n.stops=null,n.timeWindowsAreUTC=null,n.travelMode=null,n.useHierarchy=null,n.useTimeWindows=null,n}return(0,u.Z)(r,[{key:"readAccumulateAttributes",value:function(e){return(0,y.t)(e)?null:e.map((function(e){return E.T.fromJSON(e)}))}},{key:"writeAccumulateAttributes",value:function(e,t,r){!(0,y.t)(e)&&e.length&&(t[r]=e.map((function(e){return E.T.toJSON(e)})))}},{key:"writePointBarriers",value:function(e,t,r){Ue(e,t,r)}},{key:"writePolygonBarrier",value:function(e,t,r){Ue(e,t,r)}},{key:"writePolylineBarrier",value:function(e,t,r){Ue(e,t,r)}},{key:"readRestrictionAttributes",value:function(e){return(0,y.t)(e)?null:e.map((function(e){return E.U.fromJSON(e)}))}},{key:"writeRestrictionAttributes",value:function(e,t,r){!(0,y.t)(e)&&e.length&&(t[r]=e.map((function(e){return E.U.toJSON(e)})))}},{key:"readStartTime",value:function(e,t){var r=t.startTime;return(0,y.t)(r)?null:"now"===r?"now":new Date(r)}},{key:"writeStartTime",value:function(e,t){(0,y.t)(e)||(t.startTime="now"===e?"now":e.getTime())}},{key:"readStops",value:function(e,t){return function(e){return function(e){return e&&"type"in e}(e)?_e.fromJSON(e):function(e){return e&&"url"in e}(e)?Ge.fromJSON(e):function(e){return e&&"features"in e&&"doNotLocateOnRestrictedElements"in e}(e)?De.fromJSON(e):function(e){return e&&"features"in e}(e)?F.default.fromJSON(e):null}(t.stops)}},{key:"writeStops",value:function(e,t,r){Ue(e,t,r)}}],[{key:"from",value:function(e){return(0,d.a3)(Ce,e)}}]),r}((0,z.l)(A.l));(0,d.e)([(0,d.d)({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],Ee.prototype,"accumulateAttributes",void 0),(0,d.e)([(0,T.o)("accumulateAttributes")],Ee.prototype,"readAccumulateAttributes",null),(0,d.e)([(0,T.r)("accumulateAttributes")],Ee.prototype,"writeAccumulateAttributes",null),(0,d.e)([(0,d.d)(W.t)],Ee.prototype,"apiKey",void 0),(0,d.e)([(0,d.d)({json:{write:!0}})],Ee.prototype,"attributeParameterValues",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],Ee.prototype,"directionsLanguage",void 0),(0,d.e)([(0,U.r)(E.r)],Ee.prototype,"directionsLengthUnits",void 0),(0,d.e)([(0,U.r)(E.s)],Ee.prototype,"directionsOutputType",void 0),(0,d.e)([(0,U.r)(E.k)],Ee.prototype,"directionsStyleName",void 0),(0,d.e)([(0,U.r)(E.y,{name:"directionsTimeAttributeName",ignoreUnknown:!1})],Ee.prototype,"directionsTimeAttribute",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"findBestSequence",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],Ee.prototype,"geometryPrecision",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],Ee.prototype,"geometryPrecisionM",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],Ee.prototype,"geometryPrecisionZ",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"ignoreInvalidLocations",void 0),(0,d.e)([(0,U.r)(E.T,{name:"impedanceAttributeName",ignoreUnknown:!1})],Ee.prototype,"impedanceAttribute",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],Ee.prototype,"outputGeometryPrecision",void 0),(0,d.e)([(0,U.r)(E.i)],Ee.prototype,"outputGeometryPrecisionUnits",void 0),(0,d.e)([(0,U.r)(E.o)],Ee.prototype,"outputLines",void 0),(0,d.e)([(0,d.d)({type:T.k,json:{name:"outSR",write:!0}})],Ee.prototype,"outSpatialReference",void 0),(0,d.e)([(0,d.d)({json:{write:!0}})],Ee.prototype,"overrides",void 0),(0,d.e)([(0,d.d)({json:{name:"barriers",write:!0}})],Ee.prototype,"pointBarriers",void 0),(0,d.e)([(0,T.r)("pointBarriers")],Ee.prototype,"writePointBarriers",null),(0,d.e)([(0,d.d)({json:{write:!0}})],Ee.prototype,"polygonBarriers",void 0),(0,d.e)([(0,T.r)("polygonBarriers")],Ee.prototype,"writePolygonBarrier",null),(0,d.e)([(0,d.d)({json:{write:!0}})],Ee.prototype,"polylineBarriers",void 0),(0,d.e)([(0,T.r)("polylineBarriers")],Ee.prototype,"writePolylineBarrier",null),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"preserveFirstStop",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"preserveLastStop",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"preserveObjectID",void 0),(0,d.e)([(0,d.d)({type:[String],json:{name:"restrictionAttributeNames",write:!0}})],Ee.prototype,"restrictionAttributes",void 0),(0,d.e)([(0,T.o)("restrictionAttributes")],Ee.prototype,"readRestrictionAttributes",null),(0,d.e)([(0,T.r)("restrictionAttributes")],Ee.prototype,"writeRestrictionAttributes",null),(0,d.e)([(0,U.r)(E.n)],Ee.prototype,"restrictUTurns",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"returnBarriers",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"returnDirections",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"returnPolygonBarriers",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"returnPolylineBarriers",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"returnRoutes",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"returnStops",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"returnTraversedEdges",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"returnTraversedJunctions",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"returnTraversedTurns",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"returnZ",void 0),(0,d.e)([(0,d.d)({type:Date,json:{type:Number,write:!0}})],Ee.prototype,"startTime",void 0),(0,d.e)([(0,T.o)("startTime")],Ee.prototype,"readStartTime",null),(0,d.e)([(0,T.r)("startTime")],Ee.prototype,"writeStartTime",null),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"startTimeIsUTC",void 0),(0,d.e)([(0,d.d)({json:{write:!0}})],Ee.prototype,"stops",void 0),(0,d.e)([(0,T.o)("stops")],Ee.prototype,"readStops",null),(0,d.e)([(0,T.r)("stops")],Ee.prototype,"writeStops",null),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"timeWindowsAreUTC",void 0),(0,d.e)([(0,d.d)({type:E.e,json:{write:!0}})],Ee.prototype,"travelMode",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"useHierarchy",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ee.prototype,"useTimeWindows",void 0);var Je=Ee=Ce=(0,d.e)([(0,d.n)("esri.rest.support.RouteParameters")],Ee);function Fe(e){return e.length?e:null}function Ve(e){var t=e.defaultTravelMode;return e.supportedTravelModes.find((function(e){return e.id===t}))}function ze(e){switch(e){case"esriGeometryPoint":return{type:"esriSMS",style:"esriSMSCircle",size:12,color:[0,0,0,0],outline:ze("esriGeometryPolyline")};case"esriGeometryPolyline":return{type:"esriSLS",style:"esriSLSSolid",width:1,color:[0,0,0,0]};case"esriGeometryPolygon":return{type:"esriSFS",style:"esriSFSNull",outline:ze("esriGeometryPolyline")}}}function We(e){return"layers"in e}function qe(e){return"esri.rest.support.FeatureSet"===e.declaredClass}function He(e){return"esri.rest.support.NetworkFeatureSet"===e.declaredClass}function Ke(e,t,r){var n,o,i,a,u,l,p,c,f,v,m,h=t.networkDataset.networkAttributes.filter((function(e){return"cost"===e.usageType})),g=Ve(t),w=null!==(n=r.travelMode)&&void 0!==n?n:g;if((0,y.t)(w))at.warn("route-layer:missing-travel-mode","The routing service must have a default travel mode or one must be specified in the route parameter.");else{var b=w.timeAttributeName,S=w.distanceAttributeName,Z=h.find((function(e){return e.name===b})),k=h.find((function(e){return e.name===S})),T=null!==(o=null!==(i=null===(a=(0,y.e)(r.travelMode))||void 0===a?void 0:a.impedanceAttributeName)&&void 0!==i?i:(0,y.e)(r.impedanceAttribute))&&void 0!==o?o:t.impedance,N=E.t.fromJSON(null===Z||void 0===Z?void 0:Z.units),x=E.r.fromJSON(null===k||void 0===k?void 0:k.units);if(!N||!x)throw new d.a("routelayer:unknown-impedance-units","the units of either the distance or time impedance are unknown");var P,I=null!==(u=r.directionsLanguage)&&void 0!==u?u:t.directionsLanguage,B=null!==(l=null!==(p=(0,y.e)(r.accumulateAttributes))&&void 0!==p?p:t.accumulateAttributeNames)&&void 0!==l?l:[],R=new Set(h.filter((function(e){var t=e.name;return t===b||t===S||t===T||B.includes(t)})).map((function(e){return e.name}))),j=function(e){for(var t in e)R.has(t)||delete e[t]},O=(0,s.Z)(e.pointBarriers);try{for(O.s();!(P=O.n()).done;){var L,_=P.value;(0,y.r)(_.costs)&&(_.addedCost=null!==(L=_.costs[T])&&void 0!==L?L:0,j(_.costs))}}catch(ie){O.e(ie)}finally{O.f()}var A,D=(0,s.Z)(e.polygonBarriers);try{for(D.s();!(A=D.n()).done;){var M,C=A.value;(0,y.r)(C.costs)&&(C.scaleFactor=null!==(M=C.costs[T])&&void 0!==M?M:1,j(C.costs))}}catch(ie){D.e(ie)}finally{D.f()}var G,U=(0,s.Z)(e.polylineBarriers);try{for(U.s();!(G=U.n()).done;){var J,F=G.value;(0,y.r)(F.costs)&&(F.scaleFactor=null!==(J=F.costs[T])&&void 0!==J?J:1,j(F.costs))}}catch(ie){U.e(ie)}finally{U.f()}var V=e.routeInfo,z=r.findBestSequence,W=r.preserveFirstStop,q=r.preserveLastStop,H=r.startTimeIsUTC,K=r.timeWindowsAreUTC;V.analysisSettings=new E.l({accumulateAttributes:B,directionsLanguage:I,findBestSequence:z,preserveFirstStop:W,preserveLastStop:q,startTimeIsUTC:H,timeWindowsAreUTC:K,travelMode:w}),V.totalDuration=Xe(null!==(c=V.totalCosts[b])&&void 0!==c?c:0,N),V.totalDistance=$e(null!==(f=V.totalCosts[S])&&void 0!==f?f:0,x),V.totalLateDuration=Xe(null!==(v=V.totalViolations[b])&&void 0!==v?v:0,N),V.totalWaitDuration=Xe(null!==(m=V.totalWait[b])&&void 0!==m?m:0,N),(0,y.r)(V.totalCosts)&&j(V.totalCosts),(0,y.r)(V.totalViolations)&&j(V.totalViolations),(0,y.r)(V.totalWait)&&j(V.totalWait);var Y,Q=(0,s.Z)(e.stops);try{for(Q.s();!(Y=Q.n()).done;){var X,$,ee,te,re,ne,oe=Y.value;(0,y.r)(oe.serviceCosts)&&(oe.serviceDuration=Xe(null!==(X=oe.serviceCosts[b])&&void 0!==X?X:0,N),oe.serviceDistance=$e(null!==($=oe.serviceCosts[S])&&void 0!==$?$:0,x),j(oe.serviceCosts)),(0,y.r)(oe.cumulativeCosts)&&(oe.cumulativeDuration=Xe(null!==(ee=oe.cumulativeCosts[b])&&void 0!==ee?ee:0,N),oe.cumulativeDistance=$e(null!==(te=oe.cumulativeCosts[S])&&void 0!==te?te:0,x),j(oe.cumulativeCosts)),(0,y.r)(oe.violations)&&(oe.lateDuration=Xe(null!==(re=oe.violations[b])&&void 0!==re?re:0,N),j(oe.violations)),(0,y.r)(oe.wait)&&(oe.waitDuration=Xe(null!==(ne=oe.wait[b])&&void 0!==ne?ne:0,N),j(oe.wait))}}catch(ie){Q.e(ie)}finally{Q.f()}}}function Ye(e){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T.k.WGS84,e.next=3,(0,P.f)(t.spatialReference,r);case 3:return e.abrupt("return",(0,P.r)(t,r));case 4:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}function Xe(e,t){switch(t){case"seconds":return e/60;case"hours":return 60*e;case"days":return 60*e*24;default:return e}}function $e(e,t){return"decimal-degrees"===t||"points"===t||"unknown"===t?e:(0,Z.N)(e,t,"meters")}var et=g.j.ofType(E.b),tt=g.j.ofType(E.h),rt=g.j.ofType(E.O),nt=g.j.ofType(E.g),ot=g.j.ofType(E.a),it=g.j.ofType(E.D),at=d.s.getLogger("esri.layers.RouteLayer"),st=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;(0,l.Z)(this,r),(n=t.call(this,e))._cachedServiceDescription=null,n._featureCollection=null,n._type="Feature Collection",n.defaultSymbols=new Q,n.directionLines=null,n.directionPoints=null,n.featureCollectionType="route",n.legendEnabled=!1,n.maxScale=0,n.minScale=0,n.pointBarriers=new rt,n.polygonBarriers=new nt,n.polylineBarriers=new ot,n.routeInfo=null,n.spatialReference=T.k.WGS84,n.stops=new it,n.type="route";var o=function(){n._setStopSymbol(n.stops)};return n.own([(0,S.a)((function(){return n.stops}),"change",o,{sync:!0,onListenerAdd:o})]),n}return(0,u.Z)(r,[{key:"writeFeatureCollectionWebmap",value:function(e,t,r,n){var o=[this._writePolygonBarriers(),this._writePolylineBarriers(),this._writePointBarriers(),this._writeRouteInfo(),this._writeDirectionLines(),this._writeDirectionPoints(),this._writeStops()].filter((function(e){return!!e})),i=o.map((function(e,t){return t})),a="web-map"===n.origin?"featureCollection.layers":"layers";(0,y.o)(a,o,t),t.opacity=this.opacity,t.visibility=this.visible,t.visibleLayers=i}},{key:"readDirectionLines",value:function(e,t){return this._getNetworkFeatures(t,"DirectionLines",(function(e){return E.b.fromGraphic(e)}))}},{key:"readDirectionPoints",value:function(e,t){return this._getNetworkFeatures(t,"DirectionPoints",(function(e){return E.h.fromGraphic(e)}))}},{key:"fullExtent",get:function(){var e,t=new x.M({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:T.k.WGS84});if((0,y.r)(this.routeInfo)&&(0,y.r)(this.routeInfo.geometry))return null!==(e=this.routeInfo.geometry.extent)&&void 0!==e?e:t;if((0,y.t)(this.stops))return t;var r=this.stops.filter((function(e){return(0,y.r)(e.geometry)}));if(r.length<2)return t;var n=r.getItemAt(0).geometry.spatialReference;if((0,y.t)(n))return t;var o=r.toArray().map((function(e){var t=e.geometry;return[t.x,t.y]}));return new V.a({points:o,spatialReference:n}).extent}},{key:"readMaxScale",value:function(e,t){var r,n;return null!==(r=null===(n=(We(t)?t.layers:t.featureCollection.layers).find((function(e){return(0,y.r)(e.layerDefinition.maxScale)})))||void 0===n?void 0:n.layerDefinition.maxScale)&&void 0!==r?r:0}},{key:"readMinScale",value:function(e,t){var r,n;return null!==(r=null===(n=(We(t)?t.layers:t.featureCollection.layers).find((function(e){return(0,y.r)(e.layerDefinition.minScale)})))||void 0===n?void 0:n.layerDefinition.minScale)&&void 0!==r?r:0}},{key:"readPointBarriers",value:function(e,t){return this._getNetworkFeatures(t,"Barriers",(function(e){return E.O.fromGraphic(e)}))}},{key:"readPolygonBarriers",value:function(e,t){return this._getNetworkFeatures(t,"PolygonBarriers",(function(e){return E.g.fromGraphic(e)}))}},{key:"readPolylineBarriers",value:function(e,t){return this._getNetworkFeatures(t,"PolylineBarriers",(function(e){return E.a.fromGraphic(e)}))}},{key:"readRouteInfo",value:function(e,t){var r=this._getNetworkFeatures(t,"RouteInfo",(function(e){return E.c.fromGraphic(e)}));return r.length>0?r.getItemAt(0):null}},{key:"readSpatialReference",value:function(e,t){var r,n,o=We(t)?t.layers:t.featureCollection.layers;if(!o.length)return T.k.WGS84;var i=o[0].layerDefinition,a=null!==(r=null!==(n=i.spatialReference)&&void 0!==n?n:i.extent.spatialReference)&&void 0!==r?r:T.n;return T.k.fromJSON(a)}},{key:"readStops",value:function(e,t){var r=this;return this._getNetworkFeatures(t,"Stops",(function(e){return E.D.fromGraphic(e)}),(function(e){return r._setStopSymbol(e)}))}},{key:"title",get:function(){return(0,y.r)(this.routeInfo)&&(0,y.r)(this.routeInfo.name)?this.routeInfo.name:"Route"},set:function(e){e?this._override("title",e):this._clearOverride("title")}},{key:"url",get:function(){return y.b.routeServiceUrl},set:function(e){null!=e?this._set("url",(0,L.S)(e,at)):this._set("url",y.b.routeServiceUrl)}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)}},{key:"removeAll",value:function(){this.removeResult(),this.pointBarriers.removeAll(),this.polygonBarriers.removeAll(),this.polylineBarriers.removeAll(),this.stops.removeAll()}},{key:"removeResult",value:function(){(0,y.r)(this.directionLines)&&(this.directionLines.removeAll(),this._set("directionLines",null)),(0,y.r)(this.directionPoints)&&(this.directionPoints.removeAll(),this._set("directionPoints",null)),(0,y.r)(this.routeInfo)&&this._set("routeInfo",null)}},{key:"save",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,o,i,a,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:if(t=this.fullExtent,r=this.portalItem){e.next=5;break}throw new d.a("routelayer:portal-item-not-set","save() requires to the layer to have a portal item");case 5:if(r.id){e.next=7;break}throw new d.a("routelayer:portal-item-not-saved","Please use saveAs() first to save the routelayer");case 7:if("Feature Collection"===r.type){e.next=9;break}throw new d.a("routelayer:portal-item-wrong-type",'Portal item needs to have type "Feature Collection"');case 9:if(!(0,y.t)(this.routeInfo)){e.next=11;break}throw new d.a("routelayer:route-unsolved","save() requires a solved route");case 11:return o=r.portal,e.next=14,o._signIn();case 14:if(e.t0=o.user,e.t0){e.next=18;break}return e.next=18,r.reload();case 18:if(i=r.itemUrl,"admin"===(a=r.itemControl)||"update"===a){e.next=21;break}throw new d.a("routelayer:insufficient-permissions","To save this layer, you need to be the owner or an administrator of your organization");case 21:return s={messages:[],origin:"portal-item",portal:o,url:i&&(0,k.j)(i),writtenProperties:[]},u=this.write(null,s),e.next=24,Ye(t);case 24:return r.extent=e.sent,r.title=this.title,e.next=28,r.update({data:u});case 28:return e.abrupt("return",r);case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveAs",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,o,i,a,s,u,l,p,c,f=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>1&&void 0!==f[1]?f[1]:{},e.next=3,this.load();case 3:if(!(0,y.t)(this.routeInfo)){e.next=5;break}throw new d.a("routelayer:route-unsolved","saveAs() requires a solved route");case 5:if(s=M.default.from(t).clone(),null===(r=s.extent)||void 0===r){e.next=10;break}e.next=13;break;case 10:return e.next=12,Ye(this.fullExtent);case 12:s.extent=e.sent;case 13:return s.id=null,null!==(o=s.portal)&&void 0!==o||(s.portal=D.B.getDefault()),null!==(i=s.title)&&void 0!==i||(s.title=this.title),s.type="Feature Collection",s.typeKeywords=["Data","Feature Collection",C.f.MULTI_LAYER,"Route Layer"],u=s.portal,l={messages:[],origin:"portal-item",portal:u,url:null,writtenProperties:[]},e.next=21,u._signIn();case 21:return p=null===a||void 0===a?void 0:a.folder,c=this.write(null,l),e.next=24,u.user.addItem({item:s,folder:p,data:c});case 24:return this.portalItem=s,(0,N.i)(l),l.portalItem=s,e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"solve",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var o,i,a,u,l,p,c,f,v,m,h,w,b,S,Z,k,T,N,x,P,I,B,R;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=null!==(o=null===t||void 0===t?void 0:t.stops)&&void 0!==o?o:this.stops,c=null!==(i=null===t||void 0===t?void 0:t.pointBarriers)&&void 0!==i?i:Fe(this.pointBarriers),f=null!==(a=null===t||void 0===t?void 0:t.polylineBarriers)&&void 0!==a?a:Fe(this.polylineBarriers),v=null!==(u=null===t||void 0===t?void 0:t.polygonBarriers)&&void 0!==u?u:Fe(this.polygonBarriers),!(0,y.t)(p)){e.next=3;break}throw new d.a("routelayer:undefined-stops","the route layer must have stops defined in the route parameters.");case 3:if(!((qe(p)||He(p))&&p.features.length<2||g.j.isCollection(p)&&p.length<2)){e.next=5;break}throw new d.a("routelayer:insufficent-stops","the route layer must have two or more stops to solve a route.");case 5:if(g.j.isCollection(p)){m=(0,s.Z)(p);try{for(m.s();!(h=m.n()).done;)h.value.routeName=null}catch(n){m.e(n)}finally{m.f()}}return w=null===t||void 0===t?void 0:t.apiKey,b=this.url,e.next=10,this._getServiceDescription(b,w,r);case 10:for(I in S=e.sent,Z=Ve(S),k=null!==(l=null===t||void 0===t?void 0:t.travelMode)&&void 0!==l?l:Z,T=(0,y.a6)(null===t||void 0===t?void 0:t.accumulateAttributes,[]),(0,y.r)(k)&&(T.push(k.distanceAttributeName),k.timeAttributeName&&T.push(k.timeAttributeName)),N={startTime:new Date},x={accumulateAttributes:T,directionsOutputType:"featuresets",ignoreInvalidLocations:!0,pointBarriers:c,polylineBarriers:f,polygonBarriers:v,preserveFirstStop:!0,preserveLastStop:!0,returnBarriers:!!c,returnDirections:!0,returnPolygonBarriers:!!v,returnPolylineBarriers:!!f,returnRoutes:!0,returnStops:!0,stops:p},P=t?Je.from(t):new Je,N)null==P[I]&&(P[I]=N[I]);return P.set(x),e.prev=18,e.next=21,Be(b,P,r);case 21:B=e.sent,e.next=27;break;case 24:throw e.prev=24,e.t0=e.catch(18),(0,d.u)(e.t0)?e.t0:new d.a("routelayer:failed-route-request","the routing request failed",{error:e.t0});case 27:return R=this._toRouteLayerSolution(B),e.abrupt("return",(this._isOverridden("title")||(this.title=(0,y.a6)(R.routeInfo.name,"Route")),Ke(R,S,P),R));case 29:case"end":return e.stop()}}),e,this,[[18,24]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"update",value:function(e){var t=e.stops,r=e.directionLines,n=e.directionPoints,o=e.pointBarriers,i=e.polylineBarriers,a=e.polygonBarriers,s=e.routeInfo;this.set({stops:t,pointBarriers:o,polylineBarriers:i,polygonBarriers:a}),this._set("directionLines",r),this._set("directionPoints",n),this._set("routeInfo",s)}},{key:"_getNetworkFeatures",value:function(e,t,r,n){var o=this,i=(We(e)?e.layers:e.featureCollection.layers).find((function(e){return e.layerDefinition.name===t}));if((0,y.t)(i))return new g.j;var a=i.layerDefinition,s=i.popupInfo,u=i.featureSet,l=a.drawingInfo.renderer,p=u.features,c=l&&(0,h.o)(l),d=p.map((function(e){var n,i,a,u=v.g.fromJSON(e),l=r(u);return null!==(n=l.symbol)&&void 0!==n||(l.symbol=null!==(i=null===c||void 0===c?void 0:c.getSymbol(u))&&void 0!==i?i:o._getNetworkSymbol(t)),null!==(a=l.popupTemplate)&&void 0!==a||(l.popupTemplate=s&&m.B.fromJSON(s)),l}));return n&&d.some((function(e){return!e.symbol}))&&n(d),new g.j(d)}},{key:"_getNetworkSymbol",value:function(e){switch(e){case"Barriers":return this.defaultSymbols.pointBarriers;case"DirectionPoints":return this.defaultSymbols.directionPoints;case"DirectionLines":return this.defaultSymbols.directionLines;case"PolylineBarriers":return this.defaultSymbols.polylineBarriers;case"PolygonBarriers":return this.defaultSymbols.polygonBarriers;case"RouteInfo":return this.defaultSymbols.routeInfo;case"Stops":return null}}},{key:"_getServiceDescription",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,y.r)(this._cachedServiceDescription)||this._cachedServiceDescription.url!==t){e.next=2;break}return e.abrupt("return",this._cachedServiceDescription.serviceDescription);case 2:return e.next=4,se(t,r,o);case 4:return i=e.sent,e.abrupt("return",(this._cachedServiceDescription={serviceDescription:i,url:t},i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_setStopSymbol",value:function(e){if(e&&0!==e.length&&!(0,y.t)(this.defaultSymbols.stops)&&!e.every((function(e){return(0,y.r)(e.symbol)}))){var t=this.defaultSymbols.stops,r=t.first,n=t.last,i=t.middle,a=t.unlocated,u=t.waypoint,l=t.break;if((0,y.t)(this.routeInfo)||1===e.length)e.forEach((function(t,o){switch(o){case 0:t.symbol=r;break;case e.length-1:t.symbol=n;break;default:t.symbol=i}}));else{var p,c=e.map((function(e){return e.sequence})).filter((function(e){return(0,y.r)(e)})),d=Math.min.apply(Math,(0,o.Z)(c)),f=Math.max.apply(Math,(0,o.Z)(c)),v=(0,s.Z)(e);try{for(v.s();!(p=v.n()).done;){var m=p.value;m.sequence!==d?m.sequence!==f?"ok"===m.status||"not-located-on-closest"===m.status?"waypoint"!==m.locationType?"break"!==m.locationType?m.symbol=i:m.symbol=l:m.symbol=u:m.symbol=a:m.symbol=n:m.symbol=r}}catch(h){v.e(h)}finally{v.f()}}}}},{key:"_toRouteLayerSolution",value:function(e){var t,r,n,o,i,a=this,s=e.routeResults[0].stops.map((function(e){return E.D.fromJSON(e.toJSON())}));this._setStopSymbol(s);var u=new it(s),l=new nt(null===(t=e.polygonBarriers)||void 0===t?void 0:t.map((function(e){var t=E.g.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.polygonBarriers,t}))),p=new ot(null===(r=e.polylineBarriers)||void 0===r?void 0:r.map((function(e){var t=E.a.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.polylineBarriers,t}))),c=new rt(null===(n=e.pointBarriers)||void 0===n?void 0:n.map((function(e){var t=E.O.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.pointBarriers,t}))),d=E.c.fromJSON(e.routeResults[0].route.toJSON());d.symbol=this.defaultSymbols.routeInfo;var y=new tt(null===(o=e.routeResults[0].directionPoints)||void 0===o?void 0:o.features.map((function(e){var t=E.h.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.directionPoints,t})));return{directionLines:new et(null===(i=e.routeResults[0].directionLines)||void 0===i?void 0:i.features.map((function(e){var t=E.b.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.directionLines,t}))),directionPoints:y,pointBarriers:c,polygonBarriers:l,polylineBarriers:p,routeInfo:d,stops:u}}},{key:"_writeDirectionLines",value:function(){return this._writeNetworkFeatures(this.directionLines,this.defaultSymbols.directionLines,"esriGeometryPolyline",E.b.fields,E.b.popupInfo,"DirectionLines","Direction Lines")}},{key:"_writeDirectionPoints",value:function(){return this._writeNetworkFeatures(this.directionPoints,this.defaultSymbols.directionPoints,"esriGeometryPoint",E.h.fields,E.h.popupInfo,"DirectionPoints","Direction Points")}},{key:"_writeNetworkFeatures",value:function(e,t,r,n,o,i,a){return(0,y.t)(e)||!e.length?null:{featureSet:{features:e.toArray().map((function(e){return function(e){var t=e.toGraphic().toJSON();return{attributes:t.attributes,geometry:t.geometry,popupInfo:t.popupTemplate,symbol:t.symbol}}(e)})),geometryType:r},layerDefinition:{capabilities:"Query,Update,Editing",drawingInfo:{renderer:{type:"simple",symbol:(0,y.r)(t)?t.toJSON():ze(r)}},extent:this.fullExtent.toJSON(),fields:n,geometryType:r,hasM:!1,hasZ:!1,maxScale:this.maxScale,minScale:this.minScale,name:i,objectIdField:"__OBJECTID",spatialReference:this.spatialReference.toJSON(),title:a,type:"Feature Layer",typeIdField:""},popupInfo:o}}},{key:"_writePointBarriers",value:function(){return this._writeNetworkFeatures(this.pointBarriers,this.defaultSymbols.pointBarriers,"esriGeometryPoint",E.O.fields,E.O.popupInfo,"Barriers","Point Barriers")}},{key:"_writePolygonBarriers",value:function(){return this._writeNetworkFeatures(this.polygonBarriers,this.defaultSymbols.polygonBarriers,"esriGeometryPolygon",E.g.fields,E.g.popupInfo,"PolygonBarriers","Polygon Barriers")}},{key:"_writePolylineBarriers",value:function(){return this._writeNetworkFeatures(this.polylineBarriers,this.defaultSymbols.polylineBarriers,"esriGeometryPolyline",E.a.fields,E.a.popupInfo,"PolylineBarriers","Line Barriers")}},{key:"_writeRouteInfo",value:function(){return this._writeNetworkFeatures((0,y.r)(this.routeInfo)?new g.j([this.routeInfo]):null,this.defaultSymbols.routeInfo,"esriGeometryPolyline",E.c.fields,E.c.popupInfo,"RouteInfo","Route Details")}},{key:"_writeStops",value:function(){var e=this._writeNetworkFeatures(this.stops,null,"esriGeometryPoint",E.D.fields,E.D.popupInfo,"Stops","Stops");if((0,y.t)(e))return null;var t=this.defaultSymbols.stops,r=(0,y.r)(t)&&(0,y.r)(t.first)&&t.first.toJSON(),n=(0,y.r)(t)&&(0,y.r)(t.middle)&&t.middle.toJSON(),o=(0,y.r)(t)&&(0,y.r)(t.last)&&t.last.toJSON();return e.layerDefinition.drawingInfo.renderer={type:"uniqueValue",field1:"Sequence",defaultSymbol:n,uniqueValueInfos:[{value:"1",symbol:r,label:"First Stop"},{value:"".concat(this.stops.length),symbol:o,label:"Last Stop"}]},e}}]),r}((0,B.a)((0,O.t)((0,R.c)((0,j.v)((0,b.O)((0,w.a)(I.b)))))));(0,d.e)([(0,d.d)({readOnly:!0,json:{read:!1,origins:{"portal-item":{write:{allowNull:!0,ignoreOrigin:!0}},"web-map":{write:{overridePolicy:function(){return{allowNull:!0,ignoreOrigin:null==this.portalItem}}}}}}})],st.prototype,"_featureCollection",void 0),(0,d.e)([(0,T.r)(["web-map","portal-item"],"_featureCollection")],st.prototype,"writeFeatureCollectionWebmap",null),(0,d.e)([(0,d.d)({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{target:"type",overridePolicy:function(){return{ignoreOrigin:null!=this.portalItem}}}}}}})],st.prototype,"_type",void 0),(0,d.e)([(0,d.d)({nonNullable:!0,type:Q})],st.prototype,"defaultSymbols",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],st.prototype,"directionLines",void 0),(0,d.e)([(0,T.o)(["web-map","portal-item"],"directionLines",["layers","featureCollection.layers"])],st.prototype,"readDirectionLines",null),(0,d.e)([(0,d.d)({readOnly:!0})],st.prototype,"directionPoints",void 0),(0,d.e)([(0,T.o)(["web-map","portal-item"],"directionPoints",["layers","featureCollection.layers"])],st.prototype,"readDirectionPoints",null),(0,d.e)([(0,d.d)({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],st.prototype,"featureCollectionType",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],st.prototype,"fullExtent",null),(0,d.e)([(0,d.d)({json:{origins:{"web-map":{name:"featureCollection.showLegend"}},write:!0}})],st.prototype,"legendEnabled",void 0),(0,d.e)([(0,d.d)({type:["show","hide"]})],st.prototype,"listMode",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,json:{write:!1}})],st.prototype,"maxScale",void 0),(0,d.e)([(0,T.o)(["web-map","portal-item"],"maxScale",["layers","featureCollection.layers"])],st.prototype,"readMaxScale",null),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,json:{write:!1}})],st.prototype,"minScale",void 0),(0,d.e)([(0,T.o)(["web-map","portal-item"],"minScale",["layers","featureCollection.layers"])],st.prototype,"readMinScale",null),(0,d.e)([(0,d.d)({type:["ArcGISFeatureLayer"],value:"ArcGISFeatureLayer"})],st.prototype,"operationalLayerType",void 0),(0,d.e)([(0,d.d)({nonNullable:!0,type:g.j.ofType(E.O)})],st.prototype,"pointBarriers",void 0),(0,d.e)([(0,T.o)(["web-map","portal-item"],"pointBarriers",["layers","featureCollection.layers"])],st.prototype,"readPointBarriers",null),(0,d.e)([(0,d.d)({nonNullable:!0,type:g.j.ofType(E.g)})],st.prototype,"polygonBarriers",void 0),(0,d.e)([(0,T.o)(["web-map","portal-item"],"polygonBarriers",["layers","featureCollection.layers"])],st.prototype,"readPolygonBarriers",null),(0,d.e)([(0,d.d)({nonNullable:!0,type:g.j.ofType(E.a)})],st.prototype,"polylineBarriers",void 0),(0,d.e)([(0,T.o)(["web-map","portal-item"],"polylineBarriers",["layers","featureCollection.layers"])],st.prototype,"readPolylineBarriers",null),(0,d.e)([(0,d.d)({readOnly:!0})],st.prototype,"routeInfo",void 0),(0,d.e)([(0,T.o)(["web-map","portal-item"],"routeInfo",["layers","featureCollection.layers"])],st.prototype,"readRouteInfo",null),(0,d.e)([(0,d.d)({type:T.k})],st.prototype,"spatialReference",void 0),(0,d.e)([(0,T.o)(["web-map","portal-item"],"spatialReference",["layers","featureCollection.layers"])],st.prototype,"readSpatialReference",null),(0,d.e)([(0,d.d)({nonNullable:!0,type:g.j.ofType(E.D)})],st.prototype,"stops",void 0),(0,d.e)([(0,T.o)(["web-map","portal-item"],"stops",["layers","featureCollection.layers"])],st.prototype,"readStops",null),(0,d.e)([(0,d.d)()],st.prototype,"title",null),(0,d.e)([(0,d.d)({readOnly:!0,json:{read:!1}})],st.prototype,"type",void 0),(0,d.e)([(0,d.d)()],st.prototype,"url",null);var ut=st=(0,d.e)([(0,d.n)("esri.layers.RouteLayer")],st);t.default=ut},93874:function(e,t,r){r.d(t,{t:function(){return u}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(23132),u=(r(75610),function(e){var t=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).minScale=0,e.maxScale=0,e}return(0,o.Z)(r,[{key:"effectiveScaleRange",get:function(){var e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);var r=this._get("effectiveScaleRange");return r&&r.minScale===e.minScale&&r.maxScale===e.maxScale?r:e}}]),r}(e);return(0,s.e)([(0,s.d)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,s.e)([(0,s.d)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,s.e)([(0,s.d)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,s.e)([(0,s.n)("esri.layers.mixins.ScaleRangeLayer")],t)})},77389:function(e,t,r){r.d(t,{o:function(){return i}});var n=r(1413),o=r(23132);function i(e,t){var r=t?(0,n.Z)((0,n.Z)({},t),{},{source:e}):e;return(0,o.d)({aliasOf:r})}},97866:function(e,t,r){r.d(t,{I:function(){return S},L:function(){return w},S:function(){return g},b:function(){return b},d:function(){return d},g:function(){return h},h:function(){return v},j:function(){return Z},m:function(){return y},w:function(){return f},y:function(){return m}});var n=r(29439),o=r(75610),i=r(57714),a=r(96349),s={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},u=Object.values(s),l=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(".concat(u.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),p=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(".concat(u.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),c=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function d(e){return!!l.test(e)}function y(e){if((0,o.t)(e))return null;var t=(0,i.j)(e),r=t.path.match(l)||t.path.match(p);if(!r)return null;var a=(0,n.Z)(r,5),u=a[1],c=a[2],d=a[3],y=a[4],f=c.indexOf("/");return{title:v(-1!==f?c.slice(f+1):c),serverType:s[d.toLowerCase()],sublayer:null!=y&&""!==y?parseInt(y,10):null,url:{path:u}}}function f(e){var t=(0,i.j)(e).path.match(c);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function v(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function m(e,t){var r=[];if(e){var n=y(e);(0,o.r)(n)&&n.title&&r.push(n.title)}if(t){var i=v(t);r.push(i)}if(2===r.length){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function h(e){if(!e)return!1;var t=(e=e.toLowerCase()).includes(".arcgis.com/"),r=e.includes("//services")||e.includes("//tiles")||e.includes("//features");return t&&r}function g(e,t){return e?(0,i.C)((0,i.A)(e,t)):e}function w(e){var t=e.url;if(!t)return{url:t};t=(0,i.A)(t,e.logger);var r,n=(0,i.j)(t),a=y(n.path);if((0,o.r)(a))null!=a.sublayer&&null==e.layer.layerId&&(r=a.sublayer),t=a.url.path;else if(e.nonStandardUrlAllowed){var s=f(n.path);(0,o.r)(s)&&(t=s.serviceUrl,r=s.sublayerId)}return{url:(0,i.C)(t),layerId:r}}function b(e,t,r,n,o){(0,a.p)(t,n,"url",o),n.url&&null!=e.layerId&&(n.url=(0,i.G)(n.url,r,e.layerId.toString()))}function S(e){if(!e)return!1;var t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),o=t.includes("/imageserver/wmsserver"),i=t.includes("/wmsserver");return r&&(n||o||i)}function Z(e){if(!e)return!1;var t=new i.y((0,i.Q)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},44932:function(e,t,r){r.d(t,{t:function(){return n}});var n={type:String,json:{read:{source:"token"},write:{target:"token"}}}},50448:function(e,t,r){r.d(t,{r:function(){return i}});var n=r(57714),o=r(23132);function i(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e instanceof n.s?e:new n.s(e,r),a={type:null===(t=null===r||void 0===r?void 0:r.ignoreUnknown)||void 0===t||t?i.apiValues:String,json:{type:i.jsonValues,read:!(null!==r&&void 0!==r&&r.readOnly)&&{reader:i.read},write:{writer:i.write}}};return void 0!==(null===r||void 0===r?void 0:r.readOnly)&&(a.readOnly=!!r.readOnly),void 0!==(null===r||void 0===r?void 0:r.default)&&(a.json.default=r.default),void 0!==(null===r||void 0===r?void 0:r.name)&&(a.json.name=r.name),(0,o.d)(a)}},69797:function(e,t,r){r.d(t,{i:function(){return n}});var n=new(r(57714).s)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},91204:function(e,t,r){r.d(t,{a:function(){return u},i:function(){return p},t:function(){return l}});var n=r(23132),o=r(80262),i=r(30709),a=r(36460),s=r(57714),u=(0,s.o)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),l=(0,s.o)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),p={base:i.p,key:"type",typeMap:{extent:o.M,multipoint:a.a,point:i.j,polyline:a.m,polygon:a.v}};(0,n.N)(p)},30604:function(e,t,r){r.d(t,{a:function(){return v},c:function(){return c},d:function(){return d},f:function(){return u},l:function(){return l},s:function(){return s},v:function(){return y},y:function(){return p}});var n=r(75610),o=r(80262),i=r(30709),a=r(36460);function s(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function u(e){return void 0!==e.points}function l(e){return void 0!==e.x&&void 0!==e.y}function p(e){return void 0!==e.paths}function c(e){return void 0!==e.rings}function d(e){return(0,n.t)(e)?null:e instanceof i.p?e:l(e)?i.j.fromJSON(e):p(e)?a.m.fromJSON(e):c(e)?a.v.fromJSON(e):u(e)?a.a.fromJSON(e):s(e)?o.M.fromJSON(e):null}function y(e){return e?l(e)?"esriGeometryPoint":p(e)?"esriGeometryPolyline":c(e)?"esriGeometryPolygon":s(e)?"esriGeometryEnvelope":u(e)?"esriGeometryMultipoint":null:null}var f={esriGeometryPoint:i.j,esriGeometryPolyline:a.m,esriGeometryPolygon:a.v,esriGeometryEnvelope:o.M,esriGeometryMultipoint:a.a};function v(e){return e&&f[e]||null}},98805:function(e,t,r){function n(e){return e&&"getAtOrigin"in e&&"originOf"in e}r.d(t,{i:function(){return n}})},1241:function(e,t,r){r.d(t,{L:function(){return I},i:function(){return v},r:function(){return f},s:function(){return m},z:function(){return R}});var n=r(74165),o=r(1413),i=r(29439),a=r(15861),s=r(37762),u=r(75610),l=r(23132),p=r(36460),c=r(30709),d=r(30604),y=(r(91204),r(57714)),f={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new p.m({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:c.k.WebMercator}),minus180Line:new p.m({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:c.k.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new p.m({paths:[[[180,-180],[180,180]]],spatialReference:c.k.WGS84}),minus180Line:new p.m({paths:[[[-180,-180],[-180,180]]],spatialReference:c.k.WGS84})}};function v(e,t){return Math.ceil((e-t)/(2*t))}function m(e,t){var r,n=h(e),o=(0,s.Z)(n);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,u=(0,s.Z)(a);try{for(u.s();!(i=u.n()).done;){i.value[0]+=t}}catch(l){u.e(l)}finally{u.f()}}}catch(l){o.e(l)}finally{o.f()}return e}function h(e){return(0,d.c)(e)?e.rings:e.paths}function g(e,t,r,n){return w.apply(this,arguments)}function w(){return w=(0,a.Z)((0,n.Z)().mark((function e(t,r,i,a){var s,u,l,p,c,f,v,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="string"==typeof t?(0,y.j)(t):t,u=r[0].spatialReference,l=(0,o.Z)((0,o.Z)({},a),{},{query:(0,o.Z)((0,o.Z)({},s.query),{},{f:"json",sr:JSON.stringify(u),target:JSON.stringify({geometryType:(0,d.v)(r[0]),geometries:r}),cutter:JSON.stringify(i)})}),e.next=5,(0,y.U)(s.path+"/cut",l);case 5:return p=e.sent,c=p.data,f=c.cutIndexes,v=c.geometries,m=void 0===v?[]:v,e.abrupt("return",{cutIndexes:f,geometries:m.map((function(e){var t=(0,d.d)(e);return t.spatialReference=u,t}))});case 11:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function b(e,t,r){return S.apply(this,arguments)}function S(){return S=(0,a.Z)((0,n.Z)().mark((function e(t,r,i){var a,s,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="string"==typeof t?(0,y.j)(t):t,s=r[0].spatialReference,u=(0,d.v)(r[0]),l=(0,o.Z)((0,o.Z)({},i),{},{query:(0,o.Z)((0,o.Z)({},a.query),{},{f:"json",sr:s.wkid?s.wkid:JSON.stringify(s),geometries:JSON.stringify(Z(r))})}),e.t0=k,e.next=4,(0,y.U)(a.path+"/simplify",l);case 4:return e.t1=e.sent.data,e.t2=u,e.t3=s,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function Z(e){return{geometryType:(0,d.v)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function k(e,t,r){var n=(0,d.a)(t);return e.map((function(e){var t=n.fromJSON(e);return t.spatialReference=r,t}))}var T=l.s.getLogger("esri.geometry.support.normalizeUtils");function N(e,t,r){if(t){var n=function(e,t){if(!(e instanceof p.m||e instanceof p.v)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw T.error(r),new l.a(r)}var n,o=h(e),i=[],a=(0,s.Z)(o);try{for(a.s();!(n=a.n()).done;){var u=n.value,c=[];i.push(c),c.push([u[0][0],u[0][1]]);for(var d=0;d<u.length-1;d++){var y=u[d][0],f=u[d][1],v=u[d+1][0],m=u[d+1][1],g=Math.sqrt((v-y)*(v-y)+(m-f)*(m-f)),w=(m-f)/g,b=(v-y)/g,S=g/t;if(S>1){for(var Z=1;Z<=S-1;Z++){var k=Z*t,N=b*k+y,x=w*k+f;c.push([N,x])}var P=(g+Math.floor(S-1)*t)/2,I=b*P+y,B=w*P+f;c.push([I,B])}c.push([v,m])}}}catch(R){a.e(R)}finally{a.f()}return function(e){return"polygon"===e.type}(e)?new p.v({rings:i,spatialReference:e.spatialReference}):new p.m({paths:i,spatialReference:e.spatialReference})}(e,1e6);e=(0,c.a)(n,!0)}return r&&(e=m(e,r)),e}function x(e,t,r){if(Array.isArray(e)){var n=e[0];if(n>t){var o=v(n,t);e[0]=n+o*(-2*t)}else if(n<r){var i=v(n,r);e[0]=n+i*(-2*r)}}else{var a=e.x;if(a>t){var s=v(a,t);e=e.clone().offset(s*(-2*t),0)}else if(a<r){var u=v(a,r);e=e.clone().offset(u*(-2*r),0)}}return e}function P(e,t){for(var r=-1,n=function(n){for(var o=t.cutIndexes[n],i=t.geometries[n],a=h(i),u=function(e){var t=a[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,o=0;o<t.length;o++){var a=t[o][0];n=a>n?a:n}for(var s=-360*v(n=Number(n.toFixed(9)),180),u=0;u<t.length;u++){var l=i.getPoint(e,u);i.setPoint(e,u,l.clone().offset(s,0))}return!0}))},l=0;l<a.length;l++)u(l);if(o===r){if(function(e){return"polygon"===e[0].type}(e)){var p,c=(0,s.Z)(h(i));try{for(c.s();!(p=c.n()).done;){var d=p.value;e[o]=e[o].addRing(d)}}catch(g){c.e(g)}finally{c.f()}}else if(function(e){return"polyline"===e[0].type}(e)){var y,f=(0,s.Z)(h(i));try{for(f.s();!(y=f.n()).done;){var m=y.value;e[o]=e[o].addPath(m)}}catch(g){f.e(g)}finally{f.f()}}}else r=o,e[o]=i},o=0;o<t.cutIndexes.length;o++)n(o);return e}function I(e,t,r){return B.apply(this,arguments)}function B(){return B=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i,a,l,d,y,h,w,S,Z,k,B,R,j,O,L,_,A,D,M,C,G,U,E,J,F,V,z,W,q,H,K,Y,Q,X,$,ee,te,re,ne,oe,ie;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",I([t],r));case 2:r&&"string"!=typeof r&&T.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead"),a="string"==typeof r?r:null!==(i=null===r||void 0===r?void 0:r.url)&&void 0!==i?i:u.b.geometryServiceUrl,B=0,R=[],j=[],O=(0,s.Z)(t);try{for(O.s();!(L=O.n()).done;)_=L.value,(0,u.t)(_)?j.push(_):(l||(l=_.spatialReference,d=(0,c.b)(l),y=l.isWebMercator,h=f[S=y?102100:4326].maxX,w=f[S].minX,Z=f[S].plus180Line,k=f[S].minus180Line),d?"mesh"===_.type?j.push(_):"point"===_.type?j.push(x(_.clone(),h,w)):"multipoint"===_.type?((A=_.clone()).points=A.points.map((function(e){return x(e,h,w)})),j.push(A)):"extent"===_.type?(D=_.clone()._normalize(!1,!1,d),j.push(D.rings?new p.v(D):D)):_.extent?(M=_.extent,C=v(M.xmin,w)*(2*h),G=0===C?_.clone():m(_.clone(),C),M.offset(C,0),M.intersects(Z)&&M.xmax!==h?(B=M.xmax>B?M.xmax:B,G=N(G,y),R.push(G),j.push("cut")):M.intersects(k)&&M.xmin!==w?(B=M.xmax*(2*h)>B?M.xmax*(2*h):B,G=N(G,y,360),R.push(G),j.push("cut")):j.push(G)):j.push(_.clone()):j.push(_))}catch(n){O.e(n)}finally{O.f()}for(U=v(B,h),E=-90,J=U,F=new p.m;U>0;)V=360*U-180,F.addPath([[V,E],[V,-1*E]]),E*=-1,U--;if(!(R.length>0&&J>0)){e.next=29;break}return e.t0=P,e.t1=R,e.next=16,g(a,R,F,o);case 16:for(e.t2=e.sent,z=(0,e.t0)(e.t1,e.t2),W=[],q=[],H=0;H<j.length;H++)"cut"!==(K=j[H])?q.push(K):(Y=z.shift(),Q=t[H],(0,u.r)(Q)&&"polygon"===Q.type&&Q.rings&&Q.rings.length>1&&Y.rings.length>=Q.rings.length?(W.push(Y),q.push("simplify")):q.push(y?(0,c.R)(Y):Y));if(W.length){e.next=23;break}return e.abrupt("return",q);case 23:return e.next=25,b(a,W,o);case 25:for(X=e.sent,$=[],ee=0;ee<q.length;ee++)"simplify"!==(te=q[ee])?$.push(te):$.push(y?(0,c.R)(X.shift()):X.shift());return e.abrupt("return",$);case 29:for(re=[],ne=0;ne<j.length;ne++)"cut"!==(oe=j[ne])?re.push(oe):(ie=R.shift(),re.push(!0===y?(0,c.R)(ie):ie));return e.abrupt("return",re);case 32:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function R(e,t){var r=(0,c.b)(t);if(r){var n=(0,i.Z)(r.valid,2),o=n[0],a=n[1],s=a-o;if(e<o)for(;e<o;)e+=s;if(e>a)for(;e>a;)e-=s}return e}},41742:function(e,t,r){r.d(t,{L:function(){return w},S:function(){return g},m:function(){return T},u:function(){return k}});var n=r(1413),o=r(57714),i=r(43920),a=r(75610),s={year:"numeric",month:"numeric",day:"numeric"},u={year:"numeric",month:"long",day:"numeric"},l={year:"numeric",month:"short",day:"numeric"},p={year:"numeric",month:"long",weekday:"long",day:"numeric"},c={hour:"numeric",minute:"numeric"},d=(0,n.Z)((0,n.Z)({},c),{},{second:"numeric"}),y={"short-date":s,"short-date-short-time":(0,n.Z)((0,n.Z)({},s),c),"short-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),c),{},{hour12:!1}),"short-date-long-time":(0,n.Z)((0,n.Z)({},s),d),"short-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),d),{},{hour12:!1}),"short-date-le":s,"short-date-le-short-time":(0,n.Z)((0,n.Z)({},s),c),"short-date-le-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),c),{},{hour12:!1}),"short-date-le-long-time":(0,n.Z)((0,n.Z)({},s),d),"short-date-le-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),d),{},{hour12:!1}),"long-month-day-year":u,"long-month-day-year-short-time":(0,n.Z)((0,n.Z)({},u),c),"long-month-day-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),c),{},{hour12:!1}),"long-month-day-year-long-time":(0,n.Z)((0,n.Z)({},u),d),"long-month-day-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),d),{},{hour12:!1}),"day-short-month-year":l,"day-short-month-year-short-time":(0,n.Z)((0,n.Z)({},l),c),"day-short-month-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),c),{},{hour12:!1}),"day-short-month-year-long-time":(0,n.Z)((0,n.Z)({},l),d),"day-short-month-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),d),{},{hour12:!1}),"long-date":p,"long-date-short-time":(0,n.Z)((0,n.Z)({},p),c),"long-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},p),c),{},{hour12:!1}),"long-date-long-time":(0,n.Z)((0,n.Z)({},p),d),"long-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},p),d),{},{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":c,"long-time":d},f=(0,o.o)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});f.toJSON.bind(f),f.fromJSON.bind(f);var v={ar:"ar-u-nu-latn-ca-gregory"},m=new WeakMap,h=y["short-date-short-time"];function g(e){return y[e]||null}function w(e,t){return function(e){var t=e||h;if(!m.has(t)){var r=(0,i.l)(),n=v[(0,i.l)()]||r;m.set(t,new Intl.DateTimeFormat(n,t))}return m.get(t)}(t).format(e)}(0,i.g)((function(){m=new WeakMap,h=y["short-date-short-time"]}));var b={ar:"ar-u-nu-latn"},S=new WeakMap,Z={};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function T(e,t){return-0===e&&(e=0),function(e){var t=e||Z;if(!S.has(t)){var r=(0,i.l)(),n=b[(0,i.l)()]||r;S.set(t,new Intl.NumberFormat(n,e))}return(0,a.q)(S.get(t))}(t).format(e)}(0,i.g)((function(){S=new WeakMap,Z={}}))},81905:function(e,t,r){r.d(t,{i:function(){return o}});var n=r(98805);function o(e){e&&e.writtenProperties&&e.writtenProperties.forEach((function(e){var t=e.target,r=e.propName,o=e.newOrigin;(0,n.i)(t)&&o&&t.originOf(r)!==o&&t.updateOrigin(r,o)}))}},96349:function(e,t,r){r.d(t,{I:function(){return l},R:function(){return m},U:function(){return f},c:function(){return a},h:function(){return y},i:function(){return i},m:function(){return s},p:function(){return u}});var n=r(75610),o=r(57714);function i(e,t){var r=t&&t.url&&t.url.path;if(e&&r&&(e=(0,o.Q)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){var n=(0,o._)(e,t.portalItem.itemUrl);d.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return v(e,t&&t.portal)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.YES;if(!e)return e;!(0,o.K)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);var n=(0,o.Q)(e);if(t){var i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(i){var a=v(i,t.portal);(n=(0,o._)(v(n,t.portal),a,a))!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=f(n,t&&t.portal),(0,o.K)(n)&&(n=(0,o.F)(n)),null!==t&&void 0!==t&&t.resources&&null!==t&&void 0!==t&&t.portalItem&&!(0,o.K)(n)&&!(0,o.X)(n)&&r===l.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function s(e,t,r){return i(e,r)}function u(e,t,r,n){var o=a(e,n);void 0!==o&&(t[r]=o)}var l,p,c=/\/items\/([^\/]+)\/resources\//,d=/^\.\/resources\//;function y(e){var t=(0,n.r)(e)?e.match(c):null;return(0,n.r)(t)?t[1]:null}function f(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,o.v)(e,"".concat(t.urlKey,".").concat(t.customBaseUrl),t.portalHostname):e}function v(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;var r="".concat(t.urlKey,".").concat(t.customBaseUrl),n=(0,o.b)();return(0,o.z)(n,"".concat(n.scheme,"://").concat(r))?(0,o.v)(e,t.portalHostname,r):(0,o.v)(e,r,t.portalHostname)}(p=l||(l={}))[p.YES=0]="YES",p[p.NO=1]="NO";var m=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:i,toJSON:a,read:s,write:u,itemIdFromResourceUrl:y,ensureMainOnlineDomain:f,get MarkKeep(){return l}},Symbol.toStringTag,{value:"Module"}))},56384:function(e,t,r){r.d(t,{a:function(){return y},c:function(){return d},f:function(){return v},i:function(){return p},s:function(){return c}});var n=r(37762),o=r(74165),i=r(15861),a=r(63022),s=r(30709);function u(e){return l.apply(this,arguments)}function l(){return l=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.spatialReference).isWGS84){e.next=3;break}return e.abrupt("return",t.clone());case 3:if(!r.isWebMercator){e.next=5;break}return e.abrupt("return",(0,s.a)(t));case 5:return n=s.k.WGS84,e.next=8,(0,a.f)(r,n);case 8:return e.abrupt("return",(0,a.r)(t,n));case 9:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e,t){if(!c(e,t)){var r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function c(e,t){var r;return!(null===(r=e.typeKeywords)||void 0===r||!r.includes(t))}function d(e,t){var r=e.typeKeywords;if(r){var n=r.indexOf(t);n>-1&&r.splice(n,1)}}function y(e){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)((0,o.Z)().mark((function e(t){var r,i,a,s,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.clone().normalize()).length>1){a=(0,n.Z)(r);try{for(a.s();!(s=a.n()).done;)l=s.value,i?l.width>i.width&&(i=l):i=l}catch(o){a.e(o)}finally{a.f()}}else i=r[0];return e.abrupt("return",u(i));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"}},36551:function(e,t,r){r.d(t,{P:function(){return d},U:function(){return y},a:function(){return u},f:function(){return a},h:function(){return f},j:function(){return l},l:function(){return i},w:function(){return v}});var n=r(23132),o=r(75610);function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,t,r,p)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,t,r,c)}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,a=null,s=r.once?function(e,r){i(e)&&((0,o.d)(a),t(e,r))}:function(e,r){i(e)&&t(e,r)};if(a=(0,n.P)(e,s,r.sync,r.equals),r.initial){var u=e();s(u,u)}return a}function u(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=null,u=null,l=null;function p(){var e;s&&u&&(u.remove(),null!==(e=a.onListenerRemove)&&void 0!==e&&e.call(a,s),s=null,u=null)}function c(e){a.once&&a.once&&(0,o.d)(l),r(e)}var d=i(e,(function(e,r){var o;p(),(0,n.c)(e)&&(s=e,u=(0,n.f)(e,t,c),null===(o=a.onListenerAdd)||void 0===o||o.call(a,e))}),{sync:a.sync,initial:!0});return l=(0,n.g)((function(){d.remove(),p()}))}function l(e,t){return function(e,t,r){if((0,n.p)(r))return Promise.reject((0,n.m)());var i=e();if(null!==t&&void 0!==t&&t(i))return Promise.resolve(i);var a=null;function u(){a=(0,o.d)(a)}return new Promise((function(o,i){a=(0,n.h)([(0,n.v)(r,(function(){u(),i((0,n.m)())})),s(e,(function(e){u(),o(e)}),{sync:!1,once:!0},null!==t&&void 0!==t?t:p)])}))}(e,c,t)}function p(e){return!0}function c(e){return!!e}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1,o=i(e,(function(e,r){n||t(e,r)}),r);return{remove:function(){o.remove()},pause:function(){n=!0},resume:function(){n=!1}}}var y={sync:!0},f={initial:!0},v={sync:!0,initial:!0}},47642:function(e,t,r){var n,o;function i(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function s(e){return e.valueExpression?n.Expression:e.field&&"string"==typeof e.field?n.Field:n.Unknown}function u(e,t){var r=t||s(e),i=e.valueUnit||"unknown";return r===n.Unknown?o.Constant:e.stops?o.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?o.ClampedLinear:"unknown"===i?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?o.Proportional:o.Additive:o.Identity:o.RealWorldSize}r.d(t,{a:function(){return u},e:function(){return i},i:function(){return o},l:function(){return a},n:function(){return n},t:function(){return s}}),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(n||(n={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(o||(o={}))},69202:function(e,t,r){r.d(t,{e:function(){return a},n:function(){return s},o:function(){return u}});var n=r(1413),o=r(75610),i=r(57714);function a(e,t){return t?(0,n.Z)((0,n.Z)({},t),{},{query:(0,n.Z)((0,n.Z)({},e),t.query)}):{query:e}}function s(e){return"string"==typeof e?(0,i.j)(e):(0,o.m)(e)}function u(e,t,r){var n={};for(var o in e)if("declaredClass"!==o){var i=e[o];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){n[o]=[];for(var a=0;a<i.length;a++)n[o][a]=u(i[a])}else if("object"==typeof i)if(i.toJSON){var s=i.toJSON(r&&r[o]);n[o]=t?s:JSON.stringify(s)}else n[o]=t?i:JSON.stringify(i);else n[o]=i}return n}},69953:function(e,t,r){r.d(t,{o:function(){return s}});var n=r(37762),o=r(75610),i=r(44455),a=r(30709);function s(e,t,r){if((0,o.t)(t)||(0,o.t)(r)||r.vcsWkid||(0,a.E)(t,r))return null;var s=(0,i.W)(t)/(0,i.W)(r);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return function(e){return function(e,t){e&&null!=e.z&&(e.z*=t)}(e,s)};case"polyline":case"esriGeometryPolyline":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.paths);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,s=(0,n.Z)(a);try{for(s.s();!(i=s.n()).done;){var u=i.value;u.length>2&&(u[2]*=t)}}catch(l){s.e(l)}finally{s.f()}}}catch(l){o.e(l)}finally{o.f()}}}(e,s)};case"polygon":case"esriGeometryPolygon":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.rings);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,s=(0,n.Z)(a);try{for(s.s();!(i=s.n()).done;){var u=i.value;u.length>2&&(u[2]*=t)}}catch(l){s.e(l)}finally{s.f()}}}catch(l){o.e(l)}finally{o.f()}}}(e,s)};case"multipoint":case"esriGeometryMultipoint":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.points);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.length>2&&(i[2]*=t)}}catch(a){o.e(a)}finally{o.f()}}}(e,s)};case"extent":case"esriGeometryExtent":return function(e){return function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,s)};default:return null}}}}]);
//# sourceMappingURL=264.c8d237a3.chunk.js.map