{"version":3,"file":"static/js/7783.581e3e6d.chunk.js","mappings":"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","sources":["../node_modules/raleigh-stencil-components/dist/esm/BaseDynamicLayerView2D-06c4d93e.js","../node_modules/raleigh-stencil-components/dist/esm/ExportStrategy-b74e3c1d.js","../node_modules/raleigh-stencil-components/dist/esm/RefreshableLayerView-15301c68.js"],"sourcesContent":["import { s, u as g, e, d as d$1, n } from './cast-c9f1eea6.js';\nimport './find-my-service.water-usage.web-map-6652a32f.js';\nimport { t } from './BitmapContainer-0156ab62.js';\nimport { f } from './LayerView2D-f4c85bf7.js';\nimport { S } from './ExportStrategy-b74e3c1d.js';\nimport { u } from './LayerView-03001e16.js';\nimport { i } from './RefreshableLayerView-15301c68.js';\nimport './index-26d14c0a.js';\nimport './brushes-8b4f05e5.js';\nimport './DefaultUI-23500b6e.js';\nimport './Handles-6253e4a9.js';\nimport './Collection-8b402ffc.js';\nimport './reactiveUtils-06cbe5c2.js';\nimport './jsxFactory-d7365966.js';\nimport './intl-38c0ac13.js';\nimport './number-ae2c4db2.js';\nimport './request-dcfae9ca.js';\nimport './Promise-f5b582cf.js';\nimport './messages-db0946a0.js';\nimport './assets-2d6e521d.js';\nimport './uuid-ac104993.js';\nimport './HandleOwner-f0cf7eb8.js';\nimport './Feature-dc6a7afa.js';\nimport './aliasOf-302286a6.js';\nimport './byteSizeEstimations-5d50d6ff.js';\nimport './Cyclical-355b3d8d.js';\nimport './mathUtils-a0f2962e.js';\nimport './unitUtils-f2581c88.js';\nimport './Point-25b53807.js';\nimport './JSONSupport-a8fff8cd.js';\nimport './Graphic-e13147f5.js';\nimport './geometry-e40ba657.js';\nimport './Extent-739112f1.js';\nimport './Polyline-e1655464.js';\nimport './PopupTemplate-b2586cd6.js';\nimport './fieldUtils-bf3604c5.js';\nimport './enumeration-7851389e.js';\nimport './ActionToggle-ddf1b867.js';\nimport './Identifiable-182801d5.js';\nimport './symbols-523f7d3d.js';\nimport './CIMSymbol-541e0187.js';\nimport './Symbol-c74c167f.js';\nimport './Color-fe77b5a2.js';\nimport './colorUtils-5009883d.js';\nimport './screenUtils-d18b35cd.js';\nimport './opacityUtils-bd2acfd6.js';\nimport './aaBoundingBox-6773141e.js';\nimport './aaBoundingRect-8387dfd1.js';\nimport './persistableUrlUtils-787bab8e.js';\nimport './collectionUtils-4c27d028.js';\nimport './Portal-2f294c3d.js';\nimport './Clonable-cbc27e26.js';\nimport './jsonUtils-a4aa547e.js';\nimport './executeQueryJSON-98424dd3.js';\nimport './utils-c92a06b5.js';\nimport './query-abdcb60d.js';\nimport './normalizeUtils-79cc41f7.js';\nimport './pbfQueryUtils-5efe160d.js';\nimport './pbf-91df3993.js';\nimport './OptimizedFeature-7a2151f0.js';\nimport './OptimizedFeatureSet-261a115b.js';\nimport './queryZScale-79ba6971.js';\nimport './zscale-9fffc765.js';\nimport './FeatureSet-c67c8160.js';\nimport './Field-73b735ba.js';\nimport './fieldType-b66b36cb.js';\nimport './Query-b9b5dbbd.js';\nimport './TimeExtent-9ffd6008.js';\nimport './TopFeaturesQuery-9cd834cf.js';\nimport './utils-88946f85.js';\nimport './ColorStop-8074cdbc.js';\nimport './utils-97742641.js';\nimport './asyncUtils-2a41f73d.js';\nimport './jsonUtils-f36d5e94.js';\nimport './mat4-9dc802e1.js';\nimport './ItemCache-080a62d7.js';\nimport './MemCache-fc020592.js';\nimport './utils-8dafedba.js';\nimport './jsonUtils-d693a2a0.js';\nimport './UniqueValueRenderer-387d2409.js';\nimport './diffUtils-0d7b9013.js';\nimport './colorRamps-5fd5ba08.js';\nimport './sizeVariableUtils-5330814d.js';\nimport './commonProperties-e72e056b.js';\nimport './jsonUtils-2f10b6f8.js';\nimport './styleUtils-bf864441.js';\nimport './DictionaryLoader-27079c9f.js';\nimport './LRUCache-8b0e560a.js';\nimport './deprecate-33377cf9.js';\nimport './heatmapUtils-feafb65d.js';\nimport './vec4f64-d5206b79.js';\nimport './widget-10a08345.js';\nimport './featureConversionUtils-9fcec5a7.js';\nimport './languageUtils-3926f912.js';\nimport './number-035236d4.js';\nimport './FeatureLayer-2c964a53.js';\nimport './MultiOriginJSONSupport-7fd3d75d.js';\nimport './sql-2b4e11a6.js';\nimport './HeightModelInfo-0608cebf.js';\nimport './Layer-298eb6da.js';\nimport './workers-cb2833a5.js';\nimport './APIKeyMixin-62cee664.js';\nimport './ArcGISService-d2a6ef6a.js';\nimport './arcgisLayerUrl-9debb581.js';\nimport './BlendLayer-eb45d16b.js';\nimport './CustomParametersMixin-10306f04.js';\nimport './labelingInfo-f7df8741.js';\nimport './LabelClass-2955f000.js';\nimport './labelUtils-712d5e70.js';\nimport './defaultsJSON-5fb6161d.js';\nimport './OperationalLayer-430596fd.js';\nimport './OrderedLayer-b77fafc1.js';\nimport './PortalLayer-19c5b3b4.js';\nimport './PortalItem-dd734997.js';\nimport './RefreshableLayer-c0c94631.js';\nimport './ScaleRangeLayer-662c36bd.js';\nimport './TemporalLayer-18229317.js';\nimport './TimeInfo-16762380.js';\nimport './FeatureType-57c052c7.js';\nimport './fieldProperties-277f8403.js';\nimport './FieldsIndex-d18e9c64.js';\nimport './LayerFloorInfo-87dafc8f.js';\nimport './versionUtils-87c6ab10.js';\nimport './styleUtils-fe8ec720.js';\nimport './popupUtils-e319a79e.js';\nimport './symbolUtils-8c67dede.js';\nimport './colorUtils-712c89c6.js';\nimport './mat2d-9e4f9cbc.js';\nimport './GoTo-009ae65b.js';\nimport './accessibleHandler-c3afef4d.js';\nimport './vmEvent-c54a9366.js';\nimport './Map-b988cacd.js';\nimport './Basemap-68df6b99.js';\nimport './loadAll-d632c57c.js';\nimport './writeUtils-20da0367.js';\nimport './layerUtils-60cbbb3d.js';\nimport './compilerUtils-040fca9f.js';\nimport './CollectionFlattener-5235b163.js';\nimport './TablesMixin-f0952382.js';\nimport './GraphicsCollection-00741f74.js';\nimport './Scheduler-48a553d9.js';\nimport './heightModelInfoUtils-274c24d4.js';\nimport './ViewingMode-4a1cffad.js';\nimport './projection-b1ffa09f.js';\nimport './Viewpoint-6b893224.js';\nimport './mat3-02e39436.js';\nimport './vec2-0a4143d2.js';\nimport './vec2f32-cef742ee.js';\nimport './vec2f64-ccb73ed3.js';\nimport './capabilities-e41235f9.js';\nimport './context-util-371f41bc.js';\nimport './enums-4770f29d.js';\nimport './pixelUtils-9f96e6e1.js';\nimport './DisplayObject-b4a7181c.js';\nimport './DefaultVertexAttributeLayouts-30108ca9.js';\nimport './FramebufferObject-2d251ae6.js';\nimport './Texture-51faeead.js';\nimport './VertexElementDescriptor-3b53aa99.js';\nimport './enums-6ac2a162.js';\nimport './Utils-a977b5e8.js';\nimport './number-0cb95514.js';\nimport './ProgramTemplate-3c9c9090.js';\nimport './Program-01718387.js';\nimport './MaterialKey-f31e1384.js';\nimport './alignmentUtils-4bbd02ca.js';\nimport './utils-d074aeae.js';\nimport './StyleDefinition-b27f779b.js';\nimport './config-5446e136.js';\nimport './GeometryUtils-544c258a.js';\nimport './WGLContainer-c8319944.js';\nimport './Container-05a75f54.js';\nimport './EffectView-38cce991.js';\nimport './earcut-4e6b97b1.js';\nimport './TileInfo-fe578266.js';\nimport './Bitmap-70e002ca.js';\nimport './TileStore-d6ea2cda.js';\nimport './TileKey-9dc68315.js';\nimport './quickselect-d6c9284c.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst h=s.getLogger(\"esri.views.2d.layers.BaseDynamicLayerView2D\");let c=class extends(i(f(u))){update(t){this.strategy.update(t).catch((t=>{g(t)||h.error(t);})),this.notifyChange(\"updating\");}attach(){this._bitmapContainer=new t,this.container.addChild(this._bitmapContainer),this.strategy=new S({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)});}detach(){this.strategy.destroy(),this.strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren();}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate();}fetchBitmapData(t,e,r){return this.layer.fetchImage(t,e,r)}async doRefresh(){this.requestUpdate();}isUpdating(){return this.strategy.updating||this.updateRequested}};e([d$1()],c.prototype,\"strategy\",void 0),e([d$1()],c.prototype,\"updating\",void 0),c=e([n(\"esri.views.2d.layers.BaseDynamicLayerView2D\")],c);const d=c;\n\nexport default d;\n","import { e as e$1, d, n as n$1, y as y$1, x as x$1 } from './cast-c9f1eea6.js';\nimport './find-my-service.water-usage.web-map-6652a32f.js';\nimport { M } from './Extent-739112f1.js';\nimport { u as u$2 } from './aaBoundingRect-8387dfd1.js';\nimport { b as R } from './Point-25b53807.js';\nimport { S as S$1 } from './TileInfo-fe578266.js';\nimport { v } from './Bitmap-70e002ca.js';\nimport { h } from './TileStore-d6ea2cda.js';\nimport { e } from './TileKey-9dc68315.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(n){return n*t}function r(t,o){const r=n(o.rotation),u=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),[s,c]=o.size;return t[0]=Math.round(c*a+s*u),t[1]=Math.round(c*u+s*a),t}function u$1(t,n,o,r){const[u,a]=n,[s,c]=r,i=.5*o;return t[0]=u-i*s,t[1]=a-i*c,t[2]=u+i*s,t[3]=a+i*c,t}\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst u=u$2(),g=[0,0],f=new e(0,0,0,0),x={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let y=class extends y$1{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=x.hidpi,this.imageMaxWidth=x.imageMaxWidth,this.imageMaxHeight=x.imageMaxHeight,this.imageRotationSupported=x.imageRotationSupported,this.imageNormalizationSupported=x.imageNormalizationSupported,this.update=x$1((async(t,e)=>{if(!t.stationary||this.destroyed)return null;const i=t.state,o=R(i.spatialReference),r$1=this.hidpi?t.pixelRatio:1,s=this.imageNormalizationSupported&&i.worldScreenWidth&&i.worldScreenWidth<i.size[0];s?(g[0]=i.worldScreenWidth,g[1]=i.size[1]):this.imageRotationSupported?(g[0]=i.size[0],g[1]=i.size[1]):r(g,i);const a=Math.floor(g[0]*r$1)>this.imageMaxWidth||Math.floor(g[1]*r$1)>this.imageMaxHeight,n=o&&(i.extent.xmin<o.valid[0]||i.extent.xmax>o.valid[1]),l=!this.imageNormalizationSupported&&n,d=!a&&!l,h=this.imageRotationSupported?i.rotation:0;if(d){const t=s?i.paddedViewState.center:i.center;this._imagePromise=this._singleExport(i,g,t,i.resolution,h,r$1,e);}else {let t=Math.min(this.imageMaxWidth,this.imageMaxHeight);l&&(t=Math.min(i.worldScreenWidth,t)),this._imagePromise=this._tiledExport(i,t,r$1,e);}return this._imagePromise.then((async t=>{if(this._imagePromise=null,!this.destroyed){this.bitmaps=t??[];for(const e of this.container.children)t.includes(e)||e.fadeOut().then((()=>{e.remove();}));for(const e of t)this.container.addChild(e),e.fadeIn();}})).catch((t=>{throw this._imagePromise=null,t}))}),5e3);}destroy(){this.bitmaps=[];}get updating(){return !this.destroyed&&null!==this._imagePromise}updateExports(t){for(const e of this.container.children){if(!e.visible||!e.stage)return;t(e),e.invalidateTexture(),e.requestRender();}}async _export(t,e,i,o,r,s){const a=await this.fetchSource(t,Math.floor(e*r),Math.floor(i*r),{rotation:o,pixelRatio:r,signal:s}),p=new v(a,\"additive\");return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=o,p.pixelRatio=r,p}async _singleExport(t,e,i,o,r,a,p){u$1(u,i,o,e);const n=new M(u[0],u[1],u[2],u[3],t.spatialReference);return [await this._export(n,e[0],e[1],r,a,p)]}_tiledExport(t,e,i,o){const r=S$1.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),a=new h(r),p=a.getTileCoverage(t);if(!p)return null;const m=[];return p.forEach(((r,p,n,l)=>{f.set(r,p,n,l),a.getTileBounds(u,f);const d=new M(u[0],u[1],u[2],u[3],t.spatialReference);m.push(this._export(d,e,e,0,i,o));})),Promise.all(m)}};e$1([d()],y.prototype,\"_imagePromise\",void 0),e$1([d()],y.prototype,\"bitmaps\",void 0),e$1([d()],y.prototype,\"container\",void 0),e$1([d()],y.prototype,\"fetchSource\",void 0),e$1([d()],y.prototype,\"hidpi\",void 0),e$1([d()],y.prototype,\"imageMaxWidth\",void 0),e$1([d()],y.prototype,\"imageMaxHeight\",void 0),e$1([d()],y.prototype,\"imageRotationSupported\",void 0),e$1([d()],y.prototype,\"imageNormalizationSupported\",void 0),e$1([d()],y.prototype,\"requestUpdate\",void 0),e$1([d()],y.prototype,\"updating\",null),y=e$1([n$1(\"esri.views.2d.layers.support.ExportStrategy\")],y);const S=y;\n\nexport { S };\n","import { e, d, n, u as g, s } from './cast-c9f1eea6.js';\nimport { a } from './reactiveUtils-06cbe5c2.js';\nimport './find-my-service.water-usage.web-map-6652a32f.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst i=i=>{let c=class extends i{initialize(){this.handles.add(a((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{g(r)||s.getLogger(this.declaredClass).error(r);}));})),\"RefreshableLayerView\");}};return e([d()],c.prototype,\"layer\",void 0),c=e([n(\"esri.layers.mixins.RefreshableLayerView\")],c),c};\n\nexport { i };\n"],"names":["h","s","c","t","this","strategy","update","catch","g","error","notifyChange","_bitmapContainer","container","addChild","S","fetchSource","fetchBitmapData","bind","requestUpdate","destroy","removeChild","removeAllChildren","e","r","layer","fetchImage","updating","updateRequested","i","f","u","d$1","prototype","d","n","Math","PI","o","rotation","abs","cos","a","sin","size","round","u$1","u$2","x","y","_imagePromise","bitmaps","hidpi","imageMaxWidth","imageMaxHeight","imageRotationSupported","imageNormalizationSupported","x$1","stationary","destroyed","state","R","spatialReference","r$1","pixelRatio","worldScreenWidth","floor","extent","xmin","valid","xmax","l","paddedViewState","center","_singleExport","resolution","min","_tiledExport","then","children","includes","fadeOut","remove","fadeIn","visible","stage","invalidateTexture","requestRender","signal","p","v","ymax","width","M","_export","S$1","scales","scale","getTileCoverage","m","forEach","set","getTileBounds","push","Promise","all","y$1","e$1","n$1","handles","add","doRefresh","dataChanged","declaredClass"],"sourceRoot":""}