"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[8496],{98496:function(t,e,n){n.d(e,{B:function(){return qt},I:function(){return St},a:function(){return U},b:function(){return V},c:function(){return Lt},d:function(){return _t},e:function(){return $},f:function(){return Tt},g:function(){return A},i:function(){return k},u:function(){return J}});var r=n(74165),o=n(93433),i=n(15861),a=n(37762),s=n(1413),l=n(43144),p=n(15671),u=n(60136),d=n(29388),c=n(50165),y=n(40133),f=n(32335),h=n(77322),v=n(4483),m=n(13994),Z=n(79747),w=n(42),g=n(75662),I=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type=null,r}return(0,l.Z)(n)}(f.l);(0,c.e)([(0,c.d)({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],I.prototype,"type",void 0);var x,F=I=(0,c.e)([(0,c.n)("esri.popup.content.Content")],I),S=x=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).description=null,r.displayType="auto",r.title=null,r.type="attachments",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new x({description:this.description,displayType:this.displayType,title:this.title})}}]),n}(F);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],S.prototype,"description",void 0),(0,c.e)([(0,c.d)({type:["auto","preview","list"],json:{write:!0}})],S.prototype,"displayType",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],S.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],S.prototype,"type",void 0);var j,k=S=x=(0,c.e)([(0,c.n)("esri.popup.content.AttachmentsContent")],S),T=j=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).creator=null,r.destroyer=null,r.outFields=null,r.type="custom",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new j({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,c.m)(this.outFields):null})}}]),n}(F);(0,c.e)([(0,c.d)()],T.prototype,"creator",void 0),(0,c.e)([(0,c.d)()],T.prototype,"destroyer",void 0),(0,c.e)([(0,c.d)()],T.prototype,"outFields",void 0),(0,c.e)([(0,c.d)({type:["custom"],readOnly:!0})],T.prototype,"type",void 0);var b,N=T=j=(0,c.e)([(0,c.n)("esri.popup.content.CustomContent")],T),O=b=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).title=null,r.expression=null,r.returnType="dictionary",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new b({title:this.title,expression:this.expression})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],O.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],O.prototype,"expression",void 0),(0,c.e)([(0,c.d)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],O.prototype,"returnType",void 0);var _,A=O=b=(0,c.e)([(0,c.n)("esri.popup.ElementExpressionInfo")],O),R=_=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).expressionInfo=null,r.type="expression",r}return(0,l.Z)(n,[{key:"clone",value:function(){var t;return new _({expressionInfo:null===(t=this.expressionInfo)||void 0===t?void 0:t.clone()})}}]),n}(F);(0,c.e)([(0,c.d)({type:A,json:{write:!0}})],R.prototype,"expressionInfo",void 0),(0,c.e)([(0,c.d)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],R.prototype,"type",void 0);var C,E=R=_=(0,c.e)([(0,c.n)("esri.popup.content.ExpressionContent")],R),M=(0,m.o)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});M.toJSON.bind(M),M.fromJSON.bind(M);var L=C=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).dateFormat=null,r.dateTimeFormatOptions=null,r.digitSeparator=!1,r.places=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new C({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}},{key:"format",value:function(t){return this.dateFormat?(0,w.L)(t,(0,s.Z)((0,s.Z)({},(0,w.S)(this.dateFormat)),this.dateTimeFormatOptions)):(0,w.m)(t,(0,w.u)(this))}},{key:"formatRasterPixelValue",value:function(t){var e,n;return t.trim().includes(",")?(n=(e=",")+" ",this._formatDelimitedString(t,e,n,this)):t.trim().includes(";")?(n=(e=";")+" ",this._formatDelimitedString(t,e,n,this)):t.trim().includes(" ")?(e=n=" ",this._formatDelimitedString(t,e,n,this)):this.format(Number(t))}},{key:"_formatDelimitedString",value:function(t,e,n,r){var o=this;return t&&e&&n&&r?t.trim().split(e).map((function(t){return o.format(Number(t))})).join(n):t}}]),n}(f.l);(0,c.e)([(0,Z.r)(M)],L.prototype,"dateFormat",void 0),(0,c.e)([(0,c.d)({type:Object,json:{read:!1}})],L.prototype,"dateTimeFormatOptions",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0}})],L.prototype,"digitSeparator",void 0),(0,c.e)([(0,c.d)({type:c.S,json:{write:!0}})],L.prototype,"places",void 0);var D,J=L=C=(0,c.e)([(0,c.n)("esri.popup.support.FieldInfoFormat")],L),B=D=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).fieldName=null,r.format=null,r.isEditable=!1,r.label=null,r.stringFieldOption="text-box",r.statisticType=null,r.tooltip=null,r.visible=!0,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new D({fieldName:this.fieldName,format:this.format?(0,c.m)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],B.prototype,"fieldName",void 0),(0,c.e)([(0,c.d)({type:J,json:{write:!0}})],B.prototype,"format",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0,default:!1}})],B.prototype,"isEditable",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],B.prototype,"label",void 0),(0,c.e)([(0,Z.r)(new m.s({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],B.prototype,"stringFieldOption",void 0),(0,c.e)([(0,c.d)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],B.prototype,"statisticType",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],B.prototype,"tooltip",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0}})],B.prototype,"visible",void 0);var Y,U=B=D=(0,c.e)([(0,c.n)("esri.popup.FieldInfo")],B),P=Y=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).attributes=null,r.description=null,r.fieldInfos=null,r.title=null,r.type="fields",r}return(0,l.Z)(n,[{key:"writeFieldInfos",value:function(t,e){e.fieldInfos=t&&t.map((function(t){return t.toJSON()}))}},{key:"clone",value:function(){return new Y((0,c.m)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}}]),n}(F);(0,c.e)([(0,c.d)({type:Object,json:{write:!0}})],P.prototype,"attributes",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],P.prototype,"description",void 0),(0,c.e)([(0,c.d)({type:[U]})],P.prototype,"fieldInfos",void 0),(0,c.e)([(0,h.r)("fieldInfos")],P.prototype,"writeFieldInfos",null),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],P.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],P.prototype,"type",void 0);var V=P=Y=(0,c.e)([(0,c.n)("esri.popup.content.FieldsContent")],P),z=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).altText=null,r.caption="",r.title="",r.type=null,r}return(0,l.Z)(n)}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],z.prototype,"altText",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],z.prototype,"caption",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],z.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],z.prototype,"type",void 0);var G,q=z=(0,c.e)([(0,c.n)("esri.popup.content.mixins.MediaInfo")],z),H=G=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).fieldName=null,r.tooltip=null,r.value=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new G({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}}]),n}(c.y);(0,c.e)([(0,c.d)()],H.prototype,"fieldName",void 0),(0,c.e)([(0,c.d)()],H.prototype,"tooltip",void 0),(0,c.e)([(0,c.d)()],H.prototype,"value",void 0);var K,$=H=G=(0,c.e)([(0,c.n)("esri.popup.content.support.ChartMediaInfoValueSeries")],H),Q=K=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).fields=[],r.normalizeField=null,r.series=[],r.tooltipField=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new K({fields:(0,c.m)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:[String],json:{write:!0}})],Q.prototype,"fields",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Q.prototype,"normalizeField",void 0),(0,c.e)([(0,c.d)({type:[$],json:{read:!1}})],Q.prototype,"series",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Q.prototype,"tooltipField",void 0);var W=Q=K=(0,c.e)([(0,c.n)("esri.popup.content.support.ChartMediaInfoValue")],Q),X=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type=null,r.value=null,r}return(0,l.Z)(n)}(q);(0,c.e)([(0,c.d)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],X.prototype,"type",void 0),(0,c.e)([(0,c.d)({type:W,json:{write:!0}})],X.prototype,"value",void 0);var tt,et=X=(0,c.e)([(0,c.n)("esri.popup.content.mixins.ChartMediaInfo")],X),nt=(0,m.o)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"}),rt=tt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type="bar-chart",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new tt({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(et);(0,c.e)([(0,c.d)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:nt.write}})],rt.prototype,"type",void 0);var ot,it=rt=tt=(0,c.e)([(0,c.n)("esri.popup.content.BarChartMediaInfo")],rt),at=ot=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type="column-chart",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new ot({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(et);(0,c.e)([(0,c.d)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:nt.write}})],at.prototype,"type",void 0);var st,lt=at=ot=(0,c.e)([(0,c.n)("esri.popup.content.ColumnChartMediaInfo")],at),pt=st=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).linkURL=null,r.sourceURL=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new st({linkURL:this.linkURL,sourceURL:this.sourceURL})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],pt.prototype,"linkURL",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],pt.prototype,"sourceURL",void 0);var ut,dt=pt=st=(0,c.e)([(0,c.n)("esri.popup.content.support.ImageMediaInfoValue")],pt),ct=ut=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).refreshInterval=null,r.type="image",r.value=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new ut({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}}]),n}(q);(0,c.e)([(0,c.d)({type:Number,json:{write:!0}})],ct.prototype,"refreshInterval",void 0),(0,c.e)([(0,c.d)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],ct.prototype,"type",void 0),(0,c.e)([(0,c.d)({type:dt,json:{write:!0}})],ct.prototype,"value",void 0);var yt,ft=ct=ut=(0,c.e)([(0,c.n)("esri.popup.content.ImageMediaInfo")],ct),ht=yt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type="line-chart",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new yt({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(et);(0,c.e)([(0,c.d)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:nt.write}})],ht.prototype,"type",void 0);var vt,mt=ht=yt=(0,c.e)([(0,c.n)("esri.popup.content.LineChartMediaInfo")],ht),Zt=vt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).type="pie-chart",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new vt({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(et);(0,c.e)([(0,c.d)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:nt.write}})],Zt.prototype,"type",void 0);var wt,gt=Zt=vt=(0,c.e)([(0,c.n)("esri.popup.content.PieChartMediaInfo")],Zt),It={base:q,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":it,"column-chart":lt,"line-chart":mt,"pie-chart":gt,image:ft}},xt=wt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).activeMediaInfoIndex=null,r.attributes=null,r.description=null,r.mediaInfos=null,r.title=null,r.type="media",r}return(0,l.Z)(n,[{key:"readMediaInfos",value:function(t){return t&&t.map((function(t){return"image"===t.type?ft.fromJSON(t):"barchart"===t.type?it.fromJSON(t):"columnchart"===t.type?lt.fromJSON(t):"linechart"===t.type?mt.fromJSON(t):"piechart"===t.type?gt.fromJSON(t):void 0})).filter(Boolean)}},{key:"writeMediaInfos",value:function(t,e){e.mediaInfos=t&&t.map((function(t){return t.toJSON()}))}},{key:"clone",value:function(){return new wt((0,c.m)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}}]),n}(F);(0,c.e)([(0,c.d)()],xt.prototype,"activeMediaInfoIndex",void 0),(0,c.e)([(0,c.d)({type:Object,json:{write:!0}})],xt.prototype,"attributes",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],xt.prototype,"description",void 0),(0,c.e)([(0,c.d)({types:[It]})],xt.prototype,"mediaInfos",void 0),(0,c.e)([(0,h.o)("mediaInfos")],xt.prototype,"readMediaInfos",null),(0,c.e)([(0,h.r)("mediaInfos")],xt.prototype,"writeMediaInfos",null),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],xt.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],xt.prototype,"type",void 0);var Ft,St=xt=wt=(0,c.e)([(0,c.n)("esri.popup.content.MediaContent")],xt),jt=Ft=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).text=null,r.type="text",r}return(0,l.Z)(n,[{key:"clone",value:function(){return new Ft({text:this.text})}}]),n}(F);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],jt.prototype,"text",void 0),(0,c.e)([(0,c.d)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],jt.prototype,"type",void 0);var kt,Tt=jt=Ft=(0,c.e)([(0,c.n)("esri.popup.content.TextContent")],jt),bt={base:null,key:"type",typeMap:{attachment:k,media:St,text:Tt,expression:E,field:V}},Nt=kt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).name=null,r.title=null,r.expression=null,r.returnType=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new kt({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Nt.prototype,"name",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Nt.prototype,"title",void 0),(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Nt.prototype,"expression",void 0),(0,c.e)([(0,c.d)({type:["string","number"],json:{write:!0}})],Nt.prototype,"returnType",void 0);var Ot,_t=Nt=kt=(0,c.e)([(0,c.n)("esri.popup.ExpressionInfo")],Nt),At=Ot=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).returnTopmostRaster=null,r.showNoDataRecords=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new Ot({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0}})],At.prototype,"returnTopmostRaster",void 0),(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0}})],At.prototype,"showNoDataRecords",void 0);var Rt,Ct=At=Ot=(0,c.e)([(0,c.n)("esri.popup.LayerOptions")],At),Et=Rt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).field=null,r.order=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new Rt({field:this.field,order:this.order})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:String,json:{write:!0}})],Et.prototype,"field",void 0),(0,c.e)([(0,c.d)({type:["asc","desc"],json:{write:!0}})],Et.prototype,"order",void 0);var Mt,Lt=Et=Rt=(0,c.e)([(0,c.n)("esri.popup.support.RelatedRecordsInfoFieldOrder")],Et),Dt=Mt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,p.Z)(this,n),(r=e.call(this,t)).showRelatedRecords=null,r.orderByFields=null,r}return(0,l.Z)(n,[{key:"clone",value:function(){return new Mt({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,c.m)(this.orderByFields):null})}}]),n}(f.l);(0,c.e)([(0,c.d)({type:Boolean,json:{write:!0}})],Dt.prototype,"showRelatedRecords",void 0),(0,c.e)([(0,c.d)({type:[Lt],json:{write:!0}})],Dt.prototype,"orderByFields",void 0);var Jt,Bt=Dt=Mt=(0,c.e)([(0,c.n)("esri.popup.RelatedRecordsInfo")],Dt),Yt=y.j.ofType({key:"type",defaultKeyValue:"button",base:g.c,typeMap:{button:g.a,toggle:g.b}}),Ut={base:F,key:"type",typeMap:{media:St,custom:N,text:Tt,attachments:k,fields:V,expression:E}},Pt="esri.PopupTemplate",Vt=c.s.getLogger(Pt),zt=["attachments","fields","media","text","expression"],Gt=Jt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(){var t;return(0,p.Z)(this,n),(t=e.apply(this,arguments)).actions=null,t.content="",t.expressionInfos=null,t.fieldInfos=null,t.layerOptions=null,t.lastEditInfoEnabled=!0,t.outFields=null,t.overwriteActions=!1,t.returnGeometry=!1,t.title="",t.relatedRecordsInfo=null,t}return(0,l.Z)(n,[{key:"castContent",value:function(t){return Array.isArray(t)?t.map((function(t){return(0,c.N)(Ut,t)})):"string"==typeof t||"function"==typeof t||t instanceof HTMLElement||(0,c.R)(t)?t:(Vt.error("content error","unsupported content value",{value:t}),null)}},{key:"readContent",value:function(t,e){var n=e.popupElements;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(e):this._readPopupInfo(e)}},{key:"writeContent",value:function(t,e,n,r){var o=this;"string"!=typeof t?Array.isArray(t)&&(e.popupElements=t.filter((function(t){return zt.includes(t.type)})).map((function(t){return t&&t.toJSON(r)})),e.popupElements.forEach((function(t){"attachments"===t.type?o._writeAttachmentContent(e):"media"===t.type?o._writeMediaContent(t,e):"text"===t.type&&o._writeTextContent(t,e)}))):e.description=t}},{key:"writeFieldInfos",value:function(t,e,n,r){var o=this.content,i=Array.isArray(o)?o:null;if(t){var s=i?i.filter((function(t){return"fields"===t.type})):[],l=s.length&&s.every((function(t){var e;return null===(e=t.fieldInfos)||void 0===e?void 0:e.length}));e.fieldInfos=t.filter(Boolean).map((function(t){var e=t.toJSON(r);return l&&(e.visible=!1),e}))}if(i){var p,u=(0,a.Z)(i);try{for(u.s();!(p=u.n()).done;){var d=p.value;"fields"===d.type&&this._writeFieldsContent(d,e)}}catch(c){u.e(c)}finally{u.f()}}}},{key:"writeLayerOptions",value:function(t,e,n,r){e[n]=!t||null===t.showNoDataRecords&&null===t.returnTopmostRaster?null:t.toJSON(r)}},{key:"writeTitle",value:function(t,e){e.title=t||""}},{key:"clone",value:function(){var t=this.actions,e=t?(0,c.m)(t.toArray()):[];return new Jt({actions:e,content:Array.isArray(this.content)?(0,c.m)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?(0,c.m)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?(0,c.m)(this.fieldInfos):null,layerOptions:this.layerOptions?(0,c.m)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?(0,c.m)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?(0,c.m)(this.relatedRecordsInfo):null})}},{key:"collectRequiredFields",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.expressionInfos||[],t.next=3,this._collectExpressionInfoFields(e,n,[].concat((0,o.Z)(i),(0,o.Z)(this._getContentExpressionInfos(this.content,i))));case 3:(0,v.g)(e,n,[].concat((0,o.Z)(this.outFields||[]),(0,o.Z)(this._getActionsFields(this.actions)),(0,o.Z)(this._getTitleFields(this.title)),(0,o.Z)(this._getContentFields(this.content))));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getRequiredFields",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Set,t.next=3,this.collectRequiredFields(n,e);case 3:return t.abrupt("return",(0,o.Z)(n).sort());case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_writeFieldsContent",value:function(t,e){if(Array.isArray(t.fieldInfos)&&t.fieldInfos.length){var n=(0,c.m)(t.fieldInfos);Array.isArray(e.fieldInfos)?n.forEach((function(t){var n=e.fieldInfos.find((function(e){return e.fieldName.toLowerCase()===t.fieldName.toLowerCase()}));n?n.visible=!0:e.fieldInfos.push(t)})):e.fieldInfos=n}}},{key:"_writeAttachmentContent",value:function(t){t.showAttachments||(t.showAttachments=!0)}},{key:"_writeTextContent",value:function(t,e){!e.description&&t.text&&(e.description=t.text)}},{key:"_writeMediaContent",value:function(t,e){if(Array.isArray(t.mediaInfos)&&t.mediaInfos.length){var n=(0,c.m)(t.mediaInfos);Array.isArray(e.mediaInfos)?e.mediaInfos=[].concat((0,o.Z)(e.mediaInfos),(0,o.Z)(n)):e.mediaInfos=n}}},{key:"_readPopupInfoElements",value:function(t){var e=t.description,n=t.mediaInfos,r=t.popupElements,o={description:!1,mediaInfos:!1};return r.map((function(t){return"media"===t.type?(t.mediaInfos||!n||o.mediaInfos||(t.mediaInfos=n,o.mediaInfos=!0),St.fromJSON(t)):"text"===t.type?(t.text||!e||o.description||(t.text=e,o.description=!0),Tt.fromJSON(t)):"attachments"===t.type?k.fromJSON(t):"fields"===t.type?V.fromJSON(t):"expression"===t.type?E.fromJSON(t):void 0})).filter(Boolean)}},{key:"_readPopupInfo",value:function(t){var e=t.description,n=t.mediaInfos,r=t.showAttachments,o=[];return e?o.push(new Tt({text:e})):o.push(new V),Array.isArray(n)&&n.length&&o.push(St.fromJSON({mediaInfos:n})),r&&o.push(k.fromJSON({displayType:"auto"})),o.length?o:e}},{key:"_getContentElementFields",value:function(t){var e=this,n=null===t||void 0===t?void 0:t.type;if("attachments"===n)return[].concat((0,o.Z)(this._extractFieldNames(t.title)),(0,o.Z)(this._extractFieldNames(t.description)));if("custom"===n)return t.outFields||[];if("fields"===n)return[].concat((0,o.Z)(this._extractFieldNames(t.title)),(0,o.Z)(this._extractFieldNames(t.description)),(0,o.Z)(this._getFieldInfoFields(t.fieldInfos||this.fieldInfos)));if("media"===n){var r=t.mediaInfos||[];return[].concat((0,o.Z)(this._extractFieldNames(t.title)),(0,o.Z)(this._extractFieldNames(t.description)),(0,o.Z)(r.reduce((function(t,n){return[].concat((0,o.Z)(t),(0,o.Z)(e._getMediaInfoFields(n)))}),[])))}return"text"===n?this._extractFieldNames(t.text):[]}},{key:"_getMediaInfoFields",value:function(t){var e=t.caption,n=t.title,r=t.value||{},i=r.fields,a=void 0===i?[]:i,s=r.normalizeField,l=r.tooltipField,p=r.sourceURL,u=r.linkURL,d=[].concat((0,o.Z)(this._extractFieldNames(n)),(0,o.Z)(this._extractFieldNames(e)),(0,o.Z)(this._extractFieldNames(p)),(0,o.Z)(this._extractFieldNames(u)),(0,o.Z)(a));return s&&d.push(s),l&&d.push(l),d}},{key:"_getContentExpressionInfos",value:function(t,e){return Array.isArray(t)?t.reduce((function(t,e){return[].concat((0,o.Z)(t),(0,o.Z)("expression"===e.type&&e.expressionInfo?[e.expressionInfo]:[]))}),e):[]}},{key:"_getContentFields",value:function(t){var e=this;return"string"==typeof t?this._extractFieldNames(t):Array.isArray(t)?t.reduce((function(t,n){return[].concat((0,o.Z)(t),(0,o.Z)(e._getContentElementFields(n)))}),[]):[]}},{key:"_collectExpressionInfoFields",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n,o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=o,!t.t0){t.next=4;break}return t.next=4,Promise.all(o.map((function(t){return(0,v.b)(e,n,t.expression)})));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_getFieldInfoFields",value:function(t){return t?t.filter((function(t){return void 0===t.visible||!!t.visible})).map((function(t){return t.fieldName})).filter((function(t){return!t.includes("relationships/")&&!t.includes("expression/")})):[]}},{key:"_getActionsFields",value:function(t){var e=this;return t?t.toArray().reduce((function(t,n){return[].concat((0,o.Z)(t),(0,o.Z)(e._getActionFields(n)))}),[]):[]}},{key:"_getActionFields",value:function(t){var e=t.className,n=t.title,r=t.type,i="button"===r||"toggle"===r?t.image:"";return[].concat((0,o.Z)(this._extractFieldNames(n)),(0,o.Z)(this._extractFieldNames(e)),(0,o.Z)(this._extractFieldNames(i)))}},{key:"_getTitleFields",value:function(t){return"string"==typeof t?this._extractFieldNames(t):[]}},{key:"_extractFieldNames",value:function(t){if(!t||"string"!=typeof t)return[];var e=t.match(/{[^}]*}/g);if(!e)return[];var n=/\{(\w+):.+\}/,r=e.filter((function(t){return!(0===t.indexOf("{relationships/")||0===t.indexOf("{expression/"))})).map((function(t){return t.replace(n,"{$1}")}));return r?r.map((function(t){return t.slice(1,-1)})):[]}}]),n}(f.l);(0,c.e)([(0,c.d)({type:Yt})],Gt.prototype,"actions",void 0),(0,c.e)([(0,c.d)()],Gt.prototype,"content",void 0),(0,c.e)([(0,c.H)("content")],Gt.prototype,"castContent",null),(0,c.e)([(0,h.o)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Gt.prototype,"readContent",null),(0,c.e)([(0,h.r)("content",{popupElements:{type:y.j.ofType(bt)},showAttachments:{type:Boolean},mediaInfos:{type:y.j.ofType(It)},description:{type:String}})],Gt.prototype,"writeContent",null),(0,c.e)([(0,c.d)({type:[_t],json:{write:!0}})],Gt.prototype,"expressionInfos",void 0),(0,c.e)([(0,c.d)({type:[U]})],Gt.prototype,"fieldInfos",void 0),(0,c.e)([(0,h.r)("fieldInfos")],Gt.prototype,"writeFieldInfos",null),(0,c.e)([(0,c.d)({type:Ct})],Gt.prototype,"layerOptions",void 0),(0,c.e)([(0,h.r)("layerOptions")],Gt.prototype,"writeLayerOptions",null),(0,c.e)([(0,c.d)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Gt.prototype,"lastEditInfoEnabled",void 0),(0,c.e)([(0,c.d)()],Gt.prototype,"outFields",void 0),(0,c.e)([(0,c.d)()],Gt.prototype,"overwriteActions",void 0),(0,c.e)([(0,c.d)()],Gt.prototype,"returnGeometry",void 0),(0,c.e)([(0,c.d)({json:{type:String}})],Gt.prototype,"title",void 0),(0,c.e)([(0,h.r)("title")],Gt.prototype,"writeTitle",null),(0,c.e)([(0,c.d)({type:Bt,json:{write:!0}})],Gt.prototype,"relatedRecordsInfo",void 0);var qt=Gt=Jt=(0,c.e)([(0,c.n)(Pt)],Gt)}}]);
//# sourceMappingURL=8496.9d6b2406.chunk.js.map