{"version":3,"file":"static/js/1043.338b4060.chunk.js","mappings":"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","sources":["../node_modules/raleigh-stencil-components/dist/esm/WFSSourceWorker-624c83f4.js"],"sourcesContent":["import { W as f, r, g as e, a as s, aK as O$1, I as g$1, s as s$1 } from './cast-5c4dc32a.js';\nimport { E as E$1, n as c } from './Point-609b2fcb.js';\nimport { t as te, n as ne } from './featureConversionUtils-6dd9f204.js';\nimport { u } from './FeatureStore-2f8b4308.js';\nimport { g, f as f$1 } from './projectionSupport-707ead81.js';\nimport { Y } from './QueryEngine-2a8126d4.js';\nimport { O, L } from './geojson-ad527d87.js';\nimport { m } from './sourceUtils-104582bf.js';\nimport { K } from './wfsUtils-967421e7.js';\nimport { d } from './FieldsIndex-82267908.js';\nimport './JSONSupport-e9486b0b.js';\nimport './jsonUtils-82eea64f.js';\nimport './Extent-85e2b0df.js';\nimport './Polyline-6901b5b4.js';\nimport './OptimizedFeature-72ae1367.js';\nimport './OptimizedFeatureSet-261a115b.js';\nimport './Collection-9c69dda8.js';\nimport './aaBoundingBox-9e99b37e.js';\nimport './aaBoundingRect-143dc222.js';\nimport './mathUtils-a0f2962e.js';\nimport './PooledRBush-dbd409b2.js';\nimport './quickselect-d6c9284c.js';\nimport './optimizedFeatureQueryEngineAdapter-5caab3d9.js';\nimport './centroid-7ff9b9e6.js';\nimport './projection-e655c5ce.js';\nimport './unitUtils-d29b64c6.js';\nimport './request-0b2553bd.js';\nimport './mat4-9dc802e1.js';\nimport './assets-7d20656b.js';\nimport './zscale-aa6c4132.js';\nimport './json-063a6f95.js';\nimport './MemCache-c8c2d2fd.js';\nimport './normalizeUtils-0a0bbfdb.js';\nimport './geometry-7b96f9c2.js';\nimport './QueryEngineResult-68e211aa.js';\nimport './quantizationUtils-a0294584.js';\nimport './ItemCache-b3fa4ac2.js';\nimport './WhereClause-cfc0e612.js';\nimport './utils-fbd43f7c.js';\nimport './ClassBreaksDefinition-de3d773c.js';\nimport './colorRamps-64f4ed07.js';\nimport './Color-51239bbb.js';\nimport './colorUtils-5009883d.js';\nimport './enumeration-09b9d1a0.js';\nimport './Symbol-a5078383.js';\nimport './utils-e89af5ea.js';\nimport './fieldUtils-d71929fa.js';\nimport './QueryEngineCapabilities-30e4c4d1.js';\nimport './timeSupport-15b75e75.js';\nimport './Scheduler-e92f77c0.js';\nimport './Handles-916df655.js';\nimport './reactiveUtils-b4e19c57.js';\nimport './xmlUtils-d69cd7fe.js';\nimport './Field-eef910a2.js';\nimport './fieldType-5b190ae1.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass E{constructor(){this._queryEngine=null,this._customParameters=null,this._snapshotFeatures=async e=>{const{objectIdField:t}=this._queryEngine,s=await K(this._getFeatureUrl,this._featureType.typeName,this._getFeatureOutputFormat,{customParameters:this._customParameters,dateFields:this._queryEngine.fieldsIndex.dateFields.map((e=>e.name)),signal:e});await O(s),f(e);const i=L(s,{geometryType:this._queryEngine.geometryType,hasZ:!1,objectIdField:t});if(!E$1(this._queryEngine.spatialReference,c))for(const a of i)r(a.geometry)&&(a.geometry=te(g(ne(a.geometry,this._queryEngine.geometryType,!1,!1),c,this._queryEngine.spatialReference)));let o=1;for(const r of i){const e={};m(this._fieldsIndex,e,r.attributes,!0),r.attributes=e,null==r.attributes[t]&&(r.objectId=r.attributes[t]=o++);}return i};}destroy(){this._queryEngine?.destroy(),this._queryEngine=null;}async load(e$1,t){const{getFeatureUrl:r,getFeatureOutputFormat:i,spatialReference:o,fields:n,geometryType:u$1,featureType:p,objectIdField:h,customParameters:c}=e$1;this._featureType=p,this._customParameters=c,this._getFeatureUrl=r,this._getFeatureOutputFormat=i,this._fieldsIndex=new d(n),await this._checkProjection(o),f(t),this._queryEngine=new Y({fields:n,geometryType:u$1,hasM:!1,hasZ:!1,objectIdField:h,spatialReference:o,timeInfo:null,featureStore:new u({geometryType:u$1,hasM:!1,hasZ:!1})});const m=await this._snapshotFeatures(e(t.signal));return this._queryEngine.featureStore.addMany(m),{extent:this._queryEngine.fullExtent}}async applyEdits(){throw new s(\"wfs-source:editing-not-supported\",\"applyEdits() is not supported on WFSLayer\")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(r){return this._customParameters=r,this._snapshotTask?.abort(),this._snapshotTask=O$1(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),e&&this._queryEngine.featureStore.addMany(e);}),(r=>{this._queryEngine.featureStore.clear(),g$1(r)||s$1.getLogger(\"esri.layers.WFSLayer\").error(new s(\"wfs-layer:getfeature-error\",\"An error occurred during the GetFeature request\",{error:r}));})),await this._waitSnapshotComplete(),{extent:this._queryEngine.fullExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise;}catch{}return this._waitSnapshotComplete()}}async _checkProjection(t){try{await f$1(c,t);}catch{throw new s(\"unsupported-projection\",\"Projection not supported\",{spatialReference:t})}}}\n\nexport default E;\n"],"names":["E","this","_queryEngine","_customParameters","_snapshotFeatures","e","a","t","objectIdField","K","_getFeatureUrl","_featureType","typeName","_getFeatureOutputFormat","customParameters","dateFields","fieldsIndex","map","name","signal","s","O","f","i","L","geometryType","hasZ","E$1","spatialReference","c","r","geometry","te","g","ne","o","m","_fieldsIndex","attributes","objectId","destroy","e$1","getFeatureUrl","getFeatureOutputFormat","n","fields","u$1","p","featureType","h","d","_checkProjection","Y","hasM","timeInfo","featureStore","u","addMany","extent","fullExtent","_waitSnapshotComplete","executeQuery","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","_snapshotTask","abort","O$1","promise","then","clear","g$1","s$1","error","finished","f$1"],"sourceRoot":""}