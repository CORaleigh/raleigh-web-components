"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[6794],{49580:function(e,t,r){r.d(t,{s:function(){return p}});var n=r(74165),o=r(15671),s=r(43144),i=r(15861),a=r(41742),u=r(23132),c=r(75610),l=(r(43920),r(54841)),f=r(57714),h=r(33703),d=u.s.getLogger("esri.intl");function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.format,o=void 0===n?{}:n;return(0,u.r)(e,(function(e){return v(e,t,o)}))}function v(e,t,r){var n,o,s=e.indexOf(":");if(-1===s?n=e.trim():(n=e.slice(0,s).trim(),o=e.slice(s+1).trim()),!n)return"";var i=(0,c.c)(n,t);if(null==i)return"";var u=r[o]||r[n];return u?function(e,t){switch(t.type){case"date":return(0,a.L)(e,t.intlOptions);case"number":return(0,a.m)(e,t.intlOptions);default:return d.warn("missing format descriptor for key {key}"),g(e)}}(i,u):o?function(e,t){switch(t.toLowerCase()){case"dateformat":return(0,a.L)(e);case"numberformat":return(0,a.m)(e);default:return d.warn("inline format is unsupported since 4.12: ".concat(t)),/^(dateformat|datestring)/i.test(t)?(0,a.L)(e):/^numberformat/i.test(t)?(0,a.m)(e):g(e)}}(i,o):g(i)}function g(e){switch(typeof e){case"string":return e;case"number":return(0,a.m)(e);case"boolean":return""+e;default:return e instanceof Date?(0,a.L)(e):""}}function m(){return m=(0,i.Z)((0,n.Z)().mark((function e(t,r,o,s){var i,a,c,f,h,d,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.exec(o)){e.next=3;break}throw new u.a("esri-intl:invalid-bundle",'Bundle id "'.concat(o,'" is not compatible with the pattern "').concat(r,'"'));case 3:return a=i[1]?"".concat(i[1],"/"):"",c=i[2],f=(0,l.u)(s),h="".concat(a).concat(c,".json"),d=f?"".concat(a).concat(c,"_").concat(f,".json"):h,e.prev=4,e.next=7,k(t(d));case 7:case 17:p=e.sent,e.next=23;break;case 10:if(e.prev=10,e.t0=e.catch(4),d!==h){e.next=14;break}throw new u.a("intl:unknown-bundle",'Bundle "'.concat(o,'" cannot be loaded'),{error:e.t0});case 14:return e.prev=14,e.next=17,k(t(h));case 20:throw e.prev=20,e.t1=e.catch(14),new u.a("intl:unknown-bundle",'Bundle "'.concat(o,'" cannot be loaded'),{error:e.t1});case 23:return e.abrupt("return",p);case 24:case"end":return e.stop()}}),e,null,[[4,10],[14,20]])}))),m.apply(this,arguments)}function k(e){return b.apply(this,arguments)}function b(){return(b=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.r)(w.fetchBundleAsset)){e.next=2;break}return e.abrupt("return",w.fetchBundleAsset(t));case 2:return e.next=4,(0,f.U)(t,{responseType:"text"});case 4:return r=e.sent,e.abrupt("return",JSON.parse(r.data));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(){function e(t){var r,n=t.base,s=void 0===n?"":n,i=t.pattern,a=t.location,u=void 0===a?new URL(window.location.href):a;(0,o.Z)(this,e),r="string"==typeof u?function(e){return new URL(e,new URL(u,window.location.href)).href}:u instanceof URL?function(e){return new URL(e,u).href}:u,this.pattern="string"==typeof i?new RegExp("^".concat(i)):i,this.getAssetUrl=r,s=s?s.endsWith("/")?s:s+"/":"",this.matcher=new RegExp("^".concat(s,"(?:(.*)/)?(.*)$"))}return(0,s.Z)(e,[{key:"fetchMessageBundle",value:function(e,t){return function(e,t,r,n){return m.apply(this,arguments)}(this.getAssetUrl,this.matcher,e,t)}}]),e}();var _,w={};(0,l.l)((_={pattern:"esri/",location:h.a},new y(_)))},6794:function(e,t,r){r.d(t,{a:function(){return C},c:function(){return le},e:function(){return k},u:function(){return de}});var n,o,s=r(74165),i=r(15861),a=r(1413),u=r(37762),c=r(15671),l=r(43144),f=r(23132),h=r(75610),d=r(57714),p=r(33703),v=(r(49580),r(43920)),g="20220708",m="7fd01dbc0e83d753fcf101c8ff2a8d215430252d",k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.values().next().value};(0,c.Z)(this,e),this._peeker=t,this._items=new Set}return(0,l.Z)(e,[{key:"length",get:function(){return this._items.size}},{key:"clear",value:function(){this._items.clear()}},{key:"last",value:function(){if(0!==this._items.size){var e,t,r=(0,u.Z)(this._items);try{for(r.s();!(t=r.n()).done;)e=t.value}catch(n){r.e(n)}finally{r.f()}return e}}},{key:"peek",value:function(){if(0!==this._items.size)return this._peeker(this._items)}},{key:"push",value:function(e){this.contains(e)||this._items.add(e)}},{key:"contains",value:function(e){return this._items.has(e)}},{key:"pop",value:function(){if(0!==this.length){var e=this.peek();return this._items.delete((0,h.q)(e)),e}}},{key:"popLast",value:function(){if(0!==this.length){var e=this.last();return this._items.delete((0,h.q)(e)),e}}},{key:"remove",value:function(e){this._items.delete(e)}},{key:"filter",value:function(e){var t=this;return this._items.forEach((function(r){e(r)||t._items.delete(r)})),this}}]),e}();(o=n||(n={}))[o.HANDSHAKE=0]="HANDSHAKE",o[o.OPEN=1]="OPEN",o[o.OPENED=2]="OPENED",o[o.RESPONSE=3]="RESPONSE",o[o.INVOKE=4]="INVOKE",o[o.ABORT=5]="ABORT",o[o.CLOSE=6]="CLOSE",o[o.OPEN_PORT=7]="OPEN_PORT",o[o.ON=8]="ON";var b=0;function y(){return b++}function _(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function w(e,t,r,o){var s;t.type!==n.OPEN_PORT?t.type===n.INVOKE||t.type===n.RESPONSE?(!function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(r)?(s=E(o),t.data=r):(s=E(r.transferList),t.data=r.result),s?e.postMessage(t,s):e.postMessage(t)):e.postMessage(t):e.postMessage(t,[t.port])}function P(e){if(!e)return null;var t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function E(e){if(!e||!e.length)return null;if((0,h.a)("esri-workers-arraybuffer-transfer"))return e;var t=e.filter((function(e){return!function(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}(e)}));return t.length?t:null}var O={statsWorker:function(){return Promise.all([r.e(491),r.e(8826),r.e(1697)]).then(r.bind(r,91697))},geometryEngineWorker:function(){return Promise.all([r.e(6549),r.e(4032)]).then(r.bind(r,64032))},CSVSourceWorker:function(){return Promise.all([r.e(1340),r.e(491),r.e(3022),r.e(1019),r.e(8826),r.e(3554),r.e(881),r.e(1495),r.e(1467),r.e(7793)]).then(r.bind(r,57793))},EdgeProcessingWorker:function(){return Promise.all([r.e(3262),r.e(1165)]).then(r.bind(r,21165)).then((function(e){return e.E}))},ElevationSamplerWorker:function(){return Promise.all([r.e(1340),r.e(3022),r.e(3262),r.e(7553),r.e(7527)]).then(r.bind(r,67527))},FeatureServiceSnappingSourceWorker:function(){return Promise.all([r.e(1340),r.e(491),r.e(3022),r.e(1019),r.e(9918),r.e(8826),r.e(3554),r.e(881),r.e(1495),r.e(7417),r.e(7597),r.e(1467),r.e(6632)]).then(r.bind(r,96632))},GeoJSONSourceWorker:function(){return Promise.all([r.e(1340),r.e(491),r.e(3022),r.e(1019),r.e(8826),r.e(3554),r.e(881),r.e(1495),r.e(1467),r.e(9644),r.e(777)]).then(r.bind(r,10777))},LercWorker:function(){return r.e(3571).then(r.bind(r,3571))},MemorySourceWorker:function(){return Promise.all([r.e(1340),r.e(491),r.e(3022),r.e(1019),r.e(8826),r.e(3554),r.e(881),r.e(1495),r.e(1467),r.e(9644),r.e(9355)]).then(r.bind(r,91691))},PBFDecoderWorker:function(){return Promise.all([r.e(1495),r.e(7417),r.e(1185)]).then(r.bind(r,91185))},Pipeline:function(){return Promise.all([r.e(1340),r.e(491),r.e(3022),r.e(2329),r.e(7566),r.e(1019),r.e(8329),r.e(9918),r.e(8826),r.e(3554),r.e(881),r.e(1495),r.e(7417),r.e(2495),r.e(7597),r.e(1467),r.e(2303),r.e(3804),r.e(2485),r.e(729),r.e(6931)]).then(r.bind(r,8091))},PointCloudWorker:function(){return Promise.all([r.e(1340),r.e(3022),r.e(6701),r.e(5645)]).then(r.bind(r,15645))},RasterWorker:function(){return Promise.all([r.e(1340),r.e(3022),r.e(3669),r.e(931),r.e(5105),r.e(6044),r.e(175)]).then(r.bind(r,175))},SceneLayerSnappingSourceWorker:function(){return Promise.all([r.e(1340),r.e(491),r.e(3022),r.e(1019),r.e(8826),r.e(3554),r.e(1495),r.e(3262),r.e(3120),r.e(915)]).then(r.bind(r,15522))},SceneLayerWorker:function(){return Promise.all([r.e(1340),r.e(3425)]).then(r.bind(r,13425)).then((function(e){return e.S}))},WFSSourceWorker:function(){return Promise.all([r.e(1340),r.e(491),r.e(3022),r.e(1019),r.e(8826),r.e(3554),r.e(881),r.e(1495),r.e(1467),r.e(2303),r.e(9644),r.e(6069),r.e(6162)]).then(r.bind(r,76162))},WorkerTileHandler:function(){return Promise.all([r.e(2671),r.e(6471),r.e(2175),r.e(1704)]).then(r.bind(r,84345))}},N=n,M=N.CLOSE,S=N.ABORT,I=N.INVOKE,Z=N.RESPONSE,L=N.OPEN_PORT,J=N.ON,j=function(){function e(t){(0,c.Z)(this,e),this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}return(0,l.Z)(e,[{key:"push",value:function(e){e.type===n.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}},{key:"clear",value:function(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}},{key:"_process",value:function(){this._timer=null;var e,t=(0,u.Z)(this._invokeMessages);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._cancelledJobIds.has(r.jobId)||this._invoke(r)}}catch(n){t.e(n)}finally{t.f()}this._cancelledJobIds.clear(),this._invokeMessages.length=0}}]),e}(),A=function(){function e(t,r,n){var o=this;(0,c.Z)(this,e),this._port=t,this._getNextJob=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new j((function(e){return o._onInvokeMessage(e)})),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}return(0,l.Z)(e,[{key:"close",value:function(){this._post({type:M}),this._close()}},{key:"isBusy",value:function(){return this._outJobs.size>0}},{key:"invoke",value:function(e,t,r){var n=this,o=r&&r.signal,s=r&&r.transferList;if(!this._port)return Promise.reject(new f.a("worker:port-closed","Cannot call invoke('".concat(e,"'), port is closed"),{methodName:e,data:t}));var i=y();return new Promise((function(r,a){if((0,f.p)(o))return n._processWork(),void a((0,f.m)());var u=(0,f.v)(o,(function(){var e=n._outJobs.get(i);e&&(n._outJobs.delete(i),n._processWork(),(0,h.d)(e.abortHandle),n._post({type:S,jobId:i}),a((0,f.m)()))})),c={resolve:r,reject:a,abortHandle:u,debugInfo:e};n._outJobs.set(i,c),n._post({type:I,jobId:i,methodName:e,abortable:null!=o},t,s)}))}},{key:"on",value:function(e,t){var r=new MessageChannel;function o(e){t(e.data)}return this._port.postMessage({type:n.ON,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",o),r.port1.start(),{remove:function(){r.port1.postMessage({type:n.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",o)}}}},{key:"jobAdded",value:function(){this._processWork()}},{key:"openPort",value:function(){var e=new MessageChannel;return this._post({type:L,port:e.port2}),e.port1}},{key:"_processWork",value:function(){if(!(this._outJobs.size>=2)){var e=this._getNextJob();if(e){var t=e.methodName,r=e.data,n=e.invokeOptions,o=e.deferred;this.invoke(t,r,n).then((function(e){return o.resolve(e)})).catch((function(e){return o.reject(e)}))}}}},{key:"_close",value:function(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((function(e){(0,h.d)(e.abortHandle),e.reject((0,f.m)("Worker closing, aborting job calling '".concat(e.debugInfo,"'")))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}},{key:"_onMessage",value:function(e){var t=this;(0,h.r)(this._schedule)?this._schedule((function(){return t._processMessage(e)})):this._processMessage(e)}},{key:"_processMessage",value:function(e){var t=P(e);if(t)switch(t.type){case Z:this._onResponseMessage(t);break;case I:this._invokeQueue.push(t);break;case S:this._onAbortMessage(t);break;case M:this._onCloseMessage();break;case L:this._onOpenPortMessage(t);break;case J:this._onOnMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),t.delete(r))}},{key:"_onCloseMessage",value:function(){var t=this._client;this._close(),t&&"destroy"in t&&e.clients.get(this)===t&&t.destroy(),e.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}},{key:"_onInvokeMessage",value:function(e){var t,r=this,n=e.methodName,o=e.jobId,s=e.data,i=e.abortable?new AbortController:null,a=this._inJobs,u=this._client,c=u[n];try{if(!c&&n&&n.includes("."))for(var l=n.split("."),h=0;h<l.length-1;h++)c=(u=u[l[h]])[l[h+1]];if("function"!=typeof c)throw new TypeError("".concat(n," is not a function"));t=c.call(u,s,{client:this,signal:i?i.signal:null})}catch(de){return void this._post({type:Z,jobId:o,error:_(de)})}(0,f.D)(t)?(a.set(o,{controller:i,promise:t}),t.then((function(e){a.has(o)&&(a.delete(o),r._post({type:Z,jobId:o},e))}),(function(e){a.has(o)&&(a.delete(o),(0,f.u)(e)||r._post({type:Z,jobId:o,error:_(e||{message:"Error encountered at method ".concat(n)})}))}))):this._post({type:Z,jobId:o},t)}},{key:"_onOpenPortMessage",value:function(t){new e(t.port,{client:this._client},(function(){return null}))}},{key:"_onOnMessage",value:function(e){var t=e.port,r=this._client.on(e.eventType,(function(e){t.postMessage(e)})),o=(0,f.f)(e.port,"message",(function(e){P(e).type===n.CLOSE&&(o.remove(),r.remove(),t.close())}))}},{key:"_onResponseMessage",value:function(e){var t=e.jobId,r=e.error,n=e.data,o=this._outJobs;if(o.has(t)){var s=o.get(t);this._processWork(),o.delete(t),(0,h.d)(s.abortHandle),r?s.reject(f.a.fromJSON(JSON.parse(r))):s.resolve(n)}}},{key:"_post",value:function(e,t,r){return w(this._port,e,t,r)}}],[{key:"connect",value:function(t){var r,n=new MessageChannel;r="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;var o=new e(n.port1,{channel:n,client:r},(function(){return null}));return"object"==typeof r&&"remoteClient"in r&&(r.remoteClient=o),e.clients.set(o,r),n.port2}},{key:"loadWorker",value:function(e){var t=O[e];return t?t():Promise.resolve(null)}}]),e}();A.kernelInfo={revision:m,version:d.c,buildDate:g},A.clients=new Map;var x=f.s.getLogger("esri.core.workers.Connection"),C=function(){function e(){(0,c.Z)(this,e),this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new k}return(0,l.Z)(e,[{key:"destroy",value:function(){this.close()}},{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"open",value:function(e,t){var r=this;return new Promise((function(n,o){var s=!0,i=function(e){(0,f.H)(t.signal),s&&(s=!1,e())};r._clients.length=e.length,r._clientPromises.length=e.length,r._inUseClients.length=e.length;for(var a=function(s){var a=e[s];(0,f.D)(a)?r._clientPromises[s]=a.then((function(e){return r._clients[s]=new A(e,t,(function(){return r._ongoingJobsQueue.pop()})),i(n),r._clients[s]}),(function(){return i(o),null})):(r._clients[s]=new A(a,t,(function(){return r._ongoingJobsQueue.pop()})),r._clientPromises[s]=Promise.resolve(r._clients[s]),i(n))},u=0;u<e.length;++u)a(u)}))}},{key:"broadcast",value:function(e,t,r){for(var n=new Array(this._clientPromises.length),o=0;o<this._clientPromises.length;++o){var s=this._clientPromises[o];n[o]=s.then((function(n){return n.invoke(e,t,r)}))}return n}},{key:"close",value:function(){for(var e;e=this._ongoingJobsQueue.pop();)e.deferred.reject((0,f.m)("Worker closing, aborting job calling '".concat(e.methodName,"'")));var t,r=(0,u.Z)(this._clientPromises);try{for(r.s();!(t=r.n()).done;){t.value.then((function(e){return e.close()}))}}catch(n){r.e(n)}finally{r.f()}this._clients.length=0,this._clientPromises.length=0}},{key:"invoke",value:function(e,t,r){var n=null;Array.isArray(r)?(x.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:r}):n=r;var o=(0,f.T)();this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:n,deferred:o});for(var s=0;s<this._clientPromises.length;s++){var i=this._clients[s];i?i.jobAdded():this._clientPromises[s].then((function(e){return e.jobAdded()}))}return o.promise}},{key:"on",value:function(e,t){var r=this;return Promise.all(this._clientPromises).then((function(){return(0,f.h)(r._clients.map((function(r){return r.on(e,t)})))}))}},{key:"openPorts",value:function(){var e=this;return new Promise((function(t){for(var r=new Array(e._clientPromises.length),n=r.length,o=function(o){e._clientPromises[o].then((function(e){r[o]=e.openPort(),0==--n&&t(r)}))},s=0;s<e._clientPromises.length;++s)o(s)}))}},{key:"test",get:function(){return{numClients:this._clients.length}}}]),e}(),R={};function W(e){var t,r={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:(0,a.Z)({},e.has),map:(0,a.Z)({},e.map),packages:e.packages&&e.packages.concat()||[],paths:(0,a.Z)({},e.paths)};return e.hasOwnProperty("async")||(r.async=!0),e.hasOwnProperty("isDebug")||(r.isDebug=!1),e.baseUrl||(r.baseUrl=R.baseUrl),null!==(t=R.packages)&&void 0!==t&&t.forEach((function(e){!function(e,t){var r,n=(0,u.Z)(e);try{for(n.s();!(r=n.n()).done;)if(r.value.name===t.name)return}catch(o){n.e(o)}finally{n.f()}e.push(t)}(r.packages,e)})),r}var H,D,U=(0,l.Z)((function e(){var t=this;(0,c.Z)(this,e);var r=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((function(e){t[e]=function(){return r[e].apply(r,arguments)}}))})),T=function(){function e(){(0,c.Z)(this,e),this._dispatcher=new U,this._workerPostMessage({type:n.HANDSHAKE})}return(0,l.Z)(e,[{key:"terminate",value:function(){}},{key:"onmessage",get:function(){return this._onmessageHandler},set:function(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}},{key:"postMessage",value:function(e){var t=this;(0,f.aa)((function(){t._workerMessageHandler(new MessageEvent("message",{data:e}))}))}},{key:"dispatchEvent",value:function(e){return this._dispatcher.dispatchEvent(e)}},{key:"addEventListener",value:function(e,t,r){this._dispatcher.addEventListener(e,t,r)}},{key:"removeEventListener",value:function(e,t,r){this._dispatcher.removeEventListener(e,t,r)}},{key:"_workerPostMessage",value:function(e){var t=this;(0,f.aa)((function(){t.dispatchEvent(new MessageEvent("message",{data:e}))}))}},{key:"_workerMessageHandler",value:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var r,o,i,a,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=P(t))||r.type!==n.OPEN){e.next=13;break}return o=r.modulePath,i=r.jobId,e.next=5,A.loadWorker(o);case 5:if(a=e.sent,e.t0=a,e.t0){e.next=11;break}return e.next=10,import(o);case 10:a=e.sent;case 11:u=A.connect(a),this._workerPostMessage({type:n.OPENED,jobId:i,data:u});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),B=f.s.getLogger("esri.core.workers"),Q=n.HANDSHAKE,K='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});',q="Failed to create Worker. Fallback to execute module in main thread";function z(){return F.apply(this,arguments)}function F(){return F=(0,i.Z)((0,s.Z)().mark((function e(){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,h.a)("esri-workers")&&((0,h.a)("mozilla"),1)){e.next=2;break}return e.abrupt("return",V(new T));case 2:if(!H&&!D)try{t=K.replace('"{CONFIGURATION}"',"'".concat(G(),"'")),H=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(W){D=W||{}}if(H)try{r=new Worker(H,{name:"esri-worker-"+X++})}catch(W){B.warn(q,D),r=new T}else B.warn(q,D),r=new T;return e.abrupt("return",V(r));case 5:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function V(e){return $.apply(this,arguments)}function $(){return $=(0,i.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){function r(o){var s=P(o);s&&s.type===Q&&(t.removeEventListener("message",r),t.removeEventListener("error",n),e(t))}function n(e){e.preventDefault(),t.removeEventListener("message",r),t.removeEventListener("error",n),B.warn("Failed to create Worker. Fallback to execute module in main thread",e),(t=new T).addEventListener("message",r),t.addEventListener("error",n)}t.addEventListener("message",r),t.addEventListener("error",n)})));case 1:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function G(){var e;if(null!=h.b.default){var t=(0,a.Z)({},h.b);delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(h.b));e.assetsPath=(0,d.Q)(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=(0,v.l)(),e.has={"esri-csp-restrictions":(0,h.a)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,h.a)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":(0,h.a)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":(0,h.a)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,h.a)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,h.a)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,h.a)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,h.a)("esri-atomics"),"esri-shared-array-buffer":(0,h.a)("esri-shared-array-buffer"),"esri-tiles-debug":(0,h.a)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,h.a)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,h.a)("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=(0,d.Q)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=(0,d.Q)(e.workers.workerPath):e.workers.workerPath=(0,d.Q)((0,p.a)("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;var r=h.b.workers.loaderConfig,n=W({baseUrl:null===r||void 0===r?void 0:r.baseUrl,locale:(0,v.l)(),has:(0,a.Z)({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},null===r||void 0===r?void 0:r.has),map:(0,a.Z)({},null===r||void 0===r?void 0:r.map),paths:(0,a.Z)({},null===r||void 0===r?void 0:r.paths),packages:(null===r||void 0===r?void 0:r.packages)||[]}),o={version:d.c,buildDate:g,revision:m};return JSON.stringify({esriConfig:e,loaderConfig:n,kernelInfo:o})}var X=0,Y=f.s.getLogger("esri.core.workers"),ee=n,te=ee.ABORT,re=ee.INVOKE,ne=ee.OPEN,oe=ee.OPENED,se=ee.RESPONSE,ie=function(){function e(t,r){(0,c.Z)(this,e),this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",(function(e){e.preventDefault(),Y.error(e)}))}return(0,l.Z)(e,[{key:"terminate",value:function(){this.worker.terminate()}},{key:"open",value:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var r,n,o,i=this,a=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=r.signal,o=y(),e.abrupt("return",new Promise((function(e,r){var s={resolve:e,reject:r,abortHandle:(0,f.K)(n,(function(){i._outJobs.delete(o),i._post({type:te,jobId:o})}))};i._outJobs.set(o,s),i._post({type:ne,jobId:o,modulePath:t})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onMessage",value:function(e){var t=P(e);if(t)switch(t.type){case oe:this._onOpenedMessage(t);break;case se:this._onResponseMessage(t);break;case te:this._onAbortMessage(t);break;case re:this._onInvokeMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);n&&(n.controller&&n.controller.abort(),t.delete(r))}},{key:"_onInvokeMessage",value:function(e){var t,r=this,n=e.methodName,o=e.jobId,s=e.data,i=e.abortable?new AbortController:null,a=this._inJobs,u=d.d[n];try{if("function"!=typeof u)throw new TypeError("".concat(n," is not a function"));t=u.call(null,s,{signal:i?i.signal:null})}catch(Y){return void this._post({type:se,jobId:o,error:_(Y)})}(0,f.D)(t)?(a.set(o,{controller:i,promise:t}),t.then((function(e){a.has(o)&&(a.delete(o),r._post({type:se,jobId:o},e))}),(function(e){a.has(o)&&(a.delete(o),e||(e={message:"Error encountered at method"+n}),(0,f.u)(e)||r._post({type:se,jobId:o,error:_(e||{message:"Error encountered at method ".concat(n)})}))}))):this._post({type:se,jobId:o},t)}},{key:"_onOpenedMessage",value:function(e){var t=e.jobId,r=e.data,n=this._outJobs.get(t);n&&(this._outJobs.delete(t),(0,h.d)(n.abortHandle),n.resolve(r))}},{key:"_onResponseMessage",value:function(e){var t=e.jobId,r=e.error,n=e.data,o=this._outJobs.get(t);o&&(this._outJobs.delete(t),(0,h.d)(o.abortHandle),r?o.reject(f.a.fromJSON(JSON.parse(r))):o.resolve(n))}},{key:"_post",value:function(e,t,r){return w(this.worker,e,t,r)}}],[{key:"create",value:function(){var t=(0,i.Z)((0,s.Z)().mark((function t(r){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z();case 2:return n=t.sent,t.abrupt("return",new e(n,r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),ae=(0,h.a)("esri-workers-debug")?1:(0,h.a)("host-browser")?navigator.hardwareConcurrency-1:0;ae||(ae=(0,h.a)("safari")&&(0,h.a)("mac")||(0,h.a)("trident")?7:2);var ue=0,ce=[];function le(){ge()}function fe(e,t){return he.apply(this,arguments)}function he(){return he=(0,i.Z)((0,s.Z)().mark((function e(t,r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new C,e.next=3,n.open(t,r);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}function de(e){return pe.apply(this,arguments)}function pe(){return pe=(0,i.Z)((0,s.Z)().mark((function e(t){var r,n,o,i,u,c,l,d,p,v=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:{},"string"==typeof t){e.next=3;break}throw new f.a("workers:undefined-module","modulePath is missing");case 3:if(n=r.strategy||"distributed",(0,h.a)("host-webworker")&&!(0,h.a)("esri-workers")&&(n="local"),"local"!==n){e.next=16;break}return e.next=7,A.loadWorker(t);case 7:if(o=e.sent,e.t0=o,e.t0){e.next=13;break}return e.next=12,import(t);case 12:o=e.sent;case 13:return(0,f.H)(r.signal),i=r.client||o,e.abrupt("return",fe([A.connect(o)],(0,a.Z)((0,a.Z)({},r),{},{client:i})));case 16:return e.next=18,ge();case 18:if((0,f.H)(r.signal),"dedicated"!==n){e.next=28;break}return u=ue++%ae,e.t1=fe,e.next=24,ce[u].open(t,r);case 24:return e.t2=e.sent,e.t3=[e.t2],e.t4=r,e.abrupt("return",(0,e.t1)(e.t3,e.t4));case 28:if(!(r.maxNumWorkers&&r.maxNumWorkers>0)){e.next=34;break}if(!((c=Math.min(r.maxNumWorkers,ae))<ae)){e.next=34;break}for(l=new Array(c),d=0;d<c;++d)p=ue++%ae,l[d]=ce[p].open(t,r);return e.abrupt("return",fe(l,r));case 34:return e.abrupt("return",fe(ce.map((function(e){return e.open(t,r)})),r));case 35:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}var ve=null;function ge(){return me.apply(this,arguments)}function me(){return me=(0,i.Z)((0,s.Z)().mark((function e(){var t,r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ve){e.next=2;break}return e.abrupt("return",ve);case 2:for(new AbortController,t=[],r=function(e){var r=ie.create(e).then((function(t){return ce[e]=t,t}));t.push(r)},n=0;n<ae;n++)r(n);return e.abrupt("return",ve=Promise.all(t));case 7:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}}}]);
//# sourceMappingURL=6794.ff9a304a.chunk.js.map