"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[6074,2151,5534,2046],{75662:function(e,t,r){r.d(t,{a:function(){return v},b:function(){return h},c:function(){return d}});var n,o=r(15671),i=r(43144),a=r(60136),s=r(29388),u=r(50165),l=r(17493),p=n=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).active=!1,n.className=null,n.disabled=!1,n.id=null,n.indicator=!1,n.title=null,n.type=null,n.visible=!0,n}return(0,i.Z)(r,[{key:"clone",value:function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}}]),r}((0,l.s)(u.y));(0,u.e)([(0,u.d)()],p.prototype,"active",void 0),(0,u.e)([(0,u.d)()],p.prototype,"className",void 0),(0,u.e)([(0,u.d)()],p.prototype,"disabled",void 0),(0,u.e)([(0,u.d)()],p.prototype,"id",void 0),(0,u.e)([(0,u.d)()],p.prototype,"indicator",void 0),(0,u.e)([(0,u.d)()],p.prototype,"title",void 0),(0,u.e)([(0,u.d)()],p.prototype,"type",void 0),(0,u.e)([(0,u.d)()],p.prototype,"visible",void 0);var c,d=p=n=(0,u.e)([(0,u.n)("esri.support.actions.ActionBase")],p),y=c=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).image=null,n.type="button",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}}]),r}(d);(0,u.e)([(0,u.d)()],y.prototype,"image",void 0);var f,v=y=c=(0,u.e)([(0,u.n)("esri.support.Action.ActionButton")],y),m=f=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).image=null,n.type="toggle",n.value=!1,n}return(0,i.Z)(r,[{key:"clone",value:function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}}]),r}(d);(0,u.e)([(0,u.d)()],m.prototype,"image",void 0),(0,u.e)([(0,u.d)()],m.prototype,"value",void 0);var h=m=f=(0,u.e)([(0,u.n)("esri.support.Action.ActionToggle")],m)},40858:function(e,t,r){r.d(t,{a:function(){return p}});var n=r(43144),o=r(15671),i=r(60136),a=r(29388),s=r(50165),u=r(36235),l={read:{reader:u.n},write:{allowNull:!0,writer:u.a}},p=function(e){var t=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,o.Z)(this,r),(e=t.apply(this,arguments)).blendMode="normal",e.effect=null,e}return(0,n.Z)(r)}(e);return(0,s.e)([(0,s.d)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),(0,s.e)([(0,s.d)({json:{read:!1,write:!1,origins:{"web-map":l,"portal-item":l}}})],t.prototype,"effect",void 0),t=(0,s.e)([(0,s.n)("esri.layers.mixins.BlendLayer")],t)}},82046:function(e,t,r){r.r(t);var n,o=r(29439),i=r(37762),a=r(15671),s=r(43144),u=r(60136),l=r(29388),p=r(50165),c=r(33530),d=r(89031),y=r(13994),f=r(32335),v=r(77322),m=r(78664),h=r(49961),g=(r(96263),r(31278),r(98496),r(40133),r(4483),r(79747),r(42),r(52155),r(75662),r(17493),r(62980),r(16377),r(9887),r(88406),r(66307),r(2760),r(42488),r(9330),r(79146),r(3029),r(42687),r(78330),r(78697),r(31412),new y.s({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null})),w=n=function(e){(0,u.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return(0,s.Z)(r,[{key:"readFeatures",value:function(e,t){for(var r=v.k.fromJSON(t.spatialReference),n=[],o=0;o<e.length;o++){var i=e[o],a=d.g.fromJSON(i),s=i.geometry&&i.geometry.spatialReference;(0,p.r)(a.geometry)&&!s&&(a.geometry.spatialReference=r);var u=i.aggregateGeometries,l=a.aggregateGeometries;if(u&&(0,p.r)(l))for(var c in l){var y,f=l[c],m=null===(y=u[c])||void 0===y?void 0:y.spatialReference;(0,p.r)(f)&&!m&&(f.spatialReference=r)}n.push(a)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)g.write(e,t,r,n);else{var o=this.features;if(o){var a,s=(0,i.Z)(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u&&(0,p.r)(u.geometry))return void g.write(u.geometry.type,t,r,n)}}catch(l){s.e(l)}finally{s.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=(0,m.d)(e);return!r&&t.spatialReference&&(n.spatialReference=v.k.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,o=(0,i.Z)(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a&&(0,p.r)(a.geometry)&&a.geometry.spatialReference)return void(t.spatialReference=a.geometry.spatialReference.toJSON())}}catch(s){o.e(s)}finally{o.f()}}}}},{key:"clone",value:function(){return new n(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,p.m)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var o=e&&e[r];n.geometry=o&&o.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=(0,o.Z)(e.scale,2),r=t[0],n=t[1],i=(0,o.Z)(e.translate,2),a=i[0],s=i[1],u=this.features,l=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/r)}),(function(e){return Math.round((s-e)/n)})),c=0,d=u.length;c<d;c++)l((0,p.g)(u[c].geometry))||(u.splice(c,1),c--,d--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var n,a=(0,o.Z)(r.translate,2),s=a[0],u=a[1],l=(0,o.Z)(r.scale,2),c=l[0],d=l[1],y=this._getHydrationFunction(e,(function(e){return e*c+s}),(function(e){return u-e*d})),f=(0,i.Z)(t);try{for(f.s();!(n=f.n()).done;){var v=n.value.geometry;(0,p.r)(v)&&y(v)}}catch(m){f.e(m)}finally{f.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,o,i=[],a=0,s=e.length;a<s;a++){var u=e[a];if(a>0){var l=t(u[0]),p=r(u[1]);l===n&&p===o||(i.push([l-n,p-o]),n=l,o=p)}else n=t(u[0]),o=r(u[1]),i.push([n,o])}return i.length>0?i:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var o=(0,m.c)(e)?e.rings:e.paths,i=[],a=0,s=o.length;a<s;a++){var u=o[a],l=n._quantizePoints(u,t,r);l&&i.push(l)}return i.length>0?((0,m.c)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?function(e){var o=n._quantizePoints(e.points,t,r);return o.length>0?(e.points=o,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,o,i=(0,m.c)(e)?e.rings:e.paths,a=0,s=i.length;a<s;a++)for(var u=i[a],l=0,p=u.length;l<p;l++){var c=u[l];l>0?(n+=c[0],o+=c[1]):(n=c[0],o=c[1]),c[0]=t(n),c[1]=r(o)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,o,i=e.points,a=0,s=i.length;a<s;a++){var u=i[a];a>0?(n+=u[0],o+=u[1]):(n=u[0],o=u[1]),u[0]=t(n),u[1]=r(o)}}:void 0}}]),r}(f.l);(0,p.e)([(0,p.d)({type:String,json:{write:!0}})],w.prototype,"displayFieldName",void 0),(0,p.e)([(0,p.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],w.prototype,"exceededTransferLimit",void 0),(0,p.e)([(0,p.d)({type:[d.g],json:{write:!0}})],w.prototype,"features",void 0),(0,p.e)([(0,v.o)("features")],w.prototype,"readFeatures",null),(0,p.e)([(0,p.d)({type:[h.y],json:{write:!0}})],w.prototype,"fields",void 0),(0,p.e)([(0,p.d)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],w.prototype,"geometryType",void 0),(0,p.e)([(0,v.r)("geometryType")],w.prototype,"writeGeometryType",null),(0,p.e)([(0,p.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],w.prototype,"hasM",void 0),(0,p.e)([(0,p.d)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],w.prototype,"hasZ",void 0),(0,p.e)([(0,p.d)({types:c.i,json:{write:!0}})],w.prototype,"queryGeometry",void 0),(0,p.e)([(0,v.o)("queryGeometry")],w.prototype,"readQueryGeometry",null),(0,p.e)([(0,p.d)({type:v.k,json:{write:!0}})],w.prototype,"spatialReference",void 0),(0,p.e)([(0,v.r)("spatialReference")],w.prototype,"writeSpatialReference",null),(0,p.e)([(0,p.d)({json:{write:!0}})],w.prototype,"transform",void 0),(w=n=(0,p.e)([(0,p.n)("esri.rest.support.FeatureSet")],w)).prototype.toJSON.isDefaultToJSON=!0;var b=w;t.default=b},49961:function(e,t,r){r.d(t,{n:function(){return I},p:function(){return f},t:function(){return B},u:function(){return S},y:function(){return O}});var n,o=r(15671),i=r(43144),a=r(60136),s=r(29388),u=r(50165),l=r(13994),p=r(32335),c=r(79747),d=r(77322),y=r(31412),f=n=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).name=null,n.code=null,n}return(0,i.Z)(r,[{key:"clone",value:function(){return new n({name:this.name,code:this.code})}}]),r}(p.l);(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],f.prototype,"name",void 0),(0,u.e)([(0,u.d)({type:[String,Number],json:{write:!0}})],f.prototype,"code",void 0),f=n=(0,u.e)([(0,u.n)("esri.layers.support.CodedValue")],f);var v=new l.s({inherited:"inherited",codedValue:"coded-value",range:"range"}),m=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).name=null,n.type=null,n}return(0,i.Z)(r)}(p.l);(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,u.e)([(0,c.r)(v)],m.prototype,"type",void 0);var h,g=m=(0,u.e)([(0,u.n)("esri.layers.support.Domain")],m),w=h=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).codedValues=null,n.type="coded-value",n}return(0,i.Z)(r,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((function(e){return String(e.code)===r&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new h({codedValues:(0,u.m)(this.codedValues),name:this.name})}}]),r}(g);(0,u.e)([(0,u.d)({type:[f],json:{write:!0}})],w.prototype,"codedValues",void 0),(0,u.e)([(0,c.r)({codedValue:"coded-value"})],w.prototype,"type",void 0);var b,S=w=h=(0,u.e)([(0,u.n)("esri.layers.support.CodedValueDomain")],w),Z=b=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).type="inherited",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new b}}]),r}(g);(0,u.e)([(0,c.r)({inherited:"inherited"})],Z.prototype,"type",void 0);var k,T=Z=b=(0,u.e)([(0,u.n)("esri.layers.support.InheritedDomain")],Z),N=k=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).maxValue=null,n.minValue=null,n.type="range",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new k({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),r}(g);(0,u.e)([(0,u.d)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,r){t[r]=[this.minValue||0,e]}}}})],N.prototype,"maxValue",void 0),(0,u.e)([(0,u.d)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,r){t[r]=[e,this.maxValue||0]}}}})],N.prototype,"minValue",void 0),(0,u.e)([(0,c.r)({range:"range"})],N.prototype,"type",void 0);var x,P=N=k=(0,u.e)([(0,u.n)("esri.layers.support.RangeDomain")],N),I={key:"type",base:g,typeMap:{range:P,"coded-value":S,inherited:T}};function B(e){if(!e||!e.type)return null;switch(e.type){case"range":return P.fromJSON(e);case"codedValue":return S.fromJSON(e);case"inherited":return T.fromJSON(e)}return null}var j=new l.s({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),R=x=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).alias=null,n.defaultValue=void 0,n.description=null,n.domain=null,n.editable=!0,n.length=-1,n.name=null,n.nullable=!0,n.type=null,n.valueType=null,n}return(0,i.Z)(r,[{key:"readDescription",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(o){}return r?r.value:null}},{key:"readValueType",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(o){}return r?j.fromJSON(r.fieldValueType):null}},{key:"clone",value:function(){return new x({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}}]),r}(p.l);(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],R.prototype,"alias",void 0),(0,u.e)([(0,u.d)({type:[String,Number],json:{write:{allowNull:!0}}})],R.prototype,"defaultValue",void 0),(0,u.e)([(0,u.d)()],R.prototype,"description",void 0),(0,u.e)([(0,d.o)("description")],R.prototype,"readDescription",null),(0,u.e)([(0,u.d)({types:I,json:{read:{reader:B},write:!0}})],R.prototype,"domain",void 0),(0,u.e)([(0,u.d)({type:Boolean,json:{write:!0}})],R.prototype,"editable",void 0),(0,u.e)([(0,u.d)({type:u.S,json:{write:!0}})],R.prototype,"length",void 0),(0,u.e)([(0,u.d)({type:String,json:{write:!0}})],R.prototype,"name",void 0),(0,u.e)([(0,u.d)({type:Boolean,json:{write:!0}})],R.prototype,"nullable",void 0),(0,u.e)([(0,c.r)(y.i)],R.prototype,"type",void 0),(0,u.e)([(0,u.d)()],R.prototype,"valueType",void 0),(0,u.e)([(0,d.o)("valueType",["description"])],R.prototype,"readValueType",null);var O=R=x=(0,u.e)([(0,u.n)("esri.layers.support.Field")],R)},22984:function(e,t,r){r.d(t,{a:function(){return f},c:function(){return p},d:function(){return v}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(50165),u=r(69738),l=r(73627),p=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).updating=!1,e.handleId=0,e.handles=new u.u,e.scheduleHandleId=0,e.pendingPromises=new Set,e}return(0,o.Z)(r,[{key:"destroy",value:function(){this.removeAll(),this.handles.destroy()}},{key:"add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,l.l)}},{key:"addWhen",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,l.f)}},{key:"addOnCollectionChange",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.initial,i=void 0!==o&&o,a=n.final,s=void 0!==a&&a,u=++this.handleId;return this.handles.add([(0,l.a)(e,"after-changes",this._createSyncUpdatingCallback(),l.U),(0,l.a)(e,"change",t,{onListenerAdd:i?function(e){return t({added:e.toArray(),removed:[]})}:void 0,onListenerRemove:s?function(e){return t({added:[],removed:e.toArray()})}:void 0})],u),{remove:function(){return r.handles.remove(u)}}}},{key:"addPromise",value:function(e){var t=this;if((0,s.t)(e))return e;var r=++this.handleId;this.handles.add({remove:function(){t.pendingPromises.delete(e)&&(0!==t.pendingPromises.size||t.handles.has(y)||t._set("updating",!1))}},r),this.pendingPromises.add(e),this._set("updating",!0);var n=function(){return t.handles.remove(r)};return e.then(n,n),e}},{key:"removeAll",value:function(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}},{key:"_installWatch",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=++this.handleId;n.sync||this._installSyncUpdatingWatch(e,i);var a=o(e,t,n);return this.handles.add(a,i),{remove:function(){return r.handles.remove(i)}}}},{key:"_installSyncUpdatingWatch",value:function(e,t){var r=this._createSyncUpdatingCallback(),n=(0,l.l)(e,r,{sync:!0,equals:function(){return!1}});return this.handles.add(n,t),n}},{key:"_createSyncUpdatingCallback",value:function(){var e=this;return function(){e.handles.remove(y),++e.scheduleHandleId;var t=e.scheduleHandleId;e._get("updating")||e._set("updating",!0),e.handles.add((0,s.O)((function(){t===e.scheduleHandleId&&(e._set("updating",e.pendingPromises.size>0),e.handles.remove(y))})),y)}}}]),r}(s.y);(0,s.e)([(0,s.d)({readOnly:!0})],p.prototype,"updating",void 0),p=(0,s.e)([(0,s.n)("esri.core.support.WatchUpdatingTracking")],p);var c,d,y=-42;(d=c||(c={}))[d.NONE=0]="NONE",d[d.SYNC=1]="SYNC",d[d.INIT=2]="INIT";var f=function(e){var t=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"destroy",value:function(){var e,t;this.destroyed||(null!==(e=this._get("handles"))&&void 0!==e&&e.destroy(),null===(t=this._get("updatingHandles"))||void 0===t||t.destroy())}},{key:"handles",get:function(){return this._get("handles")||new u.u}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new p}}]),r}(e);return(0,s.e)([(0,s.d)({readOnly:!0})],t.prototype,"handles",null),(0,s.e)([(0,s.d)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,s.e)([(0,s.n)("esri.core.HandleOwner")],t),t},v=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r)}(f(s.y));v=(0,s.e)([(0,s.n)("esri.core.HandleOwner")],v)},69738:function(e,t,r){r.d(t,{u:function(){return p}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(50165),u=r(40133),l=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var o;return(0,n.Z)(this,r),(o=t.call(this,e))._groups=new Map,o}return(0,o.Z)(r,[{key:"destroy",value:function(){this.removeAll()}},{key:"size",get:function(){var e=0;return this._groups.forEach((function(t){e+=t.length})),e}},{key:"add",value:function(e,t){var r=this;if(!this._isHandle(e)&&!Array.isArray(e)&&!u.j.isCollection(e))return this;var n=this._getOrCreateGroup(t);return Array.isArray(e)||u.j.isCollection(e)?e.forEach((function(e){return r._isHandle(e)&&n.push(e)})):n.push(e),this.notifyChange("size"),this}},{key:"forEach",value:function(e,t){if("function"==typeof e)this._groups.forEach((function(t){return t.forEach(e)}));else{var r=this._getGroup(e);r&&t&&r.forEach(t)}}},{key:"has",value:function(e){return this._groups.has(this._ensureGroupKey(e))}},{key:"remove",value:function(e){if(Array.isArray(e)||u.j.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}},{key:"removeAll",value:function(){return this._groups.forEach((function(e){for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}},{key:"_isHandle",value:function(e){return e&&!!e.remove}},{key:"_getOrCreateGroup",value:function(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}},{key:"_getGroup",value:function(e){return(0,s.q)(this._groups.get(this._ensureGroupKey(e)))}},{key:"_deleteGroup",value:function(e){return this._groups.delete(this._ensureGroupKey(e))}},{key:"_ensureGroupKey",value:function(e){return e||"_default_"}}]),r}(s.y);(0,s.e)([(0,s.d)({readOnly:!0})],l.prototype,"size",null);var p=l=(0,s.e)([(0,s.n)("esri.core.Handles")],l)},17493:function(e,t,r){r.d(t,{o:function(){return c},s:function(){return p}});var n=r(43144),o=r(15671),i=r(97326),a=r(60136),s=r(29388),u=r(50165),l=0,p=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object.defineProperty((0,i.Z)(e),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+l++}),e}return(0,n.Z)(r)}(e);return t=(0,u.e)([(0,u.n)("esri.core.Identifiable")],t)},c=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r)}(p(function(){return(0,n.Z)((function e(){(0,o.Z)(this,e)}))}()));c=(0,u.e)([(0,u.n)("esri.core.Identifiable")],c)},28003:function(e,t,r){r.d(t,{b:function(){return b}});var n=r(74165),o=r(15671),i=r(43144),a=r(60136),s=r(29388),u=r(15861),l=r(50165),p=(r(33530),r(13994)),c=r(40133),d=r(17493),y=r(78330),f=r(96263),v=r(77322),m=l.s.getLogger("esri.layers.support.fromPortalItem");function h(){return h=(0,u.Z)((0,n.Z)().mark((function e(t){var o,i,a,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="portalItem"in t?t:{portalItem:t},e.next=3,Promise.all([r.e(1340),r.e(8643),r.e(1056),r.e(4314),r.e(5487)]).then(r.bind(r,4314));case 3:return i=e.sent,e.prev=4,e.next=7,i.fromItem(o);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),a=o&&o.portalItem,s=a&&a.id||"unset",u=a&&a.portal&&a.portal.url||l.f.portalUrl,m.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+s+"')",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])}))),h.apply(this,arguments)}var g=0,w=function(e){(0,a.Z)(c,e);var t=(0,s.Z)(c);function c(){var e;return(0,o.Z)(this,c),(e=t.apply(this,arguments)).attributionDataUrl=null,e.fullExtent=new f.M(-180,-90,180,90,v.k.WGS84),e.id=Date.now().toString(16)+"-layer-"+g++,e.legendEnabled=!0,e.listMode="show",e.opacity=1,e.parent=null,e.popupEnabled=!0,e.attributionVisible=!0,e.spatialReference=v.k.WGS84,e.title=null,e.type=null,e.url=null,e.visible=!0,e}return(0,i.Z)(c,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var r,n;(0,l.I)(t)||l.s.getLogger(e.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!==(r=e.title)&&void 0!==r?r:"no title","', id: '").concat(null!==(n=e.id)&&void 0!==n?n:"no id","')"),{error:t})}))}},{key:"destroy",value:function(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){var e=this.url;return e?(0,p.j)(e):null}},{key:"fetchAttributionData",value:function(){var e=(0,u.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.attributionDataUrl,!this.hasAttributionData||!t){e.next=5;break}return e.next=4,(0,p.U)(t,{query:{f:"json"},responseType:"json"});case 4:return e.abrupt("return",e.sent.data);case 5:throw new l.a("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromArcGISServerUrl",value:function(){var e=(0,u.Z)((0,n.Z)().mark((function e(t){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="string"==typeof t?{url:t}:t,e.next=3,Promise.all([r.e(1056),r.e(4574)]).then(r.bind(r,4574));case 3:return e.abrupt("return",e.sent.fromUrl(o));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromPortalItem",value:function(e){return function(e){return h.apply(this,arguments)}(e)}}]),c}(c.n.EventedMixin((0,d.s)(y.m)));(0,l.e)([(0,l.d)({type:String})],w.prototype,"attributionDataUrl",void 0),(0,l.e)([(0,l.d)({type:f.M})],w.prototype,"fullExtent",void 0),(0,l.e)([(0,l.d)({readOnly:!0})],w.prototype,"hasAttributionData",null),(0,l.e)([(0,l.d)({type:String,clonable:!1})],w.prototype,"id",void 0),(0,l.e)([(0,l.d)({type:Boolean,nonNullable:!0})],w.prototype,"legendEnabled",void 0),(0,l.e)([(0,l.d)({type:["show","hide","hide-children"]})],w.prototype,"listMode",void 0),(0,l.e)([(0,l.d)({type:Number,range:{min:0,max:1},nonNullable:!0})],w.prototype,"opacity",void 0),(0,l.e)([(0,l.d)({clonable:!1})],w.prototype,"parent",void 0),(0,l.e)([(0,l.d)({readOnly:!0})],w.prototype,"parsedUrl",null),(0,l.e)([(0,l.d)({type:Boolean})],w.prototype,"popupEnabled",void 0),(0,l.e)([(0,l.d)({type:Boolean})],w.prototype,"attributionVisible",void 0),(0,l.e)([(0,l.d)({type:v.k})],w.prototype,"spatialReference",void 0),(0,l.e)([(0,l.d)({type:String})],w.prototype,"title",void 0),(0,l.e)([(0,l.d)({readOnly:!0,json:{read:!1}})],w.prototype,"type",void 0),(0,l.e)([(0,l.d)()],w.prototype,"url",void 0),(0,l.e)([(0,l.d)({type:Boolean,nonNullable:!0})],w.prototype,"visible",void 0);var b=w=(0,l.e)([(0,l.n)("esri.layers.Layer")],w)},41524:function(e,t,r){r.d(t,{v:function(){return w}});var n=r(1413),o=r(74165),i=r(15861),a=r(15671),s=r(43144),u=r(11752),l=r(61120),p=r(60136),c=r(29388),d=r(50165),y=r(13994),f=r(5233),v=r(77322),m=r(78330),h=r(68668),g=d.s.getLogger("esri.layers.mixins.PortalLayer"),w=function(e){var t=function(e){(0,p.Z)(v,e);var t=(0,c.Z)(v);function v(){var e;return(0,a.Z)(this,v),(e=t.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},e.userHasEditingPrivileges=!0,e}return(0,s.Z)(v,[{key:"destroy",value:function(){var e;null!==(e=this.portalItem)&&void 0!==e&&e.destroy(),this.portalItem=null}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,r){if(t.itemId)return new h.default({id:t.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,n){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.portalItem||!this.portalItem.id){e.next=14;break}return e.prev=1,e.next=4,Promise.all([r.e(1056),r.e(4368)]).then(r.bind(r,84368)).then((function(e){return e.l}));case 4:return i=e.sent,(0,d.W)(n),e.next=8,i.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},n);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),(0,d.I)(e.t0)||g.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"finishLoadEditablePortalLayer",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this._fetchUserHasEditingPrivileges(t).catch((function(e){return(0,d._)(e),!0}));case 3:e.t1=e.sent,e.t0._set.call(e.t0,"userHasEditingPrivileges",e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchUserHasEditingPrivileges",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.url?null===y.a||void 0===y.a?void 0:y.a.findCredential(this.url):null){e.next=3;break}return e.abrupt("return",!0);case 3:if(b.credential!==r){e.next=7;break}e.t0=b.user,e.next=10;break;case 7:return e.next=9,this._fetchEditingUser(t);case 9:e.t0=e.sent;case 10:return n=e.t0,e.abrupt("return",(b.credential=r,b.user=n,(0,d.t)(n)||null==n.privileges||n.privileges.includes("features:user:edit")));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchEditingUser",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n,i,a,s,u,l,p,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=null===(r=this.portalItem)||void 0===r||null===(n=r.portal)||void 0===n?void 0:n.user)){e.next=3;break}return e.abrupt("return",i);case 3:if(null!==(a=y.a.findServerInfo(this.url))&&void 0!==a&&a.owningSystemUrl){e.next=6;break}return e.abrupt("return",null);case 6:if(s="".concat(a.owningSystemUrl,"/sharing/rest"),!(u=m.B.getDefault())||!u.loaded||(0,y.F)(u.restUrl)!==(0,y.F)(s)){e.next=9;break}return e.abrupt("return",u.user);case 9:return l="".concat(s,"/community/self"),p=(0,d.r)(t)?t.signal:null,e.next=13,(0,f.a)((0,y.U)(l,{authMode:"no-prompt",query:{f:"json"},signal:p}));case 13:return c=e.sent,e.abrupt("return",c.ok?m.p.fromJSON(c.value.data):null);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(e,t){t&&(t.layer=this),(0,u.Z)((0,l.Z)(v.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var r=t&&t.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||m.B.getDefault());return r&&o&&!(0,y.N)(o.restUrl,r.restUrl)?(t.messages&&t.messages.push(new d.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer"),{layer:this})),null):(0,u.Z)((0,l.Z)(v.prototype),"write",this).call(this,e,(0,n.Z)((0,n.Z)({},t),{},{layer:this}))}}]),v}(e);return(0,d.e)([(0,d.d)({type:h.default})],t.prototype,"portalItem",null),(0,d.e)([(0,v.o)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,d.e)([(0,v.r)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,d.e)([(0,d.d)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=(0,d.e)([(0,d.n)("esri.layers.mixins.PortalLayer")],t),t},b={credential:null,user:null}},76074:function(e,t,r){r.r(t);var n=r(74165),o=r(93433),i=r(1413),a=r(15861),s=r(37762),u=r(43144),l=r(15671),p=r(60136),c=r(29388),d=r(50165),y=r(33530),f=r(89031),v=r(98496),m=(r(49350),r(97823)),h=r(40133),g=r(22984),w=r(46584),b=r(73627),S=r(73428),Z=r(13994),k=r(77322),T=r(81905),N=r(96263),x=r(98643),P=r(28003),I=r(40858),B=r(33074),j=r(41524),R=r(66319),O=r(80933),L=r(62980),_=r(32335),A=r(78330),D=r(68668),M=r(67729),C=r(51613),G=r(79747),U=r(14167),E=r(10489),J=r(82046),F=r(31278),z=r(78697),V=r(44932),W=r(78664),q=(r(4483),r(42),r(52155),r(75662),r(17493),r(84539),r(88406),r(66307),r(2760),r(89354),r(16897),r(42488),r(47642),r(63334),r(83172),r(3029),r(38419),r(9887),r(84231),r(38665),r(32717),r(59075),r(16377),r(17691),r(39853),r(94872),r(3969),r(69738),r(61340),r(61772),r(79146),r(76375),r(36235),r(5233),r(9330),r(42687),r(49961),r(31412),function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).break=new L.y({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),n.first=new L.y({color:[0,255,0],size:20,outline:{color:[255,255,255],width:4}}),n.unlocated=new L.y({color:[255,0,0],size:12,outline:{color:[255,255,255],width:3}}),n.last=new L.y({color:[255,0,0],size:20,outline:{color:[255,255,255],width:4}}),n.middle=new L.y({color:[51,51,51],size:12,outline:{color:[0,122,194],width:3}}),n.waypoint=new L.y({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),n}return(0,u.Z)(r)}(_.l));(0,d.e)([(0,d.d)({types:L.j})],q.prototype,"break",void 0),(0,d.e)([(0,d.d)({types:L.j})],q.prototype,"first",void 0),(0,d.e)([(0,d.d)({types:L.j})],q.prototype,"unlocated",void 0),(0,d.e)([(0,d.d)({types:L.j})],q.prototype,"last",void 0),(0,d.e)([(0,d.d)({types:L.j})],q.prototype,"middle",void 0),(0,d.e)([(0,d.d)({types:L.j})],q.prototype,"waypoint",void 0);var H=q=(0,d.e)([(0,d.n)("esri.layers.support.RouteStopSymbols")],q),K=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).directionLines=new L.m({color:[0,122,194],width:6}),n.directionPoints=new L.y({color:[255,255,255],size:6,outline:{color:[0,122,194],width:2}}),n.pointBarriers=new L.y({style:"x",size:10,outline:{color:[255,0,0],width:3}}),n.polygonBarriers=new L.S({color:[255,170,0,.6],outline:{width:7.5,color:[255,0,0,.6]}}),n.polylineBarriers=new L.m({width:7.5,color:[255,85,0,.7]}),n.routeInfo=new L.m({width:8,color:[20,89,127]}),n.stops=new H,n}return(0,u.Z)(r)}(_.l);(0,d.e)([(0,d.d)({types:L.j})],K.prototype,"directionLines",void 0),(0,d.e)([(0,d.d)({types:L.j})],K.prototype,"directionPoints",void 0),(0,d.e)([(0,d.d)({types:L.j})],K.prototype,"pointBarriers",void 0),(0,d.e)([(0,d.d)({types:L.j})],K.prototype,"polygonBarriers",void 0),(0,d.e)([(0,d.d)({types:L.j})],K.prototype,"polylineBarriers",void 0),(0,d.e)([(0,d.d)({types:L.j})],K.prototype,"routeInfo",void 0),(0,d.e)([(0,d.d)({type:H})],K.prototype,"stops",void 0);var Y=K=(0,d.e)([(0,d.n)("esri.layers.support.RouteSymbols")],K),Q=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).dataType=null,n.name=null,n.parameterNames=null,n.restrictionUsageParameterName=null,n.timeNeutralAttributeName=null,n.trafficSupport=null,n.units=null,n.usageType=null,n}return(0,u.Z)(r)}(_.l);(0,d.e)([(0,d.d)({type:String})],Q.prototype,"dataType",void 0),(0,d.e)([(0,G.r)(U.T,{ignoreUnknown:!1})],Q.prototype,"name",void 0),(0,d.e)([(0,d.d)({type:[String]})],Q.prototype,"parameterNames",void 0),(0,d.e)([(0,d.d)({type:String})],Q.prototype,"restrictionUsageParameterName",void 0),(0,d.e)([(0,G.r)(U.y,{ignoreUnknown:!1})],Q.prototype,"timeNeutralAttributeName",void 0),(0,d.e)([(0,d.d)({type:String})],Q.prototype,"trafficSupport",void 0),(0,d.e)([(0,d.d)({type:String})],Q.prototype,"units",void 0),(0,d.e)([(0,G.r)(U.d)],Q.prototype,"usageType",void 0);var X=Q=(0,d.e)([(0,d.n)("esri.rest.support.NetworkAttribute")],Q),$=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).buildTime=null,n.name=null,n.networkAttributes=null,n.networkSources=null,n.state=null,n}return(0,u.Z)(r)}(_.l);(0,d.e)([(0,d.d)({type:Number})],$.prototype,"buildTime",void 0),(0,d.e)([(0,d.d)({type:String})],$.prototype,"name",void 0),(0,d.e)([(0,d.d)({type:[X]})],$.prototype,"networkAttributes",void 0),(0,d.e)([(0,d.d)()],$.prototype,"networkSources",void 0),(0,d.e)([(0,d.d)({type:String})],$.prototype,"state",void 0);var ee=$=(0,d.e)([(0,d.n)("esri.rest.support.NetworkDataset")],$),te=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).accumulateAttributeNames=null,n.currentVersion=null,n.defaultTravelMode=null,n.directionsLanguage=null,n.directionsLengthUnits=null,n.directionsSupportedLanguages=null,n.directionsTimeAttribute=null,n.hasZ=null,n.impedance=null,n.networkDataset=null,n.supportedTravelModes=null,n}return(0,u.Z)(r,[{key:"readAccumulateAttributes",value:function(e){return(0,d.t)(e)?null:e.map((function(e){return U.T.fromJSON(e)}))}},{key:"writeAccumulateAttributes",value:function(e,t,r){!(0,d.t)(e)&&e.length&&(t[r]=e.map((function(e){return U.T.toJSON(e)})))}}]),r}(_.l);(0,d.e)([(0,d.d)()],te.prototype,"accumulateAttributeNames",void 0),(0,d.e)([(0,k.o)("accumulateAttributeNames")],te.prototype,"readAccumulateAttributes",null),(0,d.e)([(0,k.r)("accumulateAttributeNames")],te.prototype,"writeAccumulateAttributes",null),(0,d.e)([(0,d.d)()],te.prototype,"currentVersion",void 0),(0,d.e)([(0,d.d)()],te.prototype,"defaultTravelMode",void 0),(0,d.e)([(0,d.d)()],te.prototype,"directionsLanguage",void 0),(0,d.e)([(0,G.r)(U.r)],te.prototype,"directionsLengthUnits",void 0),(0,d.e)([(0,d.d)()],te.prototype,"directionsSupportedLanguages",void 0),(0,d.e)([(0,G.r)(U.y,{ignoreUnknown:!1})],te.prototype,"directionsTimeAttribute",void 0),(0,d.e)([(0,d.d)()],te.prototype,"hasZ",void 0),(0,d.e)([(0,G.r)(U.T,{ignoreUnknown:!1})],te.prototype,"impedance",void 0),(0,d.e)([(0,d.d)({type:ee})],te.prototype,"networkDataset",void 0),(0,d.e)([(0,d.d)({type:[U.e]})],te.prototype,"supportedTravelModes",void 0);var re=te=(0,d.e)([(0,d.n)("esri.rest.support.NetworkServiceDescription")],te);function ne(e,t,r,n){n[r]=[t.length,t.length+e.length],e.forEach((function(e){t.push(e.geometry)}))}function oe(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var o,i=(0,s.Z)(n);try{for(i.s();!(o=i.n()).done;){o.value.z=void 0}}catch(a){i.e(a)}finally{i.f()}}}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function ie(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var o,i=(0,s.Z)(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;if((0,d.r)(a)&&a.hasZ)return!0}}catch(u){i.e(u)}finally{i.f()}}}return!1}function ae(e,t,r){return se.apply(this,arguments)}function se(){return se=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i,a,s,u,l,p,c,y;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new d.a("network-service:missing-url","Url to Network service is missing");case 2:return i=(0,C.e)({f:"json",token:r},o),e.next=5,(0,Z.U)(t,i);case 5:for(a=e.sent,(s=a.data).supportedTravelModes||(s.supportedTravelModes=[]),u=0;u<s.supportedTravelModes.length;u++)s.supportedTravelModes[u].id||(s.supportedTravelModes[u].id=s.supportedTravelModes[u].itemId);return l=s.currentVersion>=10.4?pe(t,r,o):ue(t,o),e.next=12,l;case 12:return p=e.sent,c=p.defaultTravelMode,y=p.supportedTravelModes,e.abrupt("return",(s.defaultTravelMode=c,s.supportedTravelModes=y,re.fromJSON(s)));case 16:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function ue(e,t){return le.apply(this,arguments)}function le(){return le=(0,a.Z)((0,n.Z)().mark((function e(t,r){var o,i,a,u,l,p,c,y,f,v,m,h,g,w,b,S,k,T,N,x,P,I,B,j,R,O;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,C.e)({f:"json"},r),e.next=3,(0,Z.U)(t.replace(/\/rest\/.*$/i,"/info"),a);case 3:if(u=e.sent,(l=u.data)&&l.owningSystemUrl){e.next=7;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 7:return p=l.owningSystemUrl,c=(0,Z.C)(p)+"/sharing/rest/portals/self",e.next=11,(0,Z.U)(c,a);case 11:if(y=e.sent,f=y.data,v=(0,d.j)("helperServices.routingUtilities.url",f)){e.next=16;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 16:return m=(0,C.n)(p),h=/\/solve$/i.test(m.path)?"Route":/\/solveclosestfacility$/i.test(m.path)?"ClosestFacility":"ServiceAreas",g=(0,C.e)({f:"json",serviceName:h},r),w=(0,Z.C)(v)+"/GetTravelModes/execute",e.next=22,(0,Z.U)(w,g);case 22:if(b=e.sent,S=[],k=null,null!==b&&void 0!==b&&null!==(o=b.data)&&void 0!==o&&null!==(i=o.results)&&void 0!==i&&i.length){T=b.data.results,N=(0,s.Z)(T);try{for(N.s();!(x=N.n()).done;)if("supportedTravelModes"===(P=x.value).paramName){if(null!==(I=P.value)&&void 0!==I&&I.features){B=(0,s.Z)(P.value.features);try{for(B.s();!(j=B.n()).done;)(R=j.value.attributes)&&(O=JSON.parse(R.TravelMode),S.push(O))}catch(n){B.e(n)}finally{B.f()}}}else"defaultTravelMode"===P.paramName&&(k=P.value)}catch(n){N.e(n)}finally{N.f()}}return e.abrupt("return",{supportedTravelModes:S,defaultTravelMode:k});case 27:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function pe(e,t,r){return ce.apply(this,arguments)}function ce(){return ce=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i,a,s,u,l,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(0,C.e)({f:"json",token:r},o),a=(0,Z.C)(t)+"/retrieveTravelModes",e.next=5,(0,Z.U)(a,i);case 5:return s=e.sent,u=s.data,l=u.supportedTravelModes,p=u.defaultTravelMode,e.abrupt("return",{supportedTravelModes:l,defaultTravelMode:p});case 12:throw e.prev=12,e.t0=e.catch(0),new d.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),ce.apply(this,arguments)}var de=new Z.s({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"}),ye=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).description=null,n.type=null,n}return(0,u.Z)(r)}(_.l);(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],ye.prototype,"description",void 0),(0,d.e)([(0,d.d)({type:String,json:{read:de.read,write:de.write}})],ye.prototype,"type",void 0);var fe=ye=(0,d.e)([(0,d.n)("esri.rest.support.GPMessage")],ye),ve=new Z.s({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"}),me=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).type=null,n}return(0,u.Z)(r)}(fe);(0,d.e)([(0,d.d)({type:String,json:{read:ve.read,write:ve.write}})],me.prototype,"type",void 0);var he=me=(0,d.e)([(0,d.n)("esri.rest.support.NAMessage")],me),ge=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(){return(0,l.Z)(this,r),t.apply(this,arguments)}return(0,u.Z)(r)}(f.g);(0,d.e)([(0,d.d)()],ge.prototype,"events",void 0),(0,d.e)([(0,d.d)()],ge.prototype,"strings",void 0);var we=ge=(0,d.e)([(0,d.n)("esri.rest.support.DirectionsFeature")],ge),be=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).extent=null,n.features=null,n.geometryType="polyline",n.routeId=null,n.routeName=null,n.totalDriveTime=null,n.totalLength=null,n.totalTime=null,n}return(0,u.Z)(r,[{key:"readFeatures",value:function(e,t){var r,n=this;if(!e)return[];var o=null!==(r=t.summary.envelope.spatialReference)&&void 0!==r?r:t.spatialReference,a=o&&k.k.fromJSON(o);return e.map((function(e){var t,r,o=n._decompressGeometry(e.compressedGeometry),s=new F.m((0,i.Z)((0,i.Z)({},o),{},{spatialReference:a})),u=null!==(t=null===(r=e.events)||void 0===r?void 0:r.map((function(e){var t=e.arriveTimeUTC,r=e.ETA,n=e.point,o=n.x,i=n.y,s=n.z,u=e.strings;return new we({geometry:new k.j({x:o,y:i,z:s,hasZ:void 0!==s,spatialReference:a}),attributes:{ETA:r,arriveTimeUTC:t},strings:u})})))&&void 0!==t?t:[];return new we({attributes:e.attributes,events:u,geometry:s,strings:e.strings})}))}},{key:"mergedGeometry",get:function(){if(!this.features)return null;var e=this.features.map((function(e){var t=e.geometry;return(0,d.g)(t)})),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)}},{key:"strings",get:function(){return this.features.map((function(e){return e.strings}))}},{key:"_decompressGeometry",value:function(e){var t,r,n,o,i,a,s,u,l=0,p=0,c=0,d=0,y=[],f=0,v=0,m=0;if((i=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(i=[]),0===parseInt(i[f],32)){f=2;var h=parseInt(i[f],32);f++,a=parseInt(i[f],32),f++,1&h&&(v=i.indexOf("|")+1,s=parseInt(i[v],32),v++),2&h&&(m=i.indexOf("|",v)+1,u=parseInt(i[m],32),m++)}else a=parseInt(i[f],32),f++;for(;f<i.length&&"|"!==i[f];){t=parseInt(i[f],32)+l,f++,l=t,r=parseInt(i[f],32)+p,f++,p=r;var g=[t/a,r/a];v&&(o=parseInt(i[v],32)+c,v++,c=o,g.push(o/s)),m&&(n=parseInt(i[m],32)+d,m++,d=n,g.push(n/u)),y.push(g)}return{paths:[y],hasZ:v>0,hasM:m>0}}},{key:"_mergePolylinesToSinglePath",value:function(e,t){if(0===e.length)return new F.m({spatialReference:t});var r,n=[],i=(0,s.Z)(e);try{for(i.s();!(r=i.n()).done;){var a,u=r.value,l=(0,s.Z)(u.paths);try{for(l.s();!(a=l.n()).done;){var p=a.value;n.push.apply(n,(0,o.Z)(p))}}catch(v){l.e(v)}finally{l.f()}}}catch(v){i.e(v)}finally{i.f()}var c=[];n.forEach((function(e,t){0!==t&&e[0]===n[t-1][0]&&e[1]===n[t-1][1]||c.push(e)}));var d=e[0],y=d.hasM,f=d.hasZ;return new F.m({hasM:y,hasZ:f,paths:[c],spatialReference:t})}}]),r}(J.default);(0,d.e)([(0,d.d)({type:N.M,json:{read:{source:"summary.envelope"}}})],be.prototype,"extent",void 0),(0,d.e)([(0,d.d)()],be.prototype,"features",void 0),(0,d.e)([(0,k.o)("features")],be.prototype,"readFeatures",null),(0,d.e)([(0,d.d)()],be.prototype,"geometryType",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],be.prototype,"mergedGeometry",null),(0,d.e)([(0,d.d)()],be.prototype,"routeId",void 0),(0,d.e)([(0,d.d)()],be.prototype,"routeName",void 0),(0,d.e)([(0,d.d)({value:null,readOnly:!0})],be.prototype,"strings",null),(0,d.e)([(0,d.d)({json:{read:{source:"summary.totalDriveTime"}}})],be.prototype,"totalDriveTime",void 0),(0,d.e)([(0,d.d)({json:{read:{source:"summary.totalLength"}}})],be.prototype,"totalLength",void 0),(0,d.e)([(0,d.d)({json:{read:{source:"summary.totalTime"}}})],be.prototype,"totalTime",void 0);var Se=be=(0,d.e)([(0,d.n)("esri.rest.support.DirectionsFeatureSet")],be),Ze=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).directionLines=null,n.directionPoints=null,n.directions=null,n.route=null,n.routeName=null,n.stops=null,n.traversedEdges=null,n.traversedJunctions=null,n.traversedTurns=null,n}return(0,u.Z)(r)}(_.l);(0,d.e)([(0,d.d)({type:J.default,json:{write:!0}})],Ze.prototype,"directionLines",void 0),(0,d.e)([(0,d.d)({type:J.default,json:{write:!0}})],Ze.prototype,"directionPoints",void 0),(0,d.e)([(0,d.d)({type:Se,json:{write:!0}})],Ze.prototype,"directions",void 0),(0,d.e)([(0,d.d)({type:f.g,json:{write:!0}})],Ze.prototype,"route",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],Ze.prototype,"routeName",void 0),(0,d.e)([(0,d.d)({type:[f.g],json:{write:!0}})],Ze.prototype,"stops",void 0),(0,d.e)([(0,d.d)({type:J.default,json:{write:!0}})],Ze.prototype,"traversedEdges",void 0),(0,d.e)([(0,d.d)({type:J.default,json:{write:!0}})],Ze.prototype,"traversedJunctions",void 0),(0,d.e)([(0,d.d)({type:J.default,json:{write:!0}})],Ze.prototype,"traversedTurns",void 0);var ke=Ze=(0,d.e)([(0,d.n)("esri.rest.support.RouteResult")],Ze);function Te(e){return e&&J.default.fromJSON(e).features.map((function(e){return e}))}var Ne=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).messages=null,n.pointBarriers=null,n.polylineBarriers=null,n.polygonBarriers=null,n.routeResults=null,n}return(0,u.Z)(r,[{key:"readPointBarriers",value:function(e,t){return Te(t.barriers)}},{key:"readPolylineBarriers",value:function(e){return Te(e)}},{key:"readPolygonBarriers",value:function(e){return Te(e)}}]),r}(_.l);(0,d.e)([(0,d.d)({type:[he]})],Ne.prototype,"messages",void 0),(0,d.e)([(0,d.d)({type:[f.g]})],Ne.prototype,"pointBarriers",void 0),(0,d.e)([(0,k.o)("pointBarriers",["barriers"])],Ne.prototype,"readPointBarriers",null),(0,d.e)([(0,d.d)({type:[f.g]})],Ne.prototype,"polylineBarriers",void 0),(0,d.e)([(0,k.o)("polylineBarriers")],Ne.prototype,"readPolylineBarriers",null),(0,d.e)([(0,d.d)({type:[f.g]})],Ne.prototype,"polygonBarriers",void 0),(0,d.e)([(0,k.o)("polygonBarriers")],Ne.prototype,"readPolygonBarriers",null),(0,d.e)([(0,d.d)({type:[ke]})],Ne.prototype,"routeResults",void 0);var xe=Ne=(0,d.e)([(0,d.n)("esri.rest.support.RouteSolveResult")],Ne);function Pe(e){return"esri.rest.support.FeatureSet"===(null===e||void 0===e?void 0:e.declaredClass)}function Ie(e,t,r){return Be.apply(this,arguments)}function Be(){return Be=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var a,s,u,l,p,c,d,y,f,v,m,h,g,w,b,S;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],s=[],u={},l={},p=(0,C.n)(t),c=p.path,Pe(r.stops)&&ne(r.stops.features,s,"stops.features",u),Pe(r.pointBarriers)&&ne(r.pointBarriers.features,s,"pointBarriers.features",u),Pe(r.polylineBarriers)&&ne(r.polylineBarriers.features,s,"polylineBarriers.features",u),Pe(r.polygonBarriers)&&ne(r.polygonBarriers.features,s,"polygonBarriers.features",u),e.next=4,(0,E.L)(s);case 4:for(y in d=e.sent,u)f=u[y],a.push(y),l[y]=d.slice(f[0],f[1]);if(!ie(l,a)){e.next=17;break}return v=null,e.prev=8,e.next=11,ae(c,r.apiKey,o);case 11:v=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:v&&!v.hasZ&&oe(l,a);case 17:for(h in m=function(e){l[e].forEach((function(t,n){r.get(e)[n].geometry=t}))},l)m(h);return g=(0,i.Z)((0,i.Z)({},o),{},{query:(0,i.Z)((0,i.Z)((0,i.Z)({},p.query),(0,U.u)(r)),{},{f:"json"})}),w=c.endsWith("/solve")?c:"".concat(c,"/solve"),e.next=23,(0,Z.U)(w,g);case 23:return b=e.sent,S=b.data,e.abrupt("return",je(S));case 26:case"end":return e.stop()}}),e,null,[[8,14]])}))),Be.apply(this,arguments)}function je(e){var t,r=e.barriers,n=e.directionLines,o=e.directionPoints,i=e.directions,a=e.messages,s=e.polygonBarriers,u=e.polylineBarriers,l=e.routes,p=e.stops,c=e.traversedEdges,y=e.traversedJunctions,f=e.traversedTurns,v=function(e){var t=h.find((function(t){return t.routeName===e}));if((0,d.r)(t))return t;var r={routeId:h.length+1,routeName:e};return h.push(r),r},m=function(e){var t=h.find((function(t){return t.routeId===e}));if((0,d.r)(t))return t;var r={routeId:e,routeName:null};return h.push(r),r},h=[];null!==l&&void 0!==l&&l.features.forEach((function(e,t){e.geometry.spatialReference=l.spatialReference;var r=e.attributes.Name,n=t+1;h.push({routeId:n,routeName:r,route:e})})),null===i||void 0===i||i.forEach((function(e){var t=e.routeName;v(t).directions=e}));var g=null!==(t=null===p||void 0===p?void 0:p.features.every((function(e){return(0,d.t)(e.attributes.RouteName)})))&&void 0!==t&&t&&h.length>0?h[0].routeName:null;return null!==p&&void 0!==p&&p.features.forEach((function(e){var t,r,n;e.geometry&&(null!==(t=(n=e.geometry).spatialReference)&&void 0!==t||(n.spatialReference=p.spatialReference));var o=null!==g&&void 0!==g?g:e.attributes.RouteName,i=v(o);null!==(r=i.stops)&&void 0!==r||(i.stops=[]),i.stops.push(e)})),null!==n&&void 0!==n&&n.features.forEach((function(e){var t,r=e.attributes.RouteID,o=m(r),i=n.geometryType,a=n.spatialReference;null!==(t=o.directionLines)&&void 0!==t||(o.directionLines={features:[],geometryType:i,spatialReference:a}),o.directionLines.features.push(e)})),null!==o&&void 0!==o&&o.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r),i=o.geometryType,a=o.spatialReference;null!==(t=n.directionPoints)&&void 0!==t||(n.directionPoints={features:[],geometryType:i,spatialReference:a}),n.directionPoints.features.push(e)})),null!==c&&void 0!==c&&c.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r),o=c.geometryType,i=c.spatialReference;null!==(t=n.traversedEdges)&&void 0!==t||(n.traversedEdges={features:[],geometryType:o,spatialReference:i}),n.traversedEdges.features.push(e)})),null!==y&&void 0!==y&&y.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r),o=y.geometryType,i=y.spatialReference;null!==(t=n.traversedJunctions)&&void 0!==t||(n.traversedJunctions={features:[],geometryType:o,spatialReference:i}),n.traversedJunctions.features.push(e)})),null!==f&&void 0!==f&&f.features.forEach((function(e){var t,r=e.attributes.RouteID,n=m(r);null!==(t=n.traversedTurns)&&void 0!==t||(n.traversedTurns={features:[]}),n.traversedTurns.features.push(e)})),xe.fromJSON({routeResults:h,barriers:r,polygonBarriers:s,polylineBarriers:u,messages:a})}var Re=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).doNotLocateOnRestrictedElements=null,n.geometry=null,n.geometryType=null,n.name=null,n.spatialRelationship=null,n.type="layer",n.where=null,n}return(0,u.Z)(r)}((0,z.l)(_.l));(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Re.prototype,"doNotLocateOnRestrictedElements",void 0),(0,d.e)([(0,d.d)({types:y.i,json:{read:W.d,write:!0}})],Re.prototype,"geometry",void 0),(0,d.e)([(0,G.r)(U.w)],Re.prototype,"geometryType",void 0),(0,d.e)([(0,d.d)({type:String,json:{name:"layerName",write:!0}})],Re.prototype,"name",void 0),(0,d.e)([(0,G.r)(U.R,{name:"spatialRel"})],Re.prototype,"spatialRelationship",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],Re.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],Re.prototype,"where",void 0);var Oe,Le=Re=(0,d.e)([(0,d.n)("esri.rest.support.DataLayer")],Re),_e=Oe=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).doNotLocateOnRestrictedElements=null,n}return(0,u.Z)(r,[{key:"clone",value:function(){return new Oe((0,i.Z)({doNotLocateOnRestrictedElements:this.doNotLocateOnRestrictedElements},this.cloneProperties()))}}]),r}(J.default);(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],_e.prototype,"doNotLocateOnRestrictedElements",void 0);var Ae=_e=Oe=(0,d.e)([(0,d.n)("esri.rest.support.NetworkFeatureSet")],_e),De=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).doNotLocateOnRestrictedElements=null,n.url=null,n}return(0,u.Z)(r)}((0,z.l)(_.l));(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],De.prototype,"doNotLocateOnRestrictedElements",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],De.prototype,"url",void 0);var Me,Ce=De=(0,d.e)([(0,d.n)("esri.rest.support.NetworkUrl")],De);function Ge(e,t,r){(0,d.r)(e)&&(t[r]=h.j.isCollection(e)?{features:e.toArray().map((function(e){return e.toJSON()}))}:e.toJSON())}var Ue=Me=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).accumulateAttributes=null,n.apiKey=null,n.attributeParameterValues=null,n.directionsLanguage=null,n.directionsLengthUnits=null,n.directionsOutputType=null,n.directionsStyleName=null,n.directionsTimeAttribute=null,n.findBestSequence=null,n.geometryPrecision=null,n.geometryPrecisionM=null,n.geometryPrecisionZ=null,n.ignoreInvalidLocations=null,n.impedanceAttribute=null,n.outputGeometryPrecision=null,n.outputGeometryPrecisionUnits=null,n.outputLines="true-shape",n.outSpatialReference=null,n.overrides=null,n.pointBarriers=null,n.polygonBarriers=null,n.polylineBarriers=null,n.preserveFirstStop=null,n.preserveLastStop=null,n.preserveObjectID=null,n.restrictionAttributes=null,n.restrictUTurns=null,n.returnBarriers=!1,n.returnDirections=!1,n.returnPolygonBarriers=!1,n.returnPolylineBarriers=!1,n.returnRoutes=!0,n.returnStops=!1,n.returnTraversedEdges=null,n.returnTraversedJunctions=null,n.returnTraversedTurns=null,n.returnZ=!0,n.startTime=null,n.startTimeIsUTC=!0,n.stops=null,n.timeWindowsAreUTC=null,n.travelMode=null,n.useHierarchy=null,n.useTimeWindows=null,n}return(0,u.Z)(r,[{key:"readAccumulateAttributes",value:function(e){return(0,d.t)(e)?null:e.map((function(e){return U.T.fromJSON(e)}))}},{key:"writeAccumulateAttributes",value:function(e,t,r){!(0,d.t)(e)&&e.length&&(t[r]=e.map((function(e){return U.T.toJSON(e)})))}},{key:"writePointBarriers",value:function(e,t,r){Ge(e,t,r)}},{key:"writePolygonBarrier",value:function(e,t,r){Ge(e,t,r)}},{key:"writePolylineBarrier",value:function(e,t,r){Ge(e,t,r)}},{key:"readRestrictionAttributes",value:function(e){return(0,d.t)(e)?null:e.map((function(e){return U.U.fromJSON(e)}))}},{key:"writeRestrictionAttributes",value:function(e,t,r){!(0,d.t)(e)&&e.length&&(t[r]=e.map((function(e){return U.U.toJSON(e)})))}},{key:"readStartTime",value:function(e,t){var r=t.startTime;return(0,d.t)(r)?null:"now"===r?"now":new Date(r)}},{key:"writeStartTime",value:function(e,t){(0,d.t)(e)||(t.startTime="now"===e?"now":e.getTime())}},{key:"readStops",value:function(e,t){return function(e){return function(e){return e&&"type"in e}(e)?Le.fromJSON(e):function(e){return e&&"url"in e}(e)?Ce.fromJSON(e):function(e){return e&&"features"in e&&"doNotLocateOnRestrictedElements"in e}(e)?Ae.fromJSON(e):function(e){return e&&"features"in e}(e)?J.default.fromJSON(e):null}(t.stops)}},{key:"writeStops",value:function(e,t,r){Ge(e,t,r)}}],[{key:"from",value:function(e){return(0,d.ak)(Me,e)}}]),r}((0,z.l)(_.l));(0,d.e)([(0,d.d)({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],Ue.prototype,"accumulateAttributes",void 0),(0,d.e)([(0,k.o)("accumulateAttributes")],Ue.prototype,"readAccumulateAttributes",null),(0,d.e)([(0,k.r)("accumulateAttributes")],Ue.prototype,"writeAccumulateAttributes",null),(0,d.e)([(0,d.d)(V.t)],Ue.prototype,"apiKey",void 0),(0,d.e)([(0,d.d)({json:{write:!0}})],Ue.prototype,"attributeParameterValues",void 0),(0,d.e)([(0,d.d)({type:String,json:{write:!0}})],Ue.prototype,"directionsLanguage",void 0),(0,d.e)([(0,G.r)(U.r)],Ue.prototype,"directionsLengthUnits",void 0),(0,d.e)([(0,G.r)(U.s)],Ue.prototype,"directionsOutputType",void 0),(0,d.e)([(0,G.r)(U.k)],Ue.prototype,"directionsStyleName",void 0),(0,d.e)([(0,G.r)(U.y,{name:"directionsTimeAttributeName",ignoreUnknown:!1})],Ue.prototype,"directionsTimeAttribute",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"findBestSequence",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],Ue.prototype,"geometryPrecision",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],Ue.prototype,"geometryPrecisionM",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],Ue.prototype,"geometryPrecisionZ",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"ignoreInvalidLocations",void 0),(0,d.e)([(0,G.r)(U.T,{name:"impedanceAttributeName",ignoreUnknown:!1})],Ue.prototype,"impedanceAttribute",void 0),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],Ue.prototype,"outputGeometryPrecision",void 0),(0,d.e)([(0,G.r)(U.i)],Ue.prototype,"outputGeometryPrecisionUnits",void 0),(0,d.e)([(0,G.r)(U.o)],Ue.prototype,"outputLines",void 0),(0,d.e)([(0,d.d)({type:k.k,json:{name:"outSR",write:!0}})],Ue.prototype,"outSpatialReference",void 0),(0,d.e)([(0,d.d)({json:{write:!0}})],Ue.prototype,"overrides",void 0),(0,d.e)([(0,d.d)({json:{name:"barriers",write:!0}})],Ue.prototype,"pointBarriers",void 0),(0,d.e)([(0,k.r)("pointBarriers")],Ue.prototype,"writePointBarriers",null),(0,d.e)([(0,d.d)({json:{write:!0}})],Ue.prototype,"polygonBarriers",void 0),(0,d.e)([(0,k.r)("polygonBarriers")],Ue.prototype,"writePolygonBarrier",null),(0,d.e)([(0,d.d)({json:{write:!0}})],Ue.prototype,"polylineBarriers",void 0),(0,d.e)([(0,k.r)("polylineBarriers")],Ue.prototype,"writePolylineBarrier",null),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"preserveFirstStop",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"preserveLastStop",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"preserveObjectID",void 0),(0,d.e)([(0,d.d)({type:[String],json:{name:"restrictionAttributeNames",write:!0}})],Ue.prototype,"restrictionAttributes",void 0),(0,d.e)([(0,k.o)("restrictionAttributes")],Ue.prototype,"readRestrictionAttributes",null),(0,d.e)([(0,k.r)("restrictionAttributes")],Ue.prototype,"writeRestrictionAttributes",null),(0,d.e)([(0,G.r)(U.n)],Ue.prototype,"restrictUTurns",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"returnBarriers",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"returnDirections",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"returnPolygonBarriers",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"returnPolylineBarriers",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"returnRoutes",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"returnStops",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"returnTraversedEdges",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"returnTraversedJunctions",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"returnTraversedTurns",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"returnZ",void 0),(0,d.e)([(0,d.d)({type:Date,json:{type:Number,write:!0}})],Ue.prototype,"startTime",void 0),(0,d.e)([(0,k.o)("startTime")],Ue.prototype,"readStartTime",null),(0,d.e)([(0,k.r)("startTime")],Ue.prototype,"writeStartTime",null),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"startTimeIsUTC",void 0),(0,d.e)([(0,d.d)({json:{write:!0}})],Ue.prototype,"stops",void 0),(0,d.e)([(0,k.o)("stops")],Ue.prototype,"readStops",null),(0,d.e)([(0,k.r)("stops")],Ue.prototype,"writeStops",null),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"timeWindowsAreUTC",void 0),(0,d.e)([(0,d.d)({type:U.e,json:{write:!0}})],Ue.prototype,"travelMode",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"useHierarchy",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{write:!0}})],Ue.prototype,"useTimeWindows",void 0);var Ee=Ue=Me=(0,d.e)([(0,d.n)("esri.rest.support.RouteParameters")],Ue);function Je(e){return e.length?e:null}function Fe(e){var t=e.defaultTravelMode;return e.supportedTravelModes.find((function(e){return e.id===t}))}function ze(e){switch(e){case"esriGeometryPoint":return{type:"esriSMS",style:"esriSMSCircle",size:12,color:[0,0,0,0],outline:ze("esriGeometryPolyline")};case"esriGeometryPolyline":return{type:"esriSLS",style:"esriSLSSolid",width:1,color:[0,0,0,0]};case"esriGeometryPolygon":return{type:"esriSFS",style:"esriSFSNull",outline:ze("esriGeometryPolyline")}}}function Ve(e){return"layers"in e}function We(e){return"esri.rest.support.FeatureSet"===e.declaredClass}function qe(e){return"esri.rest.support.NetworkFeatureSet"===e.declaredClass}function He(e,t,r){var n,o,i,a,u,l,p,c,y,f,v,m=t.networkDataset.networkAttributes.filter((function(e){return"cost"===e.usageType})),h=Fe(t),g=null!==(n=r.travelMode)&&void 0!==n?n:h;if((0,d.t)(g))it.warn("route-layer:missing-travel-mode","The routing service must have a default travel mode or one must be specified in the route parameter.");else{var w=g.timeAttributeName,b=g.distanceAttributeName,S=m.find((function(e){return e.name===w})),Z=m.find((function(e){return e.name===b})),k=null!==(o=null!==(i=null===(a=(0,d.g)(r.travelMode))||void 0===a?void 0:a.impedanceAttributeName)&&void 0!==i?i:(0,d.g)(r.impedanceAttribute))&&void 0!==o?o:t.impedance,T=U.t.fromJSON(null===S||void 0===S?void 0:S.units),N=U.r.fromJSON(null===Z||void 0===Z?void 0:Z.units);if(!T||!N)throw new d.a("routelayer:unknown-impedance-units","the units of either the distance or time impedance are unknown");var x,P=null!==(u=r.directionsLanguage)&&void 0!==u?u:t.directionsLanguage,I=null!==(l=null!==(p=(0,d.g)(r.accumulateAttributes))&&void 0!==p?p:t.accumulateAttributeNames)&&void 0!==l?l:[],B=new Set(m.filter((function(e){var t=e.name;return t===w||t===b||t===k||I.includes(t)})).map((function(e){return e.name}))),j=function(e){for(var t in e)B.has(t)||delete e[t]},R=(0,s.Z)(e.pointBarriers);try{for(R.s();!(x=R.n()).done;){var O,L=x.value;(0,d.r)(L.costs)&&(L.addedCost=null!==(O=L.costs[k])&&void 0!==O?O:0,j(L.costs))}}catch(oe){R.e(oe)}finally{R.f()}var _,A=(0,s.Z)(e.polygonBarriers);try{for(A.s();!(_=A.n()).done;){var D,M=_.value;(0,d.r)(M.costs)&&(M.scaleFactor=null!==(D=M.costs[k])&&void 0!==D?D:1,j(M.costs))}}catch(oe){A.e(oe)}finally{A.f()}var C,G=(0,s.Z)(e.polylineBarriers);try{for(G.s();!(C=G.n()).done;){var E,J=C.value;(0,d.r)(J.costs)&&(J.scaleFactor=null!==(E=J.costs[k])&&void 0!==E?E:1,j(J.costs))}}catch(oe){G.e(oe)}finally{G.f()}var F=e.routeInfo,z=r.findBestSequence,V=r.preserveFirstStop,W=r.preserveLastStop,q=r.startTimeIsUTC,H=r.timeWindowsAreUTC;F.analysisSettings=new U.l({accumulateAttributes:I,directionsLanguage:P,findBestSequence:z,preserveFirstStop:V,preserveLastStop:W,startTimeIsUTC:q,timeWindowsAreUTC:H,travelMode:g}),F.totalDuration=Qe(null!==(c=F.totalCosts[w])&&void 0!==c?c:0,T),F.totalDistance=Xe(null!==(y=F.totalCosts[b])&&void 0!==y?y:0,N),F.totalLateDuration=Qe(null!==(f=F.totalViolations[w])&&void 0!==f?f:0,T),F.totalWaitDuration=Qe(null!==(v=F.totalWait[w])&&void 0!==v?v:0,T),(0,d.r)(F.totalCosts)&&j(F.totalCosts),(0,d.r)(F.totalViolations)&&j(F.totalViolations),(0,d.r)(F.totalWait)&&j(F.totalWait);var K,Y=(0,s.Z)(e.stops);try{for(Y.s();!(K=Y.n()).done;){var Q,X,$,ee,te,re,ne=K.value;(0,d.r)(ne.serviceCosts)&&(ne.serviceDuration=Qe(null!==(Q=ne.serviceCosts[w])&&void 0!==Q?Q:0,T),ne.serviceDistance=Xe(null!==(X=ne.serviceCosts[b])&&void 0!==X?X:0,N),j(ne.serviceCosts)),(0,d.r)(ne.cumulativeCosts)&&(ne.cumulativeDuration=Qe(null!==($=ne.cumulativeCosts[w])&&void 0!==$?$:0,T),ne.cumulativeDistance=Xe(null!==(ee=ne.cumulativeCosts[b])&&void 0!==ee?ee:0,N),j(ne.cumulativeCosts)),(0,d.r)(ne.violations)&&(ne.lateDuration=Qe(null!==(te=ne.violations[w])&&void 0!==te?te:0,T),j(ne.violations)),(0,d.r)(ne.wait)&&(ne.waitDuration=Qe(null!==(re=ne.wait[w])&&void 0!==re?re:0,T),j(ne.wait))}}catch(oe){Y.e(oe)}finally{Y.f()}}}function Ke(e){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k.k.WGS84,e.next=3,(0,x.f)(t.spatialReference,r);case 3:return e.abrupt("return",(0,x.r)(t,r));case 4:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function Qe(e,t){switch(t){case"seconds":return e/60;case"hours":return 60*e;case"days":return 60*e*24;default:return e}}function Xe(e,t){return"decimal-degrees"===t||"points"===t||"unknown"===t?e:(0,S.N)(e,t,"meters")}var $e=h.j.ofType(U.b),et=h.j.ofType(U.h),tt=h.j.ofType(U.O),rt=h.j.ofType(U.g),nt=h.j.ofType(U.a),ot=h.j.ofType(U.D),it=d.s.getLogger("esri.layers.RouteLayer"),at=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;(0,l.Z)(this,r),(n=t.call(this,e))._cachedServiceDescription=null,n._featureCollection=null,n._type="Feature Collection",n.defaultSymbols=new Y,n.directionLines=null,n.directionPoints=null,n.featureCollectionType="route",n.legendEnabled=!1,n.maxScale=0,n.minScale=0,n.pointBarriers=new tt,n.polygonBarriers=new rt,n.polylineBarriers=new nt,n.routeInfo=null,n.spatialReference=k.k.WGS84,n.stops=new ot,n.type="route";var o=function(){n._setStopSymbol(n.stops)};return n.own([(0,b.a)((function(){return n.stops}),"change",o,{sync:!0,onListenerAdd:o})]),n}return(0,u.Z)(r,[{key:"writeFeatureCollectionWebmap",value:function(e,t,r,n){var o=[this._writePolygonBarriers(),this._writePolylineBarriers(),this._writePointBarriers(),this._writeRouteInfo(),this._writeDirectionLines(),this._writeDirectionPoints(),this._writeStops()].filter((function(e){return!!e})),i=o.map((function(e,t){return t})),a="web-map"===n.origin?"featureCollection.layers":"layers";(0,d.$)(a,o,t),t.opacity=this.opacity,t.visibility=this.visible,t.visibleLayers=i}},{key:"readDirectionLines",value:function(e,t){return this._getNetworkFeatures(t,"DirectionLines",(function(e){return U.b.fromGraphic(e)}))}},{key:"readDirectionPoints",value:function(e,t){return this._getNetworkFeatures(t,"DirectionPoints",(function(e){return U.h.fromGraphic(e)}))}},{key:"fullExtent",get:function(){var e,t=new N.M({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:k.k.WGS84});if((0,d.r)(this.routeInfo)&&(0,d.r)(this.routeInfo.geometry))return null!==(e=this.routeInfo.geometry.extent)&&void 0!==e?e:t;if((0,d.t)(this.stops))return t;var r=this.stops.filter((function(e){return(0,d.r)(e.geometry)}));if(r.length<2)return t;var n=r.getItemAt(0).geometry.spatialReference;if((0,d.t)(n))return t;var o=r.toArray().map((function(e){var t=e.geometry;return[t.x,t.y]}));return new F.a({points:o,spatialReference:n}).extent}},{key:"readMaxScale",value:function(e,t){var r,n;return null!==(r=null===(n=(Ve(t)?t.layers:t.featureCollection.layers).find((function(e){return(0,d.r)(e.layerDefinition.maxScale)})))||void 0===n?void 0:n.layerDefinition.maxScale)&&void 0!==r?r:0}},{key:"readMinScale",value:function(e,t){var r,n;return null!==(r=null===(n=(Ve(t)?t.layers:t.featureCollection.layers).find((function(e){return(0,d.r)(e.layerDefinition.minScale)})))||void 0===n?void 0:n.layerDefinition.minScale)&&void 0!==r?r:0}},{key:"readPointBarriers",value:function(e,t){return this._getNetworkFeatures(t,"Barriers",(function(e){return U.O.fromGraphic(e)}))}},{key:"readPolygonBarriers",value:function(e,t){return this._getNetworkFeatures(t,"PolygonBarriers",(function(e){return U.g.fromGraphic(e)}))}},{key:"readPolylineBarriers",value:function(e,t){return this._getNetworkFeatures(t,"PolylineBarriers",(function(e){return U.a.fromGraphic(e)}))}},{key:"readRouteInfo",value:function(e,t){var r=this._getNetworkFeatures(t,"RouteInfo",(function(e){return U.c.fromGraphic(e)}));return r.length>0?r.getItemAt(0):null}},{key:"readSpatialReference",value:function(e,t){var r,n,o=Ve(t)?t.layers:t.featureCollection.layers;if(!o.length)return k.k.WGS84;var i=o[0].layerDefinition,a=null!==(r=null!==(n=i.spatialReference)&&void 0!==n?n:i.extent.spatialReference)&&void 0!==r?r:k.n;return k.k.fromJSON(a)}},{key:"readStops",value:function(e,t){var r=this;return this._getNetworkFeatures(t,"Stops",(function(e){return U.D.fromGraphic(e)}),(function(e){return r._setStopSymbol(e)}))}},{key:"title",get:function(){return(0,d.r)(this.routeInfo)&&(0,d.r)(this.routeInfo.name)?this.routeInfo.name:"Route"},set:function(e){e?this._override("title",e):this._clearOverride("title")}},{key:"url",get:function(){return d.f.routeServiceUrl},set:function(e){null!=e?this._set("url",(0,O.S)(e,it)):this._set("url",d.f.routeServiceUrl)}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)}},{key:"removeAll",value:function(){this.removeResult(),this.pointBarriers.removeAll(),this.polygonBarriers.removeAll(),this.polylineBarriers.removeAll(),this.stops.removeAll()}},{key:"removeResult",value:function(){(0,d.r)(this.directionLines)&&(this.directionLines.removeAll(),this._set("directionLines",null)),(0,d.r)(this.directionPoints)&&(this.directionPoints.removeAll(),this._set("directionPoints",null)),(0,d.r)(this.routeInfo)&&this._set("routeInfo",null)}},{key:"save",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,o,i,a,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:if(t=this.fullExtent,r=this.portalItem){e.next=5;break}throw new d.a("routelayer:portal-item-not-set","save() requires to the layer to have a portal item");case 5:if(r.id){e.next=7;break}throw new d.a("routelayer:portal-item-not-saved","Please use saveAs() first to save the routelayer");case 7:if("Feature Collection"===r.type){e.next=9;break}throw new d.a("routelayer:portal-item-wrong-type",'Portal item needs to have type "Feature Collection"');case 9:if(!(0,d.t)(this.routeInfo)){e.next=11;break}throw new d.a("routelayer:route-unsolved","save() requires a solved route");case 11:return o=r.portal,e.next=14,o._signIn();case 14:if(e.t0=o.user,e.t0){e.next=18;break}return e.next=18,r.reload();case 18:if(i=r.itemUrl,"admin"===(a=r.itemControl)||"update"===a){e.next=21;break}throw new d.a("routelayer:insufficient-permissions","To save this layer, you need to be the owner or an administrator of your organization");case 21:return s={messages:[],origin:"portal-item",portal:o,url:i&&(0,Z.j)(i),writtenProperties:[]},u=this.write(null,s),e.next=24,Ke(t);case 24:return r.extent=e.sent,r.title=this.title,e.next=28,r.update({data:u});case 28:return e.abrupt("return",r);case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveAs",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,o,i,a,s,u,l,p,c,y=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.length>1&&void 0!==y[1]?y[1]:{},e.next=3,this.load();case 3:if(!(0,d.t)(this.routeInfo)){e.next=5;break}throw new d.a("routelayer:route-unsolved","saveAs() requires a solved route");case 5:if(s=D.default.from(t).clone(),null===(r=s.extent)||void 0===r){e.next=10;break}e.next=13;break;case 10:return e.next=12,Ke(this.fullExtent);case 12:s.extent=e.sent;case 13:return s.id=null,null!==(o=s.portal)&&void 0!==o||(s.portal=A.B.getDefault()),null!==(i=s.title)&&void 0!==i||(s.title=this.title),s.type="Feature Collection",s.typeKeywords=["Data","Feature Collection",M.f.MULTI_LAYER,"Route Layer"],u=s.portal,l={messages:[],origin:"portal-item",portal:u,url:null,writtenProperties:[]},e.next=21,u._signIn();case 21:return p=null===a||void 0===a?void 0:a.folder,c=this.write(null,l),e.next=24,u.user.addItem({item:s,folder:p,data:c});case 24:return this.portalItem=s,(0,T.i)(l),l.portalItem=s,e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"solve",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var o,i,a,u,l,p,c,y,f,v,m,g,w,b,S,Z,k,T,N,x,P,I,B;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=null!==(o=null===t||void 0===t?void 0:t.stops)&&void 0!==o?o:this.stops,c=null!==(i=null===t||void 0===t?void 0:t.pointBarriers)&&void 0!==i?i:Je(this.pointBarriers),y=null!==(a=null===t||void 0===t?void 0:t.polylineBarriers)&&void 0!==a?a:Je(this.polylineBarriers),f=null!==(u=null===t||void 0===t?void 0:t.polygonBarriers)&&void 0!==u?u:Je(this.polygonBarriers),!(0,d.t)(p)){e.next=3;break}throw new d.a("routelayer:undefined-stops","the route layer must have stops defined in the route parameters.");case 3:if(!((We(p)||qe(p))&&p.features.length<2||h.j.isCollection(p)&&p.length<2)){e.next=5;break}throw new d.a("routelayer:insufficent-stops","the route layer must have two or more stops to solve a route.");case 5:if(h.j.isCollection(p)){v=(0,s.Z)(p);try{for(v.s();!(m=v.n()).done;)m.value.routeName=null}catch(n){v.e(n)}finally{v.f()}}return g=null===t||void 0===t?void 0:t.apiKey,w=this.url,e.next=10,this._getServiceDescription(w,g,r);case 10:for(P in b=e.sent,S=Fe(b),Z=null!==(l=null===t||void 0===t?void 0:t.travelMode)&&void 0!==l?l:S,k=(0,d.bC)(null===t||void 0===t?void 0:t.accumulateAttributes,[]),(0,d.r)(Z)&&(k.push(Z.distanceAttributeName),Z.timeAttributeName&&k.push(Z.timeAttributeName)),T={startTime:new Date},N={accumulateAttributes:k,directionsOutputType:"featuresets",ignoreInvalidLocations:!0,pointBarriers:c,polylineBarriers:y,polygonBarriers:f,preserveFirstStop:!0,preserveLastStop:!0,returnBarriers:!!c,returnDirections:!0,returnPolygonBarriers:!!f,returnPolylineBarriers:!!y,returnRoutes:!0,returnStops:!0,stops:p},x=t?Ee.from(t):new Ee,T)null==x[P]&&(x[P]=T[P]);return x.set(N),e.prev=18,e.next=21,Ie(w,x,r);case 21:I=e.sent,e.next=27;break;case 24:throw e.prev=24,e.t0=e.catch(18),(0,d.I)(e.t0)?e.t0:new d.a("routelayer:failed-route-request","the routing request failed",{error:e.t0});case 27:return B=this._toRouteLayerSolution(I),e.abrupt("return",(this._isOverridden("title")||(this.title=(0,d.bC)(B.routeInfo.name,"Route")),He(B,b,x),B));case 29:case"end":return e.stop()}}),e,this,[[18,24]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"update",value:function(e){var t=e.stops,r=e.directionLines,n=e.directionPoints,o=e.pointBarriers,i=e.polylineBarriers,a=e.polygonBarriers,s=e.routeInfo;this.set({stops:t,pointBarriers:o,polylineBarriers:i,polygonBarriers:a}),this._set("directionLines",r),this._set("directionPoints",n),this._set("routeInfo",s)}},{key:"_getNetworkFeatures",value:function(e,t,r,n){var o=this,i=(Ve(e)?e.layers:e.featureCollection.layers).find((function(e){return e.layerDefinition.name===t}));if((0,d.t)(i))return new h.j;var a=i.layerDefinition,s=i.popupInfo,u=i.featureSet,l=a.drawingInfo.renderer,p=u.features,c=l&&(0,m.o)(l),y=p.map((function(e){var n,i,a,u=f.g.fromJSON(e),l=r(u);return null!==(n=l.symbol)&&void 0!==n||(l.symbol=null!==(i=null===c||void 0===c?void 0:c.getSymbol(u))&&void 0!==i?i:o._getNetworkSymbol(t)),null!==(a=l.popupTemplate)&&void 0!==a||(l.popupTemplate=s&&v.B.fromJSON(s)),l}));return n&&y.some((function(e){return!e.symbol}))&&n(y),new h.j(y)}},{key:"_getNetworkSymbol",value:function(e){switch(e){case"Barriers":return this.defaultSymbols.pointBarriers;case"DirectionPoints":return this.defaultSymbols.directionPoints;case"DirectionLines":return this.defaultSymbols.directionLines;case"PolylineBarriers":return this.defaultSymbols.polylineBarriers;case"PolygonBarriers":return this.defaultSymbols.polygonBarriers;case"RouteInfo":return this.defaultSymbols.routeInfo;case"Stops":return null}}},{key:"_getServiceDescription",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,d.r)(this._cachedServiceDescription)||this._cachedServiceDescription.url!==t){e.next=2;break}return e.abrupt("return",this._cachedServiceDescription.serviceDescription);case 2:return e.next=4,ae(t,r,o);case 4:return i=e.sent,e.abrupt("return",(this._cachedServiceDescription={serviceDescription:i,url:t},i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_setStopSymbol",value:function(e){if(e&&0!==e.length&&!(0,d.t)(this.defaultSymbols.stops)&&!e.every((function(e){return(0,d.r)(e.symbol)}))){var t=this.defaultSymbols.stops,r=t.first,n=t.last,i=t.middle,a=t.unlocated,u=t.waypoint,l=t.break;if((0,d.t)(this.routeInfo)||1===e.length)e.forEach((function(t,o){switch(o){case 0:t.symbol=r;break;case e.length-1:t.symbol=n;break;default:t.symbol=i}}));else{var p,c=e.map((function(e){return e.sequence})).filter((function(e){return(0,d.r)(e)})),y=Math.min.apply(Math,(0,o.Z)(c)),f=Math.max.apply(Math,(0,o.Z)(c)),v=(0,s.Z)(e);try{for(v.s();!(p=v.n()).done;){var m=p.value;m.sequence!==y?m.sequence!==f?"ok"===m.status||"not-located-on-closest"===m.status?"waypoint"!==m.locationType?"break"!==m.locationType?m.symbol=i:m.symbol=l:m.symbol=u:m.symbol=a:m.symbol=n:m.symbol=r}}catch(h){v.e(h)}finally{v.f()}}}}},{key:"_toRouteLayerSolution",value:function(e){var t,r,n,o,i,a=this,s=e.routeResults[0].stops.map((function(e){return U.D.fromJSON(e.toJSON())}));this._setStopSymbol(s);var u=new ot(s),l=new rt(null===(t=e.polygonBarriers)||void 0===t?void 0:t.map((function(e){var t=U.g.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.polygonBarriers,t}))),p=new nt(null===(r=e.polylineBarriers)||void 0===r?void 0:r.map((function(e){var t=U.a.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.polylineBarriers,t}))),c=new tt(null===(n=e.pointBarriers)||void 0===n?void 0:n.map((function(e){var t=U.O.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.pointBarriers,t}))),d=U.c.fromJSON(e.routeResults[0].route.toJSON());d.symbol=this.defaultSymbols.routeInfo;var y=new et(null===(o=e.routeResults[0].directionPoints)||void 0===o?void 0:o.features.map((function(e){var t=U.h.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.directionPoints,t})));return{directionLines:new $e(null===(i=e.routeResults[0].directionLines)||void 0===i?void 0:i.features.map((function(e){var t=U.b.fromJSON(e.toJSON());return t.symbol=a.defaultSymbols.directionLines,t}))),directionPoints:y,pointBarriers:c,polygonBarriers:l,polylineBarriers:p,routeInfo:d,stops:u}}},{key:"_writeDirectionLines",value:function(){return this._writeNetworkFeatures(this.directionLines,this.defaultSymbols.directionLines,"esriGeometryPolyline",U.b.fields,U.b.popupInfo,"DirectionLines","Direction Lines")}},{key:"_writeDirectionPoints",value:function(){return this._writeNetworkFeatures(this.directionPoints,this.defaultSymbols.directionPoints,"esriGeometryPoint",U.h.fields,U.h.popupInfo,"DirectionPoints","Direction Points")}},{key:"_writeNetworkFeatures",value:function(e,t,r,n,o,i,a){return(0,d.t)(e)||!e.length?null:{featureSet:{features:e.toArray().map((function(e){return function(e){var t=e.toGraphic().toJSON();return{attributes:t.attributes,geometry:t.geometry,popupInfo:t.popupTemplate,symbol:t.symbol}}(e)})),geometryType:r},layerDefinition:{capabilities:"Query,Update,Editing",drawingInfo:{renderer:{type:"simple",symbol:(0,d.r)(t)?t.toJSON():ze(r)}},extent:this.fullExtent.toJSON(),fields:n,geometryType:r,hasM:!1,hasZ:!1,maxScale:this.maxScale,minScale:this.minScale,name:i,objectIdField:"__OBJECTID",spatialReference:this.spatialReference.toJSON(),title:a,type:"Feature Layer",typeIdField:""},popupInfo:o}}},{key:"_writePointBarriers",value:function(){return this._writeNetworkFeatures(this.pointBarriers,this.defaultSymbols.pointBarriers,"esriGeometryPoint",U.O.fields,U.O.popupInfo,"Barriers","Point Barriers")}},{key:"_writePolygonBarriers",value:function(){return this._writeNetworkFeatures(this.polygonBarriers,this.defaultSymbols.polygonBarriers,"esriGeometryPolygon",U.g.fields,U.g.popupInfo,"PolygonBarriers","Polygon Barriers")}},{key:"_writePolylineBarriers",value:function(){return this._writeNetworkFeatures(this.polylineBarriers,this.defaultSymbols.polylineBarriers,"esriGeometryPolyline",U.a.fields,U.a.popupInfo,"PolylineBarriers","Line Barriers")}},{key:"_writeRouteInfo",value:function(){return this._writeNetworkFeatures((0,d.r)(this.routeInfo)?new h.j([this.routeInfo]):null,this.defaultSymbols.routeInfo,"esriGeometryPolyline",U.c.fields,U.c.popupInfo,"RouteInfo","Route Details")}},{key:"_writeStops",value:function(){var e=this._writeNetworkFeatures(this.stops,null,"esriGeometryPoint",U.D.fields,U.D.popupInfo,"Stops","Stops");if((0,d.t)(e))return null;var t=this.defaultSymbols.stops,r=(0,d.r)(t)&&(0,d.r)(t.first)&&t.first.toJSON(),n=(0,d.r)(t)&&(0,d.r)(t.middle)&&t.middle.toJSON(),o=(0,d.r)(t)&&(0,d.r)(t.last)&&t.last.toJSON();return e.layerDefinition.drawingInfo.renderer={type:"uniqueValue",field1:"Sequence",defaultSymbol:n,uniqueValueInfos:[{value:"1",symbol:r,label:"First Stop"},{value:"".concat(this.stops.length),symbol:o,label:"Last Stop"}]},e}}]),r}((0,I.a)((0,R.t)((0,B.c)((0,j.v)((0,w.O)((0,g.a)(P.b)))))));(0,d.e)([(0,d.d)({readOnly:!0,json:{read:!1,origins:{"portal-item":{write:{allowNull:!0,ignoreOrigin:!0}},"web-map":{write:{overridePolicy:function(){return{allowNull:!0,ignoreOrigin:null==this.portalItem}}}}}}})],at.prototype,"_featureCollection",void 0),(0,d.e)([(0,k.r)(["web-map","portal-item"],"_featureCollection")],at.prototype,"writeFeatureCollectionWebmap",null),(0,d.e)([(0,d.d)({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{target:"type",overridePolicy:function(){return{ignoreOrigin:null!=this.portalItem}}}}}}})],at.prototype,"_type",void 0),(0,d.e)([(0,d.d)({nonNullable:!0,type:Y})],at.prototype,"defaultSymbols",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],at.prototype,"directionLines",void 0),(0,d.e)([(0,k.o)(["web-map","portal-item"],"directionLines",["layers","featureCollection.layers"])],at.prototype,"readDirectionLines",null),(0,d.e)([(0,d.d)({readOnly:!0})],at.prototype,"directionPoints",void 0),(0,d.e)([(0,k.o)(["web-map","portal-item"],"directionPoints",["layers","featureCollection.layers"])],at.prototype,"readDirectionPoints",null),(0,d.e)([(0,d.d)({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],at.prototype,"featureCollectionType",void 0),(0,d.e)([(0,d.d)({readOnly:!0})],at.prototype,"fullExtent",null),(0,d.e)([(0,d.d)({json:{origins:{"web-map":{name:"featureCollection.showLegend"}},write:!0}})],at.prototype,"legendEnabled",void 0),(0,d.e)([(0,d.d)({type:["show","hide"]})],at.prototype,"listMode",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,json:{write:!1}})],at.prototype,"maxScale",void 0),(0,d.e)([(0,k.o)(["web-map","portal-item"],"maxScale",["layers","featureCollection.layers"])],at.prototype,"readMaxScale",null),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,json:{write:!1}})],at.prototype,"minScale",void 0),(0,d.e)([(0,k.o)(["web-map","portal-item"],"minScale",["layers","featureCollection.layers"])],at.prototype,"readMinScale",null),(0,d.e)([(0,d.d)({type:["ArcGISFeatureLayer"],value:"ArcGISFeatureLayer"})],at.prototype,"operationalLayerType",void 0),(0,d.e)([(0,d.d)({nonNullable:!0,type:h.j.ofType(U.O)})],at.prototype,"pointBarriers",void 0),(0,d.e)([(0,k.o)(["web-map","portal-item"],"pointBarriers",["layers","featureCollection.layers"])],at.prototype,"readPointBarriers",null),(0,d.e)([(0,d.d)({nonNullable:!0,type:h.j.ofType(U.g)})],at.prototype,"polygonBarriers",void 0),(0,d.e)([(0,k.o)(["web-map","portal-item"],"polygonBarriers",["layers","featureCollection.layers"])],at.prototype,"readPolygonBarriers",null),(0,d.e)([(0,d.d)({nonNullable:!0,type:h.j.ofType(U.a)})],at.prototype,"polylineBarriers",void 0),(0,d.e)([(0,k.o)(["web-map","portal-item"],"polylineBarriers",["layers","featureCollection.layers"])],at.prototype,"readPolylineBarriers",null),(0,d.e)([(0,d.d)({readOnly:!0})],at.prototype,"routeInfo",void 0),(0,d.e)([(0,k.o)(["web-map","portal-item"],"routeInfo",["layers","featureCollection.layers"])],at.prototype,"readRouteInfo",null),(0,d.e)([(0,d.d)({type:k.k})],at.prototype,"spatialReference",void 0),(0,d.e)([(0,k.o)(["web-map","portal-item"],"spatialReference",["layers","featureCollection.layers"])],at.prototype,"readSpatialReference",null),(0,d.e)([(0,d.d)({nonNullable:!0,type:h.j.ofType(U.D)})],at.prototype,"stops",void 0),(0,d.e)([(0,k.o)(["web-map","portal-item"],"stops",["layers","featureCollection.layers"])],at.prototype,"readStops",null),(0,d.e)([(0,d.d)()],at.prototype,"title",null),(0,d.e)([(0,d.d)({readOnly:!0,json:{read:!1}})],at.prototype,"type",void 0),(0,d.e)([(0,d.d)()],at.prototype,"url",null);var st=at=(0,d.e)([(0,d.n)("esri.layers.RouteLayer")],at);t.default=st},66319:function(e,t,r){r.d(t,{t:function(){return u}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(50165),u=function(e){var t=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).minScale=0,e.maxScale=0,e}return(0,o.Z)(r,[{key:"effectiveScaleRange",get:function(){var e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);var r=this._get("effectiveScaleRange");return r&&r.minScale===e.minScale&&r.maxScale===e.maxScale?r:e}}]),r}(e);return(0,s.e)([(0,s.d)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,s.e)([(0,s.d)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,s.e)([(0,s.d)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,s.e)([(0,s.n)("esri.layers.mixins.ScaleRangeLayer")],t)}},17691:function(e,t,r){r.d(t,{o:function(){return i}});var n=r(1413),o=r(50165);function i(e,t){var r=t?(0,n.Z)((0,n.Z)({},t),{},{source:e}):e;return(0,o.d)({aliasOf:r})}},80933:function(e,t,r){r.d(t,{I:function(){return S},L:function(){return w},S:function(){return g},b:function(){return b},d:function(){return d},g:function(){return h},h:function(){return v},j:function(){return Z},m:function(){return y},w:function(){return f},y:function(){return m}});var n=r(29439),o=r(50165),i=r(13994),a=r(3029),s={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},u=Object.values(s),l=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(".concat(u.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),p=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(".concat(u.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),c=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function d(e){return!!l.test(e)}function y(e){if((0,o.t)(e))return null;var t=(0,i.j)(e),r=t.path.match(l)||t.path.match(p);if(!r)return null;var a=(0,n.Z)(r,5),u=a[1],c=a[2],d=a[3],y=a[4],f=c.indexOf("/");return{title:v(-1!==f?c.slice(f+1):c),serverType:s[d.toLowerCase()],sublayer:null!=y&&""!==y?parseInt(y,10):null,url:{path:u}}}function f(e){var t=(0,i.j)(e).path.match(c);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function v(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function m(e,t){var r=[];if(e){var n=y(e);(0,o.r)(n)&&n.title&&r.push(n.title)}if(t){var i=v(t);r.push(i)}if(2===r.length){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function h(e){if(!e)return!1;var t=(e=e.toLowerCase()).includes(".arcgis.com/"),r=e.includes("//services")||e.includes("//tiles")||e.includes("//features");return t&&r}function g(e,t){return e?(0,i.C)((0,i.A)(e,t)):e}function w(e){var t=e.url;if(!t)return{url:t};t=(0,i.A)(t,e.logger);var r,n=(0,i.j)(t),a=y(n.path);if((0,o.r)(a))null!=a.sublayer&&null==e.layer.layerId&&(r=a.sublayer),t=a.url.path;else if(e.nonStandardUrlAllowed){var s=f(n.path);(0,o.r)(s)&&(t=s.serviceUrl,r=s.sublayerId)}return{url:(0,i.C)(t),layerId:r}}function b(e,t,r,n,o){(0,a.p)(t,n,"url",o),n.url&&null!=e.layerId&&(n.url=(0,i.G)(n.url,r,e.layerId.toString()))}function S(e){if(!e)return!1;var t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),o=t.includes("/imageserver/wmsserver"),i=t.includes("/wmsserver");return r&&(n||o||i)}function Z(e){if(!e)return!1;var t=new i.y((0,i.Q)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},44932:function(e,t,r){r.d(t,{t:function(){return n}});var n={type:String,json:{read:{source:"token"},write:{target:"token"}}}},79747:function(e,t,r){r.d(t,{r:function(){return i}});var n=r(13994),o=r(50165);function i(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e instanceof n.s?e:new n.s(e,r),a={type:null===(t=null===r||void 0===r?void 0:r.ignoreUnknown)||void 0===t||t?i.apiValues:String,json:{type:i.jsonValues,read:!(null!==r&&void 0!==r&&r.readOnly)&&{reader:i.read},write:{writer:i.write}}};return void 0!==(null===r||void 0===r?void 0:r.readOnly)&&(a.readOnly=!!r.readOnly),void 0!==(null===r||void 0===r?void 0:r.default)&&(a.json.default=r.default),void 0!==(null===r||void 0===r?void 0:r.name)&&(a.json.name=r.name),(0,o.d)(a)}},31412:function(e,t,r){r.d(t,{i:function(){return n}});var n=new(r(13994).s)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},33530:function(e,t,r){r.d(t,{a:function(){return u},i:function(){return p},t:function(){return l}});var n=r(50165),o=r(96263),i=r(77322),a=r(31278),s=r(13994),u=(0,s.o)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),l=(0,s.o)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),p={base:i.p,key:"type",typeMap:{extent:o.M,multipoint:a.a,point:i.j,polyline:a.m,polygon:a.v}};(0,n.N)(p)},78664:function(e,t,r){r.d(t,{a:function(){return v},c:function(){return c},d:function(){return d},f:function(){return u},l:function(){return l},s:function(){return s},v:function(){return y},y:function(){return p}});var n=r(50165),o=r(96263),i=r(77322),a=r(31278);function s(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function u(e){return void 0!==e.points}function l(e){return void 0!==e.x&&void 0!==e.y}function p(e){return void 0!==e.paths}function c(e){return void 0!==e.rings}function d(e){return(0,n.t)(e)?null:e instanceof i.p?e:l(e)?i.j.fromJSON(e):p(e)?a.m.fromJSON(e):c(e)?a.v.fromJSON(e):u(e)?a.a.fromJSON(e):s(e)?o.M.fromJSON(e):null}function y(e){return e?l(e)?"esriGeometryPoint":p(e)?"esriGeometryPolyline":c(e)?"esriGeometryPolygon":s(e)?"esriGeometryEnvelope":u(e)?"esriGeometryMultipoint":null:null}var f={esriGeometryPoint:i.j,esriGeometryPolyline:a.m,esriGeometryPolygon:a.v,esriGeometryEnvelope:o.M,esriGeometryMultipoint:a.a};function v(e){return e&&f[e]||null}},98805:function(e,t,r){function n(e){return e&&"getAtOrigin"in e&&"originOf"in e}r.d(t,{i:function(){return n}})},10489:function(e,t,r){r.d(t,{L:function(){return P},i:function(){return f},r:function(){return y},s:function(){return v},z:function(){return B}});var n=r(74165),o=r(1413),i=r(29439),a=r(15861),s=r(37762),u=r(50165),l=r(31278),p=r(77322),c=r(78664),d=(r(33530),r(13994)),y={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new l.m({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:p.k.WebMercator}),minus180Line:new l.m({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:p.k.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new l.m({paths:[[[180,-180],[180,180]]],spatialReference:p.k.WGS84}),minus180Line:new l.m({paths:[[[-180,-180],[-180,180]]],spatialReference:p.k.WGS84})}};function f(e,t){return Math.ceil((e-t)/(2*t))}function v(e,t){var r,n=m(e),o=(0,s.Z)(n);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,u=(0,s.Z)(a);try{for(u.s();!(i=u.n()).done;){i.value[0]+=t}}catch(l){u.e(l)}finally{u.f()}}}catch(l){o.e(l)}finally{o.f()}return e}function m(e){return(0,c.c)(e)?e.rings:e.paths}function h(e,t,r,n){return g.apply(this,arguments)}function g(){return g=(0,a.Z)((0,n.Z)().mark((function e(t,r,i,a){var s,u,l,p,y,f,v,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="string"==typeof t?(0,d.j)(t):t,u=r[0].spatialReference,l=(0,o.Z)((0,o.Z)({},a),{},{query:(0,o.Z)((0,o.Z)({},s.query),{},{f:"json",sr:JSON.stringify(u),target:JSON.stringify({geometryType:(0,c.v)(r[0]),geometries:r}),cutter:JSON.stringify(i)})}),e.next=5,(0,d.U)(s.path+"/cut",l);case 5:return p=e.sent,y=p.data,f=y.cutIndexes,v=y.geometries,m=void 0===v?[]:v,e.abrupt("return",{cutIndexes:f,geometries:m.map((function(e){var t=(0,c.d)(e);return t.spatialReference=u,t}))});case 11:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function w(e,t,r){return b.apply(this,arguments)}function b(){return b=(0,a.Z)((0,n.Z)().mark((function e(t,r,i){var a,s,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="string"==typeof t?(0,d.j)(t):t,s=r[0].spatialReference,u=(0,c.v)(r[0]),l=(0,o.Z)((0,o.Z)({},i),{},{query:(0,o.Z)((0,o.Z)({},a.query),{},{f:"json",sr:s.wkid?s.wkid:JSON.stringify(s),geometries:JSON.stringify(S(r))})}),e.t0=Z,e.next=4,(0,d.U)(a.path+"/simplify",l);case 4:return e.t1=e.sent.data,e.t2=u,e.t3=s,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function S(e){return{geometryType:(0,c.v)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function Z(e,t,r){var n=(0,c.a)(t);return e.map((function(e){var t=n.fromJSON(e);return t.spatialReference=r,t}))}var k=u.s.getLogger("esri.geometry.support.normalizeUtils");function T(e,t,r){if(t){var n=function(e,t){if(!(e instanceof l.m||e instanceof l.v)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw k.error(r),new u.a(r)}var n,o=m(e),i=[],a=(0,s.Z)(o);try{for(a.s();!(n=a.n()).done;){var p=n.value,c=[];i.push(c),c.push([p[0][0],p[0][1]]);for(var d=0;d<p.length-1;d++){var y=p[d][0],f=p[d][1],v=p[d+1][0],h=p[d+1][1],g=Math.sqrt((v-y)*(v-y)+(h-f)*(h-f)),w=(h-f)/g,b=(v-y)/g,S=g/t;if(S>1){for(var Z=1;Z<=S-1;Z++){var T=Z*t,N=b*T+y,x=w*T+f;c.push([N,x])}var P=(g+Math.floor(S-1)*t)/2,I=b*P+y,B=w*P+f;c.push([I,B])}c.push([v,h])}}}catch(j){a.e(j)}finally{a.f()}return function(e){return"polygon"===e.type}(e)?new l.v({rings:i,spatialReference:e.spatialReference}):new l.m({paths:i,spatialReference:e.spatialReference})}(e,1e6);e=(0,p.a)(n,!0)}return r&&(e=v(e,r)),e}function N(e,t,r){if(Array.isArray(e)){var n=e[0];if(n>t){var o=f(n,t);e[0]=n+o*(-2*t)}else if(n<r){var i=f(n,r);e[0]=n+i*(-2*r)}}else{var a=e.x;if(a>t){var s=f(a,t);e=e.clone().offset(s*(-2*t),0)}else if(a<r){var u=f(a,r);e=e.clone().offset(u*(-2*r),0)}}return e}function x(e,t){for(var r=-1,n=function(n){for(var o=t.cutIndexes[n],i=t.geometries[n],a=m(i),u=function(e){var t=a[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,o=0;o<t.length;o++){var a=t[o][0];n=a>n?a:n}for(var s=-360*f(n=Number(n.toFixed(9)),180),u=0;u<t.length;u++){var l=i.getPoint(e,u);i.setPoint(e,u,l.clone().offset(s,0))}return!0}))},l=0;l<a.length;l++)u(l);if(o===r){if(function(e){return"polygon"===e[0].type}(e)){var p,c=(0,s.Z)(m(i));try{for(c.s();!(p=c.n()).done;){var d=p.value;e[o]=e[o].addRing(d)}}catch(g){c.e(g)}finally{c.f()}}else if(function(e){return"polyline"===e[0].type}(e)){var y,v=(0,s.Z)(m(i));try{for(v.s();!(y=v.n()).done;){var h=y.value;e[o]=e[o].addPath(h)}}catch(g){v.e(g)}finally{v.f()}}}else r=o,e[o]=i},o=0;o<t.cutIndexes.length;o++)n(o);return e}function P(e,t,r){return I.apply(this,arguments)}function I(){return I=(0,a.Z)((0,n.Z)().mark((function e(t,r,o){var i,a,c,d,m,g,b,S,Z,I,B,j,R,O,L,_,A,D,M,C,G,U,E,J,F,z,V,W,q,H,K,Y,Q,X,$,ee,te,re,ne,oe,ie;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",P([t],r));case 2:r&&"string"!=typeof r&&k.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead"),a="string"==typeof r?r:null!==(i=null===r||void 0===r?void 0:r.url)&&void 0!==i?i:u.f.geometryServiceUrl,B=0,j=[],R=[],O=(0,s.Z)(t);try{for(O.s();!(L=O.n()).done;)_=L.value,(0,u.t)(_)?R.push(_):(c||(c=_.spatialReference,d=(0,p.b)(c),m=c.isWebMercator,g=y[S=m?102100:4326].maxX,b=y[S].minX,Z=y[S].plus180Line,I=y[S].minus180Line),d?"mesh"===_.type?R.push(_):"point"===_.type?R.push(N(_.clone(),g,b)):"multipoint"===_.type?((A=_.clone()).points=A.points.map((function(e){return N(e,g,b)})),R.push(A)):"extent"===_.type?(D=_.clone()._normalize(!1,!1,d),R.push(D.rings?new l.v(D):D)):_.extent?(M=_.extent,C=f(M.xmin,b)*(2*g),G=0===C?_.clone():v(_.clone(),C),M.offset(C,0),M.intersects(Z)&&M.xmax!==g?(B=M.xmax>B?M.xmax:B,G=T(G,m),j.push(G),R.push("cut")):M.intersects(I)&&M.xmin!==b?(B=M.xmax*(2*g)>B?M.xmax*(2*g):B,G=T(G,m,360),j.push(G),R.push("cut")):R.push(G)):R.push(_.clone()):R.push(_))}catch(n){O.e(n)}finally{O.f()}for(U=f(B,g),E=-90,J=U,F=new l.m;U>0;)z=360*U-180,F.addPath([[z,E],[z,-1*E]]),E*=-1,U--;if(!(j.length>0&&J>0)){e.next=29;break}return e.t0=x,e.t1=j,e.next=16,h(a,j,F,o);case 16:for(e.t2=e.sent,V=(0,e.t0)(e.t1,e.t2),W=[],q=[],H=0;H<R.length;H++)"cut"!==(K=R[H])?q.push(K):(Y=V.shift(),Q=t[H],(0,u.r)(Q)&&"polygon"===Q.type&&Q.rings&&Q.rings.length>1&&Y.rings.length>=Q.rings.length?(W.push(Y),q.push("simplify")):q.push(m?(0,p.R)(Y):Y));if(W.length){e.next=23;break}return e.abrupt("return",q);case 23:return e.next=25,w(a,W,o);case 25:for(X=e.sent,$=[],ee=0;ee<q.length;ee++)"simplify"!==(te=q[ee])?$.push(te):$.push(m?(0,p.R)(X.shift()):X.shift());return e.abrupt("return",$);case 29:for(re=[],ne=0;ne<R.length;ne++)"cut"!==(oe=R[ne])?re.push(oe):(ie=j.shift(),re.push(!0===m?(0,p.R)(ie):ie));return e.abrupt("return",re);case 32:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function B(e,t){var r=(0,p.b)(t);if(r){var n=(0,i.Z)(r.valid,2),o=n[0],a=n[1],s=a-o;if(e<o)for(;e<o;)e+=s;if(e>a)for(;e>a;)e-=s}return e}},42:function(e,t,r){r.d(t,{L:function(){return w},S:function(){return g},m:function(){return T},u:function(){return k}});var n=r(1413),o=r(13994),i=r(52155),a=r(50165),s={year:"numeric",month:"numeric",day:"numeric"},u={year:"numeric",month:"long",day:"numeric"},l={year:"numeric",month:"short",day:"numeric"},p={year:"numeric",month:"long",weekday:"long",day:"numeric"},c={hour:"numeric",minute:"numeric"},d=(0,n.Z)((0,n.Z)({},c),{},{second:"numeric"}),y={"short-date":s,"short-date-short-time":(0,n.Z)((0,n.Z)({},s),c),"short-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),c),{},{hour12:!1}),"short-date-long-time":(0,n.Z)((0,n.Z)({},s),d),"short-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),d),{},{hour12:!1}),"short-date-le":s,"short-date-le-short-time":(0,n.Z)((0,n.Z)({},s),c),"short-date-le-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),c),{},{hour12:!1}),"short-date-le-long-time":(0,n.Z)((0,n.Z)({},s),d),"short-date-le-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),d),{},{hour12:!1}),"long-month-day-year":u,"long-month-day-year-short-time":(0,n.Z)((0,n.Z)({},u),c),"long-month-day-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),c),{},{hour12:!1}),"long-month-day-year-long-time":(0,n.Z)((0,n.Z)({},u),d),"long-month-day-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),d),{},{hour12:!1}),"day-short-month-year":l,"day-short-month-year-short-time":(0,n.Z)((0,n.Z)({},l),c),"day-short-month-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),c),{},{hour12:!1}),"day-short-month-year-long-time":(0,n.Z)((0,n.Z)({},l),d),"day-short-month-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),d),{},{hour12:!1}),"long-date":p,"long-date-short-time":(0,n.Z)((0,n.Z)({},p),c),"long-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},p),c),{},{hour12:!1}),"long-date-long-time":(0,n.Z)((0,n.Z)({},p),d),"long-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},p),d),{},{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":c,"long-time":d},f=(0,o.o)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});f.toJSON.bind(f),f.fromJSON.bind(f);var v={ar:"ar-u-nu-latn-ca-gregory"},m=new WeakMap,h=y["short-date-short-time"];function g(e){return y[e]||null}function w(e,t){return function(e){var t=e||h;if(!m.has(t)){var r=(0,i.l)(),n=v[(0,i.l)()]||r;m.set(t,new Intl.DateTimeFormat(n,t))}return m.get(t)}(t).format(e)}(0,i.g)((function(){m=new WeakMap,h=y["short-date-short-time"]}));var b={ar:"ar-u-nu-latn"},S=new WeakMap,Z={};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function T(e,t){return-0===e&&(e=0),function(e){var t=e||Z;if(!S.has(t)){var r=(0,i.l)(),n=b[(0,i.l)()]||r;S.set(t,new Intl.NumberFormat(n,e))}return(0,a.q)(S.get(t))}(t).format(e)}(0,i.g)((function(){S=new WeakMap,Z={}}))},81905:function(e,t,r){r.d(t,{i:function(){return o}});var n=r(98805);function o(e){e&&e.writtenProperties&&e.writtenProperties.forEach((function(e){var t=e.target,r=e.propName,o=e.newOrigin;(0,n.i)(t)&&o&&t.originOf(r)!==o&&t.updateOrigin(r,o)}))}},3029:function(e,t,r){r.d(t,{I:function(){return l},R:function(){return m},U:function(){return f},c:function(){return a},h:function(){return y},i:function(){return i},m:function(){return s},p:function(){return u}});var n=r(50165),o=r(13994);function i(e,t){var r=t&&t.url&&t.url.path;if(e&&r&&(e=(0,o.Q)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){var n=(0,o._)(e,t.portalItem.itemUrl);d.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return v(e,t&&t.portal)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.YES;if(!e)return e;!(0,o.K)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);var n=(0,o.Q)(e);if(t){var i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(i){var a=v(i,t.portal);(n=(0,o._)(v(n,t.portal),a,a))!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=f(n,t&&t.portal),(0,o.K)(n)&&(n=(0,o.F)(n)),null!==t&&void 0!==t&&t.resources&&null!==t&&void 0!==t&&t.portalItem&&!(0,o.K)(n)&&!(0,o.X)(n)&&r===l.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function s(e,t,r){return i(e,r)}function u(e,t,r,n){var o=a(e,n);void 0!==o&&(t[r]=o)}var l,p,c=/\/items\/([^\/]+)\/resources\//,d=/^\.\/resources\//;function y(e){var t=(0,n.r)(e)?e.match(c):null;return(0,n.r)(t)?t[1]:null}function f(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,o.v)(e,"".concat(t.urlKey,".").concat(t.customBaseUrl),t.portalHostname):e}function v(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;var r="".concat(t.urlKey,".").concat(t.customBaseUrl),n=(0,o.b)();return(0,o.z)(n,"".concat(n.scheme,"://").concat(r))?(0,o.v)(e,t.portalHostname,r):(0,o.v)(e,r,t.portalHostname)}(p=l||(l={}))[p.YES=0]="YES",p[p.NO=1]="NO";var m=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:i,toJSON:a,read:s,write:u,itemIdFromResourceUrl:y,ensureMainOnlineDomain:f,get MarkKeep(){return l}},Symbol.toStringTag,{value:"Module"}))},67729:function(e,t,r){r.d(t,{a:function(){return y},c:function(){return d},f:function(){return v},i:function(){return p},s:function(){return c}});var n=r(37762),o=r(74165),i=r(15861),a=r(98643),s=r(77322);function u(e){return l.apply(this,arguments)}function l(){return l=(0,i.Z)((0,o.Z)().mark((function e(t){var r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.spatialReference).isWGS84){e.next=3;break}return e.abrupt("return",t.clone());case 3:if(!r.isWebMercator){e.next=5;break}return e.abrupt("return",(0,s.a)(t));case 5:return n=s.k.WGS84,e.next=8,(0,a.f)(r,n);case 8:return e.abrupt("return",(0,a.r)(t,n));case 9:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e,t){if(!c(e,t)){var r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function c(e,t){var r;return!(null===(r=e.typeKeywords)||void 0===r||!r.includes(t))}function d(e,t){var r=e.typeKeywords;if(r){var n=r.indexOf(t);n>-1&&r.splice(n,1)}}function y(e){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)((0,o.Z)().mark((function e(t){var r,i,a,s,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.clone().normalize()).length>1){a=(0,n.Z)(r);try{for(a.s();!(s=a.n()).done;)l=s.value,i?l.width>i.width&&(i=l):i=l}catch(o){a.e(o)}finally{a.f()}}else i=r[0];return e.abrupt("return",u(i));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"}},73627:function(e,t,r){r.d(t,{P:function(){return c},U:function(){return d},a:function(){return s},f:function(){return i},h:function(){return y},j:function(){return u},l:function(){return o},w:function(){return f}});var n=r(50165);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(e,t,r,l)}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(e,t,r,p)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=null,a=r.once?function(e,r){o(e)&&((0,n.z)(i),t(e,r))}:function(e,r){o(e)&&t(e,r)};if(i=(0,n.P)(e,a,r.sync,r.equals),r.initial){var s=e();a(s,s)}return i}function s(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=null,s=null,u=null;function l(){var e;a&&s&&(s.remove(),null!==(e=i.onListenerRemove)&&void 0!==e&&e.call(i,a),a=null,s=null)}function p(e){i.once&&i.once&&(0,n.z)(u),r(e)}var c=o(e,(function(e,r){var o;l(),(0,n.k)(e)&&(a=e,s=(0,n.l)(e,t,p),null===(o=i.onListenerAdd)||void 0===o||o.call(i,e))}),{sync:i.sync,initial:!0});return u=(0,n.p)((function(){c.remove(),l()}))}function u(e,t){return function(e,t,r){if((0,n.u)(r))return Promise.reject((0,n.v)());var o=e();if(null!==t&&void 0!==t&&t(o))return Promise.resolve(o);var i=null;function s(){i=(0,n.z)(i)}return new Promise((function(o,u){i=(0,n.w)([(0,n.x)(r,(function(){s(),u((0,n.v)())})),a(e,(function(e){s(),o(e)}),{sync:!1,once:!0},null!==t&&void 0!==t?t:l)])}))}(e,p,t)}function l(e){return!0}function p(e){return!!e}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1,i=o(e,(function(e,r){n||t(e,r)}),r);return{remove:function(){i.remove()},pause:function(){n=!0},resume:function(){n=!1}}}var d={sync:!0},y={initial:!0},f={sync:!0,initial:!0}},47642:function(e,t,r){var n,o;function i(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function s(e){return e.valueExpression?n.Expression:e.field&&"string"==typeof e.field?n.Field:n.Unknown}function u(e,t){var r=t||s(e),i=e.valueUnit||"unknown";return r===n.Unknown?o.Constant:e.stops?o.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?o.ClampedLinear:"unknown"===i?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?o.Proportional:o.Additive:o.Identity:o.RealWorldSize}r.d(t,{a:function(){return u},e:function(){return i},i:function(){return o},l:function(){return a},n:function(){return n},t:function(){return s}}),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(n||(n={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(o||(o={}))},51613:function(e,t,r){r.d(t,{e:function(){return a},n:function(){return s},o:function(){return u}});var n=r(1413),o=r(50165),i=r(13994);function a(e,t){return t?(0,n.Z)((0,n.Z)({},t),{},{query:(0,n.Z)((0,n.Z)({},e),t.query)}):{query:e}}function s(e){return"string"==typeof e?(0,i.j)(e):(0,o.m)(e)}function u(e,t,r){var n={};for(var o in e)if("declaredClass"!==o){var i=e[o];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){n[o]=[];for(var a=0;a<i.length;a++)n[o][a]=u(i[a])}else if("object"==typeof i)if(i.toJSON){var s=i.toJSON(r&&r[o]);n[o]=t?s:JSON.stringify(s)}else n[o]=t?i:JSON.stringify(i);else n[o]=i}return n}},76375:function(e,t,r){r.d(t,{o:function(){return s}});var n=r(37762),o=r(50165),i=r(73428),a=r(77322);function s(e,t,r){if((0,o.t)(t)||(0,o.t)(r)||r.vcsWkid||(0,a.E)(t,r))return null;var s=(0,i.W)(t)/(0,i.W)(r);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return function(e){return function(e,t){e&&null!=e.z&&(e.z*=t)}(e,s)};case"polyline":case"esriGeometryPolyline":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.paths);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,s=(0,n.Z)(a);try{for(s.s();!(i=s.n()).done;){var u=i.value;u.length>2&&(u[2]*=t)}}catch(l){s.e(l)}finally{s.f()}}}catch(l){o.e(l)}finally{o.f()}}}(e,s)};case"polygon":case"esriGeometryPolygon":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.rings);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,s=(0,n.Z)(a);try{for(s.s();!(i=s.n()).done;){var u=i.value;u.length>2&&(u[2]*=t)}}catch(l){s.e(l)}finally{s.f()}}}catch(l){o.e(l)}finally{o.f()}}}(e,s)};case"multipoint":case"esriGeometryMultipoint":return function(e){return function(e,t){if(e){var r,o=(0,n.Z)(e.points);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.length>2&&(i[2]*=t)}}catch(a){o.e(a)}finally{o.f()}}}(e,s)};case"extent":case"esriGeometryExtent":return function(e){return function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,s)};default:return null}}}}]);
//# sourceMappingURL=6074.212b48a1.chunk.js.map