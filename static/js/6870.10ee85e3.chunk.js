"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[6870],{42174:function(e,r,a){a.r(r),a.d(r,{populateOperationalLayers:function(){return d}});var t=a(1413),n=a(74165),y=a(37762),i=a(15861),c=a(40133),u=a(50165),o=a(31056),L=a(68668),l=a(4314),p=a(9411);a(61772),a(13994),a(32335),a(78330),a(52155),a(77322),a(96263),a(84368),a(46513),a(67729),a(98643),a(2760),a(73428),a(61340),a(31278),a(79146),a(76375),a(5233);function s(e){return f(e,"notes")}function S(e){return f(e,"route")}function f(e,r){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===r}function d(e,r,a){return v.apply(this,arguments)}function v(){return v=(0,i.Z)((0,n.Z)().mark((function e(r,a,t){var i,c,o,L,l,p,s,S,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:i=[],c=(0,y.Z)(a);try{for(c.s();!(o=c.n()).done;)L=o.value,l=b(L,t),"GroupLayer"===L.layerType?i.push(C(l,L,t)):i.push(l)}catch(n){c.e(n)}finally{c.f()}return e.next=7,(0,u.E)(i);case 7:p=e.sent,s=(0,y.Z)(p);try{for(s.s();!(S=s.n()).done;)!(f=S.value).value||t.filter&&!t.filter(f.value)||r.add(f.value)}catch(n){s.e(n)}finally{s.f()}case 10:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var I={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},T={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},g={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},G={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",OGCFeatureLayer:"OGCFeatureLayer",SubtypeGroupLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},M={ArcGISFeatureLayer:"FeatureLayer"},m={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};function b(e,r){return h.apply(this,arguments)}function h(){return h=(0,i.Z)((0,n.Z)().mark((function e(r,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=A,e.next=3,x(r,a);case 3:return e.t1=e.sent,e.t2=r,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function A(e,r,a){return w.apply(this,arguments)}function w(){return w=(0,i.Z)((0,n.Z)().mark((function e(r,a,t){var y;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((y=new r).read(a,t.context),e.t0="group"===y.type&&Z(a),!e.t0){e.next=6;break}return e.next=6,O(y,a,t.context);case 6:return e.next=8,(0,p.t)(y,t.context);case 8:return e.abrupt("return",y);case 9:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function x(e,r){return k.apply(this,arguments)}function k(){return k=(0,i.Z)((0,n.Z)().mark((function e(r,a){var t,y,i,c,u,p,f,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.context,y=F(t),!(i=r.layerType||r.type)&&a&&a.defaultLayerType&&(i=a.defaultLayerType),c=y[i],u=c?o.a[c]:o.a.UnknownLayer,!W(r)){e.next=20;break}if(p=null===t||void 0===t?void 0:t.portal,!r.itemId){e.next=18;break}return f=new L.default({id:r.itemId,portal:p}),e.next=11,f.load();case 11:return e.next=13,(0,l.selectLayerClassPath)(f);case 13:if(e.t0=e.sent.className,e.t0){e.next=16;break}e.t0="UnknownLayer";case 16:d=e.t0,u=o.a[d];case 18:e.next=21;break;case 20:"ArcGISFeatureLayer"===i?s(r)?u=o.a.MapNotesLayer:S(r)?u=o.a.RouteLayer:Z(r)&&(u=o.a.GroupLayer):r.wmtsInfo&&r.wmtsInfo.url&&r.wmtsInfo.layerIdentifier?u=o.a.WMTSLayer:"WFS"===i&&"2.0.0"!==r.wfsInfo.version&&(u=o.a.UnsupportedLayer);case 21:return e.abrupt("return",u());case 22:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function Z(e){var r,a,t;return"ArcGISFeatureLayer"===e.layerType&&!W(e)&&(null!==(r=null===(a=e.featureCollection)||void 0===a||null===(t=a.layers)||void 0===t?void 0:t.length)&&void 0!==r?r:0)>1}function W(e){return"Feature Collection"===e.type}function F(e){var r;if("web-scene"===e.origin)switch(e.layerContainerType){case"basemap":r=g;break;case"ground":r=T;break;default:r=I}else switch(e.layerContainerType){case"basemap":r=m;break;case"tables":r=M;break;default:r=G}return r}function C(e,r,a){return V.apply(this,arguments)}function V(){return V=(0,i.Z)((0,n.Z)().mark((function e(r,a,t){var y,i,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y=new c.j,i=d(y,Array.isArray(a.layers)?a.layers:[],t),e.next=4,r;case 4:return u=e.sent,e.next=7,i;case 7:if("group"!==u.type){e.next=9;break}return e.abrupt("return",(u.layers.addMany(y),u));case 9:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function O(e,r,a){return B.apply(this,arguments)}function B(){return B=(0,i.Z)((0,n.Z)().mark((function e(r,a,y){var i,c,u,L,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.a.FeatureLayer,e.next=3,i();case 3:c=e.sent,u=a.featureCollection,L=u.showLegend,l=u.layers.map((function(e,n){var i,u,o=new c;o.read(e,y);var l=(0,t.Z)((0,t.Z)({},y),{},{ignoreDefaults:!0});return o.read({id:"".concat(r.id,"-sublayer-").concat(n),visibility:null===(i=null===(u=a.visibleLayers)||void 0===u?void 0:u.includes(n))||void 0===i||i},l),null!=L&&o.read({showLegend:L},l),o})),r.layers.addMany(l);case 8:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}}}]);
//# sourceMappingURL=6870.10ee85e3.chunk.js.map