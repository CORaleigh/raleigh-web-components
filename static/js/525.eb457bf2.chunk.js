"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[525],{58394:function(e,n,t){t.d(n,{A:function(){return y},E:function(){return p},F:function(){return g},H:function(){return K},I:function(){return Q},J:function(){return j},L:function(){return A},O:function(){return N},P:function(){return I},Q:function(){return z},T:function(){return m},U:function(){return L},V:function(){return P},W:function(){return B},Z:function(){return q},_:function(){return b},a:function(){return oe},b:function(){return M},c:function(){return ne},d:function(){return te},e:function(){return re},f:function(){return ae},g:function(){return ue},h:function(){return fe},i:function(){return $},j:function(){return T},k:function(){return W},l:function(){return se},m:function(){return l},n:function(){return ie},o:function(){return f},p:function(){return h},q:function(){return k},r:function(){return d},s:function(){return ee},t:function(){return s},v:function(){return X},x:function(){return Z},z:function(){return S}});var r=t(44344),i=t(61340),a=t(2760),o=t(3969),u=t(55806),c=t(75610);function s(e){return e?{ray:(0,u.d)(e.ray),c0:e.c0,c1:e.c1}:{ray:(0,u.d)(),c0:0,c1:Number.MAX_VALUE}}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return(0,u.l)(e,n.ray),n.c0=0,n.c1=Number.MAX_VALUE,n}function f(e,n){return v(e,e.c0,n)}function d(e,n){return v(e,e.c1,n)}function v(e,n,t){return(0,a.u)(t,e.ray.origin,(0,a.q)(t,e.ray.direction,n))}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V;return[e[0],e[1],e[2],e[3]]}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V[3];return g(e,n,t,i,r.r.get())}function y(e,n){return g(n[0],n[1],n[2],n[3],e)}function g(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h();return i[0]=e,i[1]=n,i[2]=t,i[3]=r,i}function m(e,n,t){return(0,a.a)(t,e),t[3]=n,t}function b(e,n,t){var r=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],i=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=-(t[0]*e[0]+t[1]*e[1]+t[2]*e[2]),t}function T(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h(),i=t[0]-n[0],a=t[1]-n[1],o=t[2]-n[2],u=e[0]-n[0],c=e[1]-n[1],s=e[2]-n[2],l=a*s-o*c,f=o*u-i*s,d=i*c-a*u,v=l*l+f*f+d*d,p=Math.abs(v-1)>1e-5&&v>1e-12?1/Math.sqrt(v):1;return r[0]=l*p,r[1]=f*p,r[2]=d*p,r[3]=-(r[0]*e[0]+r[1]*e[1]+r[2]*e[2]),r}function M(e,n,t,r,i){if(e.count<3)return!1;e.getVec(t,w);for(var o=r,u=!1;o<e.count-1&&!u;)e.getVec(o,R),o++,u=!(0,a.F)(w,R);if(!u)return!1;for(o=Math.max(o,i),u=!1;o<e.count&&!u;)e.getVec(o,O),o++,(0,a.e)(x,w,R),(0,a.z)(x,x),(0,a.e)(E,R,O),(0,a.z)(E,E),u=!(0,a.F)(w,O)&&!(0,a.F)(R,O)&&Math.abs((0,a.P)(x,E))<_;return u?(T(w,R,O,n),!0):(0!==t||1!==r||2!==i)&&M(e,n,0,1,2)}new r.s((function(){return{c0:0,c1:0,ray:null}}));var _=.99619469809,w=(0,a.n)(),R=(0,a.n)(),O=(0,a.n)(),x=(0,a.n)(),E=(0,a.n)();function A(e,n,t){return n!==e&&y(e,n),e[3]=-(0,a.P)(e,t),e}function I(e,n){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=-e[3],n}function N(e,n,t,r){return(0,a._)(O,n,e),b(t,O,r)}function P(e,n,t,i){return H(e,n,(0,a.e)(r.c.get(),t,n),J,i)}function k(e,n,t){return!!(0,c.r)(n)&&H(e,n.origin,n.direction,Y,t)}function Z(e,n,t){return H(e,n.origin,n.vector,U.NONE,t)}function L(e,n,t){return H(e,n.origin,n.vector,U.CLAMP,t)}function S(e,n){return B(e,n)>=0}function F(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],u=n[5];return e[0]*(e[0]>0?t:a)+e[1]*(e[1]>0?r:o)+e[2]*(e[2]>0?i:u)+e[3]>=0}function C(e,n){var t=(0,a.P)(e,n.ray.direction),r=-B(e,n.ray.origin);if(r<0&&t>=0)return!1;if(t>-1e-6&&t<1e-6)return r>0;if((r<0||t<0)&&!(r<0&&t<0))return!0;var i=r/t;return t>0?i<n.c1&&(n.c1=i):i>n.c0&&(n.c0=i),n.c0<=n.c1}function G(e,n){var t=(0,a.P)(e,n.ray.direction),r=-B(e,n.ray.origin);if(t>-1e-6&&t<1e-6)return r>0;var i=r/t;return t>0?i<n.c1&&(n.c1=i):i>n.c0&&(n.c0=i),n.c0<=n.c1}function j(e,n,t){var i=(0,a.q)(r.c.get(),e,-e[3]),o=z(e,(0,a.e)(r.c.get(),n,i),r.c.get());return(0,a.u)(t,o,i),t}function z(e,n,t){var i=(0,a.q)(r.c.get(),e,(0,a.P)(e,n));return(0,a.e)(t,n,i),t}function B(e,n){return(0,a.P)(e,n)+e[3]}function H(e,n,t,r,i){var o=(0,a.P)(e,t);if(0===o)return!1;var u=-((0,a.P)(e,n)+e[3])/o;return r&U.CLAMP&&(u=(0,a.o)(u,0,1)),!(!(r&U.INFINITE_MIN)&&u<0||!(r&U.INFINITE_MAX)&&u>1)&&((0,a.u)(i,n,(0,a.q)(i,t,u)),!0)}function q(e){return e}var U,D,V=[0,0,1,0];(D=U||(U={}))[D.NONE=0]="NONE",D[D.CLAMP=1]="CLAMP",D[D.INFINITE_MIN=4]="INFINITE_MIN",D[D.INFINITE_MAX=8]="INFINITE_MAX";var W,X,J=U.INFINITE_MIN|U.INFINITE_MAX,Y=U.INFINITE_MAX;function K(e){return e?[h(e[0]),h(e[1]),h(e[2]),h(e[3]),h(e[4]),h(e[5])]:[h(),h(),h(),h(),h(),h()]}function Q(){return[(0,a.n)(),(0,a.n)(),(0,a.n)(),(0,a.n)(),(0,a.n)(),(0,a.n)(),(0,a.n)(),(0,a.n)()]}function $(e,n){for(var t=0;t<se.NUM;t++)y(e[t],n[t])}function ee(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:he,u=(0,i.u)(r.f.get(),n,e);(0,i.h)(u,u);for(var c=0;c<le.NUM;++c){var s=(0,a.w)(r.r.get(),de[c],u);(0,a.f)(o[c],s[0]/s[3],s[1]/s[3],s[2]/s[3])}ne(t,o)}function ne(e,n){T(n[X.FAR_BOTTOM_LEFT],n[X.NEAR_BOTTOM_LEFT],n[X.NEAR_TOP_LEFT],e[W.LEFT]),T(n[X.NEAR_BOTTOM_RIGHT],n[X.FAR_BOTTOM_RIGHT],n[X.FAR_TOP_RIGHT],e[W.RIGHT]),T(n[X.FAR_BOTTOM_LEFT],n[X.FAR_BOTTOM_RIGHT],n[X.NEAR_BOTTOM_RIGHT],e[W.BOTTOM]),T(n[X.NEAR_TOP_LEFT],n[X.NEAR_TOP_RIGHT],n[X.FAR_TOP_RIGHT],e[W.TOP]),T(n[X.NEAR_BOTTOM_LEFT],n[X.NEAR_BOTTOM_RIGHT],n[X.NEAR_TOP_RIGHT],e[W.NEAR]),T(n[X.FAR_BOTTOM_RIGHT],n[X.FAR_BOTTOM_LEFT],n[X.FAR_TOP_LEFT],e[W.FAR])}function te(e,n){for(var t=0;t<se.NUM;t++){var r=e[t];if(r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]>=n[3])return!1}return!0}function re(e,n){return ce(e,l(n,ve.get()))}function ie(e,n){for(var t=0;t<se.NUM;t++){if(!G(e[t],n))return!1}return!0}function ae(e,n,t){return ce(e,function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s(),r=(0,a.s)(e.vector);return(0,u.k)(e.origin,n,t.ray),t.c0=0,t.c1=r,t}(n,t,ve.get()))}function oe(e,n){for(var t=0;t<se.NUM;t++)if(B(e[t],n)>0)return!1;return!0}function ue(e,n){for(var t=0;t<se.NUM;t++)if(F(e[t],n))return!1;return!0}function ce(e,n){for(var t=0;t<se.NUM;t++)if(!C(e[t],n))return!1;return!0}!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.TOP=3]="TOP",e[e.NEAR=4]="NEAR",e[e.FAR=5]="FAR"}(W||(W={})),function(e){e[e.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",e[e.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",e[e.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",e[e.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",e[e.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",e[e.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",e[e.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",e[e.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(X||(X={}));var se,le,fe={bottom:[X.FAR_BOTTOM_RIGHT,X.NEAR_BOTTOM_RIGHT,X.NEAR_BOTTOM_LEFT,X.FAR_BOTTOM_LEFT],near:[X.NEAR_BOTTOM_LEFT,X.NEAR_BOTTOM_RIGHT,X.NEAR_TOP_RIGHT,X.NEAR_TOP_LEFT],far:[X.FAR_BOTTOM_RIGHT,X.FAR_BOTTOM_LEFT,X.FAR_TOP_LEFT,X.FAR_TOP_RIGHT],right:[X.NEAR_BOTTOM_RIGHT,X.FAR_BOTTOM_RIGHT,X.FAR_TOP_RIGHT,X.NEAR_TOP_RIGHT],left:[X.FAR_BOTTOM_LEFT,X.NEAR_BOTTOM_LEFT,X.NEAR_TOP_LEFT,X.FAR_TOP_LEFT],top:[X.FAR_TOP_LEFT,X.NEAR_TOP_LEFT,X.NEAR_TOP_RIGHT,X.FAR_TOP_RIGHT]};!function(e){e[e.NUM=6]="NUM"}(se||(se={})),function(e){e[e.NUM=8]="NUM"}(le||(le={}));var de=[(0,o.r)(-1,-1,-1,1),(0,o.r)(1,-1,-1,1),(0,o.r)(1,1,-1,1),(0,o.r)(-1,1,-1,1),(0,o.r)(-1,-1,1,1),(0,o.r)(1,-1,1,1),(0,o.r)(1,1,1,1),(0,o.r)(-1,1,1,1)],ve=new r.s(s),he=Q()},57952:function(e,n,t){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function a(e,n,t,r,i,a,o,u,c,s,l,f,d,v,h,p){return[e,n,t,r,i,a,o,u,c,s,l,f,d,v,h,p]}function o(e,n){return new Float64Array(e,n,16)}t.d(n,{e:function(){return r},n:function(){return o},o:function(){return u},r:function(){return i},t:function(){return a}});var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:i,fromValues:a,createView:o,IDENTITY:u},Symbol.toStringTag,{value:"Module"}))},6243:function(e,n,t){t.d(n,{B:function(){return d},K:function(){return R},Q:function(){return x},S:function(){return s},k:function(){return f},v:function(){return a},x:function(){return o},y:function(){return u}});var r=t(71573),i=t(2760);function a(e,n,t){t*=.5;var r=Math.sin(t);return e[0]=r*n[0],e[1]=r*n[1],e[2]=r*n[2],e[3]=Math.cos(t),e}function o(e,n){var t=2*Math.acos(n[3]),r=Math.sin(t/2);return r>i.t?(e[0]=n[0]/r,e[1]=n[1]/r,e[2]=n[2]/r):(e[0]=1,e[1]=0,e[2]=0),t}function u(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],u=t[0],c=t[1],s=t[2],l=t[3];return e[0]=r*l+o*u+i*s-a*c,e[1]=i*l+o*c+a*u-r*s,e[2]=a*l+o*s+r*c-i*u,e[3]=o*l-r*u-i*c-a*s,e}function c(e,n,t,r){var a,o,u,c,s,l=n[0],f=n[1],d=n[2],v=n[3],h=t[0],p=t[1],y=t[2],g=t[3];return(o=l*h+f*p+d*y+v*g)<0&&(o=-o,h=-h,p=-p,y=-y,g=-g),1-o>i.t?(a=Math.acos(o),u=Math.sin(a),c=Math.sin((1-r)*a)/u,s=Math.sin(r*a)/u):(c=1-r,s=r),e[0]=c*l+s*h,e[1]=c*f+s*p,e[2]=c*d+s*y,e[3]=c*v+s*g,e}function s(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e[3]=n[3],e}function l(e,n){var t,r=n[0]+n[4]+n[8];if(r>0)t=Math.sqrt(r+1),e[3]=.5*t,t=.5/t,e[0]=(n[5]-n[7])*t,e[1]=(n[6]-n[2])*t,e[2]=(n[1]-n[3])*t;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;t=Math.sqrt(n[3*i+i]-n[3*a+a]-n[3*o+o]+1),e[i]=.5*t,t=.5/t,e[3]=(n[3*a+o]-n[3*o+a])*t,e[a]=(n[3*a+i]+n[3*i+a])*t,e[o]=(n[3*o+i]+n[3*i+o])*t}return e}function f(e,n,t,r){var i=.5*Math.PI/180;n*=i,t*=i,r*=i;var a=Math.sin(n),o=Math.cos(n),u=Math.sin(t),c=Math.cos(t),s=Math.sin(r),l=Math.cos(r);return e[0]=a*c*l-o*u*s,e[1]=o*u*l+a*c*s,e[2]=o*c*s-a*u*l,e[3]=o*c*l+a*u*s,e}var d=i.B,v=i.D,h=i.E,p=u,y=i.G,g=i.I,m=i.j,b=i.J,T=b,M=i.K,_=M,w=i.N,R=i.Q,O=i.R;function x(e,n,t){var r=(0,i.P)(n,t);return r<-.999999?((0,i._)(E,A,n),(0,i.Y)(E)<1e-6&&(0,i._)(E,I,n),(0,i.z)(E,E),a(e,E,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,i._)(E,n,t),e[0]=E[0],e[1]=E[1],e[2]=E[2],e[3]=1+r,w(e,e))}var E=(0,i.n)(),A=(0,i.r)(1,0,0),I=(0,i.r)(0,1,0);var N=(0,r.b)(),P=(0,r.b)();var k=(0,r.e)();Object.freeze(Object.defineProperty({__proto__:null,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},setAxisAngle:a,getAxisAngle:o,multiply:u,rotateX:function(e,n,t){t*=.5;var r=n[0],i=n[1],a=n[2],o=n[3],u=Math.sin(t),c=Math.cos(t);return e[0]=r*c+o*u,e[1]=i*c+a*u,e[2]=a*c-i*u,e[3]=o*c-r*u,e},rotateY:function(e,n,t){t*=.5;var r=n[0],i=n[1],a=n[2],o=n[3],u=Math.sin(t),c=Math.cos(t);return e[0]=r*c-a*u,e[1]=i*c+o*u,e[2]=a*c+r*u,e[3]=o*c-i*u,e},rotateZ:function(e,n,t){t*=.5;var r=n[0],i=n[1],a=n[2],o=n[3],u=Math.sin(t),c=Math.cos(t);return e[0]=r*c+i*u,e[1]=i*c-r*u,e[2]=a*c+o*u,e[3]=o*c-a*u,e},calculateW:function(e,n){var t=n[0],r=n[1],i=n[2];return e[0]=t,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-t*t-r*r-i*i)),e},slerp:c,random:function(e){var n=(0,i.d)(),t=(0,i.d)(),r=(0,i.d)(),a=Math.sqrt(1-n),o=Math.sqrt(n);return e[0]=a*Math.sin(2*Math.PI*t),e[1]=a*Math.cos(2*Math.PI*t),e[2]=o*Math.sin(2*Math.PI*r),e[3]=o*Math.cos(2*Math.PI*r),e},invert:function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t*t+r*r+i*i+a*a,u=o?1/o:0;return e[0]=-t*u,e[1]=-r*u,e[2]=-i*u,e[3]=a*u,e},conjugate:s,fromMat3:l,fromEuler:f,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},copy:d,set:v,add:h,mul:p,scale:y,dot:g,lerp:m,length:b,len:T,squaredLength:M,sqrLen:_,normalize:w,exactEquals:R,equals:O,rotationTo:x,sqlerp:function(e,n,t,r,i,a){return c(N,n,i,a),c(P,t,r,a),c(e,N,P,2*a*(1-a)),e},setAxes:function(e,n,t,r){var i=k;return i[0]=t[0],i[3]=t[1],i[6]=t[2],i[1]=r[0],i[4]=r[1],i[7]=r[2],i[2]=-n[0],i[5]=-n[1],i[8]=-n[2],w(e,l(e,i))}},Symbol.toStringTag,{value:"Module"}))},71573:function(e,n,t){function r(){return[1,0,0,0,1,0,0,0,1]}function i(e,n){return new Float64Array(e,n,9)}function a(){return[0,0,0,1]}function o(e){return[e[0],e[1],e[2],e[3]]}function u(e,n){return new Float64Array(e,n,4)}t.d(n,{a:function(){return u},b:function(){return a},e:function(){return r},n:function(){return i},o:function(){return c},r:function(){return o}}),Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},fromValues:function(e,n,t,r,i,a,o,u,c){return[e,n,t,r,i,a,o,u,c]},createView:i},Symbol.toStringTag,{value:"Module"}));var c=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:a,clone:o,fromValues:function(e,n,t,r){return[e,n,t,r]},createView:u,IDENTITY:c},Symbol.toStringTag,{value:"Module"}))},64004:function(e,n,t){t.d(n,{c:function(){return o},i:function(){return a},r:function(){return i}});var r=t(44455);function i(e,n){var t=n||e.extent,i=e.width,a=(0,r.z)(t&&t.spatialReference);return t&&i?t.width/i*a*r.d*96:0}function a(e,n){return e/((0,r.z)(n)*r.d*96)}function o(e,n){var t=e.extent,r=e.width,i=a(n,t.spatialReference);return t.clone().expand(i*r/t.width)}},97627:function(e,n,t){t.d(n,{$:function(){return Gt},A:function(){return Fe},B:function(){return xe},C:function(){return zn},D:function(){return Xe},E:function(){return vr},F:function(){return Ft},G:function(){return Ve},H:function(){return Kt},I:function(){return zt},J:function(){return dr},K:function(){return tr},L:function(){return Hn},M:function(){return Yt},N:function(){return Xt},O:function(){return rr},P:function(){return Pn},Q:function(){return xn},R:function(){return En},S:function(){return Ne},T:function(){return qt},U:function(){return Le},V:function(){return On},W:function(){return cn},X:function(){return We},Y:function(){return Ot},Z:function(){return St},_:function(){return jt},a:function(){return ne},a0:function(){return An},a1:function(){return In},a2:function(){return De},a3:function(){return Se},a4:function(){return Ee},a5:function(){return Ae},a6:function(){return ke},a7:function(){return Qe},a8:function(){return ln},a9:function(){return fn},aa:function(){return Je},ab:function(){return Ke},ac:function(){return an},b:function(){return se},c:function(){return fr},d:function(){return ie},e:function(){return ye},f:function(){return Bn},g:function(){return Zn},h:function(){return Kn},i:function(){return le},j:function(){return Ie},k:function(){return Pe},l:function(){return on},m:function(){return st},n:function(){return U},o:function(){return sn},p:function(){return ue},q:function(){return Rt},r:function(){return B},s:function(){return wt},t:function(){return Mt},u:function(){return _t},v:function(){return Oe},w:function(){return Ce},x:function(){return Ze},y:function(){return Re},z:function(){return Cn}});var r,i=t(74165),a=t(15861),o=t(37762),u=t(1413),c=t(15671),s=t(43144),l=t(60136),f=t(29388),d=t(23132),v=t(70441),h=t(75610),p=t(50448),y=t(30709),g=t(78674),m=t(24980),b=t(2760),T=t(10815),M=(t(91204),t(83822)),_=t(38304),w=t(55269),R=t(96401),O=t(71573),x=t(57952),E=t(63022),A=t(72820),I=t(78311),N=t(58394),P=t(44455),k=t(61340),Z=t(3969),L=t(55806),S=t(47672),F=t(44344),C=t(64296),G=t(14432),j=t(64004),z=t(80262);function B(e,n){return null!=e&&(null==n||(n===S.l.Local?!e.isGeographic||e.isWGS84||e.wkid===y.S.CGCS2000:e.isWebMercator||e.isWGS84||e.wkid===y.S.CGCS2000||e.wkid===y.S.GCSMARS2000||e.wkid===y.S.GCSMARS2000_SPHERE||e.wkid===y.S.GCSMOON2000))}var H=r=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="sunny",r.cloudCover=.5,r}return(0,s.Z)(t,[{key:"clone",value:function(){return new r({cloudCover:this.cloudCover})}}]),t}(v.l);(0,d.e)([(0,p.r)({sunny:"sunny"})],H.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],H.prototype,"cloudCover",void 0);var q,U=H=r=(0,d.e)([(0,d.n)("esri.views.3d.environment.SunnyWeather")],H),D=q=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="cloudy",r.cloudCover=.5,r}return(0,s.Z)(t,[{key:"clone",value:function(){return new q({cloudCover:this.cloudCover})}}]),t}(v.l);(0,d.e)([(0,p.r)({cloudy:"cloudy"})],D.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],D.prototype,"cloudCover",void 0);var V,W=D=q=(0,d.e)([(0,d.n)("esri.views.3d.environment.CloudyWeather")],D),X=V=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="foggy",r.fogStrength=.5,r}return(0,s.Z)(t,[{key:"clone",value:function(){return new V({fogStrength:this.fogStrength})}}]),t}(v.l);(0,d.e)([(0,p.r)({foggy:"foggy"})],X.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],X.prototype,"fogStrength",void 0);var J,Y=X=V=(0,d.e)([(0,d.n)("esri.views.3d.environment.FoggyWeather")],X),K=J=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="rainy",r.cloudCover=.5,r.precipitation=.5,r}return(0,s.Z)(t,[{key:"clone",value:function(){return new J({cloudCover:this.cloudCover,precipitation:this.precipitation})}}]),t}(v.l);(0,d.e)([(0,p.r)({rainy:"rainy"})],K.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],K.prototype,"cloudCover",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],K.prototype,"precipitation",void 0);var Q,$=K=J=(0,d.e)([(0,d.n)("esri.views.3d.environment.RainyWeather")],K),ee=Q=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="snowy",r.cloudCover=.5,r.precipitation=.5,r.snowCover="disabled",r}return(0,s.Z)(t,[{key:"clone",value:function(){return new Q({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}}]),t}(v.l);(0,d.e)([(0,p.r)({snowy:"snowy"})],ee.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],ee.prototype,"cloudCover",void 0),(0,d.e)([(0,d.d)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],ee.prototype,"precipitation",void 0),(0,d.e)([(0,d.d)({type:["enabled","disabled"],nonNullable:!0,json:{write:!0}})],ee.prototype,"snowCover",void 0),ee=Q=(0,d.e)([(0,d.n)("esri.views.3d.environment.SnowyWeather")],ee);var ne={key:"type",base:U,typeMap:{sunny:U,cloudy:W,rainy:$,snowy:ee,foggy:Y}},te=Object.keys(ne.typeMap);var re,ie=1e4,ae=re=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="sun",r.date=null,r.directShadowsEnabled=!1,r.displayUTCOffset=null,r}return(0,s.Z)(t,[{key:"readDate",value:function(e,n){return null!=n.datetime&&new Date(n.datetime)||null}},{key:"writeDate",value:function(e,n,t){n[t]=e.getTime()}},{key:"readDirectShadowsEnabled",value:function(e,n){return!!n.directShadows}},{key:"writedirectShadowsEnabled",value:function(e,n,t){e&&(n[t]=e)}},{key:"writeDisplayUTCOffset",value:function(e,n){null!=e&&(n.displayUTCOffset=e)}},{key:"clone",value:function(){return new re(this.cloneConstructProperties())}},{key:"cloneConstructProperties",value:function(){var e={directShadowsEnabled:this.directShadowsEnabled,displayUTCOffset:null!=this.displayUTCOffset?this.displayUTCOffset:null};return null!=this.date&&(e.date=new Date(this.date.getTime())),e}}]),t}(v.l);(0,d.e)([(0,d.d)({readOnly:!0,type:["sun"],json:{write:!0}})],ae.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Date,json:{type:Number,write:{target:"datetime"}}})],ae.prototype,"date",void 0),(0,d.e)([(0,y.o)("date",["datetime"])],ae.prototype,"readDate",null),(0,d.e)([(0,y.r)("date")],ae.prototype,"writeDate",null),(0,d.e)([(0,d.d)({type:Boolean,json:{default:!1,write:{target:"directShadows"}}})],ae.prototype,"directShadowsEnabled",void 0),(0,d.e)([(0,y.o)("directShadowsEnabled",["directShadows"])],ae.prototype,"readDirectShadowsEnabled",null),(0,d.e)([(0,y.r)("directShadowsEnabled")],ae.prototype,"writedirectShadowsEnabled",null),(0,d.e)([(0,d.d)({type:Number,json:{write:!0}})],ae.prototype,"displayUTCOffset",void 0),(0,d.e)([(0,y.r)("displayUTCOffset")],ae.prototype,"writeDisplayUTCOffset",null);var oe,ue=ae=re=(0,d.e)([(0,d.n)("esri.webscene.SunLighting")],ae),ce=oe=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="virtual",r.directShadowsEnabled=!1,r}return(0,s.Z)(t,[{key:"clone",value:function(){return new oe(this.cloneConstructProperties())}},{key:"cloneConstructProperties",value:function(){return{directShadowsEnabled:this.directShadowsEnabled}}}]),t}(v.l);(0,d.e)([(0,d.d)({readOnly:!0,type:["virtual"],json:{write:!0}})],ce.prototype,"type",void 0),(0,d.e)([(0,d.d)({type:Boolean,json:{default:!1,name:"directShadows",write:!0}})],ce.prototype,"directShadowsEnabled",void 0);var se=ce=oe=(0,d.e)([(0,d.n)("esri.webscene.VirtualLighting")],ce),le={key:"type",defaultKeyValue:"sun",base:null,typeMap:{sun:ue,virtual:se}},fe=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){return(0,c.Z)(this,t),n.call(this,e)}return(0,s.Z)(t,[{key:"clone",value:function(){}}]),t}(v.l);(0,d.e)([(0,d.d)({readOnly:!0,json:{read:!1}})],fe.prototype,"type",void 0);var de,ve=fe=(0,d.e)([(0,d.n)("esri.webscene.background.Background")],fe),he=(0,u.Z)((0,u.Z)({},m.p),{},{nonNullable:!0}),pe=de=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).type="color",r.color=new g.l([0,0,0,1]),r}return(0,s.Z)(t,[{key:"clone",value:function(){return new de(this.cloneProperties())}},{key:"cloneProperties",value:function(){return{color:this.color.clone()}}}]),t}(ve);(0,d.e)([(0,p.r)({color:"color"},{readOnly:!0})],pe.prototype,"type",void 0),(0,d.e)([(0,d.d)(he)],pe.prototype,"color",void 0);var ye=pe=de=(0,d.e)([(0,d.n)("esri.webscene.background.ColorBackground")],pe),ge={base:ve,key:"type",typeMap:{color:ye}};var me,be,Te={types:ge,json:{read:(me=ge,function(e,n,t){if(!e)return e;for(var r in me.typeMap)if(e.type===r){var i=new me.typeMap[r];return i.read(e,t),i}}),write:{overridePolicy:function(e,n,t){return{enabled:!t||!t.isPresentation}}}}},Me=d.s.getLogger("esri.webscene.Environment"),_e=function(e,n,t){return{enabled:!t||!t.isPresentation}},we=be=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,c.Z)(this,t),(r=n.call(this,e)).lighting=new ue,r.background=null,r.atmosphereEnabled=!0,r.starsEnabled=!0,r}return(0,s.Z)(t,[{key:"weather",set:function(e){(function(e,n){return!!te.includes(e)||(n.error('"'.concat(e,'" is not a valid weather type')),!1)})(null===e||void 0===e?void 0:e.type,Me)&&this._set("weather",e)}},{key:"clone",value:function(){return new be(this.cloneConstructProperties())}},{key:"cloneConstructProperties",value:function(){return{lighting:this.lighting&&"virtual"===this.lighting.type?se.prototype.clone.call(this.lighting):ue.prototype.clone.call(this.lighting),background:(0,h.m)(this.background),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,weather:this.weather.clone()}}}]),t}(v.l);(0,d.e)([(0,d.d)({types:le,nonNullable:!0,json:{write:!0}})],we.prototype,"lighting",void 0),(0,d.e)([(0,d.d)(Te)],we.prototype,"background",void 0),(0,d.e)([(0,d.d)({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:_e}}})],we.prototype,"atmosphereEnabled",void 0),(0,d.e)([(0,d.d)({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:_e}}})],we.prototype,"starsEnabled",void 0),(0,d.e)([(0,d.d)({types:ne,nonNullable:!0,json:{write:!0},value:new U})],we.prototype,"weather",null);var Re=we=be=(0,d.e)([(0,d.n)("esri.webscene.Environment")],we);function Oe(e){var n=e[0]*e[0]+e[4]*e[4]+e[8]*e[8],t=e[1]*e[1]+e[5]*e[5]+e[9]*e[9],r=e[2]*e[2]+e[6]*e[6]+e[10]*e[10];return Math.sqrt(Math.max(n,t,r))}function xe(e,n){var t=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),r=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),i=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return(0,b.f)(e,t,r,i),e}function Ee(e,n,t){t=t||e;var r=(0,b.P)(e,n);(0,b.f)(t,e[0]-r*n[0],e[1]-r*n[1],e[2]-r*n[2]),(0,b.z)(t,t)}function Ae(e,n,t){Math.abs(e[0])>Math.abs(e[1])?(0,b.f)(n,0,1,0):(0,b.f)(n,1,0,0),(0,b._)(t,e,n),(0,b.z)(n,n),(0,b._)(n,t,e),(0,b.z)(t,t)}function Ie(e,n){return(e%n+n)%n}function Ne(e,n,t,r,i,a){var o=e+(n-e)*i;return o+(t+(r-t)*i-o)*a}function Pe(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,b.n)(),i=(0,b.s)(e),a=(0,b.s)(n),o=(0,b.P)(e,n)/(i*a);if(o<.9999999999999999){var u=Math.acos(o),c=((1-t)*i+t*a)/Math.sin(u),s=c/i*Math.sin((1-t)*u),l=c/a*Math.sin(t*u);return(0,b.q)(Be,e,s),(0,b.q)(He,n,l),(0,b.u)(r,Be,He)}return(0,b.A)(r,e,n,t)}function ke(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,b.n)(),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,b.n)(),a=(0,b.s)(e),o=(0,b.s)(n),u=(0,b.P)(e,n)/(a*o);if(u<.9999999999999999){var c=Math.acos(u),s=Math.sin(c),l=Math.sin(t*c),f=Math.sin((1-t)*c),d=(1-t)*a+t*o,v=d/s,h=v/o*l;(0,b.q)(Be,e,v/a*f),(0,b.q)(He,n,h),(0,b.u)(r,Be,He);var p=1/a*(-Math.cos((1-t)*c)*c*d+f*(-a+o));(0,b.q)(Be,e,p);var y=1/o*(Math.cos(t*c)*c*d+l*(-a+o));return(0,b.q)(He,n,y),(0,b.u)(i,Be,He),(0,b.q)(i,i,1/s),i}return(0,b.A)(r,e,n,t),(0,b.e)(i,n,e),(0,b.z)(i,i),i}function Ze(e,n,t){e=(0,b.z)(Be,e),n=(0,b.z)(He,n);var r=(0,b.g)((0,b.P)(e,n));if(t){var i=(0,b._)(ze,e,n);if((0,b.P)(i,t)<0)return-r}return r}function Le(e){var n=e.length;return function(t){if(t<=e[0][0])return e[0][1];if(t>=e[n-1][0])return e[n-1][1];for(var r=1;t>e[r][0];)r++;var i=e[r-1][0],a=e[r][0],o=(a-t)/(a-i);return o*e[r-1][1]+(1-o)*e[r][1]}}function Se(e,n,t,r){(0,b.e)(Ge,n,e),(0,b.e)(je,t,e),(0,b._)(r,Ge,je),(0,b.z)(r,r),r[3]=-(0,b.P)(e,r)}var Fe,Ce,Ge=(0,b.n)(),je=(0,b.n)(),ze=(0,b.n)(),Be=(0,b.n)(),He=(0,b.n)();!function(e){e[e.OBJECT=0]="OBJECT",e[e.HUD=1]="HUD",e[e.TERRAIN=2]="TERRAIN",e[e.OVERLAY=3]="OVERLAY",e[e.I3S=4]="I3S",e[e.PCL=5]="PCL",e[e.LOD=6]="LOD",e[e.VOXEL=7]="VOXEL"}(Fe||(Fe={}));var qe=(0,s.Z)((function e(){(0,c.Z)(this,e),this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=Ce.ALL}));!function(e){e[e.MIN=0]="MIN",e[e.MINMAX=1]="MINMAX",e[e.ALL=2]="ALL"}(Ce||(Ce={}));var Ue=d.s.getLogger("esri.views.3d.support.geometryUtils.boundedPlane"),De=(0,s.Z)((function e(){(0,c.Z)(this,e),this.plane=(0,N.p)(),this.origin=(0,b.n)(),this.basis1=(0,b.n)(),this.basis2=(0,b.n)()}));function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;return{plane:(0,N.p)(e.plane),origin:(0,b.h)(e.origin),basis1:(0,b.h)(e.basis1),basis2:(0,b.h)(e.basis2)}}function We(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve();return Xe(e.origin,e.basis1,e.basis2,n)}function Xe(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ve();return(0,b.a)(r.origin,e),(0,b.a)(r.basis1,n),(0,b.a)(r.basis2,t),Je(r),pn(r,"fromValues()"),r}function Je(e){(0,N.O)(e.basis2,e.basis1,e.origin,e.plane)}function Ye(e,n,t){e!==t&&We(e,t);var r=(0,b.q)(F.c.get(),fn(e),n);return(0,b.u)(t.origin,t.origin,r),t.plane[3]-=n,t}function Ke(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve(),t=(e[2]-e[0])/2,r=(e[3]-e[1])/2;return(0,b.f)(n.origin,e[0]+t,e[1]+r,0),(0,b.f)(n.basis1,t,0,0),(0,b.f)(n.basis2,0,r,0),(0,N.F)(0,0,1,0,n.plane),n}function Qe(e,n,t){return!!(0,N.q)(e.plane,n,t)&&dn(e,t)}function $e(e,n,t){var r=mn.get();yn(e,n,r,mn.get());var i,a=Number.POSITIVE_INFINITY,u=(0,o.Z)(_n);try{for(u.s();!(i=u.n()).done;){var c=hn(e,i.value,bn.get()),s=F.c.get();if((0,N.x)(r,c,s)){var l=(0,b.H)(F.c.get(),n.origin,s),f=Math.abs((0,b.g)((0,b.P)(n.direction,l)));f<a&&(a=f,(0,b.a)(t,s))}}}catch(d){u.e(d)}finally{u.f()}return a===Number.POSITIVE_INFINITY?en(e,n,t):t}function en(e,n,t){if(Qe(e,n,t))return t;var r=mn.get(),i=mn.get();yn(e,n,r,i);var a,u=Number.POSITIVE_INFINITY,c=(0,o.Z)(_n);try{for(c.s();!(a=c.n()).done;){var s=hn(e,a.value,bn.get()),l=F.c.get();if((0,N.U)(r,s,l)){var f=(0,L.h)(n,l);if(!(0,N.z)(i,l))continue;f<u&&(u=f,(0,b.a)(t,l))}}}catch(d){c.e(d)}finally{c.f()}return rn(e,n.origin)<u&&nn(e,n.origin,t),t}function nn(e,n,t){var r=(0,N.J)(e.plane,n,F.c.get()),i=(0,C.A)(vn(e,e.basis1),r,-1,1,F.c.get()),a=(0,C.A)(vn(e,e.basis2),r,-1,1,F.c.get());return(0,b.e)(t,(0,b.u)(F.c.get(),i,a),e.origin),t}function tn(e,n,t){var r=e.origin,i=e.basis1,a=e.basis2,o=(0,b.e)(F.c.get(),n,r),u=(0,L.f)(i,o),c=(0,L.f)(a,o),s=(0,L.f)(fn(e),o);return(0,b.f)(t,u,c,s)}function rn(e,n){var t=tn(e,n,F.c.get()),r=e.basis1,i=e.basis2,a=(0,b.s)(r),o=(0,b.s)(i),u=Math.max(Math.abs(t[0])-a,0),c=Math.max(Math.abs(t[1])-o,0),s=t[2];return u*u+c*c+s*s}function an(e,n){return Math.sqrt(rn(e,n))}function on(e,n){return(0,N.z)(e.plane,n)&&dn(e,n)}function un(e,n){var t=-e.plane[3];return(0,L.f)(fn(e),n)-t}function cn(e,n){return(0,b.F)(e.basis1,n.basis1)&&(0,b.F)(e.basis2,n.basis2)&&(0,b.F)(e.origin,n.origin)}function sn(e,n,t){return e!==t&&We(e,t),(0,k.h)(wn,n),(0,k.o)(wn,wn),(0,b.L)(t.basis1,e.basis1,wn),(0,b.L)(t.basis2,e.basis2,wn),(0,b.L)((0,N.Z)(t.plane),(0,N.Z)(e.plane),wn),(0,b.L)(t.origin,e.origin,n),(0,N.L)(t.plane,t.plane,t.origin),t}function ln(e,n,t,r){return e!==r&&We(e,r),(0,k.p)(Rn,n,t),(0,b.L)(r.basis1,e.basis1,Rn),(0,b.L)(r.basis2,e.basis2,Rn),Je(r),r}function fn(e){return(0,N.Z)(e.plane)}function dn(e,n){var t=(0,b.e)(F.c.get(),n,e.origin),r=(0,b.v)(e.basis1),i=(0,b.v)(e.basis2),a=(0,b.P)(e.basis1,t),o=(0,b.P)(e.basis2,t);return-a-r<0&&a-r<0&&-o-i<0&&o-i<0}function vn(e,n){var t=bn.get();return(0,b.a)(t.origin,e.origin),(0,b.a)(t.vector,n),t}function hn(e,n,t){var r=e.basis1,i=e.basis2,a=e.origin,o=(0,b.q)(F.c.get(),r,n.origin[0]),u=(0,b.q)(F.c.get(),i,n.origin[1]);(0,b.u)(t.origin,o,u),(0,b.u)(t.origin,t.origin,a);var c=(0,b.q)(F.c.get(),r,n.direction[0]),s=(0,b.q)(F.c.get(),i,n.direction[1]);return(0,b.q)(t.vector,(0,b.u)(c,c,s),2),t}function pn(e,n){Math.abs((0,b.P)(e.basis1,e.basis2)/((0,b.s)(e.basis1)*(0,b.s)(e.basis2)))>1e-6&&Ue.warn(n,"Provided basis vectors are not perpendicular"),Math.abs((0,b.P)(e.basis1,fn(e)))>1e-6&&Ue.warn(n,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,b.P)(fn(e),e.origin)-e.plane[3])>1e-6&&Ue.warn(n,"Plane offset is not consistent with plane origin")}function yn(e,n,t,r){var i=fn(e);(0,N.O)(i,n.direction,n.origin,t),(0,N.O)((0,N.Z)(t),i,n.origin,r)}var gn={plane:(0,N.p)(),origin:(0,b.r)(0,0,0),basis1:(0,b.r)(1,0,0),basis2:(0,b.r)(0,1,0)},mn=new F.s(N.p),bn=new F.s(C.v),Tn=(0,b.n)(),Mn=new F.s((function(){return{origin:null,basis1:null,basis2:null,plane:null}})),_n=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],wn=(0,x.e)(),Rn=(0,x.e)(),On=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:De,create:Ve,wrap:function(e,n,t){var r=Mn.get();return r.origin=e,r.basis1=n,r.basis2=t,r.plane=(0,N.E)(0,0,0,0),Je(r),r},copy:We,copyWithoutVerify:function(e,n){(0,b.a)(n.origin,e.origin),(0,b.a)(n.basis1,e.basis1),(0,b.a)(n.basis2,e.basis2),(0,N.A)(n.plane,e.plane)},fromValues:Xe,updateUnboundedPlane:Je,elevate:Ye,setExtent:function(e,n,t){return Ke(n,t),Ye(t,un(e,e.origin),t),t},fromAABoundingRect:Ke,intersectRay:Qe,intersectRayClosestSilhouette:function(e,n,t){if(Qe(e,n,t))return t;var r=$e(e,n,F.c.get());return(0,b.u)(t,n.origin,(0,b.q)(F.c.get(),n.direction,(0,b.x)(n.origin,r)/(0,b.s)(n.direction))),t},closestPointOnSilhouette:$e,closestPoint:en,projectPoint:nn,projectPointLocal:tn,distance2:rn,distance:an,distanceToSilhouette:function(e,n){var t,r=Number.NEGATIVE_INFINITY,i=(0,o.Z)(_n);try{for(i.s();!(t=i.n()).done;){var a=hn(e,t.value,bn.get()),u=(0,C.b)(a,n);u>r&&(r=u)}}catch(c){i.e(c)}finally{i.f()}return Math.sqrt(r)},extrusionContainsPoint:on,axisAt:function(e,n,t,r){return function(e,n,t){switch(n){case L.n.X:(0,b.a)(t,e.basis1),(0,b.z)(t,t);break;case L.n.Y:(0,b.a)(t,e.basis2),(0,b.z)(t,t);break;case L.n.Z:(0,b.a)(t,fn(e))}return t}(e,t,r)},altitudeAt:un,setAltitudeAt:function(e,n,t,r){var i=un(e,n),a=(0,b.q)(Tn,fn(e),t-i);return(0,b.u)(r,n,a),r},equals:cn,transform:sn,rotate:ln,normal:fn,UP:gn},Symbol.toStringTag,{value:"Module"}));function xn(e){return(0,h.r)(e)&&(0,h.r)(e.dist)}function En(e){return function(n,t,r){return(0,b.A)(Nn,n,t,r),!on(e,Nn)}}function An(e){return xn(e)&&e.intersector===Fe.OBJECT&&!!e.target}function In(e){return xn(e)&&e.intersector===Fe.HUD&&!!e.target&&(0,h.r)(e.target.center)}var Nn=(0,b.n)(),Pn=1e-5,kn=function(){function e(n){(0,c.Z)(this,e),this.options=new qe,this._results=new Ln,this.transform=new G.u,this.tolerance=Pn,this.verticalOffset=null,this._ray=(0,L.d)(),this._rayEnd=(0,b.n)(),this._rayBeginTransformed=(0,b.n)(),this._rayEndTransformed=(0,b.n)(),this.viewingMode=null==n?S.l.Global:n}return(0,s.Z)(e,[{key:"results",get:function(){return this._results}},{key:"ray",get:function(){return this._ray}},{key:"rayBegin",get:function(){return this._ray.origin}},{key:"rayEnd",get:function(){return this._rayEnd}},{key:"reset",value:function(e,n,t){this.resetWithRay((0,L.p)(e,n,this._ray),t)}},{key:"resetWithRay",value:function(e,n){this.camera=n,e!==this._ray&&(0,L.l)(e,this._ray),0!==this.options.verticalOffset?this.viewingMode===S.l.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,(0,b.u)(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}},{key:"intersect",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;this.point=t,this.filterPredicate=i,this.tolerance=null==r?Pn:r;var u=(0,G.y)(this.verticalOffset);(0,h.r)(n)&&n.length>0&&function(){var t,r=a?function(n){a(n)&&e.intersectObject(n)}:function(n){e.intersectObject(n)},i=(0,o.Z)(n);try{for(i.s();!(t=i.n()).done;){var c=t.value,s=c.getSpatialQueryAccelerator&&c.getSpatialQueryAccelerator();(0,h.r)(s)?((0,h.r)(u)?s.forEachAlongRayWithVerticalOffset(e._ray.origin,e._ray.direction,r,u):s.forEachAlongRay(e._ray.origin,e._ray.direction,r),e.options.selectionMode&&e.options.hud&&s.forEachDegenerateObject(r)):c.objects.forAll((function(e){return r(e)}))}}catch(l){i.e(l)}finally{i.f()}}(),this.sortResults()}},{key:"intersectObject",value:function(e){var n=this,t=e.geometryRecords;if(t){var r,i=e.transformation,a=(0,G.y)(this.verticalOffset),u=(0,o.Z)(t);try{var c=function(){var t=r.value,o=t.geometry,u=t.material,c=t.instanceParameters;if((0,G.a)(c))return"continue";var s=o.id;n.transform.setAndInvalidateLazyTransforms(i,t.getShaderTransformation()),(0,b.L)(n._rayBeginTransformed,n.rayBegin,n.transform.inverse),(0,b.L)(n._rayEndTransformed,n.rayEnd,n.transform.inverse);var l=n.transform.transform;(0,h.r)(a)&&(a.objectTransform=n.transform),u.intersect(o,c,n.transform.transform,n,n._rayBeginTransformed,n._rayEndTransformed,(function(t,r,i,a,o,u){if(t>=0){if((0,h.r)(n.filterPredicate)&&!n.filterPredicate(n._ray.origin,n._rayEnd,t))return;var c=a?n._results.hud:n._results,f=a?function(n){var a={object:e,geometryId:s,triangleNr:i,center:(0,h.r)(u)?[u[0],u[1],u[2]]:null};n.set(Fe.HUD,a,t,r,x.o,o)}:function(n){return n.set(Fe.OBJECT,{object:e,geometryId:s,triangleNr:i},t,r,l,o)};if((null==c.min.drapedLayerOrder||o>=c.min.drapedLayerOrder)&&(null==c.min.dist||t<c.min.dist)&&f(c.min),n.options.store!==Ce.MIN&&(null==c.max.drapedLayerOrder||o<c.max.drapedLayerOrder)&&(null==c.max.dist||t>c.max.dist)&&f(c.max),n.options.store===Ce.ALL)if(a){var d=new Fn(n._ray);f(d),n._results.hud.all.push(d)}else{var v=new Sn(n._ray);f(v),n._results.all.push(v)}}}),t.shaderTransformation)};for(u.s();!(r=u.n()).done;)c()}catch(s){u.e(s)}finally{u.f()}}}},{key:"sortResults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._results.all;e.sort((function(e,n){return e.dist!==n.dist?(0,h.n)(e.dist,0)-(0,h.n)(n.dist,0):e.drapedLayerOrder!==n.drapedLayerOrder?(0,h.n)(e.drapedLayerOrder,Number.MAX_VALUE)-(0,h.n)(n.drapedLayerOrder,Number.MAX_VALUE):(0,h.n)(n.drapedLayerGraphicOrder,Number.MIN_VALUE)-(0,h.n)(e.drapedLayerGraphicOrder,Number.MIN_VALUE)}))}}]),e}();function Zn(e){return new kn(e)}var Ln=function(){function e(){(0,c.Z)(this,e),this.min=new Sn((0,L.d)()),this.max=new Sn((0,L.d)()),this.hud={min:new Fn((0,L.d)()),max:new Fn((0,L.d)()),all:new Array},this.ground=new Sn((0,L.d)()),this.all=[]}return(0,s.Z)(e,[{key:"init",value:function(e){this.min.init(e),this.max.init(e),this.ground.init(e),this.all.length=0,this.hud.min.init(e),this.hud.max.init(e),this.hud.all.length=0}}]),e}(),Sn=function(){function e(n){(0,c.Z)(this,e),this.intersector=Fe.OBJECT,this.normal=(0,b.n)(),this.transformation=(0,x.e)(),this._ray=(0,L.d)(),this.init(n)}return(0,s.Z)(e,[{key:"ray",get:function(){return this._ray}},{key:"distanceInRenderSpace",get:function(){return(0,h.r)(this.dist)?((0,b.q)(Gn,this.ray.direction,this.dist),(0,b.s)(Gn)):null}},{key:"getIntersectionPoint",value:function(e){return!!xn(this)&&((0,b.q)(Gn,this.ray.direction,this.dist),(0,b.u)(e,this.ray.origin,Gn),!0)}},{key:"getTransformedNormal",value:function(e){return(0,b.a)(jn,this.normal),jn[3]=0,(0,b.w)(jn,jn,this.transformation),(0,b.a)(e,jn),(0,b.z)(e,e)}},{key:"init",value:function(e){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=Fe.OBJECT,(0,L.l)(e,this._ray)}},{key:"set",value:function(e,n,t,r,i,a,o){this.intersector=e,this.dist=t,(0,b.a)(this.normal,(0,h.n)(r,b.i)),(0,k.n)(this.transformation,(0,h.n)(i,x.o)),this.target=n,this.drapedLayerOrder=a,this.drapedLayerGraphicOrder=o}},{key:"copy",value:function(e){(0,L.l)(e.ray,this._ray),this.intersector=e.intersector,this.dist=e.dist,this.target=e.target,this.drapedLayerOrder=e.drapedLayerOrder,this.drapedLayerGraphicOrder=e.drapedLayerGraphicOrder,(0,b.a)(this.normal,e.normal),(0,k.n)(this.transformation,e.transformation)}}]),e}(),Fn=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(){var e;return(0,c.Z)(this,t),(e=n.apply(this,arguments)).intersector=Fe.HUD,e}return(0,s.Z)(t)}(Sn);function Cn(e){return new Sn(e)}var Gn=(0,b.n)(),jn=(0,Z.n)();function zn(e,n,t,r){return(0,h.r)(e.renderCoordsHelper.fromRenderCoords(n.eye,Dn,r))&&(0,I.b)(t,Dn)}function Bn(e,n){return e.elevationProvider?(0,h.n)(e.elevationProvider.getElevation(n[0],n[1],n[2],e.renderCoordsHelper.spatialReference,"ground"),0):0}function Hn(e,n,t,r){var i=e.state.camera.clone();n&&(i.eye=n,i.center=t,i.up=r),function(e,n,t){var r=Un[e.viewingMode];r||((r=Zn(e.state.viewingMode)).options.backfacesTerrain=!e.state.isGlobal,r.options.invisibleTerrain=!0,Un[e.viewingMode]=r);var i=e.state.isGlobal;return!(!e.sceneIntersectionHelper.intersectRay(n,r,t)||qn(e,n.origin,t))||!(!e.renderCoordsHelper.intersectManifold(n,0,t)||qn(e,n.origin,t))||!!i&&function(e,n,t){var r=(0,b.P)(e.origin,e.origin)-t*t,i=r>0?Math.sqrt(r)/3:1;return(0,b.q)(n,e.direction,i/(0,b.s)(e.direction)),(0,b.u)(n,n,e.origin),!0}(n,t,(0,P.p)(e.spatialReference).radius)}(e,i.ray,Vn)||(0,b.a)(Vn,i.center);var a=e.state.constraints,o=a.minimumPoiDistance;if((0,b.p)(i.eye,Vn)<o){var u=a.collision.enabled;(0,b.a)(Wn,i.viewForward),(0,b.q)(Wn,Wn,o),u?i.eye=(0,b.e)(Dn,Vn,Wn):(0,b.u)(Vn,i.eye,Wn);var c=e.renderCoordsHelper,s=c.getAltitude(i.eye),l=a.collision.elevationMargin;u&&s<l&&((0,b.e)(Wn,Vn,i.eye),i.eye=c.setAltitude(Dn,l,i.eye),(0,b.u)(Vn,i.eye,Wn))}return i.center=Vn,i}function qn(e,n,t){if(!e.state.isGlobal)return!1;var r=Bn(e,n),i=e.stateManager.constraintsManager.nearFarHeuristic.compute(n,t,e.renderDataExtent,r,Xn).far,a=i*i;return(0,b.p)(n,t)>a}var Un={},Dn=(0,b.n)(),Vn=(0,b.n)(),Wn=(0,b.n)(),Xn={near:0,far:0},Jn=(0,b.n)(),Yn=(0,b.n)();function Kn(){return{direction:(0,b.n)(),up:(0,b.n)()}}function Qn(e,n,t,r,i){var a=(0,b.z)(Jn,e),o=(0,b.P)(a,r),u=o>0;(o=Math.abs(o))>.99&&((o=Math.abs((0,b.P)(n,r)))<.99?((0,b.a)(a,n),u&&(0,b.q)(a,a,-1)):a=null);var c=0;if(a){(0,b.q)(Yn,r,(0,b.P)(r,a)),(0,b.e)(a,a,Yn);var s=(0,b.P)(a,i)/((0,b.s)(a)*(0,b.s)(i));(0,b._)(Yn,a,i),c=((0,b.P)(Yn,r)>0?1:-1)*(0,b.m)((0,b.g)(s))}var l=(0,b.m)((0,b.g)(-(0,b.P)(r,e)/(0,b.s)(e)));return t?(t.heading=c,t.tilt=l,t):{heading:c,tilt:l}}var $n=(0,b.r)(0,1,0),et=(0,b.r)(0,0,1),nt=(0,x.e)(),tt=(0,b.n)(),rt=(0,b.n)();function it(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Kn(),i=r.direction,a=r.up;return(0,k.R)(nt,-(0,b.M)(n)),(0,k.b)(nt,nt,(0,b.M)(t)),(0,b.L)(i,et,nt),(0,b.q)(i,i,-1),(0,b.L)(a,$n,nt),r}function at(e,n,t,r,i){var a=e.renderSpatialReference,o=e.map&&e.spatialReference||n.spatialReference;return(0,E.H)(n,tt,a),(0,E.H)(n,rt,a),tt[0]-=t/2,rt[0]+=t/2,tt[1]-=r/2,rt[1]+=r/2,(0,E.B)(tt,a,tt,o),(0,E.B)(rt,a,rt,o),i?(i.xmin=tt[0],i.ymin=tt[1],i.xmax=rt[0],i.ymax=rt[1],i.spatialReference=o):i=new z.M(tt[0],tt[1],rt[0],rt[1],o),i}var ot=Object.freeze(Object.defineProperty({__proto__:null,headingTiltToDirectionUp:it,directionToHeadingTilt:function(e,n,t,r){return Qn(n,t,r,et,$n)},eyeForCenterWithHeadingTilt:function(e,n,t,r){var i=it(e,t,r),a=(0,b.n)();return(0,b.q)(a,i.direction,-n),(0,b.u)(a,a,e),{up:i.up,eye:a,heading:t,tilt:r}},lookAtTiltToEyeTilt:function(e){return(0,b.m)(e)},eyeTiltToLookAtTilt:function(e){return(0,b.M)(e)},toExtent:at},Symbol.toStringTag,{value:"Module"}));function ut(e,n,t){return function(e,n,t,r,i){var a=(0,b.M)(t),o=(0,b.M)(i),u=a-o,c=(0,b.M)(n)-(0,b.M)(r),s=Math.sin(u/2),l=Math.sin(c/2),f=2*(0,b.b)(Math.sqrt(s*s+Math.cos(a)*Math.cos(o)*l*l))*e;return Math.round(1e4*f)/1e4}(e,n.longitude,n.latitude,t.longitude,t.latitude)}function ct(e,n,t){var r=n.spatialReference,i=(0,P.p)(r),a=new y.j(n.x,e.y,r),o=new y.j(t.x,e.y,r),u=new y.j(e.x,n.y,r),c=new y.j(e.x,t.y,r);return{lon:ut(i.radius,a,o),lat:ut(i.radius,u,c)}}function st(e,n){n||(n={hours:0,minutes:0,seconds:0}),n.hours=function(e,n){var t=e/15;return n||(t=Math.round(t)),t}(e[0],!0);var t=n.hours%1;n.hours-=t,n.minutes=60*t;var r=n.minutes%1;return n.minutes-=r,n.seconds=Math.round(60*r),n}var lt=(0,b.r)(0,0,1),ft=(0,b.z)((0,b.n)(),(0,b.r)(1,1,1)),dt=new w.i(-180,180),vt=(0,x.e)(),ht=(0,b.n)(),pt=(0,b.n)();function yt(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Kn();(0,b._)(ht,e,lt),0===(0,b.P)(ht,ht)&&(0,b._)(ht,e,ft),(0,k.p)(vt,-(0,b.M)(n),e),(0,k.f)(vt,vt,-(0,b.M)(t),ht);var i=r.up,a=r.direction;return(0,b._)(i,ht,e),(0,b.z)(i,i),(0,b.L)(i,i,vt),(0,b.z)(a,e),(0,b.k)(a,a),(0,b.L)(a,a,vt),r}function gt(e){var n=e[1];e[1]=-e[2],e[2]=n}function mt(e,n){var t=yt(n,e.heading,e.tilt);return e.up=t.up,e}function bt(e,n,t,r,i){var a,o,u,c,s=n.latitude,l=(0,P.p)(e.spatialReference).radius,f=n.longitude,d=function(e,n,t){var r=n/t,i=(0,b.M)(e),a=Math.sin(r/2),o=Math.cos(i),u=2*(0,b.b)(Math.sqrt(a*a/(o*o)));return(0,b.m)(u)}(s,t,l)/2;a=f-d,o=f+d;var v=(0,b.M)(s),h=(1+Math.sin(v))/(1-Math.sin(v)),p=(h+1)*Math.tan(r/l/2),g=p*p;function m(e){var n=Math.PI/2;return(e=w.o.normalize(e,-n))>n&&(e=Math.PI-e),e}if(c=(u=1.5*Math.PI-2*Math.atan(.5*(p+Math.sqrt(4*h+g))))+r/l,u=m(u),(c=m(c))<u){var T=c;c=u,u=T}if(u=Math.max((0,b.m)(u),-90),c=Math.min((0,b.m)(c),90),(o=dt.monotonic(a,o))-a>180){var M=(o-a-180)/2;a+=M,o-=M}var _=e.spatialReference&&e.spatialReference.isGeographic?e.spatialReference:y.k.WGS84;return i?(i.xmin=a,i.ymin=u,i.xmax=o,i.ymax=c,i.spatialReference=_):i=new z.M(a,u,o,c,_),e.spatialReference&&e.spatialReference.isWebMercator&&(0,y.R)(i,!1,i),i}var Tt=Object.freeze(Object.defineProperty({__proto__:null,headingTiltToDirectionUp:yt,directionToHeadingTilt:function(e,n,t,r){var i=ht,a=pt;return(0,b.z)(i,e),(0,b._)(pt,i,lt),0===(0,b.P)(pt,pt)&&(0,b._)(pt,i,ft),(0,b._)(a,pt,i),Qn(n,t,r,i,a)},eyeForCenterWithHeadingTilt:function(e,n,t,r){var i={eye:(0,b.n)(),up:null,tilt:r,heading:t},a=ht;a[0]=e[0],a[1]=e[2],a[2]=-e[1];var o,u=n,c=(0,b.M)(t),s=(0,b.M)(r),l=Math.sin(c),f=Math.cos(c),d=Math.sin(s),v=Math.cos(s),h=(0,b.s)(a);if(Math.abs(s)<1e-8)o=u+h;else{var p=h/d,y=(0,b.b)(u/p),g=Math.PI-s-y;o=p*Math.sin(g)}var m=v*u,T=u*u*(d*d),M=f*f*T,_=o-m,w=_*_,R=M*(M+w-a[1]*a[1]);if(R<0)return(0,b.q)(i.eye,a,o/h),i.tilt=0,i;var O,x=Math.sqrt(R),E=a[1]*_,A=M+w;if(O=f>0?-x+E:x+E,Math.abs(A)<1e-8)return h<1e-8?(i.eye[0]=0,i.eye[1]=0,i.eye[2]=u):(0,b.q)(i.eye,a,o/h),i.tilt=0,gt(i.eye),mt(i,e);i.eye[1]=O/A;var I=l*l*T,N=d*u,P=f*N*i.eye[1],k=i.eye[1]*i.eye[1],Z=1-k,L=Math.sqrt(Z),S=M*k+I-2*P*L*_+Z*w;return Math.abs(S)<1e-8?((0,b.q)(i.eye,a,o/h),i.tilt=0,gt(i.eye),mt(i,e)):(i.eye[0]=(Z*(o*a[0]-m*a[0])-N*L*(a[0]*i.eye[1]*f+a[2]*l))/S,i.eye[2]=(Z*(o*a[2]-m*a[2])-N*L*(a[2]*i.eye[1]*f-a[0]*l))/S,(0,b.q)(i.eye,i.eye,o),gt(i.eye),mt(i,e))},lookAtTiltToEyeTilt:function(e,n,t){var r=(0,b.s)(n),i=Math.sqrt(t*t+r*r-2*t*r*Math.cos(Math.PI-e)),a=(0,b.b)(t/(i/Math.sin(e)));return(0,b.m)(e-a)},eyeTiltToLookAtTilt:function(e,n,t){var r=(0,b.M)(e),i=(0,b.s)(n);return(0,b.b)(t/(i/Math.sin(r)))+r},toExtent:bt},Symbol.toStringTag,{value:"Module"}));function Mt(e){return"point"===e.type}var _t=(0,s.Z)((function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,c.Z)(this,e),this.array=n,this.spatialReference=t,this.offset=r}));function wt(e){return"array"in e}function Rt(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ground";if(Mt(n))return e.getElevation(n.x,n.y,n.z||0,n.spatialReference,t);if(wt(n)){var r=n.offset;return e.getElevation(n.array[r++],n.array[r++],n.array[r]||0,(0,h.n)(n.spatialReference,e.spatialReference),t)}return e.getElevation(n[0],n[1],n[2]||0,e.spatialReference,t)}var Ot,xt=d.s.getLogger("esri.views.3d.support.cameraUtils"),Et=(0,b.n)(),At=(0,b.n)(),It={heading:0,tilt:0},Nt=new y.j,Pt=new w.i(-20037508.342788905,20037508.342788905),kt=new w.i(-180,180);function Zt(e){return e.spatialReference||y.k.WGS84}function Lt(e){return"global"===e.viewingMode?Tt:ot}function St(e,n,t,r,i){return Lt(e).headingTiltToDirectionUp(n,t,r,i)}function Ft(e,n){if((0,h.t)(n))return null;var t=e.renderSpatialReference,r=Lt(e).headingTiltToDirectionUp,i=(0,b.n)();if(!(0,E.H)(n.position,i,t))return null;var a=r(i,n.heading,n.tilt);(0,b.q)(a.direction,a.direction,e.state.camera.distance),(0,b.u)(a.direction,a.direction,i);var o=Hn(e,i,a.direction,a.up);return o.fov=(0,b.M)(n.fov),o}!function(e){e[e.LOCKED=0]="LOCKED",e[e.ADJUST=1]="ADJUST"}(Ot||(Ot={}));var Ct=(0,b.n)();function Gt(e,n,t){var r=e.renderSpatialReference,i=qt(e,n.eye,n.viewForward,n.up,It),a=Zt(e);return(0,E.B)(n.eye,r,Ct,a)||(a=y.k.WGS84,(0,E.B)(n.eye,r,Ct,a)),(0,h.t)(t)?new T.d(new y.j(Ct,a),i.heading,i.tilt,(0,b.m)(n.fov)):(t.position.x=Ct[0],t.position.y=Ct[1],t.position.z=Ct[2],t.position.spatialReference=a,t.heading=i.heading,t.tilt=i.tilt,t.fov=(0,b.m)(n.fov),t)}function jt(e,n,t){var r=e.state.camera,i=r.width/2/r.pixelRatio;return e.renderCoordsHelper.viewingMode===S.l.Global&&null!=t&&(n*=Math.cos((0,b.M)(t))),i/(96*39.37/(n/=e.renderCoordsHelper.unitInMeters))/Math.tan(r.fovX/2)}function zt(e,n,t){var r=e.state.camera,i=n*Math.tan(r.fovX/2),a=96*39.37/(r.width/2/r.pixelRatio/i);return e.renderCoordsHelper.viewingMode===S.l.Global&&(a/=Math.cos((0,b.M)(t))),a*=e.renderCoordsHelper.unitInMeters}function Bt(e,n,t,r,i,a){return Ht(e,n,jt(e,t,n.latitude),r,i,a)}function Ht(e,n,t,r,i,a){if(or(a)){var o=new ar(a.signal);return Xt(e,r.heading,r.tilt,n,t,i,o),void o.resolver.promise.then((function(n){var t=nr(e,n,r.fov);if(!(0,h.t)(t))return a.resolver.resolve(t);a.resolver.reject()}),(function(e){return a.resolver.reject(e)}))}var u=Xt(e,r.heading,r.tilt,n,t,i);return nr(e,u,r.fov,a)}function qt(e,n,t,r,i){return Lt(e).directionToHeadingTilt(n,t,r,i)}function Ut(e,n){return!!(e.basemapTerrain&&e.renderCoordsHelper.fromRenderCoords(n,Nt,e.spatialReference)&&(0,h.n)(Rt(e.elevationProvider,Nt),0)>Nt.z-1)}function Dt(){return Dt=(0,a.Z)((0,i.Z)().mark((function e(n,t,r){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.renderCoordsHelper.fromRenderCoords(t,Nt,n.spatialReference)){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,n.elevationProvider.queryElevation(Nt.x,Nt.y,Nt.z,Nt.spatialReference,"ground",r);case 4:return a=e.sent,e.abrupt("return",(0,h.n)(a,0)>Nt.z-1);case 6:case"end":return e.stop()}}),e)}))),Dt.apply(this,arguments)}function Vt(){return Vt=(0,a.Z)((0,i.Z)().mark((function e(n,t,r){var a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,b.n)(),!t){e.next=13;break}if(!(t instanceof y.j)){e.next=10;break}if((0,E.H)(t,a,n.renderSpatialReference),null!=t.z||null==n.basemapTerrain){e.next=8;break}return e.next=6,n.elevationProvider.queryElevation(t.x,t.y,t.z,t.spatialReference,"ground",r);case 6:return o=e.sent,e.abrupt("return",((0,h.r)(o)&&n.renderCoordsHelper.setAltitude(a,o),a));case 8:e.next=11;break;case 10:(0,b.a)(a,t);case 11:e.next=14;break;case 13:(0,b.a)(a,n.state.camera.center);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)}))),Vt.apply(this,arguments)}function Wt(e,n){var t=(0,b.n)();if(n&&n instanceof y.j){if((0,E.H)(n,t,e.renderSpatialReference),null==n.z&&null!=e.basemapTerrain){var r=Rt(e.elevationProvider,n);(0,h.r)(r)&&e.renderCoordsHelper.setAltitude(t,r)}}else(0,b.a)(t,n||e.state.camera.center);return t}function Xt(e,n,t,r,i,a,o){var u=r&&r instanceof y.j?r:null;if(or(o))return function(e,n,t){return Vt.apply(this,arguments)}(e,r,o.signal).then((function(r){Jt(e,n,t,u,r,i,a,o)}),(function(e){return o.resolver.reject(e)})),null;var c=Wt(e,r);return Jt(e,n,t,u,c,i,a,o)}function Jt(e,n,t,r,i,a,o,u){if((0,h.t)(r)){var c=e.renderSpatialReference;if(r=(0,E.I)(i,c,Zt(e)),(0,h.t)(r))return null}a=Math.max(a,e.state.constraints.minimumPoiDistance);var s=function(e,n,t,r,i,a){var o=0;return a===Ot.ADJUST&&function(e,n,t){var r=e.pointsOfInterest.centerOnSurfaceFrequent.distance;if(Math.log(t/r)/Math.LN2>8)return!0;var i=e.renderSpatialReference,a=Zt(e),o=(0,E.I)(n,i,a),u=(0,E.I)(e.pointsOfInterest.centerOnSurfaceFrequent.renderLocation,i,a);if((0,h.t)(o)||(0,h.t)(u))return!1;var c=Math.tan(.5*e.state.camera.fov)*r;return u.distance(o)/c>5}(e,r,i)?(n=0,o=function(e,n,t,r){var i=e.state.constraints.tilt(n);i.max=Math.min(i.max,.5*Math.PI);var a=i.min*(1-Qt)+i.max*Qt,o=er(e,r,n,t);return Math.min(o,a)}(e,i,t,r)):o=er(e,r,i,t),o=e.state.constraints.clampTilt(i,o),{heading:n,tilt:t=$t(e,r,i,o)}}(e,n,t,i,a,o),l=(0,Lt(e).eyeForCenterWithHeadingTilt)(i,a,s.heading,s.tilt);if(o===Ot.ADJUST&&"global"===e.viewingMode&&t>0){var f=function(){var c=$t(e,i,a,function(e,n,t,r){var i=e.state.constraints.tilt(n),a=er(e,r,n,t);return a=Math.min(a,.5*Math.PI),i.min*(1-Qt)+a*Qt}(e,a,t,i));return o=t-c<1?Ot.LOCKED:Ot.ADJUST,Jt(e,n,c,r,i,a,o,u)},d=e.map.ground.navigationConstraint;if(!d||"stay-above"===d.type){if(Ut(e,l.eye))return f();if(or(u))return function(e,n,t){return Dt.apply(this,arguments)}(e,l.eye,u.signal).then((function(e){return e?f():(u.resolver.resolve({eye:l.eye,up:l.up,center:(0,b.h)(i),heading:l.heading,tilt:l.tilt}),null)})),null}}var v=!u||or(u)?{center:(0,b.n)(),eye:(0,b.n)(),up:(0,b.n)(),tilt:0,heading:0}:u;return v.eye=l.eye,v.up=l.up,v.center=(0,b.h)(i),v.heading=l.heading,v.tilt=l.tilt,or(u)&&u.resolver.resolve(v),v}function Yt(e,n,t,r,i){var a,o,u,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=null!=n.zmax&&null!=n.zmin;if(e.state.isGlobal){if(!B(n.spatialReference,S.l.Global))return or(c)&&c.resolver.reject(),null;var l=new y.j(n.xmin,n.ymin,n.spatialReference),f=new y.j(n.xmax,n.ymax,n.spatialReference),d=n.spatialReference.isGeographic?kt:Pt;a=new y.j({x:d.center(l.x,f.x),y:(f.y+l.y)/2,z:s?(n.zmax+n.zmin)/2:null,spatialReference:n.spatialReference});var v=(0,P.p)(n.spatialReference),p=ct(a,l,f);o=p.lon,u=p.lat,d.diff(l.x,f.x)>d.range/2&&(o+=v.halfCircumference),o=Math.min(o,v.halfCircumference),u=Math.min(u,v.halfCircumference)}else{var g=(0,h.n)(e.renderSpatialReference,n.spatialReference);g.equals(n.spatialReference)||(n=(0,E.r)(n,g)),o=n.xmax-n.xmin,u=n.ymax-n.ymin;var m=s?(n.zmax+n.zmin)/2:null;a=new y.j({x:n.xmin+.5*o,y:n.ymin+.5*u,z:m,spatialReference:g})}var b=s?n.zmax-n.zmin:0,T=e.state.camera,M=1/Math.tan(T.fovX/2),_=1/Math.tan(T.fovY/2),w=1/Math.tan(T.fov/2),R=Math.max(.5*o*M,.5*u*_,.5*b*w)/1;if(or(c)){var O=new ar(c.signal);return Xt(e,t,r,a,R,i,O),void O.resolver.promise.then((function(n){var t=nr(e,n,e.camera.fov);if(!(0,h.t)(t))return c.resolver.resolve(t);c.resolver.reject()}),(function(e){return c.resolver.reject(e)}))}var x=Xt(e,t,r,a,R,i);return nr(e,x,e.camera.fov,c)}function Kt(e,n,t){var r=e.renderSpatialReference,i=(0,E.I)(t,r,Zt(e));if((0,h.t)(i))return null;var a=Math.tan(n.fovX/2),o=Math.tan(n.fovY/2),u=(0,b.U)(n.eye,t),c=2*u*a*1,s=2*u*o*1;return"global"===e.viewingMode?bt(e,i,c,s):at(e,i,c,s)}var Qt=.7;function $t(e,n,t,r){return Lt(e).lookAtTiltToEyeTilt(r,n,t)}function er(e,n,t,r){return Lt(e).eyeTiltToLookAtTilt(r,n,t)}function nr(e,n,t,r){if((0,h.t)(n))return null;var i=e.renderSpatialReference,a=(0,E.I)(n.eye,i,Zt(e));return(0,h.t)(a)?null:(0,h.r)(r)?(r.position=a,r.heading=n.heading,r.tilt=n.tilt,r.fov=t,r):new T.d(a,n.heading,n.tilt,t)}function tr(e,n){var t,r=null===(t=e.basemapTerrain)||void 0===t?void 0:t.tilingScheme;if(r)return r.levelAtScale(n);xt.error("#scaleToZoom()","Cannot compute zoom from scale without a tiling scheme")}function rr(e,n){var t,r=null===(t=e.basemapTerrain)||void 0===t?void 0:t.tilingScheme;if(r)return r.scaleAtLevel(n);xt.error("#zoomToScale()","Cannot compute scale from zoom without a tiling scheme")}function ir(e,n,t){var r,i,a=e.renderSpatialReference;n||(n=e.state.camera);var o=y.k.WGS84;return n instanceof T.d?(r=n.position.latitude,(0,E.H)(n.position,Et,a),(0,E.H)(t,At,a),i=(0,b.x)(Et,At)):((0,E.B)(n.center,a,At,o),r=At[1],i=n.distance),zt(e,i,r)}var ar=(0,s.Z)((function e(n){(0,c.Z)(this,e),this.signal=n,this.resolver=(0,d.ap)()}));function or(e){return e&&"resolver"in e}function ur(e){return 360-w.s.normalize(e)}function cr(e){return w.s.normalize(360-e)}function sr(e){return(0,h.r)(e)&&e.resolver&&e.resolver.reject(),null}function lr(e,n){return(0,h.r)(e)&&e.resolver&&e.resolver.resolve(n),n}function fr(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!n)return sr(r);var i=e.spatialReference||y.k.WGS84;if((0,h.r)(n.camera)){var a=(0,y.M)(n.camera.position,i);if((0,h.t)(a))return sr(r);var o=n.camera.clone();return o.position=a,lr(r,o)}if((0,h.t)(n.targetGeometry))return sr(r);var u=n.get("targetGeometry.spatialReference");if(u&&!(0,y.g)(u,i))return sr(r);var c=Gt(e,e.state.camera),s=Ot.ADJUST;if(null!=n.rotation&&(c.heading=ur(n.rotation),s=Ot.LOCKED),null!=t&&(c.tilt=t),"point"===n.targetGeometry.type){var l=n.targetGeometry,f=n.targetGeometry.clone();return Ht(e,f,null!=n.scale?jt(e,n.scale,l.latitude):e.state.camera.distance,c,s,r)}var d=n.targetGeometry.extent;return Yt(e,d,c.heading,c.tilt,s,r)}function dr(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,h.t)(t)&&(t=new T.u),mr(e,null,n.clone(),t)}function vr(e,n,t){return hr.apply(this,arguments)}function hr(){return hr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r){var a,o,u,c,s,l,f,v,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Gr(n,t)){e.next=3;break}throw new d.a("viewpointutils-create:no-target","Missing target for creating viewpoint");case 3:if(o=new T.d({fov:n.camera.fov}),u=new T.u({camera:o}),!(a.target instanceof T.u)){e.next=10;break}return e.t0=jr,e.next=8,Rr(n,a.target,a,r,u);case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:if(!(a.target instanceof T.d)){e.next=12;break}return e.abrupt("return",jr(xr(n,a.target,u)));case 12:if(c=null!=a.scale||null!=a.zoom,!(a.target instanceof z.M)){e.next=27;break}if(s=a.target.xmin===a.target.xmax||a.target.ymin===a.target.ymax,e.t2=jr,!c&&!s){e.next=22;break}return e.next=19,Ar(n,a,a.target.center,o,r,u);case 19:e.t3=e.sent,e.next=25;break;case 22:return e.next=24,Zr(n,a,a.target,o,r,u);case 24:e.t3=e.sent;case 25:return e.t4=e.t3,e.abrupt("return",(0,e.t2)(e.t4));case 27:return l={boundingBox:(0,A.B)(),hasZ:!1,screenSpaceObjects:[]},f=c?yr(n,a):void 0,e.next=30,_r(n,a.target,f,l);case 30:if(!isFinite(l.boundingBox[0])){e.next=43;break}if((0,A.p)(l.boundingBox,Br),Yr.x=Br[0],Yr.y=Br[1],Yr.z=Br[2],Yr.spatialReference=n.spatialReference,isFinite(Yr.z)&&l.hasZ?v=(0,A.S)(l.boundingBox):(Yr.z=void 0,v=(0,I.H)((0,A.G)(l.boundingBox,Dr))),!c&&!v){e.next=37;break}return e.t5=jr,e.next=35,Ar(n,a,Yr,o,r,u);case 35:return e.t6=e.sent,e.abrupt("return",(0,e.t5)(e.t6));case 37:return h=zr(n,l.screenSpaceObjects),e.t7=jr,e.next=41,Fr(n,a,Yr,l.boundingBox,h,o,r,u);case 41:return e.t8=e.sent,e.abrupt("return",(0,e.t7)(e.t8));case 43:if(!a.position){e.next=47;break}e.t9=jr(Nr(n,a,o,u)),e.next=52;break;case 47:return e.t10=jr,e.next=50,Pr(n,a,o,r,u);case 50:e.t11=e.sent,e.t9=(0,e.t10)(e.t11);case 52:return e.abrupt("return",e.t9);case 53:case"end":return e.stop()}}),e)}))),hr.apply(this,arguments)}function pr(e,n){return null==n.scale&&null!=n.zoom?rr(e,n.zoom):n.scale}function yr(e,n){return function(e,n){return e.spatialReference?(0,j.i)(n,e.spatialReference):void 0}(e,pr(e,n))}function gr(e,n){var t=!1;return null!=n.heading?(e.heading=n.heading,t=!0):null!=n.rotation&&(e.heading=ur(n.rotation),t=!0),null!=n.tilt&&(e.tilt=n.tilt,t=!0),null!=n.fov&&(e.fov=n.fov),t}function mr(e,n,t,r){var i=e.spatialReference||y.k.WGS84;return n=(0,h.r)(n)?n:Ft(e,t),(0,h.t)(n)||(r.targetGeometry=(0,E.I)(n.center,e.renderSpatialReference,i),r.scale=ir(e,n),r.rotation=cr(t.heading),r.camera=t),r}function br(e,n,t){if(n){if(!(0,y.g)(n.spatialReference,e.spatialReference))throw new d.a("viewpointutils:incompatible-spatialreference","Spatial reference (".concat(n.spatialReference?n.spatialReference.wkid:"unknown",") is incompatible with the view (").concat(e.spatialReference.wkid,")"),{geometry:n});var r=[];if(!n.hasZ&&e.basemapTerrain){var i;switch(n.type){case"point":i=n;break;case"multipoint":case"polyline":i=n.extent.center;break;case"mesh":i=n.origin;break;case"extent":i=n.center;break;case"polygon":i=n.centroid}i&&(0,y.g)(i,e.basemapTerrain.spatialReference)?Br[2]=(0,h.n)(Rt(e.elevationProvider,i),0):Br[2]=0}(0,Kr[n.type])(n,(function(e){r.push(e[0],e[1],e[2])}),Br);var a=r.length/3;if(0!==a){var o=new Array(r.length);if((0,E.U)(r,n.spatialReference,0,o,e.spatialReference,0,a)){n.hasZ&&(t.hasZ=!0);for(var u=0;u<o.length;u+=3)n.hasZ?(Br[0]=o[u+0],Br[1]=o[u+1],Br[2]=o[u+2]):(Br[0]=o[u+0],Br[1]=o[u+1]),(0,A.h)(t.boundingBox,Br)}}}}function Tr(e,n,t,r){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a){var o,u,c,s,l,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.a)(n.whenViewForGraphic(t));case 2:if(!1!==(o=e.sent).ok&&!(0,h.t)(o.value)&&"whenGraphicBounds"in o.value){e.next=5;break}return e.abrupt("return",void br(n,t.geometry,a));case 5:return u=o.value,e.next=8,(0,_.a)(u.whenGraphicBounds(t,{minDemResolution:r}));case 8:if(!1!==(c=e.sent).ok){e.next=11;break}return e.abrupt("return",void br(n,t.geometry,a));case 11:s=c.value,l=s.screenSpaceObjects,f=s.boundingBox,(0,A.f)(a.boundingBox,f),l&&l.forEach((function(e){a.screenSpaceObjects.push(e)})),isFinite(f[2])&&(a.hasZ=!0);case 13:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function _r(e,n,t,r){return wr.apply(this,arguments)}function wr(){return wr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a){var o,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)||2!==t.length){e.next=4;break}if(o=t[0],u=t[1],"number"!=typeof o||"number"!=typeof u){e.next=4;break}return e.abrupt("return",(Yr.x=o,Yr.y=u,Yr.z=void 0,Yr.spatialReference=n.spatialReference.isGeographic?n.spatialReference:y.k.WGS84,void br(n,Yr,a)));case 4:if(!t||"function"!=typeof t.map){e.next=9;break}return e.next=7,(0,d.E)(t.map((function(e){return _r(n,e,r,a)})));case 7:e.next=17;break;case 9:if(!(t instanceof y.p)){e.next=13;break}br(n,t,a),e.next=17;break;case 13:if(e.t0=t instanceof M.g,!e.t0){e.next=17;break}return e.next=17,Tr(n,t,r,a);case 17:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}function Rr(e,n,t,r,i){return Or.apply(this,arguments)}function Or(){return Or=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a,o){var u,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,h.r)(t.camera)){e.next=2;break}return e.abrupt("return",xr(n,t.camera,o));case 2:return o.scale=t.scale,o.rotation=t.rotation,o.targetGeometry=(0,h.r)(t.targetGeometry)?t.targetGeometry.clone():null,o.camera=null,null!=r.heading?o.rotation=cr(r.heading):null!=r.rotation&&(o.rotation=r.rotation),null!=(u=pr(n,r))&&(o.scale=u),c=new ar(a),fr(n,o,r.tilt,c),e.next=9,c.resolver.promise;case 9:return o.camera=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),Or.apply(this,arguments)}function xr(e,n,t){var r=e.spatialReference,i=(0,y.M)(n.position,r);return(0,h.t)(i)?null:((n=n.clone()).fov=e.camera.fov,n.position=i,mr(e,null,n,t))}function Er(e,n,t,r,i,a){var o=e.renderSpatialReference;return(0,E.H)(t.position,Wr,o),(0,E.H)(n,Xr,o),a.targetGeometry=new y.j(n),i.position=new y.j(t.position),(0,b.e)(Vr,Xr,Wr),qt(e,Wr,Vr,r.up,i),a.scale=zt(e,(0,b.x)(Wr,Xr),a.targetGeometry.latitude),a.rotation=cr(i.heading),a.camera=i,a}function Ar(e,n,t,r,i,a){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a,o,u){var c,s,l,f,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,h.t)(r)){e.next=2;break}throw new d.a("createfromcenter","invalid point");case 2:if(u.targetGeometry=r.clone(),c=Hn(n),!t.position){e.next=6;break}return e.abrupt("return",Er(n,u.targetGeometry,t,c,a,u));case 6:if(t.zoomFactor&&(s=c.distance/t.zoomFactor,l=(0,b.q)(Br,c.viewForward,-s),c.eye=(0,b.u)(Br,c.center,l),u.scale=zt(n,s,r.latitude)),Gt(n,c,a),f=gr(a,t)?Ot.LOCKED:Ot.ADJUST,t.zoomFactor){e.next=16;break}return u.scale=pr(n,t),null==u.scale&&((0,E.H)(r,Br,n.renderSpatialReference),(0,N.a)(c.frustum,Br)?u.scale=zt(n,(0,b.x)(c.eye,Br),r.latitude):u.scale=ir(n,c)),v=new ar(o),Bt(n,u.targetGeometry,u.scale,a,f,v),e.next=15,v.resolver.promise;case 15:u.camera=e.sent;case 16:return e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)}))),Ir.apply(this,arguments)}function Nr(e,n,t,r){var i=Hn(e);return(0,b.a)(Vr,i.viewForward),qt(e,i.eye,Vr,i.up,Jr),t.position=new y.j(n.position),t.heading=null!=n.heading?n.heading:Jr.heading,t.tilt=null!=n.tilt?n.tilt:Jr.tilt,mr(e,null,t,r)}function Pr(e,n,t,r,i){return kr.apply(this,arguments)}function kr(){return kr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a,o){var u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Hn(n),e.abrupt("return",Ar(n,t,(0,E.I)(u.center,n.renderSpatialReference,n.spatialReference),r,a,o));case 2:case"end":return e.stop()}}),e)}))),kr.apply(this,arguments)}function Zr(e,n,t,r,i,a){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a,o,u){var c,s,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.targetGeometry=r.clone(),c=Hn(n),Gt(n,c,a),s=gr(a,t)?Ot.LOCKED:Ot.ADJUST,l=new ar(o),Yt(n,r,a.heading,a.tilt,s,l),e.next=7,l.resolver.promise;case 7:return u.camera=e.sent,e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)}))),Lr.apply(this,arguments)}function Sr(e,n,t,r,i){var a=0;t.hasZ?a=t.z:e.basemapTerrain&&(a=(0,h.e)(Rt(e.elevationProvider,t))),(0,b.f)(Br,t.x,t.y,a),(0,E.q)(e.spatialReference,Br,Hr,e.renderSpatialReference),(0,R.a)(qr,Hr),(0,R.o)(qr,qr),(0,A.B)(Ur);for(var o=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]],u=0;u<o.length;u++){var c=o[u],s=r[c[2]];isFinite(s)||(s=a),(0,b.f)(Br,r[c[0]],r[c[1]],s),(0,E.B)(Br,e.spatialReference,Br,e.renderSpatialReference),(0,A.h)(Ur,(0,b.O)(Br,Br,qr))}var l=(0,A.I)(Ur),f=(0,A.N)(Ur),d=(0,A.y)(Ur),v=1/Math.tan(n.fovX/2),p=1/Math.tan(n.fovY/2),y=.5*Math.sqrt(l*l+d*d)*Math.max(p,v)+.5*f,g=.5*f*p+.5*Math.max(l,d);return Math.max(y,g)/i}function Fr(e,n,t,r,i,a,o,u){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a,o,u,c,s){var l,f,d,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.targetGeometry=r.clone(),l=Hn(n),f=Sr(n,l,r,a,o),Gt(n,l,u),d=gr(u,t)?Ot.LOCKED:Ot.ADJUST,s.scale=zt(n,f,s.targetGeometry.latitude),v=new ar(c),Bt(n,s.targetGeometry,s.scale,u,d,v),e.next=9,v.resolver.promise;case 9:return s.camera=e.sent,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function Gr(e,n){if(!n||!e.spatialReference)return null;var t={target:null};if("declaredClass"in n||Array.isArray(n))t.target=n;else{for(var r in n)t[r]=n[r];n.center&&!t.target&&(t.target=n.center)}return t}function jr(e){return e&&(0,h.r)(e.camera)&&(e.rotation=cr(e.camera.heading)),e}function zr(e,n){if(!n.length)return.66;for(var t=Number.NEGATIVE_INFINITY,r=0;r<n.length;r++){var i=n[r].screenSpaceBoundingRect;t=Math.max(t,Math.abs(i[0]),Math.abs(i[1]),Math.abs(i[2]),Math.abs(i[3]))}return.66-t/Math.min(e.width,e.height)*2}var Br=(0,b.n)(),Hr=(0,x.e)(),qr=(0,O.e)(),Ur=(0,A.a)(),Dr=(0,I.u)(),Vr=(0,b.n)(),Wr=(0,b.n)(),Xr=(0,b.n)(),Jr={heading:0,tilt:0},Yr=new y.j,Kr={point:function(e,n,t){t[0]=e.x,t[1]=e.y,e.hasZ&&(t[2]=e.z),n(t)},polygon:function(e,n,t){for(var r=e.hasZ,i=0;i<e.rings.length;i++)for(var a=e.rings[i],o=0;o<a.length;o++)t[0]=a[o][0],t[1]=a[o][1],r&&(t[2]=a[o][2]),n(t)},polyline:function(e,n,t){for(var r=e.hasZ,i=0;i<e.paths.length;i++)for(var a=e.paths[i],o=0;o<a.length;o++)t[0]=a[o][0],t[1]=a[o][1],r&&(t[2]=a[o][2]),n(t)},multipoint:function(e,n,t){for(var r=e.points,i=e.hasZ,a=0;a<r.length;a++)t[0]=r[a][0],t[1]=r[a][1],i&&(t[2]=r[a][2]),n(t)},extent:function(e,n,t){e.hasZ?(n((0,b.f)(t,e.xmin,e.ymin,e.zmin)),n((0,b.f)(t,e.xmax,e.ymin,e.zmin)),n((0,b.f)(t,e.xmin,e.ymax,e.zmin)),n((0,b.f)(t,e.xmax,e.ymax,e.zmin)),n((0,b.f)(t,e.xmin,e.ymin,e.zmax)),n((0,b.f)(t,e.xmax,e.ymin,e.zmax)),n((0,b.f)(t,e.xmin,e.ymax,e.zmax)),n((0,b.f)(t,e.xmax,e.ymax,e.zmax))):(n((0,b.f)(t,e.xmin,e.ymin,t[2])),n((0,b.f)(t,e.xmax,e.ymin,t[2])),n((0,b.f)(t,e.xmin,e.ymax,t[2])),n((0,b.f)(t,e.xmax,e.ymax,t[2])))},mesh:function(e,n,t){var r=e.vertexAttributes&&e.vertexAttributes.position;if(r)for(var i=0;i<r.length;i+=3)n((0,b.f)(t,r[i+0],r[i+1],r[i+2]))}}}}]);
//# sourceMappingURL=525.eb457bf2.chunk.js.map