"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[777],{10777:function(e,t,r){r.r(t);var n=r(1413),i=r(37762),s=r(74165),a=r(15861),u=r(15671),o=r(43144),l=r(57714),c=r(23132),p=r(75610),d=r(30604),f=r(30709),y=r(61495),h=r(86548),g=r(83712),v=r(20880),m=r(36659),b=r(81642),x=r(21041),k=r(55827),_=r(69797),S=r(50526),F=(r(21583),r(80262),r(36460),r(70441),r(33642),r(80175),r(72820),r(78311),r(2760),r(62268),r(18392),r(86068),r(75370),r(63022),r(44455),r(61340),r(33703),r(69953),r(7513),r(25316),r(1241),r(91204),r(73554),r(60912),r(47626),r(81019),r(68826),r(61212),r(29709),r(78674),r(66307),r(50448),r(22144),r(75955),r(14739),r(10780),r(14181),r(77470),r(36551),r(50338),{hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}}),w=function(){function e(){var t=this;(0,u.Z)(this,e),this._queryEngine=null,this._snapshotFeatures=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._fetch(r);case 2:return n=e.sent,e.abrupt("return",t._createFeatures(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,o.Z)(e,[{key:"destroy",value:function(){var e;null!==(e=this._queryEngine)&&void 0!==e&&e.destroy(),this._queryEngine=this._fieldsIndex=this._createDefaultAttributes=null}},{key:"load",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,a,u,o,l,p,d,y,g,x,w,Z,I,T,E,j,q,P,C,O,R,G,M,D,A,L,Q,z=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z.length>1&&void 0!==z[1]?z[1]:{},this.loadOptions={url:t.url,customParameters:t.customParameters},a=[],e.next=5,this._checkProjection(t.spatialReference);case 5:if(u=null,e.t0=t.url,!e.t0){e.next=11;break}return e.next=10,this._fetch(null===r||void 0===r?void 0:r.signal);case 10:u=e.sent;case 11:o=(0,m.T)(u,{geometryType:t.geometryType}),l=t.fields||o.fields||[],p=null!=t.hasZ?t.hasZ:o.hasZ,d=o.geometryType,y=t.objectIdField||o.objectIdFieldName||"__OBJECTID",g=t.spatialReference||f.n,x=t.timeInfo,l===o.fields&&o.unknownFields.length>0&&a.push({name:"geojson-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:o.unknownFields}}),w=l.find((function(e){return e.name===y})),w?("esriFieldTypeString"!==w.type&&(w.type="esriFieldTypeOID"),w.editable=!1,w.nullable=!1):(w={alias:y,name:y,type:"string"===o.objectIdFieldType?"esriFieldTypeString":"esriFieldTypeOID",editable:!1,nullable:!1},l.unshift(w)),Z={},I=(0,i.Z)(l),e.prev=18,I.s();case 20:if((T=I.n()).done){e.next=29;break}if(null==(E=T.value).name&&(E.name=E.alias),null==E.alias&&(E.alias=E.name),E.name){e.next=24;break}throw new c.a("geojson-layer:invalid-field-name","field name is missing",{field:E});case 24:if(_.i.jsonValues.includes(E.type)){e.next=26;break}throw new c.a("geojson-layer:invalid-field-type",'invalid type for field "'.concat(E.name,'"'),{field:E});case 26:E.name!==w.name&&void 0!==(j=(0,S.P)(E))&&(Z[E.name]=j);case 27:e.next=20;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(18),I.e(e.t1);case 34:return e.prev=34,I.f(),e.finish(34);case 37:return this._fieldsIndex=new k.d(l),(q=this._fieldsIndex.requiredFields.indexOf(w))>-1&&this._fieldsIndex.requiredFields.splice(q,1),x&&(x.startTimeField&&((P=this._fieldsIndex.get(x.startTimeField))?(x.startTimeField=P.name,P.type="esriFieldTypeDate"):x.startTimeField=null),x.endTimeField&&((C=this._fieldsIndex.get(x.endTimeField))?(x.endTimeField=C.name,C.type="esriFieldTypeDate"):x.endTimeField=null),x.trackIdField&&((O=this._fieldsIndex.get(x.trackIdField))?x.trackIdField=O.name:(x.trackIdField=null,a.push({name:"geojson-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:x}}))),x.startTimeField||x.endTimeField||(a.push({name:"geojson-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:x}}),x=null)),R=d?(0,b.u)(d):null,G={warnings:a,featureErrors:[],layerDefinition:(0,n.Z)((0,n.Z)({},F),{},{drawingInfo:R,templates:(0,b.l)(Z),extent:null,geometryType:d,objectIdField:y,fields:l,hasZ:!!p,timeInfo:x})},this._queryEngine=new v.Y({fields:l,geometryType:d,hasM:!1,hasZ:p,objectIdField:y,spatialReference:g,timeInfo:x,featureStore:new h.u({geometryType:d,hasM:!1,hasZ:p}),cacheSpatialQueries:!0}),this._createDefaultAttributes=(0,b.a)(Z,y),e.next=44,this._createFeatures(u);case 44:return M=e.sent,this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,M),D=this._normalizeFeatures(M,G.warnings,G.featureErrors),this._queryEngine.featureStore.addMany(D),G.layerDefinition.extent=this._queryEngine.fullExtent,G.layerDefinition.timeInfo&&(A=this._queryEngine.timeExtent,L=A.start,Q=A.end,G.layerDefinition.timeInfo.timeExtent=[L,Q]),e.abrupt("return",G);case 49:case"end":return e.stop()}}),e,this,[[18,31,34,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._queryEngine,n=r.spatialReference,i=r.geometryType,e.next=3,Promise.all([(0,x.w)(n,i),(0,g.f)(t.adds,n),(0,g.f)(t.updates,n)]);case 3:return e.next=5,this._waitSnapshotComplete();case 5:return e.abrupt("return",this._applyEdits(t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,r,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQuery(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,r,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForCount(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,r,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForIds(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,r,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForExtent(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this._waitSnapshotComplete();case 3:return e.abrupt("return",this._queryEngine.executeQueryForSnapping(t,r.signal));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,n=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadOptions.customParameters=t,null!==(r=this._snapshotTask)&&void 0!==r&&r.abort(),this._snapshotTask=(0,c.al)(this._snapshotFeatures),this._snapshotTask.promise.then((function(e){n._queryEngine.featureStore.clear(),n._objectIdGenerator=n._createObjectIdGenerator(n._queryEngine,e);var t=n._normalizeFeatures(e);t&&n._queryEngine.featureStore.addMany(t)}),(function(e){n._queryEngine.featureStore.clear(),(0,c.u)(e)||c.s.getLogger("esri.layers.GeoJSONLayer").error(new c.a("geojson-layer:refresh","An error occurred during refresh",{error:e}))})),e.next=6,this._waitSnapshotComplete();case 6:return e.abrupt("return",{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createFeatures",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,n,a,u,o,l,c,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._queryEngine,n=r.geometryType,a=r.hasZ,u=r.objectIdField,o=(0,m.L)(t,{geometryType:n,hasZ:a,objectIdField:u}),!(0,f.E)(this._queryEngine.spatialReference,f.n)){l=(0,i.Z)(o);try{for(l.s();!(c=l.n()).done;)d=c.value,(0,p.r)(d.geometry)&&(d.geometry=(0,y.t)((0,g.g)((0,y.n)(d.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),f.n,this._queryEngine.spatialReference)))}catch(s){l.e(s)}finally{l.f()}}return e.abrupt("return",o);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitSnapshotComplete",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._snapshotTask||this._snapshotTask.finished){e.next=9;break}return e.prev=1,e.next=4,this._snapshotTask.promise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",this._waitSnapshotComplete());case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,i,a,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.loadOptions,i=r.url,a=r.customParameters,e.next=5,(0,l.U)(i,{responseType:"json",query:(0,n.Z)({},a),signal:t});case 5:return u=e.sent.data,e.next=8,(0,m.O)(u);case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_normalizeFeatures",value:function(e,t,r){var n,s=this._queryEngine.objectIdField,a=[],u=(0,i.Z)(e);try{for(u.s();!(n=u.n()).done;){var o=n.value,l=this._createDefaultAttributes(),c=(0,x.m)(this._fieldsIndex,l,o.attributes,!0,t);c?null===r||void 0===r||r.push(c):(this._assignObjectId(l,o.attributes,!0),o.attributes=l,o.objectId=l[s],a.push(o))}}catch(p){u.e(p)}finally{u.f()}return a}},{key:"_applyEdits",value:function(e){var t=e.adds,r=e.updates,n=e.deletes,s={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(s,t),r&&r.length&&this._applyUpdateEdits(s,r),n&&n.length){var a,u=(0,i.Z)(n);try{for(u.s();!(a=u.n()).done;){var o=a.value;s.deleteResults.push((0,x.f)(o))}}catch(l){u.e(l)}finally{u.f()}this._queryEngine.featureStore.removeManyById(n)}return{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:s}}},{key:"_applyAddEdits",value:function(e,t){var r,n=e.addResults,s=this._queryEngine,a=s.geometryType,u=s.hasM,o=s.hasZ,l=s.objectIdField,c=s.spatialReference,f=s.featureStore,h=[],v=(0,i.Z)(t);try{for(v.s();!(r=v.n()).done;){var m=r.value;if(m.geometry&&a!==(0,d.v)(m.geometry))n.push((0,x.a)("Incorrect geometry type."));else{var b=this._createDefaultAttributes(),k=(0,x.m)(this._fieldsIndex,b,m.attributes);if(k)n.push(k);else{if(this._assignObjectId(b,m.attributes),m.attributes=b,null!=m.uid){var _=m.attributes[l];e.uidToObjectId[m.uid]=_}(0,p.r)(m.geometry)&&(m.geometry=(0,g.g)((0,x.g)(m.geometry,c),m.geometry.spatialReference,c)),h.push(m),n.push((0,x.f)(m.attributes[l]))}}}}catch(S){v.e(S)}finally{v.f()}f.addMany((0,y.W)([],h,a,o,u,l))}},{key:"_applyUpdateEdits",value:function(e,t){var r,n=e.updateResults,s=this._queryEngine,a=s.geometryType,u=s.hasM,o=s.hasZ,l=s.objectIdField,c=s.spatialReference,f=s.featureStore,h=(0,i.Z)(t);try{for(h.s();!(r=h.n()).done;){var v=r.value,m=v.attributes,b=v.geometry,k=m&&m[l];if(null!=k)if(f.has(k)){var _=(0,y.e)(f.getFeature(k),a,o,u);if((0,p.r)(b)){if(a!==(0,d.v)(b)){n.push((0,x.a)("Incorrect geometry type."));continue}_.geometry=(0,g.g)((0,x.g)(b,c),b.spatialReference,c)}if(m){var S=(0,x.m)(this._fieldsIndex,_.attributes,m);if(S){n.push(S);continue}}f.add((0,y.Q)(_,a,o,u,l)),n.push((0,x.f)(k))}else n.push((0,x.a)("Feature with object id ".concat(k," missing")));else n.push((0,x.a)("Identifier field ".concat(l," missing")))}}catch(F){h.e(F)}finally{h.f()}}},{key:"_createObjectIdGenerator",value:function(e,t){var r=e.fieldsIndex.get(e.objectIdField);if("esriFieldTypeString"===r.type)return function(){return r.name+"-"+Date.now().toString(16)};var n,s=Number.NEGATIVE_INFINITY,a=(0,i.Z)(t);try{for(a.s();!(n=a.n()).done;){var u=n.value;u.objectId&&(s=Math.max(s,u.objectId))}}catch(o){a.e(o)}finally{a.f()}return s=Math.max(0,s)+1,function(){return s++}}},{key:"_assignObjectId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this._queryEngine.objectIdField;e[n]=r&&n in t?t[n]:this._objectIdGenerator()}},{key:"_checkProjection",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.f)(f.n,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new c.a("geojson-layer","Projection not supported");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=w},81642:function(e,t,r){r.d(t,{a:function(){return p},c:function(){return f},l:function(){return d},u:function(){return o}});var n=r(4942),i=r(1413),s=r(75610),a=r(14739),u=r(50338);function o(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?u.l:"esriGeometryPolyline"===e?u.o:u.S}}}var l=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,c=1;function p(e,t){if((0,s.a)("esri-csp-restrictions"))return function(){return(0,i.Z)((0,n.Z)({},t,null),e)};try{var r="this.".concat(t," = null;");for(var a in e)r+="this".concat(l.test(a)?".".concat(a):'["'.concat(a,'"]')," = ").concat(JSON.stringify(e[a]),";");var u=new Function("\n      return class AttributesClass$".concat(c++," {\n        constructor() {\n          ").concat(r,";\n        }\n      }\n    "))();return function(){return new u}}catch(u){return function(){return(0,i.Z)((0,n.Z)({},t,null),e)}}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,s.m)(e)}}]}function f(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:a.t,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},50338:function(e,t,r){r.d(t,{S:function(){return u},e:function(){return n},i:function(){return i},l:function(){return s},o:function(){return a},r:function(){return l},s:function(){return c},t:function(){return o},y:function(){return p}});var n=[252,146,31,255],i=[153,153,153,255],s={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},a={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},u={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},o={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},p={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},69797:function(e,t,r){r.d(t,{i:function(){return n}});var n=new(r(57714).s)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},36659:function(e,t,r){r.d(t,{L:function(){return E},O:function(){return I},T:function(){return T},i:function(){return f}});var n=r(29439),i=r(74165),s=r(37762),a=r(23132),u=r(33642),o=r(50526),l=(0,i.Z)().mark(y),c=(0,i.Z)().mark(h),p=(0,i.Z)().mark(g),d={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function f(e){return d[e]}function y(e){var t,r,n;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=e.type,i.next="Feature"===i.t0?3:"FeatureCollection"===i.t0?6:25;break;case 3:return i.next=5,e;case 5:return i.abrupt("break",25);case 6:t=(0,s.Z)(e.features),i.prev=7,t.s();case 9:if((r=t.n()).done){i.next=17;break}if(n=r.value,i.t1=n,!i.t1){i.next=15;break}return i.next=15,n;case 15:i.next=9;break;case 17:i.next=22;break;case 19:i.prev=19,i.t2=i.catch(7),t.e(i.t2);case 22:return i.prev=22,t.f(),i.finish(22);case 25:case"end":return i.stop()}}),l,null,[[7,19,22,25]])}function h(e){var t,r,n,a,u,o,l,p,d;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return",null);case 2:i.t0=e.type,i.next="Point"===i.t0?5:"LineString"===i.t0||"MultiPoint"===i.t0?8:"MultiLineString"===i.t0||"Polygon"===i.t0?10:"MultiPolygon"===i.t0?27:58;break;case 5:return i.next=7,e.coordinates;case 7:return i.abrupt("break",58);case 8:return i.delegateYield(e.coordinates,"t1",9);case 9:return i.abrupt("break",58);case 10:t=(0,s.Z)(e.coordinates),i.prev=11,t.s();case 13:if((r=t.n()).done){i.next=18;break}return n=r.value,i.delegateYield(n,"t2",16);case 16:i.next=13;break;case 18:i.next=23;break;case 20:i.prev=20,i.t3=i.catch(11),t.e(i.t3);case 23:return i.prev=23,t.f(),i.finish(23);case 26:return i.abrupt("break",58);case 27:a=(0,s.Z)(e.coordinates),i.prev=28,a.s();case 30:if((u=a.n()).done){i.next=50;break}o=u.value,l=(0,s.Z)(o),i.prev=33,l.s();case 35:if((p=l.n()).done){i.next=40;break}return d=p.value,i.delegateYield(d,"t4",38);case 38:i.next=35;break;case 40:i.next=45;break;case 42:i.prev=42,i.t5=i.catch(33),l.e(i.t5);case 45:return i.prev=45,l.f(),i.finish(45);case 48:i.next=30;break;case 50:i.next=55;break;case 52:i.prev=52,i.t6=i.catch(28),a.e(i.t6);case 55:return i.prev=55,a.f(),i.finish(55);case 58:case"end":return i.stop()}}),c,null,[[11,20,23,26],[28,52,55,58],[33,42,45,48]])}function g(e){var t,r,n,a,o,l,c,d,y,h,g,v,m,b=arguments;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=b.length>1&&void 0!==b[1]?b[1]:{},r=t.geometryType,n=t.objectIdField,a=(0,s.Z)(e),i.prev=3,a.s();case 5:if((o=a.n()).done){i.next=18;break}if(c=o.value,d=c.geometry,y=c.properties,h=c.id,!d||f(d.type)===r){i.next=10;break}return i.abrupt("continue",16);case 10:return v=null!==(l=(g=y||{})[n])&&void 0!==l?l:null,n&&null!=h&&!g[n]&&(g[n]=v=h),m=new u.s(d?x(new u.t,d,t):null,g,null,v),i.next=16,m;case 16:i.next=5;break;case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(3),a.e(i.t0);case 23:return i.prev=23,a.f(),i.finish(23);case 26:case"end":return i.stop()}}),p,null,[[3,20,23,26]])}function v(e){var t,r=(0,s.Z)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.length>2)return!0}}catch(n){r.e(n)}finally{r.f()}return!1}function m(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],i=e[(r+1)%e.length];t+=n[0]*i[1]-i[0]*n[1]}return t<=0}function b(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function x(e,t,r){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,r){return S(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){var n,i=(0,s.Z)(t.coordinates);try{for(i.s();!(n=i.n()).done;){S(e,n.value,r)}}catch(a){i.e(a)}finally{i.f()}return e}(e,t,r);case"MultiPolygon":return function(e,t,r){var n,i=(0,s.Z)(t.coordinates);try{for(i.s();!(n=i.n()).done;){var a=n.value;k(e,a[0],r);for(var u=1;u<a.length;u++)_(e,a[u],r)}}catch(o){i.e(o)}finally{i.f()}return e}(e,t,r);case"Point":return function(e,t,r){return w(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){var n=t.coordinates;k(e,n[0],r);for(var i=1;i<n.length;i++)_(e,n[i],r);return e}(e,t,r)}}function k(e,t,r){var n=b(t);!function(e){return!m(e)}(n)?S(e,n,r):F(e,n,r)}function _(e,t,r){var n=b(t);!function(e){return m(e)}(n)?S(e,n,r):F(e,n,r)}function S(e,t,r){var n,i=(0,s.Z)(t);try{for(i.s();!(n=i.n()).done;){w(e,n.value,r)}}catch(a){i.e(a)}finally{i.f()}e.lengths.push(t.length)}function F(e,t,r){for(var n=t.length-1;n>=0;n--)w(e,t[n],r);e.lengths.push(t.length)}function w(e,t,r){var i=(0,n.Z)(t,3),s=i[0],a=i[1],u=i[2];e.coords.push(s,a),r.hasZ&&e.coords.push(u||0)}function Z(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function I(e){if(!e)throw new a.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new a.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var r="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,n=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!n.test(r))throw new a.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function T(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],a=new Set,u=new Set,l=!1,c=null,p=!1,d=n.geometryType,g=void 0===d?null:d,m=!1,b=(0,s.Z)(y(e));try{var x=function(){var e=r.value,n=e.geometry,s=e.properties,o=e.id;if((!n||(g||(g=f(n.type)),f(n.type)===g))&&(l||(l=v(h(n))),p||(p=null!=o)&&(t=typeof o,c=Object.keys(s).filter((function(e){return s[e]===o}))),p&&null!=o&&(c.length>1?c=c.filter((function(e){return s[e]===o})):1===c.length&&(c=s[c[0]]===o?c:[])),!m&&s)){var d=!0;for(var y in s)if(!a.has(y)){var b=s[y];if(null!=b){var x=Z(b);"unknown"!==x?(u.delete(y),a.add(y),i.push({name:y,alias:y,type:x})):u.add(y)}else d=!1,u.add(y)}m=d}};for(b.s();!(r=b.n()).done;)x()}catch(w){b.e(w)}finally{b.f()}var k=c&&1===c.length&&c[0]||null;if(k){var _,S=(0,s.Z)(i);try{for(S.s();!(_=S.n()).done;){var F=_.value;if(F.name===k&&(0,o.B)(F)){F.type="esriFieldTypeOID";break}}}catch(w){S.e(w)}finally{S.f()}}return{fields:i,geometryType:g,hasZ:l,objectIdFieldName:k,objectIdFieldType:t,unknownFields:Array.from(u)}}function E(e,t){return Array.from(g(y(e),t))}}}]);
//# sourceMappingURL=777.c435f7ed.chunk.js.map