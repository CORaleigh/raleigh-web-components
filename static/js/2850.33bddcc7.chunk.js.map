{"version":3,"file":"static/js/2850.33bddcc7.chunk.js","mappings":"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","sources":["../node_modules/raleigh-stencil-components/dist/esm/ArcGISService-aec8d6ac.js","../node_modules/raleigh-stencil-components/dist/esm/Layer-89e1b673.js","../node_modules/raleigh-stencil-components/dist/esm/PortalLayer-f7555bd1.js"],"sourcesContent":["import { e, d, n, r, s } from './cast-5c4dc32a.js';\nimport { m, S } from './arcgisLayerUrl-e2014d9b.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst p=p=>{let c=class extends p{get title(){if(this._get(\"title\")&&\"defaults\"!==this.originOf(\"title\"))return this._get(\"title\");if(this.url){const t=m(this.url);if(r(t)&&t.title)return t.title}return this._get(\"title\")||\"\"}set title(t){this._set(\"title\",t);}set url(t){this._set(\"url\",S(t,s.getLogger(this.declaredClass)));}};return e([d()],c.prototype,\"title\",null),e([d({type:String})],c.prototype,\"url\",null),c=e([n(\"esri.layers.mixins.ArcGISService\")],c),c};\n\nexport { p };\n","import { s, f as r, I as g, a as s$2, e, d, n as n$1 } from './cast-5c4dc32a.js';\nimport './geometry-7b96f9c2.js';\nimport { j, U } from './request-0b2553bd.js';\nimport { n } from './Collection-9c69dda8.js';\nimport { s as s$1 } from './Identifiable-8c58c648.js';\nimport { m as m$1 } from './Portal-78e11fd2.js';\nimport { M } from './Extent-85e2b0df.js';\nimport { k } from './Point-609b2fcb.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst o=s.getLogger(\"esri.layers.support.fromPortalItem\");async function a(t){const a=\"portalItem\"in t?t:{portalItem:t},e=await import('./portalLayers-0e54fc76.js');try{return await e.fromItem(a)}catch(p){const t=a&&a.portalItem,e=t&&t.id||\"unset\",l=t&&t.portal&&t.portal.url||r.portalUrl;throw o.error(\"#fromPortalItem()\",\"Failed to create layer from portal item (portal: '\"+l+\"', id: '\"+e+\"')\",p),p}}\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nlet m=0,h=class extends(n.EventedMixin(s$1(m$1))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new M(-180,-90,180,90,k.WGS84),this.id=Date.now().toString(16)+\"-layer-\"+m++,this.legendEnabled=!0,this.listMode=\"show\",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=k.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0;}static async fromArcGISServerUrl(t){const e=\"string\"==typeof t?{url:t}:t;return (await import('./arcgisLayers-4e488462.js')).fromUrl(e)}static fromPortalItem(t){return a(t)}initialize(){this.when().catch((t=>{g(t)||s.getLogger(this.declaredClass).error(\"#load()\",`Failed to load layer (title: '${this.title??\"no title\"}', id: '${this.id??\"no id\"}')`,{error:t});}));}destroy(){if(this.parent){const t=this,e=this.parent;\"layers\"in e&&e.layers.includes(t)?e.layers.remove(t):\"tables\"in e&&e.tables.includes(t)?e.tables.remove(t):\"baseLayers\"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):\"baseLayers\"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t);}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const t=this.url;return t?j(t):null}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t){return (await U(t,{query:{f:\"json\"},responseType:\"json\"})).data}throw new s$2(\"layer:no-attribution-data\",\"Layer does not have attribution data\")}};e([d({type:String})],h.prototype,\"attributionDataUrl\",void 0),e([d({type:M})],h.prototype,\"fullExtent\",void 0),e([d({readOnly:!0})],h.prototype,\"hasAttributionData\",null),e([d({type:String,clonable:!1})],h.prototype,\"id\",void 0),e([d({type:Boolean,nonNullable:!0})],h.prototype,\"legendEnabled\",void 0),e([d({type:[\"show\",\"hide\",\"hide-children\"]})],h.prototype,\"listMode\",void 0),e([d({type:Number,range:{min:0,max:1},nonNullable:!0})],h.prototype,\"opacity\",void 0),e([d({clonable:!1})],h.prototype,\"parent\",void 0),e([d({readOnly:!0})],h.prototype,\"parsedUrl\",null),e([d({type:Boolean})],h.prototype,\"popupEnabled\",void 0),e([d({type:Boolean})],h.prototype,\"attributionVisible\",void 0),e([d({type:k})],h.prototype,\"spatialReference\",void 0),e([d({type:String})],h.prototype,\"title\",void 0),e([d({readOnly:!0,json:{read:!1}})],h.prototype,\"type\",void 0),e([d()],h.prototype,\"url\",void 0),e([d({type:Boolean,nonNullable:!0})],h.prototype,\"visible\",void 0),h=e([n$1(\"esri.layers.Layer\")],h);const b=h;\n\nexport { b };\n","import { s, e, d, n, W as f, I as g, _ as w$1, t, a as s$1, r as r$1 } from './cast-5c4dc32a.js';\nimport { a as n$1, F, U, N } from './request-0b2553bd.js';\nimport { a } from './asyncUtils-16976cc8.js';\nimport { o, r } from './Point-609b2fcb.js';\nimport { B, p } from './Portal-78e11fd2.js';\nimport b from './PortalItem-d05d4fc6.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst w=s.getLogger(\"esri.layers.mixins.PortalLayer\"),v=i=>{let v=class extends i{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0;}destroy(){this.portalItem?.destroy(),this.portalItem=null;}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t));}readPortalItem(t,r,e){if(r.itemId)return new b({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id);}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await import('./layersLoader-355d8e55.js').then(function (n) { return n.l; });return f(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(e){throw g(e)||w.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${e}`),e}}async finishLoadEditablePortalLayer(t){this._set(\"userHasEditingPrivileges\",await this._fetchUserHasEditingPrivileges(t).catch((t=>(w$1(t),!0))));}async _fetchUserHasEditingPrivileges(t$1){const e=this.url?n$1?.findCredential(this.url):null;if(!e)return !0;const s=P.credential===e?P.user:await this._fetchEditingUser(t$1);return P.credential=e,P.user=s,t(s)||null==s.privileges||s.privileges.includes(\"features:user:edit\")}async _fetchEditingUser(t){const o=this.portalItem?.portal?.user;if(o)return o;const i=n$1.findServerInfo(this.url);if(!i?.owningSystemUrl)return null;const a$1=`${i.owningSystemUrl}/sharing/rest`,p$1=B.getDefault();if(p$1&&p$1.loaded&&F(p$1.restUrl)===F(a$1))return p$1.user;const n=`${a$1}/community/self`,m=r$1(t)?t.signal:null,u=await a(U(n,{authMode:\"no-prompt\",query:{f:\"json\"},signal:m}));return u.ok?p.fromJSON(u.value.data):null}read(t,r){r&&(r.layer=this),super.read(t,r);}write(t,r){const e=r&&r.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||B.getDefault());return e&&s&&!N(s.restUrl,e.restUrl)?(r.messages&&r.messages.push(new s$1(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return e([d({type:b})],v.prototype,\"portalItem\",null),e([o(\"web-document\",\"portalItem\",[\"itemId\"])],v.prototype,\"readPortalItem\",null),e([r(\"web-document\",\"portalItem\",{itemId:{type:String}})],v.prototype,\"writePortalItem\",null),e([d({clonable:!1})],v.prototype,\"resourceReferences\",void 0),e([d({readOnly:!0})],v.prototype,\"userHasEditingPrivileges\",void 0),v=e([n(\"esri.layers.mixins.PortalLayer\")],v),v},P={credential:null,user:null};\n\nexport { v };\n"],"names":["p","c","this","_get","originOf","url","t","m","r","title","_set","S","s","declaredClass","e","d","prototype","type","String","n","o","a","portalItem","fromItem","id","l","portal","error","h","arguments","attributionDataUrl","fullExtent","M","k","Date","now","toString","legendEnabled","listMode","opacity","parent","popupEnabled","attributionVisible","spatialReference","visible","when","catch","g","layers","includes","remove","tables","baseLayers","referenceLayers","j","hasAttributionData","U","query","f","responseType","data","s$2","fromUrl","s$1","m$1","readOnly","clonable","Boolean","nonNullable","Number","range","min","max","json","read","b","n$1","w","v","i","resourceReferences","paths","userHasEditingPrivileges","destroy","removeOrigin","itemId","then","load","instance","supportedTypes","validateItem","supportsData","warn","_fetchUserHasEditingPrivileges","w$1","t$1","P","credential","user","_fetchEditingUser","privileges","owningSystemUrl","a$1","p$1","B","loaded","F","restUrl","r$1","signal","authMode","u","ok","value","layer","N","messages","push"],"sourceRoot":""}