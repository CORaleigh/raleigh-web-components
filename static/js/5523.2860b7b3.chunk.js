"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[5523],{85331:function(e,t,n){n.d(t,{A:function(){return m},C:function(){return E},N:function(){return k},O:function(){return S},P:function(){return C},U:function(){return V},Z:function(){return A},_:function(){return p},b:function(){return d},f:function(){return g},w:function(){return _}});var r=n(11752),i=n(61120),a=n(60136),o=n(29388),u=n(15671),s=n(43144),c=n(4942),l=n(1413),v=n(23132),h=n(77372),y=n(28329);var f=Object.keys(y.S).filter((function(e){return"number"==typeof y.S[e]})).reduce((function(e,t){return(0,l.Z)((0,l.Z)({},e),{},(0,c.Z)({},t,y.S[t]))}),{});function p(e){return e===y.S.OUTLINE_FILL||e===y.S.OUTLINE_FILL_SIMPLE}function d(e){return function(e){return e===y.S.SIMPLE||e===y.S.OUTLINE_FILL_SIMPLE}(e.symbologyType)}function S(e){return p(e.symbologyType)}function g(e,t){switch(e){case y.c.FILL:return _.from(t);case y.c.LINE:return E.from(t);case y.c.MARKER:return k.from(t);case y.c.TEXT:return C.from(t);case y.c.LABEL:return A.from(t);default:throw new Error("Unable to createMaterialKey for unknown geometryType ".concat(e))}}function m(e){switch(V.load(e).geometryType){case y.c.MARKER:return new k(e);case y.c.FILL:return new _(e);case y.c.LINE:return new E(e);case y.c.TEXT:return new C(e);case y.c.LABEL:return new A(e)}}var V=function(){function e(t){(0,u.Z)(this,e),this._data=0,this._data=t}return(0,s.Z)(e,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"geometryType",get:function(){return this.bits(8,11)},set:function(e){this.setBits(e,8,11)}},{key:"mapAligned",get:function(){return!!this.bit(20)},set:function(e){this.setBit(20,e)}},{key:"sdf",get:function(){return!!this.bit(11)},set:function(e){this.setBit(11,e)}},{key:"pattern",get:function(){return!!this.bit(12)},set:function(e){this.setBit(12,e)}},{key:"textureBinding",get:function(){return this.bits(0,8)},set:function(e){this.setBits(e,0,8)}},{key:"symbologyType",get:function(){return this.bits(21,26)},set:function(e){this.setBits(e,21,26)}},{key:"geometryTypeString",get:function(){switch(this.geometryType){case y.c.FILL:return"fill";case y.c.MARKER:return"marker";case y.c.LINE:return"line";case y.c.TEXT:return"text";case y.c.LABEL:return"label";default:throw new v.a("Unable to handle unknown geometryType: ".concat(this.geometryType))}}},{key:"setBit",value:function(e,t){var n=1<<e;t?this._data|=n:this._data&=~n}},{key:"bit",value:function(e){return(this._data&1<<e)>>e}},{key:"setBits",value:function(e,t,n){for(var r=t,i=0;r<n;r++,i++)this.setBit(r,0!=(e&1<<i))}},{key:"bits",value:function(e,t){for(var n=0,r=e,i=0;r<t;r++,i++)n|=this.bit(r)<<i;return n}},{key:"hasVV",value:function(){return!1}},{key:"setVV",value:function(e,t){}},{key:"getVariation",value:function(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:y.S[this.symbologyType],options:f,namespace:"SYMBOLOGY_TYPE"}}}},{key:"getVariationHash",value:function(){return this._data&~(7&this.textureBinding)}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}}]),e}();V.shared=new V(0);var Z=function(e){return function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"vvSizeMinMaxValue",get:function(){return 0!==this.bit(16)},set:function(e){this.setBit(16,e)}},{key:"vvSizeScaleStops",get:function(){return 0!==this.bit(17)},set:function(e){this.setBit(17,e)}},{key:"vvSizeFieldStops",get:function(){return 0!==this.bit(18)},set:function(e){this.setBit(18,e)}},{key:"vvSizeUnitValue",get:function(){return 0!==this.bit(19)},set:function(e){this.setBit(19,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t);var a=function(e,t,n){var r=y.A.SIZE_FIELD_STOPS|y.A.SIZE_MINMAX_VALUE|y.A.SIZE_SCALE_STOPS|y.A.SIZE_UNIT_VALUE,i=(t&(y.n.FIELD_TARGETS_OUTLINE|y.n.MINMAX_TARGETS_OUTLINE|y.n.SCALE_TARGETS_OUTLINE|y.n.UNIT_TARGETS_OUTLINE))>>>4;return e===y.c.LINE&&n.isOutline||e===y.c.FILL&&p(n.symbologyType)?r&i:r&~i}(this.geometryType,e,t)&e;this.vvSizeMinMaxValue=!!(a&y.A.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(a&y.A.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(a&y.A.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(a&y.A.SIZE_SCALE_STOPS)}}]),n}(e)},b=function(e){return function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"vvRotation",get:function(){return 0!==this.bit(15)},set:function(e){this.setBit(15,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvRotation}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t),this.vvRotation=!t.isOutline&&!!(e&y.A.ROTATION)}}]),n}(e)},T=function(e){return function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"vvColor",get:function(){return 0!==this.bit(13)},set:function(e){this.setBit(13,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvColor}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t),this.vvColor=!t.isOutline&&!!(e&y.A.COLOR)}}]),n}(e)},L=function(e){return function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"vvOpacity",get:function(){return 0!==this.bit(14)},set:function(e){this.setBit(14,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvOpacity}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t),this.vvOpacity=!t.isOutline&&!!(e&y.A.OPACITY)}}]),n}(e)},_=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=e.symbologyType,n=e.vvFlags,r=this.load(0);return r.geometryType=y.c.FILL,r.symbologyType=t,t!==y.S.DOT_DENSITY&&r.setVV(n,e),r.data}}]),n}(T(L(Z(V))));_.shared=new _(0);var k=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=e.symbologyType,n=e.vvFlags,r=this.load(0);return r.geometryType=y.c.MARKER,r.symbologyType=t,t!==y.S.HEATMAP&&r.setVV(n,e),r.data}}]),n}(T(L(b(Z(V)))));k.shared=new k(0);var E=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=y.c.LINE,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}}]),n}(T(L(Z(V))));E.shared=new E(0);var C=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=y.c.TEXT,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}}]),n}(T(L(b(Z(V)))));C.shared=new C(0);var A=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=y.c.LABEL,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.mapAligned=(0,h.i)(e.placement),t.data}}]),n}(Z(V));A.shared=new A(0)},77372:function(e,t,n){var r,i;function a(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function o(e){switch(e){case"top":return i.Top;case"middle":return i.Center;case"baseline":return i.Baseline;case"bottom":return i.Bottom}}function u(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[r.Right,i.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[r.Center,i.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[r.Left,i.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[r.Right,i.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[r.Center,i.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[r.Left,i.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[r.Right,i.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[r.Center,i.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[r.Left,i.Top];default:return console.debug("Found invalid placement type ".concat(e)),[r.Center,i.Center]}}function s(e){switch(e){case r.Right:return-1;case r.Center:return 0;case r.Left:return 1;default:return console.debug("Found invalid horizontal alignment ".concat(e)),0}}function c(e){switch(e){case i.Top:return 1;case i.Center:return 0;case i.Bottom:case i.Baseline:return-1;default:return console.debug("Found invalid vertical alignment ".concat(e)),0}}function l(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function v(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}n.d(t,{a:function(){return u},c:function(){return s},e:function(){return r},i:function(){return v},n:function(){return o},o:function(){return c},r:function(){return a},s:function(){return l},t:function(){return i}}),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(r||(r={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(i||(i={}))},85523:function(e,t,n){n.d(t,{c:function(){return Z},e:function(){return d},p:function(){return b},s:function(){return V}});var r=n(60136),i=n(29388),a=n(15671),o=n(43144),u=n(23132),s=n(28329),c=n(85331),l=n(75610),v=n(45578),h=n(6819),y=n(78880),f=n(94872),p=n(78674),d=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"getStorageSpec",value:function(e){return null}},{key:"createOrUpdateRendererSchema",value:function(e,t){return(0,l.r)(e)&&"default"===e.type?e:{type:"default"}}},{key:"getVariation",value:function(e){return{}}},{key:"getVariationHash",value:function(e){return 0}}]),e}();d.type="default",d.programSpec=null;var S=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,null,[{key:"getStorageSpec",value:function(e){var t=e.attributes;return{visualVariables:!1,attributes:null!==t&&void 0!==t?t:null}}},{key:"_createRendererSchema",value:function(){return{type:"dot-density",colors:new Float32Array(32),dotValue:-1,dotSize:-1,dotScale:-1,dotBlending:!1,backgroundColor:new Float32Array(4),activeDots:new Float32Array(8),seed:-1}}},{key:"createOrUpdateRendererSchema",value:function(e,t){var n=t.attributes,r=t.dotValue,i=t.referenceScale,a=t.dotSize,o=t.dotBlendingEnabled,u=t.seed,c=t.backgroundColor,h=(0,l.r)(e)&&"dot-density"===e.type?e:this._createRendererSchema();h.dotValue=r,h.dotSize=a,h.dotScale=i,h.dotBlending=o,h.seed=u;for(var y=h.colors,f=h.activeDots,p=h.backgroundColor,d=0;d<v.ak;d++){var S=d>=n.length?null:n[d].color;(0,s.o)(y,S,4*d)}for(var g=0;g<8;g++)f[g]=g<t.attributes.length?1:0;return(0,s.o)(p,c),h}},{key:"getVariation",value:function(e){return{ddDotBlending:e.dotBlending}}},{key:"getVariationHash",value:function(e){return e.dotBlending?1:0}}]),n}(d);S.type="dot-density",S.programSpec={shader:"materials/fill",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:h.C.SHORT},{location:1,name:"a_id",count:3,type:h.C.UNSIGNED_BYTE},{location:2,name:"a_bitset",count:1,type:h.C.UNSIGNED_BYTE},{location:3,name:"a_inverseArea",count:1,type:h.C.FLOAT}]}};var g=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,null,[{key:"getStorageSpec",value:function(e){var t=e.field,n=e.valueExpression;return{visualVariables:!1,attributes:t||n?[{field:t,valueExpression:n}]:null}}},{key:"_createRendererSchema",value:function(){return{type:"heatmap",radius:-1,referenceScale:-1,isFieldActive:0,minDensity:-1,densityRange:-1,kernel:null,gradient:null,gradientHash:"invalid"}}},{key:"createOrUpdateRendererSchema",value:function(e,t){var n,r=t.radius,i=t.minDensity,a=t.maxDensity,o=t.referenceScale,u=t.field,s=t.valueExpression,c=t.colorStops,v=a-i,h=u||s?1:0,p=c.map((function(e){var t=e.color,n=e.ratio;return"".concat(n,":").concat(t.toString())})).join(),d=!0;return(0,l.r)(e)&&"heatmap"===e.type?(n=e,d=p!==e.gradientHash):n=this._createRendererSchema(),n.radius=(0,y.u)(r),n.minDensity=i,n.densityRange=v,n.referenceScale=o,n.isFieldActive=h,d&&(n.gradient=(0,f.s)(c),n.gradientHash=p),n}}]),n}(d);g.type="heatmap",g.programSpec={shader:"materials/icon/heatmapAccumulate",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:h.C.SHORT},{location:1,name:"a_vertexOffset",count:2,type:h.C.SHORT},{location:4,name:"a_id",count:4,type:h.C.UNSIGNED_BYTE}]}};var m=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,null,[{key:"getStorageSpec",value:function(e){var t=e.attributes;return{visualVariables:!0,attributes:null!==t&&void 0!==t?t:null}}},{key:"_createRendererSchema",value:function(){return{type:"pie-chart",colors:new Float32Array(4*v.al),defaultColor:new Float32Array(4),othersColor:new Float32Array(4),outlineColor:new Float32Array(4),holePercentage:0,sectorThreshold:0,outlineWidth:1,numberOfFields:10}}},{key:"createOrUpdateRendererSchema",value:function(e,t){for(var n=t.attributes,r=t.defaultColor,i=t.holePercentage,a=t.othersCategory,o=t.outline,u=(0,l.r)(e)&&"pie-chart"===e.type?e:this._createRendererSchema(),c=0;c<v.al;c++){var h=c>=n.length?new p.l([0,0,0,0]):n[c].color;(0,s.o)(u.colors,h,4*c)}return(0,s.o)(u.defaultColor,r),(0,s.o)(u.othersColor,null===a||void 0===a?void 0:a.color),(0,s.o)(u.outlineColor,null===o||void 0===o?void 0:o.color),u.outlineWidth=(0,y.u)((null===o||void 0===o?void 0:o.width)||0),u.holePercentage=i,u.sectorThreshold=(null===a||void 0===a?void 0:a.threshold)||0,u.numberOfFields=n.length,u}},{key:"getVariation",value:function(e){return{numberOfFields:e.numberOfFields}}},{key:"getVariationHash",value:function(e){return e.numberOfFields}}]),n}(d);function V(e,t){if(e.type!==t)throw new u.a("material-view-model:unexpected-renderer-schema",'expected to find renderer schema of type "'.concat(t,'" but found type "').concat(e.type,'"'))}function Z(e){switch(e.type){case"dot-density":return S;case"heatmap":return g;case"pie-chart":return m;default:return d}}function b(e){var t=c.U.load(e),n=t.geometryType,r=t.symbologyType;switch(n){case s.c.FILL:if(r===s.S.DOT_DENSITY)return S;break;case s.c.MARKER:switch(r){case s.S.HEATMAP:return g;case s.S.PIE_CHART:return m}}return d}m.type="pie-chart",m.programSpec={shader:"materials/pie",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:h.C.SHORT},{location:1,name:"a_vertexOffset",count:2,type:h.C.SHORT},{location:2,name:"a_texCoords",count:2,type:h.C.UNSIGNED_SHORT},{location:3,name:"a_bitSetAndDistRatio",count:2,type:h.C.UNSIGNED_SHORT},{location:4,name:"a_id",count:4,type:h.C.UNSIGNED_BYTE},{location:5,name:"a_color",count:4,type:h.C.UNSIGNED_BYTE,normalized:!0},{location:6,name:"a_outlineColor",count:4,type:h.C.UNSIGNED_BYTE,normalized:!0},{location:7,name:"a_sizeAndOutlineWidth",count:4,type:h.C.UNSIGNED_BYTE},{location:8,name:"a_zoomRange",count:2,type:h.C.UNSIGNED_SHORT}]},hittestAttributes:["a_vertexOffset","a_texCoords"]}}}]);
//# sourceMappingURL=5523.2860b7b3.chunk.js.map