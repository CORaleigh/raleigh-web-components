"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[2959],{56546:function(e,t,r){r.r(t),r.d(t,{DictionaryLoader:function(){return w}});var n=r(93433),i=r(1413),o=r(29439),s=r(74165),a=r(37762),u=r(15861),l=r(15671),c=r(43144),p=r(89794),y=r(40558),f=r(48848),h=r(39926),d=r(93661),v=r(59984),b=r(86086),m=(r(48200),r(71802),r(6762),r(74384),r(46817),r(82474),r(40114),r(20302),r(21385),"esri.renderers.support.DictionaryLoader"),g={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}},w=function(){function e(t,r,n){(0,l.Z)(this,e),this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new h.e(100),this._dictionaryPromise=null,this.url=t,this.config=r,this.fieldMap=n}return(0,c.Z)(e,[{key:"getSymbolFields",value:function(){return this._symbolFields}},{key:"getSymbolAsync",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,r){var n,i,o,u,l,c,y,h,v,b,m,g,w,x,k,S,Z,_,j,I,M,P,D,E,C,R,N,V=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r)),e.prev=1,e.next=4,this._dictionaryPromise;case 4:i=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(0,f.j)(e.t0)){e.next=11;break}return e.abrupt("return",(this._dictionaryPromise=null,null));case 11:if(o={},this.fieldMap){u=(0,a.Z)(this._symbolFields);try{for(u.s();!(l=u.n()).done;)c=l.value,(y=this.fieldMap[c])&&null!=t.attributes[y]?(h=""+t.attributes[y],o[c]=h):o[c]=""}catch(s){u.e(s)}finally{u.f()}}if((v=null===(n=i)||void 0===n?void 0:n(o,r))&&"string"==typeof v){e.next=16;break}return e.abrupt("return",null);case 16:if(b=(0,f.a3)(v).toString(),!(m=this._symbolCache.get(b))){e.next=19;break}return e.abrupt("return",(m.catch((function(){V._symbolCache.pop(b)})),m));case 19:g=v.split(";"),w=[],x=[],k=(0,a.Z)(g),e.prev=21,k.s();case 23:if((S=k.n()).done){e.next=55;break}if(!(Z=S.value)){e.next=53;break}if(!Z.includes("po:")){e.next=31;break}3===(_=Z.substr(3).split("|")).length&&(j=_[0],I=_[1],M=_[2],"DashTemplate"===I?M=M.split(" ").map((function(e){return Number(e)})):"Color"===I?(P=new p.l(M).toRgba(),M=[P[0],P[1],P[2],255*P[3]]):M=Number(M),x.push({primitiveName:j,propertyName:I,value:M})),e.next=53;break;case 31:if(!Z.includes("|")){e.next=52;break}D=(0,a.Z)(Z.split("|")),e.prev=33,D.s();case 35:if((E=D.n()).done){e.next=42;break}if(C=E.value,!this._itemNames.has(C)){e.next=40;break}return w.push(C),e.abrupt("break",42);case 40:e.next=35;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(33),D.e(e.t1);case 47:return e.prev=47,D.f(),e.finish(47);case 50:e.next=53;break;case 52:this._itemNames.has(Z)&&w.push(Z);case 53:e.next=23;break;case 55:e.next=60;break;case 57:e.prev=57,e.t2=e.catch(21),k.e(e.t2);case 60:return e.prev=60,k.f(),e.finish(60);case 63:return R=!(0,d.r)(t.geometry)||!t.geometry.hasZ&&"point"===t.geometry.type,N=this._cimPartsToCIMSymbol(w,x,R,r),e.abrupt("return",(this._symbolCache.put(b,N,1),N));case 65:case"end":return e.stop()}}),e,this,[[1,7],[21,57,60,63],[33,44,47,50]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetchResources",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var r,n,u,l,c,p,h,b,g,w,x,k,S,Z,_,j,I,M=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._dictionaryPromise){e.next=2;break}return e.abrupt("return",this._dictionaryPromise);case 2:if(this.url){e.next=4;break}return e.abrupt("return",void f.a.getLogger(m).error("no valid URL!"));case 4:return r=(0,y.U)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:(0,d.r)(t)?t.signal:null}),e.next=7,Promise.all([r,(0,v.i)()]);case 7:if(n=e.sent,u=(0,o.Z)(n,1),l=u[0].data){e.next=12;break}throw this._dictionaryPromise=null,new f.s("esri.renderers.DictionaryRenderer","Bad dictionary data!");case 12:if(c=l.expression,p=l.authoringInfo,this._refSymbolUrlTemplate=this.url+"/"+l.cimRefTemplateUrl,this._itemNames=new Set(l.itemsNames),this._symbolFields=p.symbol,h={},this.config)for(g in b=this.config)h[g]=b[g];if(p.configuration){w=(0,a.Z)(p.configuration);try{for(w.s();!(x=w.n()).done;)k=x.value,h.hasOwnProperty(k.name)||(h[k.name]=k.value)}catch(s){w.e(s)}finally{w.f()}}if(S=[],(0,d.r)(t)&&t.fields&&this.fieldMap){Z=(0,a.Z)(this._symbolFields);try{for(j=function(){var e=_.value,r=M.fieldMap[e],n=t.fields.filter((function(e){return e.name===r}));n.length>0&&S.push((0,i.Z)((0,i.Z)({},n[0]),{},{name:e}))},Z.s();!(_=Z.n()).done;)j()}catch(s){Z.e(s)}finally{Z.f()}}return I=(0,v.u)(c,(0,d.r)(t)?t.spatialReference:null,S,h).then((function(e){var t={scale:0};return function(r,n){if((0,d.t)(e))return null;var i=e.repurposeFeature({geometry:null,attributes:r});return t.scale=(0,d.r)(n)?n.scale:void 0,e.evaluate({$feature:i,$view:t})}})).catch((function(e){return f.a.getLogger(m).error("Creating dictinoary expression failed:",e),null})),e.abrupt("return",(this._dictionaryPromise=I,I));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_cimPartsToCIMSymbol",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,r,n,i){var o,u,l,c,p,y;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=new Array(t.length),u=0;u<t.length;u++)o[u]=this._getSymbolPart(t[u],i);return e.next=4,Promise.all(o);case 4:if(l=e.sent,c=this.fieldMap){p=(0,a.Z)(l);try{for(p.s();!(y=p.n()).done;)x(y.value,c)}catch(s){p.e(s)}finally{p.f()}}return e.abrupt("return",new b.d({data:this._combineSymbolParts(l,r,n)}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"_getSymbolPart",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,r){var n,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ongoingRequests.has(t)){e.next=2;break}return e.abrupt("return",this._ongoingRequests.get(t).then((function(e){return e.data})));case 2:return n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),o=(0,y.U)(n,(0,i.Z)({responseType:"json",query:{f:"json"}},r)),this._ongoingRequests.set(t,o),e.prev=4,e.next=7,o;case 7:return e.abrupt("return",e.sent.data);case 10:throw e.prev=10,e.t0=e.catch(4),this._ongoingRequests.delete(t),e.t0;case 13:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_combineSymbolParts",value:function(e,t,r){if(!e||0===e.length)return null;var o=(0,i.Z)({},e[0]);if(e.length>1){o.symbolLayers=[];var s,u=(0,a.Z)(e);try{for(u.s();!(s=u.n()).done;){var l,c=s.value;(l=o.symbolLayers).unshift.apply(l,(0,n.Z)(c.symbolLayers))}}catch(p){u.e(p)}finally{u.f()}}return r&&(o.callout=g),{type:"CIMSymbolReference",symbol:o,primitiveOverrides:t}}}]),e}();function x(e,t){if(e){var r=e.symbolLayers;if(r)for(var n=r.length;n--;){var i=r[n];i&&!1!==i.enable&&"CIMVectorMarker"===i.type&&k(i,t)}}}function k(e,t){var r=e.markerGraphics;if(r){var n,i=(0,a.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o){var s=o.symbol;if(s)switch(s.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":x(s,t);break;case"CIMTextSymbol":s.fieldMap=t}}}}catch(u){i.e(u)}finally{i.f()}}}},39926:function(e,t,r){r.d(t,{e:function(){return s}});var n=r(15671),i=r(43144),o=r(6762),s=function(){function e(t,r){(0,n.Z)(this,e),this._storage=new o.h,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return(0,i.Z)(e,[{key:"put",value:function(e,t,r){this._storage.put(e,t,r,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}}]),e}()},8141:function(e,t,r){r.d(t,{r:function(){return a},t:function(){return s}});var n=r(93661),i=new Set;function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r&&i.has(t)||(r&&i.add(t),e.warn("\ud83d\uded1 DEPRECATED - ".concat(t)))}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,n.h)("esri-deprecation-warnings")){var i=r.moduleName;a(e,"Property: ".concat((i?i+"::":"")+t),r)}}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,n.h)("esri-deprecation-warnings")){var i=r.replacement,s=r.version,a=r.see,u=r.warnOnce,l=t;i&&(l+="\n\t\ud83d\udee0\ufe0f Replacement: ".concat(i)),s&&(l+="\n\t\u2699\ufe0f Version: ".concat(s)),a&&(l+="\n\t\ud83d\udd17 See ".concat(a," for more details.")),o(e,l,u)}}},26151:function(e,t,r){r.d(t,{a:function(){return a},c:function(){return l},i:function(){return u},l:function(){return f},m:function(){return h},s:function(){return y},u:function(){return p},y:function(){return d}});var n=r(37762),i=r(71802),o=r(77956),s=r(91681),a=2.4;function u(e){return(0,o.e)(e*a)}function l(e){return(0,o.u)(e)/a}function c(e,t,r,n){var o=t.color,s=t.ratio,a=r.color,u=r.ratio;if(u===s){var l=1e-6;1===u?s-=l:u+=l}var c=(0,i.a)((n-s)/(u-s),0,1);(0,i.j)(e,o.toArray(),a.toArray(),c)}function p(e){var t=new Uint8ClampedArray(2048);if(e=e.filter((function(e){var t=e.ratio;return t>=0&&t<=1})).sort((function(e,t){return e.ratio-t.ratio})).map((function(e){var t=e.color,r=e.ratio;return{color:t,ratio:Math.max(r,.001)}})),e.length<1)return t;for(var r=e[0],n=e[0],i=1,o=(0,s.n)(),a=0;a<512;a++){for(var u=(a+.5)/512;u>n.ratio&&i<e.length;)r=n,n=e[i++];c(o,r,n,u),t.set(o,4*a)}return t}function y(e,t,r,i){var s,a,u=t.radius,l=t.fieldOffset,c=t.field,p=Math.round((0,o.u)(u)),y=new Float64Array(r*i),f=Number.NEGATIVE_INFINITY,d=function(e,t){return null!=e?"string"==typeof t?function(t){return-1*+t.readAttribute(e)}:function(r){return+r.readAttribute(e)+t}:function(e){return 1}}(c,l),v=new Set,b=(0,n.Z)(e);try{for(b.s();!(a=b.n()).done;)for(var m=a.value.getCursor();m.next();){var g=m.getObjectId();if(!v.has(g)){v.add(g);var w=m.readLegacyPointGeometry(),x=128;if(!(w.x<-x||w.x>=r+x||w.y<-x||w.y>i+x))for(var k=+d(m),S=Math.max(0,Math.round(w.x)-p),Z=Math.max(0,Math.round(w.y)-p),_=Math.min(i,Math.round(w.y)+p),j=Math.min(r,Math.round(w.x)+p),I=Z;I<_;I++)for(var M=S;M<j;M++){var P=I*r+M,D=h(w.x-M,w.y-I,p);(s=y[P]+=D*k)>f&&(f=s)}}}}catch(E){b.e(E)}finally{b.f()}return{matrix:y.buffer,max:f}}function f(e,t,r,n,o,s){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);var a=e.getImageData(0,0,t,t);r&&n&&a.data.set(new Uint8ClampedArray(function(e,t,r,n,o){for(var s=new Uint32Array(e*e),a=("buffer"in t?t:new Float64Array(t)),u=("buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer)),l=u.length/(o-n),c=0;c<a.length;c++){var p=a[c],y=Math.floor((p-n)*l);s[c]=u[(0,i.a)(y,0,u.length-1)]}return s.buffer}(t,r,n,o,s))),e.putImageData(a,0,0)}function h(e,t,r){var n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))/r;return n>1?0:3/(Math.PI*Math.pow(r,2))*Math.pow(1-Math.pow(n,2),2)}function d(e,t){return"function"==typeof e?e:e?"string"==typeof t?function(t){return-1*+t[e]}:function(r){return+r[e]+t}:function(){return 1}}},2959:function(e,t,r){r.d(t,{a:function(){return ne},b:function(){return U},n:function(){return ie},o:function(){return ae},p:function(){return re},t:function(){return oe}});var n,i=r(44925),o=r(37762),s=r(74165),a=r(15861),u=r(15671),l=r(43144),c=r(11752),p=r(61120),y=r(60136),f=r(29388),h=r(48848),d=r(2821),v=r(93661),b=r(82474),m=r(59984),g=r(56546),w=r(89794),x=r(20302),k=r(40114),S=r(37944),Z=r(8141),_=r(77956),j=r(62610),I=r(26151),M=["blurRadius","maxPixelIntensity","minPixelIntensity"],P=n=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).config=null,n.fieldMap=null,n.scaleExpression=null,n.scaleExpressionTitle=null,n.url=null,n.type="dictionary",n}return(0,l.Z)(r,[{key:"_loader",get:function(){return new g.DictionaryLoader(this.url,this.config,this.fieldMap)}},{key:"writeData",value:function(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}},{key:"writeVisualVariables",value:function(e,t,n,i){(null===i||void 0===i?void 0:i.origin)||(0,c.Z)((0,p.Z)(r.prototype),"writeVisualVariables",this).call(this,e,t,n,i)}},{key:"clone",value:function(){return new n({config:(0,v.y)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,v.y)(this.fieldMap),url:(0,v.y)(this.url),visualVariables:(0,v.y)(this.visualVariables)})}},{key:"getSymbolAsync",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._loader.getSymbolAsync(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"collectRequiredFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){var n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:if(e.t0=this.scaleExpression,!e.t0){e.next=6;break}return e.next=6,(0,m.S)(t,r,this.scaleExpression);case 6:for(n in this.fieldMap)i=this.fieldMap[n],r.has(i)&&t.add(i);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"arcadeRequired",get:function(){return!0}},{key:"getSymbol",value:function(){return null}},{key:"getSymbols",value:function(){return[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return"".concat(this.url,"-").concat(JSON.stringify(this.fieldMap))}},{key:"getSymbolFields",value:function(){return this._loader.getSymbolFields()}}]),r}((0,d.y)(d.p));(0,h.e)([(0,h.y)({type:g.DictionaryLoader})],P.prototype,"_loader",null),(0,h.e)([(0,h.y)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],P.prototype,"config",void 0),(0,h.e)([(0,h.y)({type:Object,json:{write:!0}})],P.prototype,"fieldMap",void 0),(0,h.e)([(0,h.y)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],P.prototype,"scaleExpression",void 0),(0,h.e)([(0,b.r)("scaleExpression")],P.prototype,"writeData",null),(0,h.e)([(0,h.y)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy:function(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],P.prototype,"scaleExpressionTitle",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],P.prototype,"url",void 0),(0,h.e)([(0,b.r)("visualVariables")],P.prototype,"writeVisualVariables",null);var D,E=P=n=(0,h.e)([(0,h.n)("esri.renderers.DictionaryRenderer")],P),C=D=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).color=null,n.field=null,n.label=null,n.valueExpression=null,n.valueExpressionTitle=null,n}return(0,l.Z)(r,[{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(h.a.getLogger(this.declaredClass).error(".field: field must be a string value"),null):(0,h.a0)(e)}},{key:"getAttributeHash",value:function(){return"".concat(this.field,"-").concat(this.valueExpression)}},{key:"clone",value:function(){return new D({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}]),r}(k.l);(0,h.e)([(0,h.y)({type:w.l,json:{type:[Number],write:!0}})],C.prototype,"color",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],C.prototype,"field",void 0),(0,h.e)([(0,h.c)("field")],C.prototype,"castField",null),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],C.prototype,"label",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],C.prototype,"valueExpression",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],C.prototype,"valueExpressionTitle",void 0);var R,N=C=D=(0,h.e)([(0,h.n)("esri.renderers.support.AttributeColorInfo")],C),V=R=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(){var e;return(0,u.Z)(this,r),(e=t.apply(this,arguments)).unit=null,e}return(0,l.Z)(r,[{key:"clone",value:function(){return new R({unit:this.unit})}}]),r}(k.l);(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],V.prototype,"unit",void 0);var A,T=V=R=(0,h.e)([(0,h.n)("esri.renderers.support.DotDensityLegendOptions")],V),O=A=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).attributes=null,n.backgroundColor=new w.l([0,0,0,0]),n.dotBlendingEnabled=!0,n.dotShape="square",n.dotSize=1,n.legendOptions=null,n.outline=new S.m,n.dotValue=null,n.referenceScale=null,n.seed=1,n.type="dot-density",n}return(0,l.Z)(r,[{key:"calculateDotValue",value:function(e){if(null==this.referenceScale)return this.dotValue;var t=e/this.referenceScale*this.dotValue;return t<1?1:t}},{key:"getSymbol",value:function(){return new S.a({outline:this.outline})}},{key:"getSymbolAsync",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSymbol());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[this.getSymbol()]}},{key:"getAttributeHash",value:function(){var e,t;return null!==(e=null===(t=this.attributes)||void 0===t?void 0:t.reduce((function(e,t){return e+t.getAttributeHash()}),""))&&void 0!==e?e:""}},{key:"getMeshHash",value:function(){return JSON.stringify(this.outline)}},{key:"clone",value:function(){return new A({attributes:(0,v.y)(this.attributes),backgroundColor:(0,v.y)(this.backgroundColor),dotBlendingEnabled:(0,v.y)(this.dotBlendingEnabled),dotShape:(0,v.y)(this.dotShape),dotSize:(0,v.y)(this.dotSize),dotValue:(0,v.y)(this.dotValue),legendOptions:(0,v.y)(this.legendOptions),outline:(0,v.y)(this.outline),referenceScale:(0,v.y)(this.referenceScale),visualVariables:(0,v.y)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}},{key:"getControllerHash",value:function(){var e,t=null===(e=this.attributes)||void 0===e?void 0:e.map((function(e){return e.field||e.valueExpression||""}));return"".concat(t,"-").concat(this.outline&&JSON.stringify(this.outline.toJSON())||"")}},{key:"collectRequiredFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){var n,i,a,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:i=(0,o.Z)(null!==(n=this.attributes)&&void 0!==n?n:[]),e.prev=3,i.s();case 5:if((a=i.n()).done){e.next=14;break}if(u=a.value,e.t0=u.valueExpression,!e.t0){e.next=11;break}return e.next=11,(0,m.S)(t,r,u.valueExpression);case 11:u.field&&t.add(u.field);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(3),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[3,16,19,22]])})));return function(t,r){return e.apply(this,arguments)}}()}]),r}((0,d.y)(d.p));(0,h.e)([(0,h.y)({type:[N],json:{write:!0}})],O.prototype,"attributes",void 0),(0,h.e)([(0,h.y)({type:w.l,json:{write:!0}})],O.prototype,"backgroundColor",void 0),(0,h.e)([(0,h.y)({type:Boolean,json:{write:!0}})],O.prototype,"dotBlendingEnabled",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!1}})],O.prototype,"dotShape",void 0),(0,h.e)([(0,h.y)({type:Number,json:{write:!0}})],O.prototype,"dotSize",void 0),(0,h.e)([(0,h.y)({type:T,json:{write:!0}})],O.prototype,"legendOptions",void 0),(0,h.e)([(0,h.y)({type:S.m,json:{default:null,write:!0}})],O.prototype,"outline",void 0),(0,h.e)([(0,h.y)({type:Number,json:{write:!0}})],O.prototype,"dotValue",void 0),(0,h.e)([(0,h.y)({type:Number,json:{write:!0}})],O.prototype,"referenceScale",void 0),(0,h.e)([(0,h.y)({type:Number,json:{write:!0}})],O.prototype,"seed",void 0),(0,h.e)([(0,x.r)({dotDensity:"dot-density"})],O.prototype,"type",void 0);var F,L=O=A=(0,h.e)([(0,h.n)("esri.renderers.DotDensityRenderer")],O),q=F=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).color=null,n.ratio=null,n}return(0,l.Z)(r,[{key:"clone",value:function(){return new F({color:this.color,ratio:this.ratio})}}]),r}(k.l);(0,h.e)([(0,h.y)({type:w.l,json:{type:[h.T],default:null,write:!0}})],q.prototype,"color",void 0),(0,h.e)([(0,h.y)({type:Number,json:{write:!0}})],q.prototype,"ratio",void 0);var H,U=q=F=(0,h.e)([(0,h.n)("esri.renderers.support.HeatmapColorStop")],q),z=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(){var e;return(0,u.Z)(this,r),(e=t.apply(this,arguments)).minLabel=null,e.maxLabel=null,e.title=null,e}return(0,l.Z)(r)}((0,j.i)(k.l));(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],z.prototype,"minLabel",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],z.prototype,"maxLabel",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],z.prototype,"title",void 0),z=(0,h.e)([(0,h.n)("esri.renderers.support.HeatmapLegendOptions")],z);var B="esri.renderers.HeatmapRenderer",G=h.a.getLogger(B);function J(e){if(null!=e){var t=e.maxDensity,r=e.minDensity,n=e.radius;if(null!=t||null!=r||null!=n){e.blurRadius,e.maxPixelIntensity,e.minPixelIntensity;return(0,i.Z)(e,M)}}return e}var Y=H=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).authoringInfo=null,n.colorStops=[new U({ratio:0,color:new w.l("rgba(255, 140, 0, 0)")}),new U({ratio:.75,color:new w.l("rgba(255, 140, 0, 1)")}),new U({ratio:.9,color:new w.l("rgba(255, 0,   0, 1)")})],n.field=null,n.fieldOffset=0,n.legendOptions=null,n.maxDensity=.04,n.minDensity=0,n.radius=18,n.referenceScale=0,n.type="heatmap",n.valueExpression=null,n.valueExpressionTitle=null,n._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1},n}return(0,l.Z)(r,[{key:"normalizeCtorArgs",value:function(e){return J(e)}},{key:"blurRadius",get:function(){return(0,I.c)(this.radius)},set:function(e){var t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",(0,I.i)(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}},{key:"maxPixelIntensity",get:function(){return this.maxDensity/this._pixelIntensityToDensity},set:function(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}},{key:"minPixelIntensity",get:function(){return this.minDensity/this._pixelIntensityToDensity},set:function(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}},{key:"_pixelIntensityToDensity",get:function(){return 24/(Math.pow(I.a,2)*Math.pow(this.blurRadius,4))}},{key:"_warnAboutDeprecatedGaussianBlurProp",value:function(e,t){var r=this;this._warnedProps[e]||"user"===(0,h.x)(this).getDefaultOrigin()&&(this._warnedProps[e]=!0,(0,h.k)((function(){(0,Z.t)(G,e,{replacement:"".concat(String(t)," (suggested value: ").concat(r._get(t),")"),version:"4.24"})})))}},{key:"read",value:function(e,t){e=J(e),(0,c.Z)((0,p.Z)(r.prototype),"read",this).call(this,e,t)}},{key:"getSymbol",value:function(){return new S.y}},{key:"getSymbolAsync",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSymbol());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[this.getSymbol()]}},{key:"collectRequiredFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){var n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.field,i=this.valueExpression,e.t0=n&&"string"==typeof n,!e.t0){e.next=5;break}return e.next=5,(0,m.w)(t,r,n);case 5:if(e.t1=i&&"string"==typeof i,!e.t1){e.next=9;break}return e.next=9,(0,m.S)(t,r,i);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAttributeHash",value:function(){return null}},{key:"getMeshHash",value:function(){return"".concat(JSON.stringify(this.colorStops),".").concat(this.blurRadius,".").concat(this.field)}},{key:"clone",value:function(){return new H({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,v.y)(this.colorStops),field:this.field,legendOptions:(0,v.y)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}]),r}(d.p);(0,h.e)([(0,h.y)({type:d.j,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Y.prototype,"authoringInfo",void 0),(0,h.e)([(0,h.y)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Y.prototype,"blurRadius",null),(0,h.e)([(0,h.y)({type:[U],json:{write:!0}})],Y.prototype,"colorStops",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],Y.prototype,"field",void 0),(0,h.e)([(0,h.y)({type:Number,json:{write:{overridePolicy:function(e,t,r){return{enabled:null==r}}},origins:{"web-scene":{write:!1}}}})],Y.prototype,"fieldOffset",void 0),(0,h.e)([(0,h.y)({type:z,json:{write:!0}})],Y.prototype,"legendOptions",void 0),(0,h.e)([(0,h.y)({type:Number,json:{write:!0}})],Y.prototype,"maxDensity",void 0),(0,h.e)([(0,h.y)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Y.prototype,"maxPixelIntensity",null),(0,h.e)([(0,h.y)({type:Number,json:{write:!0}})],Y.prototype,"minDensity",void 0),(0,h.e)([(0,h.y)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Y.prototype,"minPixelIntensity",null),(0,h.e)([(0,h.y)({type:Number,cast:_.o,json:{write:!0}})],Y.prototype,"radius",void 0),(0,h.e)([(0,h.y)({type:Number,range:{min:0},json:{default:0,write:!0}})],Y.prototype,"referenceScale",void 0),(0,h.e)([(0,x.r)({heatmap:"heatmap"})],Y.prototype,"type",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Y.prototype,"valueExpression",void 0),(0,h.e)([(0,h.y)({type:String})],Y.prototype,"valueExpressionTitle",void 0),(0,h.e)([(0,h.y)({readOnly:!0})],Y.prototype,"_pixelIntensityToDensity",null);var W=Y=H=(0,h.e)([(0,h.n)(B)],Y),X=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(){var e;return(0,u.Z)(this,r),(e=t.apply(this,arguments)).color=new w.l([0,0,0,0]),e.label=null,e.threshold=0,e}return(0,l.Z)(r)}((0,j.i)(k.l));(0,h.e)([(0,h.y)({type:w.l,json:{write:!0}})],X.prototype,"color",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],X.prototype,"label",void 0),(0,h.e)([(0,h.y)({type:Number,range:{min:0,max:1},json:{write:!0}})],X.prototype,"threshold",void 0),X=(0,h.e)([(0,h.n)("esri.renderers.support.OthersCategory")],X);var $=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(){var e;return(0,u.Z)(this,r),(e=t.apply(this,arguments)).title=null,e}return(0,l.Z)(r)}((0,j.i)(k.l));(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],$.prototype,"title",void 0),$=(0,h.e)([(0,h.n)("esri.renderers.support.PieChartLegendOptions")],$);var K=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).attributes=null,n.backgroundFillSymbol=null,n.defaultColor=new w.l([0,0,0,0]),n.defaultLabel=null,n.holePercentage=0,n.othersCategory=new X,n.legendOptions=null,n.outline=null,n.size=12,n.type="pie-chart",n}return(0,l.Z)(r,[{key:"getSymbol",value:function(){var e;return new S.y({size:this.size?this.size/2+((null===(e=this.outline)||void 0===e?void 0:e.width)||0):0})}},{key:"getSymbolAsync",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSymbol());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[this.getSymbol(),this.backgroundFillSymbol].filter(v.r)}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return this.getSymbols().reduce((function(e,t){return e+JSON.stringify(t)}),"")}},{key:"collectRequiredFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){var n,i,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:n=(0,o.Z)(this.attributes),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=14;break}if(a=i.value,e.t0=a.valueExpression,!e.t0){e.next=11;break}return e.next=11,(0,m.S)(t,r,a.valueExpression);case 11:a.field&&t.add(a.field);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(3),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[3,16,19,22]])})));return function(t,r){return e.apply(this,arguments)}}()}]),r}((0,d.y)((0,j.i)(d.p)));(0,h.e)([(0,h.y)({type:[N],json:{write:!0}})],K.prototype,"attributes",void 0),(0,h.e)([(0,h.y)({type:S.a,json:{default:null,write:!0}})],K.prototype,"backgroundFillSymbol",void 0),(0,h.e)([(0,h.y)({type:w.l,json:{write:!0}})],K.prototype,"defaultColor",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],K.prototype,"defaultLabel",void 0),(0,h.e)([(0,h.y)({type:Number,range:{min:0,max:1},json:{write:!0}})],K.prototype,"holePercentage",void 0),(0,h.e)([(0,h.y)({type:X,json:{write:!0}})],K.prototype,"othersCategory",void 0),(0,h.e)([(0,h.y)({type:$,json:{write:!0}})],K.prototype,"legendOptions",void 0),(0,h.e)([(0,h.y)({type:S.m,json:{default:null,write:!0}})],K.prototype,"outline",void 0),(0,h.e)([(0,h.y)({type:Number,cast:_.o,json:{write:!0}})],K.prototype,"size",void 0),(0,h.e)([(0,x.r)({pieChart:"pie-chart"})],K.prototype,"type",void 0);var Q,ee=K=(0,h.e)([(0,h.n)("esri.renderers.PieChartRenderer")],K),te=Q=function(e){(0,y.Z)(r,e);var t=(0,f.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).description=null,n.label=null,n.symbol=null,n.type="simple",n}return(0,l.Z)(r,[{key:"collectRequiredFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.collectSymbolFields(t,r),this.collectVVRequiredFields(t,r)]);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"collectSymbolFields",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.getSymbols().map((function(e){return e.collectRequiredFields(t,r)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(e,t){return this.symbol}},{key:"getSymbolAsync",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.symbol);case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return this.symbol?[this.symbol]:[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return this.getSymbols().reduce((function(e,t){return e+JSON.stringify(t)}),"")}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}},{key:"clone",value:function(){return new Q({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,v.y)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}}]),r}((0,d.y)(d.p));(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],te.prototype,"description",void 0),(0,h.e)([(0,h.y)({type:String,json:{write:!0}})],te.prototype,"label",void 0),(0,h.e)([(0,h.y)(d.l)],te.prototype,"symbol",void 0),(0,h.e)([(0,x.r)({simple:"simple"})],te.prototype,"type",void 0);var re=te=Q=(0,h.e)([(0,h.n)("esri.renderers.SimpleRenderer")],te),ne={key:"type",base:d.p,typeMap:{heatmap:W,simple:re,"unique-value":d.C,"class-breaks":d._,"dot-density":L,dictionary:E,"pie-chart":ee},errorContext:"renderer"},ie={key:"type",base:d.p,typeMap:{simple:re,"unique-value":d.C,"class-breaks":d._,heatmap:W},errorContext:"renderer"};function oe(e,t){return ae(e,null,t)}var se=(0,h.Z)({types:ne});function ae(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r&&r.messages&&r.messages.push(new h.l("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):se(e,t,r):null}},91681:function(e,t,r){function n(){return[0,0,0,0]}function i(e){return[e[0],e[1],e[2],e[3]]}function o(e,t,r,n){return[e,t,r,n]}function s(e){for(var t=[0,0,0,0],r=Math.min(4,e.length),n=0;n<r;++n)t[n]=e[n];return t}function a(e,t){return new Float64Array(e,t,4)}function u(){return[0,0,0,0]}function l(){return o(1,1,1,1)}function c(){return o(1,0,0,0)}function p(){return o(0,1,0,0)}function y(){return o(0,0,1,0)}function f(){return o(0,0,0,1)}r.d(t,{_:function(){return d},e:function(){return s},l:function(){return h},n:function(){return n},r:function(){return o},t:function(){return i},u:function(){return a}});var h=[0,0,0,0],d=l(),v=c(),b=p(),m=y(),g=f();Object.freeze(Object.defineProperty({__proto__:null,create:n,clone:i,fromValues:o,fromArray:s,createView:a,zeros:u,ones:l,unitX:c,unitY:p,unitZ:y,unitW:f,ZEROS:h,ONES:d,UNIT_X:v,UNIT_Y:b,UNIT_Z:m,UNIT_W:g},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=2959.9c32e705.chunk.js.map