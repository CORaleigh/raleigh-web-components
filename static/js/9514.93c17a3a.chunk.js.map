{"version":3,"file":"static/js/9514.93c17a3a.chunk.js","mappings":"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","sources":["../node_modules/raleigh-map-components/dist/esm/BaseDynamicLayerView2D-69d42f29.js","../node_modules/raleigh-map-components/dist/esm/ExportStrategy-dcadddb1.js","../node_modules/raleigh-map-components/dist/esm/RefreshableLayerView-faf61099.js"],"sourcesContent":["import { j, a as s, e, y as y$1, n } from './cast-c3f45b36.js';\nimport './config-1ffdf45e.js';\nimport { a } from './BitmapContainer-700895bf.js';\nimport { y } from './LayerView2D-2afdec46.js';\nimport { v } from './ExportStrategy-dcadddb1.js';\nimport { u } from './LayerView-2def927c.js';\nimport { i } from './RefreshableLayerView-faf61099.js';\nimport './WGLContainer-f08d17e7.js';\nimport './mat3f32-42811e80.js';\nimport './WGLBrushVTLSymbol-9caebd62.js';\nimport './mathUtils-2bc3dc3d.js';\nimport './DefaultVertexAttributeLayouts-628c4128.js';\nimport './vec2f64-2b32ef68.js';\nimport './context-util-2cfc3c15.js';\nimport './enums-39ca0456.js';\nimport './Texture-eb557a77.js';\nimport './VertexElementDescriptor-26861b4e.js';\nimport './enums-c5b71a5c.js';\nimport './enums-4e89dbf5.js';\nimport './number-de709571.js';\nimport './FramebufferObject-3c39c713.js';\nimport './StyleDefinition-6a097509.js';\nimport './vec2f32-bf50d22f.js';\nimport './config-9a7f1231.js';\nimport './GeometryUtils-076a114e.js';\nimport './mat3-8b5f2a3e.js';\nimport './pixelUtils-40f4c842.js';\nimport './JSONSupport-db08a3d3.js';\nimport './DisplayObject-7536b955.js';\nimport './Evented-cb187462.js';\nimport './Utils-1a809a7a.js';\nimport './ShaderCompiler-c3d24077.js';\nimport './ProgramTemplate-4896e910.js';\nimport './Program-cfc2ac6a.js';\nimport './MaterialKey-22699fef.js';\nimport './alignmentUtils-c331d95e.js';\nimport './utils-659f8fa4.js';\nimport './EffectView-71028bb0.js';\nimport './jsonUtils-455358fc.js';\nimport './colorUtils-a7d54473.js';\nimport './screenUtils-bb784636.js';\nimport './mat4-7a77be1b.js';\nimport './heatmapUtils-aeff2740.js';\nimport './vec4f64-0cbfbafc.js';\nimport './Color-037179a4.js';\nimport './heatmapTextureUtils-d24c7be6.js';\nimport './reactiveUtils-f60c7d41.js';\nimport './earcut-d7f8e4d3.js';\nimport './vec2-c45237df.js';\nimport './featureConversionUtils-02732a82.js';\nimport './jsonUtils-470c2f30.js';\nimport './Extent-f175f54a.js';\nimport './Point-6cb878d9.js';\nimport './geometry-af7a1990.js';\nimport './jsonMap-ad5a21ba.js';\nimport './OptimizedFeature-be5c501a.js';\nimport './OptimizedFeatureSet-0aa3ab12.js';\nimport './Collection-4ef916ef.js';\nimport './SimpleObservable-8d982b09.js';\nimport './collectionUtils-7fc43c51.js';\nimport './aaBoundingRect-9f5a81b4.js';\nimport './TileInfo-c35f6ddd.js';\nimport './unitUtils-d3ad6907.js';\nimport './TileKey-883c0022.js';\nimport './Bitmap-0be40819.js';\nimport './TileInfoView-83c82d40.js';\nimport './TileKey-cf11edbc.js';\nimport './HandleOwner-f847f884.js';\nimport './Identifiable-8ce6a5f3.js';\nimport './locale-3aaf7fdb.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nlet m=class extends(i(y(u))){update(t){this._strategy.update(t).catch((t=>{j(t)||s.getLogger(this.declaredClass).error(t);})),this.notifyChange(\"updating\");}attach(){this._bitmapContainer=new a,this.container.addChild(this._bitmapContainer),this._strategy=new v({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)});}detach(){this._strategy.destroy(),this._strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren();}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate();}fetchBitmapData(t,e,r){return this.layer.fetchImage(t,e,r)}async doRefresh(){this.requestUpdate();}isUpdating(){return this._strategy.updating||this.updateRequested}};e([y$1()],m.prototype,\"_strategy\",void 0),e([y$1()],m.prototype,\"updating\",void 0),m=e([n(\"esri.views.2d.layers.BaseDynamicLayerView2D\")],m);const c=m;\n\nexport default c;\n","import { e as e$1, y as y$1, n as n$1, m, a1 as x$1, f, w as w$1, E } from './cast-c3f45b36.js';\nimport './config-1ffdf45e.js';\nimport { f as f$1, u } from './aaBoundingRect-9f5a81b4.js';\nimport { a as R$1 } from './Point-6cb878d9.js';\nimport { j } from './TileInfo-c35f6ddd.js';\nimport { R } from './Bitmap-0be40819.js';\nimport { h } from './TileInfoView-83c82d40.js';\nimport { e } from './TileKey-cf11edbc.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(n){return n*t}function o(t,o){const a=n(o.rotation),r=Math.abs(Math.cos(a)),s=Math.abs(Math.sin(a)),[u,c]=o.size;return t[0]=Math.round(c*s+u*r),t[1]=Math.round(c*r+u*s),t}function a(t,n,o,a){const[r,s]=n,[u,c]=a,h=.5*o;return t[0]=r-h*u,t[1]=s-h*c,t[2]=r+h*u,t[3]=s+h*c,t}\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst y=u(),x=[0,0],S=new e(0,0,0,0),_={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let w=class extends m{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=_.hidpi,this.imageMaxWidth=_.imageMaxWidth,this.imageMaxHeight=_.imageMaxHeight,this.imageRotationSupported=_.imageRotationSupported,this.imageNormalizationSupported=_.imageNormalizationSupported,this.update=x$1((async(t,e)=>{if(f(e),!t.stationary||this.destroyed)return;const i=t.state,s=R$1(i.spatialReference),a=this.hidpi?t.pixelRatio:1,n=this.imageNormalizationSupported&&i.worldScreenWidth&&i.worldScreenWidth<i.size[0];n?(x[0]=i.worldScreenWidth,x[1]=i.size[1]):this.imageRotationSupported?(x[0]=i.size[0],x[1]=i.size[1]):o(x,i);const p=Math.floor(x[0]*a)>this.imageMaxWidth||Math.floor(x[1]*a)>this.imageMaxHeight,m=s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),h=!this.imageNormalizationSupported&&m,c=!p&&!h,u=this.imageRotationSupported?i.rotation:0,g=this.container.children.slice();if(c){const t=n?i.paddedViewState.center:i.center;this._imagePromise&&console.error(\"Image promise was not defined!\"),this._imagePromise=this._singleExport(i,x,t,i.resolution,u,a,e);}else {let t=Math.min(this.imageMaxWidth,this.imageMaxHeight);h&&(t=Math.min(i.worldScreenWidth,t)),this._imagePromise=this._tiledExport(i,t,a,e);}try{const t=await this._imagePromise;f(e);const i=[];if(this._imagePromise=null,this.destroyed)return;this.bitmaps=t??[];for(const e of g)t.includes(e)||i.push(e.fadeOut().then((()=>{e.remove(),e.destroy();})));for(const e of t)i.push(e.fadeIn());await Promise.all(i);}catch(f){this._imagePromise=null,w$1(f);}}),5e3),this.updateExports=x$1((async t=>{const e=[];for(const i of this.container.children){if(!i.visible||!i.stage)return;e.push(t(i).then((()=>{i.invalidateTexture(),i.requestRender();})));}this._imagePromise=E(e).then((()=>this._imagePromise=null)),await this._imagePromise;}));}destroy(){this.bitmaps.forEach((t=>t.destroy())),this.bitmaps=[];}get updating(){return !this.destroyed&&null!==this._imagePromise}async _export(t,e,i,r,s,a){const n=await this.fetchSource(t,Math.floor(e*s),Math.floor(i*s),{rotation:r,pixelRatio:s,signal:a});f(a);const p=new R(null,{immutable:!0,requestRenderOnSourceChangedEnabled:!0});return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=r,p.pixelRatio=s,p.opacity=0,this.container.addChild(p),await p.setSourceAsync(n,a),f(a),p}async _singleExport(t,e,i,o,r,s,a$1){a(y,i,o,e);const n=f$1(y,t.spatialReference);return [await this._export(n,e[0],e[1],r,s,a$1)]}_tiledExport(t,e,i,o){const r=j.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),s=new h(r),a=s.getTileCoverage(t);if(!a)return null;const n=[];return a.forEach(((r,a,p,l)=>{S.set(r,a,p,0),s.getTileBounds(y,S);const h=f$1(y,t.spatialReference);n.push(this._export(h,e,e,0,i,o).then((t=>(0!==l&&(S.set(r,a,p,l),s.getTileBounds(y,S),t.x=y[0],t.y=y[3]),t))));})),Promise.all(n)}};e$1([y$1()],w.prototype,\"_imagePromise\",void 0),e$1([y$1()],w.prototype,\"bitmaps\",void 0),e$1([y$1()],w.prototype,\"container\",void 0),e$1([y$1()],w.prototype,\"fetchSource\",void 0),e$1([y$1()],w.prototype,\"hidpi\",void 0),e$1([y$1()],w.prototype,\"imageMaxWidth\",void 0),e$1([y$1()],w.prototype,\"imageMaxHeight\",void 0),e$1([y$1()],w.prototype,\"imageRotationSupported\",void 0),e$1([y$1()],w.prototype,\"imageNormalizationSupported\",void 0),e$1([y$1()],w.prototype,\"requestUpdate\",void 0),e$1([y$1()],w.prototype,\"updating\",null),w=e$1([n$1(\"esri.views.2d.layers.support.ExportStrategy\")],w);const v=w;\n\nexport { v };\n","import { e, y, n, j, a as s } from './cast-c3f45b36.js';\nimport { a } from './reactiveUtils-f60c7d41.js';\nimport './config-1ffdf45e.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst i=i=>{let c=class extends i{initialize(){this.handles.add(a((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{j(r)||s.getLogger(this.declaredClass).error(r);}));})),\"RefreshableLayerView\");}};return e([y()],c.prototype,\"layer\",void 0),c=e([n(\"esri.layers.mixins.RefreshableLayerView\")],c),c};\n\nexport { i };\n"],"names":["m","t","this","_strategy","update","catch","j","s","declaredClass","error","notifyChange","_bitmapContainer","a","container","addChild","v","fetchSource","fetchBitmapData","bind","requestUpdate","destroy","removeChild","removeAllChildren","e","r","layer","fetchImage","updating","updateRequested","i","y","u","y$1","prototype","c","n","Math","PI","o","rotation","abs","cos","sin","size","round","h","x","S","_","w","_imagePromise","bitmaps","hidpi","imageMaxWidth","imageMaxHeight","imageRotationSupported","imageNormalizationSupported","x$1","f","stationary","destroyed","state","R$1","spatialReference","pixelRatio","worldScreenWidth","p","floor","extent","xmin","valid","xmax","g","children","slice","paddedViewState","center","console","_singleExport","resolution","min","_tiledExport","includes","push","fadeOut","then","remove","fadeIn","Promise","all","w$1","updateExports","visible","stage","invalidateTexture","requestRender","E","forEach","signal","R","immutable","requestRenderOnSourceChangedEnabled","ymax","width","opacity","setSourceAsync","a$1","f$1","_export","scales","scale","getTileCoverage","l","set","getTileBounds","e$1","n$1","handles","add","doRefresh","dataChanged"],"sourceRoot":""}