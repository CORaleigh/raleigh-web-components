"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[4077],{54077:function(e,r,t){t.r(r),t.d(r,{addOrUpdateResource:function(){return p},contentToBlob:function(){return w},fetchResources:function(){return c},getSiblingOfSameType:function(){return b},getSiblingOfSameTypeI:function(){return g},removeAllResources:function(){return d},removeResource:function(){return f},splitPrefixFileNameAndExtension:function(){return x}});var n=t(74165),a=t(29439),u=t(15861),s=t(13994),o=t(50165);function c(e){return i.apply(this,arguments)}function i(){return i=(0,u.Z)((0,n.Z)().mark((function e(r){var t,a,u,c,i,p,l,f,h,d,m,v,x=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.length>1&&void 0!==x[1]?x[1]:{},a=x.length>2?x[2]:void 0,e.next=4,r.load(a);case 4:return u=(0,s.G)(r.itemUrl,"resources"),c=t.start,i=void 0===c?1:c,p=t.num,l=void 0===p?10:p,f=t.sortOrder,h=void 0===f?"asc":f,d=t.sortField,m={query:{start:i,num:l,sortOrder:h,sortField:void 0===d?"created":d,token:r.apiKey},signal:(0,o.aj)(a,"signal")},e.next=16,r.portal._request(u,m);case 16:return v=e.sent,e.abrupt("return",{total:v.total,nextStart:v.nextStart,resources:v.resources.map((function(e){var t=e.created,n=e.size,a=e.resource;return{created:new Date(t),size:n,resource:r.resourceFromPath(a)}}))});case 18:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function p(e,r,t,n){return l.apply(this,arguments)}function l(){return l=(0,u.Z)((0,n.Z)().mark((function e(r,t,u,c){var i,p,l,f,h,d,m,x;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.hasPath()){e.next=2;break}throw new o.a("portal-item-resource-".concat(t,":invalid-path"),"Resource does not have a valid path");case 2:return i=r.portalItem,e.next=5,i.load(c);case 5:return p=(0,s.G)(i.userItemUrl,"add"===t?"addResources":"updateResources"),l=v(r.path),f=(0,a.Z)(l,2),h=f[0],d=f[1],e.next=12,w(u);case 12:return m=e.sent,x=new FormData,h&&"."!==h&&x.append("resourcesPrefix",h),x.append("fileName",d),x.append("file",m,d),x.append("f","json"),(0,o.r)(c)&&c.access&&x.append("access",c.access),e.next=21,i.portal._request(p,{method:"post",body:x,signal:(0,o.aj)(c,"signal")});case 21:return e.abrupt("return",r);case 22:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function f(e,r,t){return h.apply(this,arguments)}function h(){return(h=(0,u.Z)((0,n.Z)().mark((function e(r,t,a){var u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasPath()){e.next=2;break}throw new o.a("portal-item-resources-remove:invalid-path","Resource does not have a valid path");case 2:return e.next=4,r.load(a);case 4:return u=(0,s.G)(r.userItemUrl,"removeResources"),e.next=7,r.portal._request(u,{method:"post",query:{resource:t.path},signal:(0,o.aj)(a,"signal")});case 7:t.portalItem=null;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,r){return m.apply(this,arguments)}function m(){return(m=(0,u.Z)((0,n.Z)().mark((function e(r,t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.load(t);case 2:return a=(0,s.G)(r.userItemUrl,"removeResources"),e.abrupt("return",r.portal._request(a,{method:"post",query:{deleteAll:!0},signal:(0,o.aj)(t,"signal")}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var r=e.lastIndexOf("/");return-1===r?[".",e]:[e.slice(0,r),e.slice(r+1)]}function x(e){var r=function(e){var r=(0,s.k)(e);return(0,o.t)(r)?[e,""]:[e.slice(0,e.length-r.length-1),".".concat(r)]}(e),t=(0,a.Z)(r,2),n=t[0],u=t[1],c=v(n),i=(0,a.Z)(c,2);return[i[0],i[1],u]}function w(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r instanceof Blob)){e.next=2;break}return e.abrupt("return",r);case 2:return e.next=4,(0,s.U)(r.url,{responseType:"blob"});case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,r){if(!e.hasPath())return null;var t=x(e.path),n=(0,a.Z)(t,3),u=n[0],o=n[2];return e.portalItem.resourceFromPath((0,s.G)(u,r+o))}function g(e,r){if(!e.hasPath())return null;var t=x(e.path),n=(0,a.Z)(t,3),u=n[0],o=n[2];return e.portalItem.resourceFromPath((0,s.G)(u,r+o))}}}]);
//# sourceMappingURL=4077.a9a3dfdb.chunk.js.map