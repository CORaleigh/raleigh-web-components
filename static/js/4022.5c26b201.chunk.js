"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[4022],{69641:function(e,t,n){n.d(t,{n:function(){return N},p:function(){return m},t:function(){return O},u:function(){return S},y:function(){return M}});var r,i=n(15671),a=n(43144),o=n(60136),u=n(29388),s=n(48848),l=n(40558),c=n(40114),p=n(93661),d=n(20302),f=n(82474),y=n(15436),m=r=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).name=null,r.code=null,r}return(0,a.Z)(n,[{key:"clone",value:function(){return new r({name:this.name,code:this.code})}}]),n}(c.l);(0,s.e)([(0,s.y)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,s.e)([(0,s.y)({type:[String,Number],json:{write:!0}})],m.prototype,"code",void 0),m=r=(0,s.e)([(0,s.n)("esri.layers.support.CodedValue")],m);var v=new l.s({inherited:"inherited",codedValue:"coded-value",range:"range"}),h=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).name=null,r.type=null,r}return(0,a.Z)(n)}(c.l);(0,s.e)([(0,s.y)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,s.e)([(0,d.r)(v)],h.prototype,"type",void 0);var g,b=h=(0,s.e)([(0,s.n)("esri.layers.support.Domain")],h),w=g=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).codedValues=null,r.type="coded-value",r}return(0,a.Z)(n,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var n=String(e);this.codedValues.some((function(e){return String(e.code)===n&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new g({codedValues:(0,p.y)(this.codedValues),name:this.name})}}]),n}(b);(0,s.e)([(0,s.y)({type:[m],json:{write:!0}})],w.prototype,"codedValues",void 0),(0,s.e)([(0,d.r)({codedValue:"coded-value"})],w.prototype,"type",void 0);var k,S=w=g=(0,s.e)([(0,s.n)("esri.layers.support.CodedValueDomain")],w),Z=k=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).type="inherited",r}return(0,a.Z)(n,[{key:"clone",value:function(){return new k}}]),n}(b);(0,s.e)([(0,d.r)({inherited:"inherited"})],Z.prototype,"type",void 0);var x,F=Z=k=(0,s.e)([(0,s.n)("esri.layers.support.InheritedDomain")],Z),T=x=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).maxValue=null,r.minValue=null,r.type="range",r}return(0,a.Z)(n,[{key:"clone",value:function(){return new x({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),n}(b);(0,s.e)([(0,s.y)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,n){t[n]=[this.minValue||0,e]}}}})],T.prototype,"maxValue",void 0),(0,s.e)([(0,s.y)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,n){t[n]=[e,this.maxValue||0]}}}})],T.prototype,"minValue",void 0),(0,s.e)([(0,d.r)({range:"range"})],T.prototype,"type",void 0);var j,I=T=x=(0,s.e)([(0,s.n)("esri.layers.support.RangeDomain")],T),N={key:"type",base:b,typeMap:{range:I,"coded-value":S,inherited:F}};function O(e){if(!e||!e.type)return null;switch(e.type){case"range":return I.fromJSON(e);case"codedValue":return S.fromJSON(e);case"inherited":return F.fromJSON(e)}return null}var P=new l.s({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),V=j=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).alias=null,r.defaultValue=void 0,r.description=null,r.domain=null,r.editable=!0,r.length=-1,r.name=null,r.nullable=!0,r.type=null,r.valueType=null,r.visible=!0,r}return(0,a.Z)(n,[{key:"readDescription",value:function(e,t){var n,r,i=t.description,a=null;try{a=i?JSON.parse(i):null}catch(o){}return null!==(n=null===(r=a)||void 0===r?void 0:r.value)&&void 0!==n?n:null}},{key:"readValueType",value:function(e,t){var n=t.description,r=null;try{r=n?JSON.parse(n):null}catch(i){}return r?P.fromJSON(r.fieldValueType):null}},{key:"clone",value:function(){return new j({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}}]),n}(c.l);(0,s.e)([(0,s.y)({type:String,json:{write:!0}})],V.prototype,"alias",void 0),(0,s.e)([(0,s.y)({type:[String,Number],json:{write:{allowNull:!0}}})],V.prototype,"defaultValue",void 0),(0,s.e)([(0,s.y)()],V.prototype,"description",void 0),(0,s.e)([(0,f.o)("description")],V.prototype,"readDescription",null),(0,s.e)([(0,s.y)({types:N,json:{read:{reader:O},write:!0}})],V.prototype,"domain",void 0),(0,s.e)([(0,s.y)({type:Boolean,json:{write:!0}})],V.prototype,"editable",void 0),(0,s.e)([(0,s.y)({type:s.T,json:{write:!0}})],V.prototype,"length",void 0),(0,s.e)([(0,s.y)({type:String,json:{write:!0}})],V.prototype,"name",void 0),(0,s.e)([(0,s.y)({type:Boolean,json:{write:!0}})],V.prototype,"nullable",void 0),(0,s.e)([(0,d.r)(y.i)],V.prototype,"type",void 0),(0,s.e)([(0,s.y)()],V.prototype,"valueType",void 0),(0,s.e)([(0,f.o)("valueType",["description"])],V.prototype,"readValueType",null),(0,s.e)([(0,s.y)({type:Boolean,json:{read:!1}})],V.prototype,"visible",void 0);var M=V=j=(0,s.e)([(0,s.n)("esri.layers.support.Field")],V)},55654:function(e,t,n){n.d(t,{a:function(){return d},i:function(){return p},l:function(){return f},o:function(){return s}});var r=n(4942),i=n(1413),a=n(93661),o=n(67477),u=n(64854);function s(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?u.l:"esriGeometryPolyline"===e?u.o:u.S}}}var l=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,c=1;function p(e,t){if((0,a.h)("esri-csp-restrictions"))return function(){return(0,i.Z)((0,r.Z)({},t,null),e)};try{var n="this.".concat(t," = null;");for(var o in e)n+="this".concat(l.test(o)?".".concat(o):'["'.concat(o,'"]')," = ").concat(JSON.stringify(e[o]),";");var u=new Function("\n      return class AttributesClass$".concat(c++," {\n        constructor() {\n          ").concat(n,";\n        }\n      }\n    "))();return function(){return new u}}catch(n){return function(){return(0,i.Z)((0,r.Z)({},t,null),e)}}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,a.y)(e)}}]}function f(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:o.t,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},64854:function(e,t,n){n.d(t,{S:function(){return u},e:function(){return r},i:function(){return i},l:function(){return a},o:function(){return o},r:function(){return l},s:function(){return c},t:function(){return s},y:function(){return p}});var r=[252,146,31,255],i=[153,153,153,255],a={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},u={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},s={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},p={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},15436:function(e,t,n){n.d(t,{i:function(){return r}});var r=new(n(40558).s)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},74219:function(e,t,n){n.d(t,{I:function(){return N},L:function(){return I},T:function(){return j},s:function(){return f}});var r=n(29439),i=n(74165),a=n(37762),o=n(48848),u=n(62466),s=n(59984),l=(0,i.Z)().mark(y),c=(0,i.Z)().mark(m),p=(0,i.Z)().mark(v),d={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function f(e){return d[e]}function y(e){var t,n,r;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=e.type,i.next="Feature"===i.t0?3:"FeatureCollection"===i.t0?6:25;break;case 3:return i.next=5,e;case 5:return i.abrupt("break",25);case 6:t=(0,a.Z)(e.features),i.prev=7,t.s();case 9:if((n=t.n()).done){i.next=17;break}if(r=n.value,i.t1=r,!i.t1){i.next=15;break}return i.next=15,r;case 15:i.next=9;break;case 17:i.next=22;break;case 19:i.prev=19,i.t2=i.catch(7),t.e(i.t2);case 22:return i.prev=22,t.f(),i.finish(22);case 25:case"end":return i.stop()}}),l,null,[[7,19,22,25]])}function m(e){var t,n,r,o,u,s,l,p,d;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return",null);case 2:i.t0=e.type,i.next="Point"===i.t0?5:"LineString"===i.t0||"MultiPoint"===i.t0?8:"MultiLineString"===i.t0||"Polygon"===i.t0?10:"MultiPolygon"===i.t0?27:58;break;case 5:return i.next=7,e.coordinates;case 7:return i.abrupt("break",58);case 8:return i.delegateYield(e.coordinates,"t1",9);case 9:return i.abrupt("break",58);case 10:t=(0,a.Z)(e.coordinates),i.prev=11,t.s();case 13:if((n=t.n()).done){i.next=18;break}return r=n.value,i.delegateYield(r,"t2",16);case 16:i.next=13;break;case 18:i.next=23;break;case 20:i.prev=20,i.t3=i.catch(11),t.e(i.t3);case 23:return i.prev=23,t.f(),i.finish(23);case 26:return i.abrupt("break",58);case 27:o=(0,a.Z)(e.coordinates),i.prev=28,o.s();case 30:if((u=o.n()).done){i.next=50;break}s=u.value,l=(0,a.Z)(s),i.prev=33,l.s();case 35:if((p=l.n()).done){i.next=40;break}return d=p.value,i.delegateYield(d,"t4",38);case 38:i.next=35;break;case 40:i.next=45;break;case 42:i.prev=42,i.t5=i.catch(33),l.e(i.t5);case 45:return i.prev=45,l.f(),i.finish(45);case 48:i.next=30;break;case 50:i.next=55;break;case 52:i.prev=52,i.t6=i.catch(28),o.e(i.t6);case 55:return i.prev=55,o.f(),i.finish(55);case 58:case"end":return i.stop()}}),c,null,[[11,20,23,26],[28,52,55,58],[33,42,45,48]])}function v(e){var t,n,r,o,s,l,c,d,y,m,v,h,g,b=arguments;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=b.length>1&&void 0!==b[1]?b[1]:{},n=t.geometryType,r=t.objectIdField,o=(0,a.Z)(e),i.prev=3,o.s();case 5:if((s=o.n()).done){i.next=18;break}if(c=s.value,d=c.geometry,y=c.properties,m=c.id,!d||f(d.type)===n){i.next=10;break}return i.abrupt("continue",16);case 10:return h=null!==(l=(v=y||{})[r])&&void 0!==l?l:null,r&&null!=m&&!v[r]&&(v[r]=h=m),g=new u.s(d?w(new u.t,d,t):null,v,null,h),i.next=16,g;case 16:i.next=5;break;case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(3),o.e(i.t0);case 23:return i.prev=23,o.f(),i.finish(23);case 26:case"end":return i.stop()}}),p,null,[[3,20,23,26]])}function h(e){var t,n=(0,a.Z)(e);try{for(n.s();!(t=n.n()).done;){if(t.value.length>2)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}function g(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],i=e[(n+1)%e.length];t+=r[0]*i[1]-i[0]*r[1]}return t<=0}function b(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function w(e,t,n){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,n){return Z(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){var r,i=(0,a.Z)(t.coordinates);try{for(i.s();!(r=i.n()).done;){Z(e,r.value,n)}}catch(o){i.e(o)}finally{i.f()}return e}(e,t,n);case"MultiPolygon":return function(e,t,n){var r,i=(0,a.Z)(t.coordinates);try{for(i.s();!(r=i.n()).done;){var o=r.value;k(e,o[0],n);for(var u=1;u<o.length;u++)S(e,o[u],n)}}catch(s){i.e(s)}finally{i.f()}return e}(e,t,n);case"Point":return function(e,t,n){return F(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){var r=t.coordinates;k(e,r[0],n);for(var i=1;i<r.length;i++)S(e,r[i],n);return e}(e,t,n)}}function k(e,t,n){var r=b(t);!function(e){return!g(e)}(r)?Z(e,r,n):x(e,r,n)}function S(e,t,n){var r=b(t);!function(e){return g(e)}(r)?Z(e,r,n):x(e,r,n)}function Z(e,t,n){var r,i=(0,a.Z)(t);try{for(i.s();!(r=i.n()).done;){F(e,r.value,n)}}catch(o){i.e(o)}finally{i.f()}e.lengths.push(t.length)}function x(e,t,n){for(var r=t.length-1;r>=0;r--)F(e,t[r],n);e.lengths.push(t.length)}function F(e,t,n){var i=(0,r.Z)(t,3),a=i[0],o=i[1],u=i[2];e.coords.push(a,o),n.hasZ&&e.coords.push(u||0)}function T(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function j(e){if(!e)throw new o.s("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new o.s("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var n="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,r=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!r.test(n))throw new o.s("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function I(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[],u=new Set,l=new Set,c=!1,p=null,d=!1,v=i.geometryType,g=void 0===v?null:v,b=!1,w=(0,a.Z)(y(e));try{var k=function(){var e=r.value,t=e.geometry,i=e.properties,a=e.id;if((!t||(g||(g=f(t.type)),f(t.type)===g))&&(c||(c=h(m(t))),d||(d=null!=a)&&(n=typeof a,p=Object.keys(i).filter((function(e){return i[e]===a}))),d&&null!=a&&(p.length>1?p=p.filter((function(e){return i[e]===a})):1===p.length&&(p=i[p[0]]===a?p:[])),!b&&i)){var y=!0;for(var v in i)if(!u.has(v)){var w=i[v];if(null!=w){var k=T(w);"unknown"!==k?(l.delete(v),u.add(v),o.push({name:(0,s.p)(v),alias:v,type:k})):l.add(v)}else y=!1,l.add(v)}b=y}};for(w.s();!(r=w.n()).done;)k()}catch(j){w.e(j)}finally{w.f()}var S=(0,s.p)(1===(null===(t=p)||void 0===t?void 0:t.length)&&p[0]||null);if(S){var Z,x=(0,a.Z)(o);try{for(x.s();!(Z=x.n()).done;){var F=Z.value;if(F.name===S&&(0,s.b)(F)){F.type="esriFieldTypeOID";break}}}catch(j){x.e(j)}finally{x.f()}}return{fields:o,geometryType:g,hasZ:c,objectIdFieldName:S,objectIdFieldType:n,unknownFields:Array.from(l)}}function N(e,t){return Array.from(v(y(e),t))}},89113:function(e,t,n){n.d(t,{F:function(){return w},I:function(){return k},N:function(){return V},S:function(){return N},T:function(){return Z},j:function(){return b},k:function(){return F},q:function(){return C},v:function(){return P},x:function(){return j}});var r=n(74165),i=n(37762),a=n(1413),o=n(70804),u=n(15861),s=(n(74384),n(40558)),l=n(48848),c=n(93661),p=n(82474),d=n(52559),f=n(54257),y=n(74219),m=n(55654),v=n(77755),h=n(15436),g=l.a.getLogger("esri.layers.graphics.sources.ogcfeature"),b="http://www.opengis.net/def/crs/",w="".concat(b,"OGC/1.3/CRS84");function k(e,t){return S.apply(this,arguments)}function S(){return S=(0,u.Z)((0,r.Z)().mark((function e(t,n){var o,u,p,d,f,b,w,k,S,Z,x,F,T,j,I,N,O,P,V,M,C,G=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=G.length>2&&void 0!==G[2]?G[2]:{},u=G.length>3&&void 0!==G[3]?G[3]:5,p=t.links,d=U(p,"items","application/geo+json")||U(p,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json"),!(0,c.t)(d)){e.next=5;break}throw new l.s("ogc-feature-layer:missing-items-page","Missing items url");case 5:return e.next=7,(0,s.U)(d.href,{signal:o.signal,query:(0,a.Z)((0,a.Z)({limit:u},o.customParameters),{},{token:o.apiKey}),headers:{accept:"application/geo+json"}});case 7:return f=e.sent,b=f.data,e.next=11,(0,y.T)(b);case 11:if(w=(0,y.L)(b,{geometryType:n.geometryType}),k=n.fields||w.fields||[],S=null!=n.hasZ?n.hasZ:w.hasZ,Z=w.geometryType,x=n.objectIdField||w.objectIdFieldName||"OBJECTID",F=n.timeInfo,!(T=k.find((function(e){return e.name===x})))){e.next=18;break}T.editable=!1,T.nullable=!1,e.next=21;break;case 18:if(w.objectIdFieldType){e.next=20;break}throw new l.s("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");case 20:k.unshift({name:x,alias:x,type:"number"===w.objectIdFieldType?"esriFieldTypeOID":"esriFieldTypeString",editable:!1,nullable:!1});case 21:x!==w.objectIdFieldName&&(j=k.find((function(e){return e.name===w.objectIdFieldName})))&&(j.type="esriFieldTypeInteger"),k===w.fields&&w.unknownFields.length>0&&g.warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:w.unknownFields}}),I=(0,i.Z)(k),e.prev=24,I.s();case 26:if((N=I.n()).done){e.next=34;break}if(null==(O=N.value).name&&(O.name=O.alias),null==O.alias&&(O.alias=O.name),"esriFieldTypeOID"!==O.type&&"esriFieldTypeGlobalID"!==O.type&&(O.editable=null==O.editable||!!O.editable,O.nullable=null==O.nullable||!!O.nullable),O.name){e.next=30;break}throw new l.s("ogc-feature-layer:invalid-field-name","field name is missing",{field:O});case 30:if(h.i.jsonValues.includes(O.type)){e.next=32;break}throw new l.s("ogc-feature-layer:invalid-field-type",'invalid type for field "'.concat(O.name,'"'),{field:O});case 32:e.next=26;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(24),I.e(e.t0);case 39:return e.prev=39,I.f(),e.finish(39);case 42:return F&&(P=new v.r(k),F.startTimeField&&((V=P.get(F.startTimeField))?(F.startTimeField=V.name,V.type="esriFieldTypeDate"):F.startTimeField=null),F.endTimeField&&((M=P.get(F.endTimeField))?(F.endTimeField=M.name,M.type="esriFieldTypeDate"):F.endTimeField=null),F.trackIdField&&((C=P.get(F.trackIdField))?F.trackIdField=C.name:(F.trackIdField=null,g.warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:F}}))),F.startTimeField||F.endTimeField||(g.warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:F}}),F=null)),e.abrupt("return",{drawingInfo:Z?(0,m.o)(Z):null,extent:J(t),geometryType:Z,fields:k,hasZ:!!S,objectIdField:x,timeInfo:F});case 44:case"end":return e.stop()}}),e,null,[[24,36,39,42]])}))),S.apply(this,arguments)}function Z(e){return x.apply(this,arguments)}function x(){return x=(0,u.Z)((0,r.Z)().mark((function e(t){var n,i,o,u,p,d,f,y,m=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:{},i=t.links,o=U(i,"data","application/json")||U(i,"http://www.opengis.net/def/rel/ogc/1.0/data","application/json"),!(0,c.t)(o)){e.next=4;break}throw new l.s("ogc-feature-layer:missing-collections-page","Missing collections url");case 4:return u=n.apiKey,p=n.customParameters,d=n.signal,e.next=9,(0,s.U)(o.href,{signal:d,headers:{accept:"application/json"},query:(0,a.Z)((0,a.Z)({},p),{},{token:u})});case 9:return f=e.sent,y=f.data,e.abrupt("return",y);case 12:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function F(e){return T.apply(this,arguments)}function T(){return T=(0,u.Z)((0,r.Z)().mark((function e(t){var n,i,o,u,p,d,f,y,m=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:{},i=t.links,o=U(i,"conformance","application/json")||U(i,"http://www.opengis.net/def/rel/ogc/1.0/conformance","application/json"),!(0,c.t)(o)){e.next=4;break}throw new l.s("ogc-feature-layer:missing-conformance-page","Missing conformance url");case 4:return u=n.apiKey,p=n.customParameters,d=n.signal,e.next=9,(0,s.U)(o.href,{signal:d,headers:{accept:"application/json"},query:(0,a.Z)((0,a.Z)({},p),{},{token:u})});case 9:return f=e.sent,y=f.data,e.abrupt("return",y);case 12:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function j(e){return I.apply(this,arguments)}function I(){return I=(0,u.Z)((0,r.Z)().mark((function e(t){var n,i,o,u,l,c,p=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},i=n.apiKey,o=n.customParameters,u=n.signal,e.next=6,(0,s.U)(t,{signal:u,headers:{accept:"application/json"},query:(0,a.Z)((0,a.Z)({},o),{},{token:i})});case 6:return l=e.sent,c=l.data,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function N(e){return O.apply(this,arguments)}function O(){return O=(0,u.Z)((0,r.Z)().mark((function e(t){var n,i,o,u,l,p,d,f,y=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.length>1&&void 0!==y[1]?y[1]:{},i="application/vnd.oai.openapi+json;version=3.0",o=U(t.links,"service-desc",i),!(0,c.t)(o)){e.next=4;break}return e.abrupt("return",(g.warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null));case 4:return u=n.apiKey,l=n.customParameters,p=n.signal,e.next=9,(0,s.U)(o.href,{signal:p,headers:{accept:i},query:(0,a.Z)((0,a.Z)({},l),{},{token:u})});case 9:return d=e.sent,f=d.data,e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function P(e){var t,n=null===(t=(0,o.Z)(/^http:\/\/www\.opengis.net\/def\/crs\/(.*)\/(.*)\/(.*)$/i,{authority:1,version:2,code:3}).exec(e))||void 0===t?void 0:t.groups;if(!n)return null;var r=n.authority,i=n.code;switch(r.toLowerCase()){case"ogc":switch(i.toLowerCase()){case"crs27":return p.k.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return p.k.WGS84.wkid;default:return null}case"esri":case"epsg":var a=Number.parseInt(i,10);return Number.isNaN(a)?null:a;default:return null}}function V(e,t,n){return M.apply(this,arguments)}function M(){return(M=(0,u.Z)((0,r.Z)().mark((function e(t,n,i){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t,n,i);case 2:return a=e.sent,e.abrupt("return",(0,d.u)(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,n){return G.apply(this,arguments)}function G(){return G=(0,u.Z)((0,r.Z)().mark((function e(t,n,o){var u,m,v,h,g,b,w,k,S,Z,x,F,T,j,I,N,O,P,V,M,C,G,R,J,W,z,B,E,$,_,K,Q,H,Y,X,ee,te,ne,re,ie;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.collection,m=t.layerDefinition,v=t.maxRecordCount,h=t.queryParameters,g=h.apiKey,b=h.customParameters,w=t.spatialReference,k=t.supportedCrs,S=u.links,Z=U(S,"items","application/geo+json")||U(S,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json"),!(0,c.t)(Z)){e.next=3;break}throw new l.s("ogc-feature-layer:missing-items-page","Missing items url");case 3:if(x=n.geometry,F=n.num,T=n.start,j=n.timeExtent,I=n.where,!n.objectIds){e.next=6;break}throw new l.s("ogc-feature-layer:query-by-objectids-not-supported","Queries with objectids are not supported");case 6:return N=p.k.fromJSON(w),O=(0,c.v)(n.outSpatialReference,N),P=O.isWGS84?null:D(O,k),V=q(x,k),M=L(j),C=A(I),G=null!==F&&void 0!==F?F:null!=T&&void 0!==T?10:v,e.next=15,(0,s.U)(Z.href,(0,a.Z)((0,a.Z)({},o),{},{query:(0,a.Z)((0,a.Z)((0,a.Z)({},b),V),{},{crs:P,datetime:M,query:C,limit:G,startindex:T,token:g}),headers:{accept:"application/geo+json"}}));case 15:if(R=e.sent,J=R.data,W=!1,J.links&&(z=J.links.find((function(e){return"next"===e.rel})),W=!!z),!W&&Number.isInteger(J.numberMatched)&&Number.isInteger(J.numberReturned)&&(W=J.numberReturned<J.numberMatched),B=m.fields,E=m.geometryType,$=m.hasZ,_=m.objectIdField,K=(0,y.I)(J,{geometryType:E,hasZ:$,objectIdField:_}),!P&&O.isWebMercator){Q=(0,i.Z)(K);try{for(Q.s();!(H=Q.n()).done;)Y=H.value,(0,c.r)(Y.geometry)&&((X=(0,d.r)(Y.geometry,E,$,!1)).spatialReference=p.k.WGS84,Y.geometry=(0,d.n)((0,p.M)(X,O)))}catch(r){Q.e(r)}finally{Q.f()}}ee=(0,i.Z)(K);try{for(ee.s();!(te=ee.n()).done;)(ne=te.value).objectId=ne.attributes[_]}catch(r){ee.e(r)}finally{ee.f()}return re=P||!P&&O.isWebMercator?O.toJSON():p.n,ie=new f.e,e.abrupt("return",(ie.exceededTransferLimit=W,ie.features=K,ie.fields=B,ie.geometryType=E,ie.hasZ=$,ie.objectIdFieldName=_,ie.spatialReference=re,ie));case 26:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function D(e,t){var n,r,i,a=e.isWebMercator;if(!e.wkid)return null;var o=a?null!==(n=null!==(r=null!==(i=t[3857])&&void 0!==i?i:t[102100])&&void 0!==r?r:t[102113])&&void 0!==n?n:t[900913]:t[e.wkid];return o?"".concat(b).concat(o):null}function R(e){if((0,c.t)(e))return"";var t=e.xmin,n=e.ymin,r=e.xmax,i=e.ymax;return"".concat(t,",").concat(n,",").concat(r,",").concat(i)}function L(e){if((0,c.t)(e))return null;var t=e.start,n=e.end;return"".concat((0,c.r)(t)?t.toISOString():"..","/").concat((0,c.r)(n)?n.toISOString():"..")}function A(e){return(0,c.t)(e)||!e||"1=1"===e?null:e}function q(e,t){if(!function(e){return(0,c.r)(e)&&"extent"===e.type}(e))return null;var n=e.spatialReference;if(!n||n.isWGS84)return{bbox:R(e)};var r=D(n,t);return(0,c.r)(r)?{bbox:R(e),"bbox-crs":r}:n.isWebMercator?{bbox:R((0,p.M)(e,p.k.WGS84))}:null}function J(e){var t,n=null===(t=e.extent)||void 0===t?void 0:t.spatial;if(!n)return null;var r=n.bbox[0],i=4===r.length,a=r[0],o=r[1],u=i?void 0:r[2];return{xmin:a,ymin:o,xmax:i?r[2]:r[3],ymax:i?r[3]:r[4],zmin:u,zmax:i?void 0:r[5],spatialReference:p.k.WGS84.toJSON()}}function U(e,t,n){return e.find((function(e){return e.rel===t&&e.type===n}))||e.find((function(e){return e.rel===t&&!e.type}))}},70804:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(71002),i=n(89611),a=n(60136);function o(){o=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,a){var o=new RegExp(e,r);return t.set(o,a||t.get(e)),(0,i.Z)(o,n.prototype)}function u(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var a=0;void 0===e[i[a]]&&a+1<i.length;)a++;t[n]=e[i[a]]}return t}),Object.create(null))}return(0,a.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=u(n,this)),n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var a=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+a[t]})))}if("function"==typeof i){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,r.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(u(e,o)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},o.apply(this,arguments)}}}]);
//# sourceMappingURL=4022.5c26b201.chunk.js.map