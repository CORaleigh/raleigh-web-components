"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[3948,2857,8781],{60369:function(e,t,r){r.d(t,{a:function(){return h},b:function(){return m},c:function(){return f}});var n,i=r(15671),o=r(43144),a=r(60136),l=r(29388),u=r(48848),s=(r(93661),r(92072)),c=n=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).active=!1,n.className=null,n.disabled=!1,n.id=null,n.indicator=!1,n.title=null,n.type=null,n.visible=!0,n}return(0,o.Z)(r,[{key:"clone",value:function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}}]),r}((0,s.s)(u.m));(0,u.e)([(0,u.y)()],c.prototype,"active",void 0),(0,u.e)([(0,u.y)()],c.prototype,"className",void 0),(0,u.e)([(0,u.y)()],c.prototype,"disabled",void 0),(0,u.e)([(0,u.y)()],c.prototype,"id",void 0),(0,u.e)([(0,u.y)()],c.prototype,"indicator",void 0),(0,u.e)([(0,u.y)()],c.prototype,"title",void 0),(0,u.e)([(0,u.y)()],c.prototype,"type",void 0),(0,u.e)([(0,u.y)()],c.prototype,"visible",void 0);var y,f=c=n=(0,u.e)([(0,u.n)("esri.support.actions.ActionBase")],c),d=y=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).image=null,n.type="button",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new y({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}}]),r}(f);(0,u.e)([(0,u.y)()],d.prototype,"image",void 0);var p,h=d=y=(0,u.e)([(0,u.n)("esri.support.Action.ActionButton")],d),v=p=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).image=null,n.type="toggle",n.value=!1,n}return(0,o.Z)(r,[{key:"clone",value:function(){return new p({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}}]),r}(f);(0,u.e)([(0,u.y)()],v.prototype,"image",void 0),(0,u.e)([(0,u.y)()],v.prototype,"value",void 0);var m=v=p=(0,u.e)([(0,u.n)("esri.support.Action.ActionToggle")],v)},61903:function(e,t,r){r.d(t,{n:function(){return c}});var n=r(43144),i=r(15671),o=r(60136),a=r(29388),l=r(48848),u=(r(93661),r(33795)),s={read:{reader:u.n},write:{allowNull:!0,writer:u.a}},c=function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.apply(this,arguments)).blendMode="normal",e.effect=null,e}return(0,n.Z)(r)}(e);return(0,l.e)([(0,l.y)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),(0,l.e)([(0,l.y)({json:{read:!1,write:!1,origins:{"web-map":s,"portal-item":s}}})],t.prototype,"effect",void 0),t=(0,l.e)([(0,l.n)("esri.layers.mixins.BlendLayer")],t)}},90316:function(e,t,r){r.d(t,{l:function(){return f}});var n=r(37762),i=r(15671),o=r(43144),a=r(60136),l=r(29388),u=r(48848),s=r(93314),c=r(93661),y=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).getCollections=null,n}return(0,o.Z)(r,[{key:"initialize",value:function(){var e=this;this.own((0,u.U)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this.getCollections=null}},{key:"_refresh",value:function(){var e=(0,c.r)(this.getCollections)?this.getCollections():null;if((0,c.t)(e))this.removeAll();else{var t,r=0,i=(0,n.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;(0,c.r)(o)&&(r=this._processCollection(r,o))}}catch(a){i.e(a)}finally{i.f()}this.splice(r,this.length)}}},{key:"_createNewInstance",value:function(e){return new s.j(e)}},{key:"_processCollection",value:function(e,t){if(!t)return e;var r,i=this.itemFilterFunction?this.itemFilterFunction:function(e){return!!e},o=(0,n.Z)(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a){if(i(a)){var l=this.indexOf(a,e);l>=0?l!==e&&this.reorder(a,e):this.add(a,e),++e}if(this.getChildrenFunction){var u=this.getChildrenFunction(a);if(Array.isArray(u)){var s,c=(0,n.Z)(u);try{for(c.s();!(s=c.n()).done;){var y=s.value;e=this._processCollection(e,y)}}catch(f){c.e(f)}finally{c.f()}}else e=this._processCollection(e,u)}}}}catch(f){o.e(f)}finally{o.f()}return e}}]),r}(s.j);(0,u.e)([(0,u.y)()],y.prototype,"getCollections",void 0),(0,u.e)([(0,u.y)()],y.prototype,"getChildrenFunction",void 0),(0,u.e)([(0,u.y)()],y.prototype,"itemFilterFunction",void 0);var f=y=(0,u.e)([(0,u.n)("esri.core.CollectionFlattener")],y)},68781:function(e,t,r){r.r(t);var n,i=r(29439),o=r(37762),a=r(15671),l=r(43144),u=r(60136),s=r(29388),c=r(48848),y=r(74384),f=r(64998),d=r(40558),p=r(40114),h=r(93661),v=r(82474),m=r(56162),g=r(69641),b=(r(46817),r(25577),r(62610),r(93314),r(37856),r(15751),r(59984),r(20302),r(53586),r(65094),r(60369),r(92072),r(37944),r(86086),r(21385),r(89794),r(48200),r(71802),r(85253),r(93209),r(25456),r(46337),r(81556),r(93116),r(15436),new d.s({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null})),Z=n=function(e){(0,u.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return(0,l.Z)(r,[{key:"readFeatures",value:function(e,t){for(var r=v.k.fromJSON(t.spatialReference),n=[],i=0;i<e.length;i++){var o=e[i],a=f.g.fromJSON(o),l=o.geometry&&o.geometry.spatialReference;(0,h.r)(a.geometry)&&!l&&(a.geometry.spatialReference=r);var u=o.aggregateGeometries,s=a.aggregateGeometries;if(u&&(0,h.r)(s))for(var c in s){var y,d=s[c],p=null===(y=u[c])||void 0===y?void 0:y.spatialReference;(0,h.r)(d)&&!p&&(d.spatialReference=r)}n.push(a)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)b.write(e,t,r,n);else{var i=this.features;if(i){var a,l=(0,o.Z)(i);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(u&&(0,h.r)(u.geometry))return void b.write(u.geometry.type,t,r,n)}}catch(s){l.e(s)}finally{l.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=(0,m.v)(e);return n&&!r&&t.spatialReference&&(n.spatialReference=v.k.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,i=(0,o.Z)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a&&(0,h.r)(a.geometry)&&a.geometry.spatialReference)return void(t.spatialReference=a.geometry.spatialReference.toJSON())}}catch(l){i.e(l)}finally{i.f()}}}}},{key:"clone",value:function(){return new n(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,h.y)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var i=e&&e[r];n.geometry=i&&i.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=(0,i.Z)(e.scale,2),r=t[0],n=t[1],o=(0,i.Z)(e.translate,2),a=o[0],l=o[1],u=this.features,s=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/r)}),(function(e){return Math.round((l-e)/n)})),c=0,y=u.length;c<y;c++)(null===s||void 0===s?void 0:s((0,h.e)(u[c].geometry)))||(u.splice(c,1),c--,y--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var n,a=(0,i.Z)(r.translate,2),l=a[0],u=a[1],s=(0,i.Z)(r.scale,2),c=s[0],y=s[1],f=this._getHydrationFunction(e,(function(e){return e*c+l}),(function(e){return u-e*y})),d=(0,o.Z)(t);try{for(d.s();!(n=d.n()).done;){var p=n.value.geometry;(0,h.r)(p)&&f&&f(p)}}catch(v){d.e(v)}finally{d.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,i,o=[],a=0,l=e.length;a<l;a++){var u=e[a];if(a>0){var s=t(u[0]),c=r(u[1]);s===n&&c===i||(o.push([s-n,c-i]),n=s,i=c)}else n=t(u[0]),i=r(u[1]),o.push([n,i])}return o.length>0?o:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=(0,m.y)(e)?e.rings:e.paths,o=[],a=0,l=i.length;a<l;a++){var u=i[a],s=n._quantizePoints(u,t,r);s&&o.push(s)}return o.length>0?((0,m.y)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?function(e){var i=n._quantizePoints(e.points,t,r);return i&&i.length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,i,o=(0,m.y)(e)?e.rings:e.paths,a=0,l=o.length;a<l;a++)for(var u=o[a],s=0,c=u.length;s<c;s++){var y=u[s];s>0?(n+=y[0],i+=y[1]):(n=y[0],i=y[1]),y[0]=t(n),y[1]=r(i)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,i,o=e.points,a=0,l=o.length;a<l;a++){var u=o[a];a>0?(n+=u[0],i+=u[1]):(n=u[0],i=u[1]),u[0]=t(n),u[1]=r(i)}}:null}}]),r}(p.l);(0,c.e)([(0,c.y)({type:String,json:{write:!0}})],Z.prototype,"displayFieldName",void 0),(0,c.e)([(0,c.y)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],Z.prototype,"exceededTransferLimit",void 0),(0,c.e)([(0,c.y)({type:[f.g],json:{write:!0}})],Z.prototype,"features",void 0),(0,c.e)([(0,v.o)("features")],Z.prototype,"readFeatures",null),(0,c.e)([(0,c.y)({type:[g.y],json:{write:!0}})],Z.prototype,"fields",void 0),(0,c.e)([(0,c.y)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:b.read}}})],Z.prototype,"geometryType",void 0),(0,c.e)([(0,v.r)("geometryType")],Z.prototype,"writeGeometryType",null),(0,c.e)([(0,c.y)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],Z.prototype,"hasM",void 0),(0,c.e)([(0,c.y)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],Z.prototype,"hasZ",void 0),(0,c.e)([(0,c.y)({types:y.i,json:{write:!0}})],Z.prototype,"queryGeometry",void 0),(0,c.e)([(0,v.o)("queryGeometry")],Z.prototype,"readQueryGeometry",null),(0,c.e)([(0,c.y)({type:v.k,json:{write:!0}})],Z.prototype,"spatialReference",void 0),(0,c.e)([(0,v.r)("spatialReference")],Z.prototype,"writeSpatialReference",null),(0,c.e)([(0,c.y)({json:{write:!0}})],Z.prototype,"transform",void 0),(Z=n=(0,c.e)([(0,c.n)("esri.rest.support.FeatureSet")],Z)).prototype.toJSON.isDefaultToJSON=!0;var w=Z;t.default=w},69641:function(e,t,r){r.d(t,{n:function(){return P},p:function(){return h},t:function(){return j},u:function(){return S},y:function(){return M}});var n,i=r(15671),o=r(43144),a=r(60136),l=r(29388),u=r(48848),s=r(40558),c=r(40114),y=r(93661),f=r(20302),d=r(82474),p=r(15436),h=n=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).name=null,n.code=null,n}return(0,o.Z)(r,[{key:"clone",value:function(){return new n({name:this.name,code:this.code})}}]),r}(c.l);(0,u.e)([(0,u.y)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,u.e)([(0,u.y)({type:[String,Number],json:{write:!0}})],h.prototype,"code",void 0),h=n=(0,u.e)([(0,u.n)("esri.layers.support.CodedValue")],h);var v=new s.s({inherited:"inherited",codedValue:"coded-value",range:"range"}),m=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).name=null,n.type=null,n}return(0,o.Z)(r)}(c.l);(0,u.e)([(0,u.y)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,u.e)([(0,f.r)(v)],m.prototype,"type",void 0);var g,b=m=(0,u.e)([(0,u.n)("esri.layers.support.Domain")],m),Z=g=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).codedValues=null,n.type="coded-value",n}return(0,o.Z)(r,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((function(e){return String(e.code)===r&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new g({codedValues:(0,y.y)(this.codedValues),name:this.name})}}]),r}(b);(0,u.e)([(0,u.y)({type:[h],json:{write:!0}})],Z.prototype,"codedValues",void 0),(0,u.e)([(0,f.r)({codedValue:"coded-value"})],Z.prototype,"type",void 0);var w,S=Z=g=(0,u.e)([(0,u.n)("esri.layers.support.CodedValueDomain")],Z),k=w=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).type="inherited",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new w}}]),r}(b);(0,u.e)([(0,f.r)({inherited:"inherited"})],k.prototype,"type",void 0);var x,T=k=w=(0,u.e)([(0,u.n)("esri.layers.support.InheritedDomain")],k),I=x=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).maxValue=null,n.minValue=null,n.type="range",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new x({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),r}(b);(0,u.e)([(0,u.y)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,r){t[r]=[this.minValue||0,e]}}}})],I.prototype,"maxValue",void 0),(0,u.e)([(0,u.y)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,r){t[r]=[e,this.maxValue||0]}}}})],I.prototype,"minValue",void 0),(0,u.e)([(0,f.r)({range:"range"})],I.prototype,"type",void 0);var F,N=I=x=(0,u.e)([(0,u.n)("esri.layers.support.RangeDomain")],I),P={key:"type",base:b,typeMap:{range:N,"coded-value":S,inherited:T}};function j(e){if(!e||!e.type)return null;switch(e.type){case"range":return N.fromJSON(e);case"codedValue":return S.fromJSON(e);case"inherited":return T.fromJSON(e)}return null}var O=new s.s({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),D=F=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).alias=null,n.defaultValue=void 0,n.description=null,n.domain=null,n.editable=!0,n.length=-1,n.name=null,n.nullable=!0,n.type=null,n.valueType=null,n.visible=!0,n}return(0,o.Z)(r,[{key:"readDescription",value:function(e,t){var r,n,i=t.description,o=null;try{o=i?JSON.parse(i):null}catch(a){}return null!==(r=null===(n=o)||void 0===n?void 0:n.value)&&void 0!==r?r:null}},{key:"readValueType",value:function(e,t){var r=t.description,n=null;try{n=r?JSON.parse(r):null}catch(i){}return n?O.fromJSON(n.fieldValueType):null}},{key:"clone",value:function(){return new F({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}}]),r}(c.l);(0,u.e)([(0,u.y)({type:String,json:{write:!0}})],D.prototype,"alias",void 0),(0,u.e)([(0,u.y)({type:[String,Number],json:{write:{allowNull:!0}}})],D.prototype,"defaultValue",void 0),(0,u.e)([(0,u.y)()],D.prototype,"description",void 0),(0,u.e)([(0,d.o)("description")],D.prototype,"readDescription",null),(0,u.e)([(0,u.y)({types:P,json:{read:{reader:j},write:!0}})],D.prototype,"domain",void 0),(0,u.e)([(0,u.y)({type:Boolean,json:{write:!0}})],D.prototype,"editable",void 0),(0,u.e)([(0,u.y)({type:u.T,json:{write:!0}})],D.prototype,"length",void 0),(0,u.e)([(0,u.y)({type:String,json:{write:!0}})],D.prototype,"name",void 0),(0,u.e)([(0,u.y)({type:Boolean,json:{write:!0}})],D.prototype,"nullable",void 0),(0,u.e)([(0,f.r)(p.i)],D.prototype,"type",void 0),(0,u.e)([(0,u.y)()],D.prototype,"valueType",void 0),(0,u.e)([(0,d.o)("valueType",["description"])],D.prototype,"readValueType",null),(0,u.e)([(0,u.y)({type:Boolean,json:{read:!1}})],D.prototype,"visible",void 0);var M=D=F=(0,u.e)([(0,u.n)("esri.layers.support.Field")],D)},56114:function(e,t,r){r.r(t);var n,i=r(74165),o=r(15861),a=r(93433),l=r(1413),u=r(11752),s=r(61120),c=r(37762),y=r(15671),f=r(43144),d=r(97326),p=r(60136),h=r(29388),v=r(48848),m=(r(74384),r(93314)),g=r(90316),b=r(93661),Z=r(99795),w=r(50690),S=r(40558),k=r(82474),x=r(45999),T=r(61903),I=r(24623),F=r(6379),N=r(23341),P=r(41820),j=r(12953),O=r(37856),D=r(40114),M=r(93116),L=r(83274),G=r(46817),E=(r(15751),r(92072),r(33795),r(48200),r(79557),r(71802),r(59389),r(21015),r(75255),r(65094),r(89181),r(46337),r(15529),r(59984),r(47855),r(85253),r(25577),r(62610),r(20302),r(53586),r(60369),r(93209),r(25456),r(2959),r(2821),r(37944),r(86086),r(21385),r(89794),r(81556),r(66577),r(33794),r(71147),r(84186),r(64998),r(56162),r(70449),r(22603),r(56546),r(39926),r(6762),r(8141),r(26151),r(91681),r(68781),r(69641),r(15436),n=function(e){(0,p.Z)(r,e);var t=(0,h.Z)(r);function r(){var e;(0,y.Z)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).description=null,e.id=null,e.networkLink=null,e.sublayers=null,e.title=null,e.sourceJSON=null,e.fullExtent=null,e.addHandles([(0,w.a)((function(){return e.sublayers}),"after-add",(function(t){var r=t.item;r.parent=(0,d.Z)(e),r.layer=e.layer}),w.U),(0,w.a)((function(){return e.sublayers}),"after-remove",(function(e){var t=e.item;t.layer=t.parent=null}),w.U),(0,w.l)((function(){return e.sublayers}),(function(t,r){if(r){var n,i=(0,c.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.layer=o.parent=null}}catch(s){i.e(s)}finally{i.f()}}if(t){var a,l=(0,c.Z)(t);try{for(l.s();!(a=l.n()).done;){var u=a.value;u.parent=(0,d.Z)(e),u.layer=e.layer}}catch(s){l.e(s)}finally{l.f()}}}),w.U)]),e}return(0,f.Z)(r,[{key:"initialize",value:function(){var e=this;(0,w.j)((function(){return e.networkLink})).then((function(){return(0,w.j)((function(){return!0===e.visible}))})).then((function(){return e.load()}))}},{key:"load",value:function(e){var t,r,i=this;if(this.networkLink&&!this.networkLink.viewFormat){var o=(0,b.r)(e)?e.signal:null,a=this._fetchService(null!==(t=null===(r=this._get("networkLink"))||void 0===r?void 0:r.href)&&void 0!==t?t:"",o).then((function(e){var t,r=(0,L.j)(e.sublayers);i.fullExtent=G.w.fromJSON(r),i.sourceJSON=e;var o=(0,v.b)(m.j.ofType(n),(0,L.S)(n,e));i.sublayers?i.sublayers.addMany(o):i.sublayers=o,null!==(t=i.layer)&&void 0!==t&&t.emit("sublayer-update"),i.layer&&i.layer.notifyChange("visibleSublayers")}));return this.addResolvingPromise(a),Promise.resolve(this)}}},{key:"visible",get:function(){return this._get("visible")},set:function(e){this._get("visible")!==e&&(this._set("visible",e),this.layer&&this.layer.notifyChange("visibleSublayers"))}},{key:"readVisible",value:function(e,t){return!!t.visibility}},{key:"layer",set:function(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((function(t){return t.layer=e}))}},{key:"_fetchService",value:function(e,t){return(0,L.g)(e,this.layer.outSpatialReference,this.layer.refreshInterval,t).then((function(e){return(0,L.d)(e.data)}))}}]),r}(O.n.EventedMixin((0,D.u)(M.m))));(0,v.e)([(0,v.y)()],E.prototype,"description",void 0),(0,v.e)([(0,v.y)()],E.prototype,"id",void 0),(0,v.e)([(0,v.y)({readOnly:!0,value:null})],E.prototype,"networkLink",void 0),(0,v.e)([(0,v.y)({json:{write:{allowNull:!0}}})],E.prototype,"parent",void 0),(0,v.e)([(0,v.y)({type:m.j.ofType(n),json:{write:{allowNull:!0}}})],E.prototype,"sublayers",void 0),(0,v.e)([(0,v.y)({value:null,json:{read:{source:"name",reader:function(e){return(0,v.aH)(e)}}}})],E.prototype,"title",void 0),(0,v.e)([(0,v.y)({value:!0})],E.prototype,"visible",null),(0,v.e)([(0,k.o)("visible",["visibility"])],E.prototype,"readVisible",null),(0,v.e)([(0,v.y)()],E.prototype,"sourceJSON",void 0),(0,v.e)([(0,v.y)({value:null})],E.prototype,"layer",null),(0,v.e)([(0,v.y)({type:G.w})],E.prototype,"fullExtent",void 0);var _=E=n=(0,v.e)([(0,v.n)("esri.layers.support.KMLSublayer")],E),C=["kml","xml"],R=function(e){(0,p.Z)(r,e);var t=(0,h.Z)(r);function r(){var e;(0,y.Z)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._visibleFolders=[],e.allSublayers=new g.l({getCollections:function(){return[e.sublayers]},getChildrenFunction:function(e){return e.sublayers}}),e.outSpatialReference=k.k.WGS84,e.path=null,e.legendEnabled=!1,e.operationalLayerType="KML",e.sublayers=null,e.type="kml",e.url=null,e}return(0,f.Z)(r,[{key:"initialize",value:function(){var e=this;this.addHandles([(0,w.l)((function(){return e.sublayers}),(function(t,r){r&&r.forEach((function(e){e.parent=null,e.layer=null})),t&&t.forEach((function(t){t.parent=e,t.layer=e}))}),w.U),this.on("sublayer-update",(function(){return e.notifyChange("fullExtent")}))])}},{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?(0,l.Z)({url:e},t):e}},{key:"readSublayersFromItemOrWebMap",value:function(e,t){this._visibleFolders=t.visibleFolders}},{key:"readSublayers",value:function(e,t,r){return(0,L.S)(_,t,r,this._visibleFolders)}},{key:"writeSublayers",value:function(e,t){for(var r=[],n=e.toArray();n.length;){var i=n[0];i.networkLink||(i.visible&&r.push(i.id),i.sublayers&&n.push.apply(n,(0,a.Z)(i.sublayers.toArray()))),n.shift()}t.visibleFolders=r}},{key:"title",get:function(){var e=this._get("title");return e&&"defaults"!==this.originOf("title")?e:this.url?(0,S.q)(this.url,C)||"KML":e||""},set:function(e){this._set("title",e)}},{key:"visibleSublayers",get:function(){var e=this.sublayers,t=[];return e&&e.forEach((function e(r){r.visible&&(t.push(r),r.sublayers&&r.sublayers.forEach(e))})),t}},{key:"fullExtent",get:function(){return this._recomputeFullExtent()}},{key:"load",value:function(e){var t=this,r=(0,b.r)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["KML"],supportsData:!1},e).catch(v.w).then((function(){return t._fetchService(r)}))),Promise.resolve(this)}},{key:"destroy",value:function(){(0,u.Z)((0,s.Z)(r.prototype),"destroy",this).call(this),this.allSublayers.destroy()}},{key:"_fetchService",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var r,n,o=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){var e;return o.resourceInfo?{ssl:!1,data:o.resourceInfo}:(0,L.g)(null!==(e=o.url)&&void 0!==e?e:"",o.outSpatialReference,o.refreshInterval,t)}));case 2:r=e.sent,(n=(0,L.d)(r.data))&&this.read(n,{origin:"service"});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_recomputeFullExtent",value:function(){var e=null;(0,b.r)(this.extent)&&(e=this.extent.clone());return function t(r){if(r.sublayers){var n,i=(0,c.Z)(r.sublayers.items);try{for(i.s();!(n=i.n()).done;){var o=n.value;t(o),o.visible&&o.fullExtent&&((0,b.r)(e)?e.union(o.fullExtent):e=o.fullExtent.clone())}}catch(a){i.e(a)}finally{i.f()}}}(this),e}}]),r}((0,T.n)((0,N.p)((0,P.t)((0,I.c)((0,F.v)((0,Z.O)(x.b)))))));(0,v.e)([(0,v.y)({readOnly:!0})],R.prototype,"allSublayers",void 0),(0,v.e)([(0,v.y)({type:k.k})],R.prototype,"outSpatialReference",void 0),(0,v.e)([(0,v.y)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],R.prototype,"path",void 0),(0,v.e)([(0,v.y)({readOnly:!0,json:{read:!1,write:!1}})],R.prototype,"legendEnabled",void 0),(0,v.e)([(0,v.y)({type:["show","hide","hide-children"]})],R.prototype,"listMode",void 0),(0,v.e)([(0,v.y)({type:["KML"]})],R.prototype,"operationalLayerType",void 0),(0,v.e)([(0,v.y)({})],R.prototype,"resourceInfo",void 0),(0,v.e)([(0,v.y)({type:m.j.ofType(_),json:{write:{ignoreOrigin:!0}}})],R.prototype,"sublayers",void 0),(0,v.e)([(0,k.o)(["web-map","portal-item"],"sublayers",["visibleFolders"])],R.prototype,"readSublayersFromItemOrWebMap",null),(0,v.e)([(0,k.o)("service","sublayers",["sublayers"])],R.prototype,"readSublayers",null),(0,v.e)([(0,k.r)("sublayers")],R.prototype,"writeSublayers",null),(0,v.e)([(0,v.y)({readOnly:!0,json:{read:!1}})],R.prototype,"type",void 0),(0,v.e)([(0,v.y)({json:{origins:{"web-map":{read:{source:"title"}}},write:{ignoreOrigin:!0}}})],R.prototype,"title",null),(0,v.e)([(0,v.y)(j.f)],R.prototype,"url",void 0),(0,v.e)([(0,v.y)({readOnly:!0})],R.prototype,"visibleSublayers",null),(0,v.e)([(0,v.y)({type:G.w})],R.prototype,"extent",void 0),(0,v.e)([(0,v.y)()],R.prototype,"fullExtent",null);var V=R=(0,v.e)([(0,v.n)("esri.layers.KMLLayer")],R);t.default=V},6379:function(e,t,r){r.d(t,{v:function(){return b}});var n=r(1413),i=r(74165),o=r(15861),a=r(15671),l=r(43144),u=r(11752),s=r(61120),c=r(60136),y=r(29388),f=r(48848),d=r(40558),p=r(59389),h=r(93661),v=r(82474),m=r(93116),g=r(21015),b=function(e){var t=function(e){(0,c.Z)(v,e);var t=(0,y.Z)(v);function v(){var e;return(0,a.Z)(this,v),(e=t.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},e.userHasEditingPrivileges=!0,e}return(0,l.Z)(v,[{key:"destroy",value:function(){this.portalItem=(0,h.g)(this.portalItem)}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,r){if(t.itemId)return new g.default({id:t.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.portalItem||!this.portalItem.id){e.next=14;break}return e.prev=1,e.next=4,Promise.all([r.e(9557),r.e(5249),r.e(3028)]).then(r.bind(r,64789)).then((function(e){return e.l}));case 4:return o=e.sent,(0,f.f)(n),e.next=8,o.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},n);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),(0,f.j)(e.t0)||f.a.getLogger(this.declaredClass).warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"finishLoadEditablePortalLayer",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this._fetchUserHasEditingPrivileges(t).catch((function(e){return(0,f.w)(e),!0}));case 3:e.t1=e.sent,e.t0._set.call(e.t0,"userHasEditingPrivileges",e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchUserHasEditingPrivileges",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var r,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.url?null===d.b||void 0===d.b?void 0:d.b.findCredential(this.url):null){e.next=3;break}return e.abrupt("return",!0);case 3:if(Z.credential!==r){e.next=7;break}e.t0=Z.user,e.next=10;break;case 7:return e.next=9,this._fetchEditingUser(t);case 9:e.t0=e.sent;case 10:return n=e.t0,e.abrupt("return",(Z.credential=r,Z.user=n,(0,h.t)(n)||null==n.privileges||n.privileges.includes("features:user:edit")));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchEditingUser",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var r,n,o,a,l,u,s,c,y,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null===(r=this.portalItem)||void 0===r||null===(n=r.portal)||void 0===n?void 0:n.user)){e.next=3;break}return e.abrupt("return",a);case 3:if(null!==(l=d.b.findServerInfo(null!==(o=this.url)&&void 0!==o?o:""))&&void 0!==l&&l.owningSystemUrl){e.next=6;break}return e.abrupt("return",null);case 6:if(u="".concat(l.owningSystemUrl,"/sharing/rest"),!(s=m.j.getDefault())||!s.loaded||(0,d.F)(s.restUrl)!==(0,d.F)(u)){e.next=9;break}return e.abrupt("return",s.user);case 9:return c="".concat(u,"/community/self"),y=(0,h.r)(t)?t.signal:null,e.next=13,(0,p.b)((0,d.U)(c,{authMode:"no-prompt",query:{f:"json"},signal:y}));case 13:return f=e.sent,e.abrupt("return",f.ok?m.p.fromJSON(f.value.data):null);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(e,t){t&&(t.layer=this),(0,u.Z)((0,s.Z)(v.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var r=t&&t.portal,i=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||m.j.getDefault());return r&&i&&!(0,d.N)(i.restUrl,r.restUrl)?(t.messages&&t.messages.push(new f.s("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer"),{layer:this})),null):(0,u.Z)((0,s.Z)(v.prototype),"write",this).call(this,e,(0,n.Z)((0,n.Z)({},t),{},{layer:this}))}}]),v}(e);return(0,f.e)([(0,f.y)({type:g.default})],t.prototype,"portalItem",null),(0,f.e)([(0,v.o)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,f.e)([(0,v.r)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,f.e)([(0,f.y)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,f.e)([(0,f.y)({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=(0,f.e)([(0,f.n)("esri.layers.mixins.PortalLayer")],t)},Z={credential:null,user:null}},23341:function(e,t,r){r.d(t,{n:function(){return Z},p:function(){return w}});var n=r(74165),i=r(15861),o=r(15671),a=r(43144),l=r(97326),u=r(60136),s=r(29388),c=r(37762),y=r(48848),f=(r(93661),new(r(93314).j)),d=new WeakMap;function p(e){h(e)&&f.push(e)}function h(e){return null!=e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function v(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:v(t,e%t):0}var m=0,g=0;function b(){var e,t=Date.now(),r=(0,c.Z)(f);try{for(r.s();!(e=r.n()).done;){var n,i=e.value;if(i.refreshInterval)t-(null!==(n=d.get(i))&&void 0!==n?n:0)+5>=6e4*i.refreshInterval&&(d.set(i,t),i.refresh(t))}}catch(o){r.e(o)}finally{r.f()}}function Z(e){return null!=e&&"object"==typeof e&&"refreshTimestamp"in e&&"refresh"in e}(0,y.U)((function(){var e,t=Date.now(),r=0,n=(0,c.Z)(f);try{for(n.s();!(e=n.n()).done;){var i=e.value;r=v(Math.round(6e4*i.refreshInterval),r),i.refreshInterval?d.get(i)||d.set(i,t):d.delete(i)}}catch(o){n.e(o)}finally{n.f()}if(r!==g){if(g=r,clearInterval(m),0===g)return void(m=0);m=setInterval(b,g)}}));var w=function(e){var t=function(e){(0,u.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).refreshInterval=0,e.refreshTimestamp=0,e._debounceHasDataChanged=(0,y.a1)((function(){return e.hasDataChanged()})),e.when().then((function(){p((0,l.Z)(e))}),(function(){})),e}return(0,a.Z)(r,[{key:"destroy",value:function(){var e;h(e=this)&&f.includes(e)&&f.remove(e)}},{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();(0,y.a2)(this._debounceHasDataChanged()).then((function(r){r&&e._set("refreshTimestamp",t),e.emit("refresh",{dataChanged:r})}),(function(t){y.a.getLogger(e.declaredClass).error(t),e.emit("refresh",{dataChanged:!1,error:t})}))}},{key:"hasDataChanged",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(e);return(0,y.e)([(0,y.y)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0}})],t.prototype,"refreshInterval",void 0),(0,y.e)([(0,y.y)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),(0,y.e)([(0,y.y)()],t.prototype,"refreshParameters",null),t=(0,y.e)([(0,y.n)("esri.layers.mixins.RefreshableLayer")],t),t}},41820:function(e,t,r){r.d(t,{t:function(){return u}});var n=r(15671),i=r(43144),o=r(60136),a=r(29388),l=r(48848),u=(r(93661),function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).minScale=0,e.maxScale=0,e}return(0,i.Z)(r,[{key:"effectiveScaleRange",get:function(){var e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);var r=this._get("effectiveScaleRange");return r&&r.minScale===e.minScale&&r.maxScale===e.maxScale?r:e}}]),r}(e);return(0,l.e)([(0,l.y)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,l.e)([(0,l.y)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,l.e)([(0,l.y)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,l.e)([(0,l.n)("esri.layers.mixins.ScaleRangeLayer")],t)})},20302:function(e,t,r){r.d(t,{r:function(){return o}});var n=r(40558),i=r(48848);function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e instanceof n.s?e:new n.s(e,r),a={type:null===(t=null===r||void 0===r?void 0:r.ignoreUnknown)||void 0===t||t?o.apiValues:String,json:{type:o.jsonValues,read:!(null!==r&&void 0!==r&&r.readOnly)&&{reader:o.read},write:{writer:o.write}}};return void 0!==(null===r||void 0===r?void 0:r.readOnly)&&(a.readOnly=!!r.readOnly),void 0!==(null===r||void 0===r?void 0:r.default)&&(a.json.default=r.default),void 0!==(null===r||void 0===r?void 0:r.name)&&(a.json.name=r.name),(0,i.y)(a)}},15436:function(e,t,r){r.d(t,{i:function(){return n}});var n=new(r(40558).s)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},56162:function(e,t,r){r.d(t,{c:function(){return d},d:function(){return h},f:function(){return c},l:function(){return u},s:function(){return s},u:function(){return l},v:function(){return f},y:function(){return y}});var n=r(93661),i=r(46817),o=r(82474),a=r(74384);function l(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function u(e){return void 0!==e.points}function s(e){return void 0!==e.x&&void 0!==e.y}function c(e){return void 0!==e.paths}function y(e){return void 0!==e.rings}function f(e){return(0,n.t)(e)?null:e instanceof o.p?e:s(e)?o.w.fromJSON(e):c(e)?a.m.fromJSON(e):y(e)?a.v.fromJSON(e):u(e)?a.u.fromJSON(e):l(e)?i.w.fromJSON(e):null}function d(e){return e?s(e)?"esriGeometryPoint":c(e)?"esriGeometryPolyline":y(e)?"esriGeometryPolygon":l(e)?"esriGeometryEnvelope":u(e)?"esriGeometryMultipoint":null:null}var p={esriGeometryPoint:o.w,esriGeometryPolyline:a.m,esriGeometryPolygon:a.v,esriGeometryEnvelope:i.w,esriGeometryMultipoint:a.u};function h(e){return e&&p[e]||null}},83274:function(e,t,r){r.d(t,{S:function(){return m},b:function(){return b},d:function(){return h},g:function(){return v},j:function(){return w}});var n=r(74165),i=r(15861),o=r(37762),a=r(93661),l=r(40558),u=r(25577),s=r(82474),c=r(93209),y=r(74384),f=r(2959),d=r(68781),p={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function h(e){var t=e.folders||[],r=t.slice(),n=new Map,i=new Map,l=new Map,u=new Map,s=new Map,c={esriGeometryPoint:i,esriGeometryPolyline:l,esriGeometryPolygon:u};(e.featureCollection&&e.featureCollection.layers||[]).forEach((function(e){var t=(0,a.y)(e);t.featureSet.features=[];var r=e.featureSet.geometryType;n.set(r,t);var o=e.layerDefinition.objectIdField;"esriGeometryPoint"===r?g(i,o,e.featureSet.features):"esriGeometryPolyline"===r?g(l,o,e.featureSet.features):"esriGeometryPolygon"===r&&g(u,o,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((function(e){s.set(e.id,e)})),t.forEach((function(t){t.networkLinkIds.forEach((function(n){var i=function(e,t,r){var n=function(e,t){var r;return t.some((function(t){return t.id===e&&(r=t,!0)})),r}(e,r);return n&&(n.parentFolderId=t,n.networkLink=n),n}(n,t.id,e.networkLinks);i&&r.push(i)}))})),r.forEach((function(e){if(e.featureInfos){e.points=(0,a.y)(n.get("esriGeometryPoint")),e.polylines=(0,a.y)(n.get("esriGeometryPolyline")),e.polygons=(0,a.y)(n.get("esriGeometryPolygon")),e.mapImages=[];var t,r=(0,o.Z)(e.featureInfos);try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(i.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":var l=c[i.type].get(i.id);l&&e[p[i.type]].featureSet.features.push(l);break;case"GroundOverlay":var u=s.get(i.id);u&&e.mapImages.push(u)}}}catch(y){r.e(y)}finally{r.f()}e.fullExtent=w([e])}}));var y=w(r);return{folders:t,sublayers:r,extent:y}}function v(e,t,r,n){var i=l.b&&l.b.findCredential(e);e=(0,l.B)(e,{token:i&&i.token});var o=a.s.kmlServiceUrl;return(0,l.U)(o,{query:{url:e,model:"simple",folders:"",refresh:0!==r||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:n})}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=[],o={},a=t.sublayers,l=t.folders.map((function(e){return e.id}));return a.forEach((function(t){var a=new e;if(r?a.read(t,r):a.read(t),n.length&&l.includes(a.id)&&(a.visible=n.includes(a.id)),o[t.id]=a,null!=t.parentFolderId&&-1!==t.parentFolderId){var u=o[t.parentFolderId];u.sublayers||(u.sublayers=[]),u.sublayers.unshift(a)}else i.unshift(a)})),i}function g(e,t,r){r.forEach((function(r){e.set(r.attributes[t],r)}))}function b(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,l,s,c,y,p,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.default.fromJSON(t.featureSet).features,i=t.layerDefinition,a=(0,f.t)(i.drawingInfo.renderer),l=u.k.fromJSON(t.popupInfo),s=[],c=(0,o.Z)(r),e.prev=2,c.s();case 4:if((y=c.n()).done){e.next=12;break}return p=y.value,e.next=8,a.getSymbolAsync(p);case 8:h=e.sent,p.symbol=h,p.popupTemplate=l,p.visible=!0,s.push(p);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})))).apply(this,arguments)}function w(e){var t,r=(0,c.a)(c.C),n=(0,c.a)(c.C),i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.polygons&&a.polygons.featureSet&&a.polygons.featureSet.features){var l,u=(0,o.Z)(a.polygons.featureSet.features);try{for(u.s();!(l=u.n()).done;){var f=l.value;(0,y.w)(r,f.geometry),(0,c.f)(n,r)}}catch(S){u.e(S)}finally{u.f()}}if(a.polylines&&a.polylines.featureSet&&a.polylines.featureSet.features){var d,p=(0,o.Z)(a.polylines.featureSet.features);try{for(p.s();!(d=p.n()).done;){var h=d.value;(0,y.w)(r,h.geometry),(0,c.f)(n,r)}}catch(S){p.e(S)}finally{p.f()}}if(a.points&&a.points.featureSet&&a.points.featureSet.features){var v,m=(0,o.Z)(a.points.featureSet.features);try{for(m.s();!(v=m.n()).done;){var g=v.value;(0,y.w)(r,g.geometry),(0,c.f)(n,r)}}catch(S){m.e(S)}finally{m.f()}}if(a.mapImages){var b,Z=(0,o.Z)(a.mapImages);try{for(Z.s();!(b=Z.n()).done;){var w=b.value;(0,y.w)(r,w.extent),(0,c.f)(n,r)}}catch(S){Z.e(S)}finally{Z.f()}}}}catch(S){i.e(S)}finally{i.f()}return(0,c.S)(n,c.C)?null:{xmin:n[0],ymin:n[1],zmin:n[2],xmax:n[3],ymax:n[4],zmax:n[5],spatialReference:s.k.WGS84}}},53586:function(e,t,r){r.d(t,{L:function(){return b},S:function(){return g},m:function(){return x},u:function(){return k}});var n=r(1413),i=r(40558),o=r(65094),a=r(93661),l={year:"numeric",month:"numeric",day:"numeric"},u={year:"numeric",month:"long",day:"numeric"},s={year:"numeric",month:"short",day:"numeric"},c={year:"numeric",month:"long",weekday:"long",day:"numeric"},y={hour:"numeric",minute:"numeric"},f=(0,n.Z)((0,n.Z)({},y),{},{second:"numeric"}),d={"short-date":l,"short-date-short-time":(0,n.Z)((0,n.Z)({},l),y),"short-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),y),{},{hour12:!1}),"short-date-long-time":(0,n.Z)((0,n.Z)({},l),f),"short-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),f),{},{hour12:!1}),"short-date-le":l,"short-date-le-short-time":(0,n.Z)((0,n.Z)({},l),y),"short-date-le-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),y),{},{hour12:!1}),"short-date-le-long-time":(0,n.Z)((0,n.Z)({},l),f),"short-date-le-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},l),f),{},{hour12:!1}),"long-month-day-year":u,"long-month-day-year-short-time":(0,n.Z)((0,n.Z)({},u),y),"long-month-day-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),y),{},{hour12:!1}),"long-month-day-year-long-time":(0,n.Z)((0,n.Z)({},u),f),"long-month-day-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},u),f),{},{hour12:!1}),"day-short-month-year":s,"day-short-month-year-short-time":(0,n.Z)((0,n.Z)({},s),y),"day-short-month-year-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),y),{},{hour12:!1}),"day-short-month-year-long-time":(0,n.Z)((0,n.Z)({},s),f),"day-short-month-year-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},s),f),{},{hour12:!1}),"long-date":c,"long-date-short-time":(0,n.Z)((0,n.Z)({},c),y),"long-date-short-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},c),y),{},{hour12:!1}),"long-date-long-time":(0,n.Z)((0,n.Z)({},c),f),"long-date-long-time-24":(0,n.Z)((0,n.Z)((0,n.Z)({},c),f),{},{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":y,"long-time":f},p=(0,i.o)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});p.toJSON.bind(p),p.fromJSON.bind(p);var h={ar:"ar-u-nu-latn-ca-gregory"},v=new WeakMap,m=d["short-date-short-time"];function g(e){return e?d[e]:null}function b(e,t){return function(e){var t=e||m,r=v.get(t);if(!r){var n=(0,o.l)(),i=h[(0,o.l)()]||n;r=new Intl.DateTimeFormat(i,t),v.set(t,r)}return r}(t).format(e)}(0,o.g)((function(){v=new WeakMap,m=d["short-date-short-time"]}));var Z={ar:"ar-u-nu-latn"},w=new WeakMap,S={};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function x(e,t){return-0===e&&(e=0),function(e){var t=e||S;if(!w.has(t)){var r=(0,o.l)(),n=Z[(0,o.l)()]||r;w.set(t,new Intl.NumberFormat(n,e))}return(0,a.x)(w.get(t))}(t).format(e)}(0,o.g)((function(){w=new WeakMap,S={}}))},50690:function(e,t,r){r.d(t,{P:function(){return f},U:function(){return d},a:function(){return u},f:function(){return a},h:function(){return p},j:function(){return s},l:function(){return o},w:function(){return h}});var n=r(48848),i=r(93661);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l(e,t,r,c)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l(e,t,r,y)}function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,a=null,l=r.once?function(e,r){o(e)&&((0,i.f)(a),t(e,r))}:function(e,r){o(e)&&t(e,r)};if(a=(0,n.P)(e,l,r.sync,r.equals),r.initial){var u=e();l(u,u)}return a}function u(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=null,u=null,s=null;function c(){var e;l&&u&&(u.remove(),null!==(e=a.onListenerRemove)&&void 0!==e&&e.call(a,l),l=null,u=null)}function y(e){a.once&&a.once&&(0,i.f)(s),r(e)}var f=o(e,(function(e,r){var i;c(),(0,n.B)(e)&&(l=e,u=(0,n.C)(e,t,y),null===(i=a.onListenerAdd)||void 0===i||i.call(a,e))}),{sync:a.sync,initial:!0});return s=(0,n.D)((function(){f.remove(),c()}))}function s(e,t){return function(e,t,r){if((0,n.p)(r))return Promise.reject((0,n.d)());var o=e();if(null!==t&&void 0!==t&&t(o))return Promise.resolve(o);var a=null;function u(){a=(0,i.f)(a)}return new Promise((function(i,o){a=(0,n.F)([(0,n.v)(r,(function(){u(),o((0,n.d)())})),l(e,(function(e){u(),i(e)}),{sync:!1,once:!0},null!==t&&void 0!==t?t:c)])}))}(e,y,t)}function c(e){return!0}function y(e){return!!e}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1,i=o(e,(function(e,r){n||t(e,r)}),r);return{remove:function(){i.remove()},pause:function(){n=!0},resume:function(){n=!1}}}var d={sync:!0},p={initial:!0},h={sync:!0,initial:!0}},84186:function(e,t,r){var n,i;function o(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function l(e){return e.valueExpression?n.Expression:e.field&&"string"==typeof e.field?n.Field:n.Unknown}function u(e,t){var r=t||l(e),o=e.valueUnit||"unknown";return r===n.Unknown?i.Constant:e.stops?i.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?i.ClampedLinear:"unknown"===o?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?i.Proportional:i.Additive:i.Identity:i.RealWorldSize}r.d(t,{a:function(){return u},e:function(){return o},i:function(){return i},l:function(){return a},n:function(){return n},t:function(){return l}}),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(n||(n={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(i||(i={}))}}]);
//# sourceMappingURL=3948.8fe6a2f7.chunk.js.map