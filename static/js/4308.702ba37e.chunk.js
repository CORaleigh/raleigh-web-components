"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[4308],{33371:function(e,t,n){n.d(t,{i:function(){return c}});var r=n(15671),i=n(43144),a=n(11752),s=n(61120),o=n(60136),l=n(29388),u=n(1206),c=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"renderChildren",value:function(e){this.attributeView.update(),this.children.some((function(e){return e.hasData}))&&(this.attributeView.bindTextures(e.context,!1),(0,a.Z)((0,s.Z)(n.prototype),"renderChildren",this).call(this,e),e.drawPhase===u.I.MAP&&this._renderChildren(e),this.hasHighlight()&&e.drawPhase===u.I.HIGHLIGHT&&this._renderHighlight(e),this._boundsRenderer&&this._boundsRenderer.doRender(e))}},{key:"_renderHighlight",value:function(e){var t=e.painter.effects.highlight;t.bind(e),this._renderChildren(e,t.defines),t.draw(e),t.unbind()}}]),n}(n(35202).t)},34308:function(e,t,n){n.r(t);var r=n(93433),i=n(1413),a=n(29439),s=n(37762),o=n(60136),l=n(29388),u=n(74165),c=n(15861),h=n(15671),p=n(43144),f=n(48848),d=n(40558),y=n(93314),m=n(93661),v=n(50690),g=n(46817),_=n(95249),w=n(82474),x=n(83274),b=n(39994),k=n(23585),S=n(37677),V=n(68146),I=n(91502),C=n(33371),P=n(35202),Z=n(52195),D=n(31532),M=n(6994),R=n(64623),E=n(93122),T=n(31698),G=n(1797),U=n(70285),A=n(75833),L=(n(37856),n(15751),n(71802),n(47855),n(79557),n(74384),n(75255),n(25456),n(65415),n(40114),n(25577),n(62610),n(59984),n(20302),n(53586),n(65094),n(60369),n(92072),n(93209),n(2959),n(2821),n(37944),n(86086),n(21385),n(89794),n(48200),n(85253),n(46337),n(81556),n(93116),n(66577),n(33794),n(71147),n(84186),n(64998),n(56162),n(15529),n(70449),n(22603),n(56546),n(39926),n(6762),n(8141),n(26151),n(91681),n(68781),n(69641),n(15436),n(630),n(26313),n(43066),n(68136),n(64095),n(27205),n(1206),n(84234),n(18030),n(33795),n(5650),n(35602),n(54233),n(18144),n(82017),n(91242),n(21438),n(70607),n(29048),n(63999),n(45184),n(43924),n(25217),n(23075),n(63212),n(69717),n(62753),n(83948),n(63393),n(90442),n(64854),n(35496),n(26789),n(51732),n(85113),n(46737),n(52113),n(66911),n(33563),n(17327),n(50253),n(63504),n(97880),n(5430),n(53921),n(35237),n(89181),n(69768),n(65703),n(64419),n(10309),n(55944),n(74337),n(52559),n(62466),n(87917),n(20675),n(50796),n(87753),n(18007),n(51920),n(12953),n(95415),n(62399),n(44513),n(77755),n(88659),n(87424),n(7131),n(92739),n(44954),n(4679),n(62312),n(60491),n(13239),n(70863),n(57791),n(10464),function(){function e(t){if((0,h.Z)(this,e),t)this._ownsRctx=!1,this._rctx=t;else{if(e._instance)return e._instanceRefCount++,e._instance;e._instanceRefCount=1,e._instance=this,this._ownsRctx=!0;var n=document.createElement("canvas").getContext("webgl");n.getExtension("OES_texture_float"),this._rctx=new U.y(n,{})}var r=(0,R.o)("raster/reproject","raster/reproject",new Map([["a_position",0]]),{applyProjection:!0,bilinear:!1,bicubic:!1});this._program=this._rctx.programCache.acquire(r.shaders.vertexShader,r.shaders.fragmentShader,r.attributes),this._rctx.useProgram(this._program),this._program.setUniform1f("u_opacity",1),this._program.setUniform1i("u_image",0),this._program.setUniform1i("u_flipY",0),this._program.setUniform1i("u_transformGrid",1),this._quad=new M.a(this._rctx,[0,0,1,0,0,1,1,1])}return(0,p.Z)(e,[{key:"reprojectTexture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,_.r)(e.extent,t),i=new w.w({x:(e.extent.xmax-e.extent.xmin)/e.texture.descriptor.width,y:(e.extent.ymax-e.extent.ymin)/e.texture.descriptor.height,spatialReference:e.extent.spatialReference}),a=(0,D.C)(i,t,e.extent),s=a.x,o=a.y,l=(s+o)/2,u=Math.round((r.xmax-r.xmin)/l),c=Math.round((r.ymax-r.ymin)/l);l=(r.width/u+r.height/c)/2;var h=new w.w({x:l,y:l,spatialReference:r.spatialReference}),p=(0,D.$)({projectedExtent:r,srcBufferExtent:e.extent,pixelSize:h,hasWrapAround:!0,spacing:[16,16]}),f=(0,G.c)(this._rctx,p),d=new A.E(this._rctx,{width:u,height:c,pixelFormat:E.P.RGBA,dataType:E.G.UNSIGNED_BYTE,wrapMode:E.D.CLAMP_TO_EDGE,samplingMode:E.L.LINEAR,hasMipmap:!1}),y=new T.x(this._rctx,{colorTarget:E.Y.TEXTURE,depthStencilTarget:E.V.NONE,width:u,height:c},d);if(this._rctx.bindFramebuffer(y),this._rctx.setViewport(0,0,u,c),this._rctx.useProgram(this._program),this._rctx.bindTexture(e.texture,0),this._rctx.bindTexture(f,1),this._quad.bind(),this._program.setUniform2f("u_srcImageSize",e.texture.descriptor.width,e.texture.descriptor.height),this._program.setUniform2fv("u_transformSpacing",p.spacing),this._program.setUniform2fv("u_transformGridSize",p.size),this._program.setUniform2f("u_targetImageSize",u,c),this._quad.draw(),this._quad.unbind(),this._rctx.useProgram(null),this._rctx.bindFramebuffer(null),f.dispose(),n){var m=new ImageData(y.descriptor.width,y.descriptor.height);return y.readPixels(0,0,y.descriptor.width,y.descriptor.height,E.P.RGBA,E.G.UNSIGNED_BYTE,m.data),y.detachColorTexture(E.f.COLOR_ATTACHMENT0),y.dispose(),{texture:d,extent:r,imageData:m}}return y.detachColorTexture(E.f.COLOR_ATTACHMENT0),y.dispose(),{texture:d,extent:r}}},{key:"reprojectBitmapData",value:function(e,t){var n=(0,S.S)(e.bitmapData)?(0,S.T)(e.bitmapData):e.bitmapData,r=new A.E(this._rctx,{width:e.bitmapData.width,height:e.bitmapData.height,pixelFormat:E.P.RGBA,dataType:E.G.UNSIGNED_BYTE,wrapMode:E.D.CLAMP_TO_EDGE,samplingMode:E.L.LINEAR,hasMipmap:!1},n),i=this.reprojectTexture({texture:r,extent:e.extent},t,!0);i.texture.dispose();var a=document.createElement("canvas");return a.width=i.imageData.width,a.height=i.imageData.height,a.getContext("2d").putImageData(i.imageData,0,0),{bitmapData:a,extent:i.extent}}},{key:"loadAndReprojectBitmapData",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t,n,r){var i,a,s,o,l;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.U)(t,{responseType:"image"});case 2:if(i=e.sent.data,(a=document.createElement("canvas")).width=i.width,a.height=i.height,(s=a.getContext("2d")).drawImage(i,0,0),o=s.getImageData(0,0,a.width,a.height),!n.spatialReference.equals(r)){e.next=10;break}return e.abrupt("return",{bitmapData:o,extent:n});case 10:return l=this.reprojectBitmapData({bitmapData:o,extent:n},r),e.abrupt("return",{bitmapData:l.bitmapData,extent:l.extent});case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this._ownsRctx?(e._instanceRefCount--,0===e._instanceRefCount&&(this._quad.dispose(),this._program.dispose(),this._rctx.dispose(),e._instance=null)):(this._quad.dispose(),this._program.dispose())}}]),e}());L._instanceRefCount=0;var j=(0,p.Z)((function e(){(0,h.Z)(this,e),this.allSublayers=new Map,this.allPoints=[],this.allPolylines=[],this.allPolygons=[],this.allMapImages=[]})),q=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.apply(this,arguments))._bitmapIndex=new Map,e._mapImageContainer=new V.a,e._kmlVisualData=new j,e.allVisiblePoints=new k.i,e.allVisiblePolylines=new k.i,e.allVisiblePolygons=new k.i,e.allVisibleMapImages=new y.j,e}return(0,p.Z)(n,[{key:"hitTest",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t,n){var r,i,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.layer,e.abrupt("return",[null===(r=this._pointsView)||void 0===r?void 0:r.hitTest(t),null===(i=this._polylinesView)||void 0===i?void 0:i.hitTest(t),null===(a=this._polygonsView)||void 0===a?void 0:a.hitTest(t)].flat().filter(Boolean).map((function(e){return e.layer=s,e.sourceLayer=s,{type:"graphic",graphic:e,layer:s,mapPoint:t}})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(e){this._polygonsView&&this._polygonsView.processUpdate(e),this._polylinesView&&this._polylinesView.processUpdate(e),this._pointsView&&this._pointsView.processUpdate(e)}},{key:"attach",value:function(){var e=this;this._fetchController=new AbortController,this.container.addChild(this._mapImageContainer),this._polygonsView=new P.o({view:this.view,graphics:this.allVisiblePolygons,requestUpdateCallback:function(){return e.requestUpdate()},container:new C.i(this.view.featuresTilingScheme)}),this.container.addChild(this._polygonsView.container),this._polylinesView=new P.o({view:this.view,graphics:this.allVisiblePolylines,requestUpdateCallback:function(){return e.requestUpdate()},container:new C.i(this.view.featuresTilingScheme)}),this.container.addChild(this._polylinesView.container),this._pointsView=new P.o({view:this.view,graphics:this.allVisiblePoints,requestUpdateCallback:function(){return e.requestUpdate()},container:new C.i(this.view.featuresTilingScheme)}),this.container.addChild(this._pointsView.container),this.handles.add([this.allVisibleMapImages.on("change",(function(t){t.added.forEach((function(t){return e._addMapImage(t)})),t.removed.forEach((function(t){return e._removeMapImage(t)}))})),(0,v.l)((function(){return e.layer.visibleSublayers}),(function(t){var n,r=(0,s.Z)(e._kmlVisualData.allSublayers);try{for(r.s();!(n=r.n()).done;){var i=(0,a.Z)(n.value,2);i[0];i[1].visibility=0}}catch(h){r.e(h)}finally{r.f()}var o,l=(0,s.Z)(t);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=e._kmlVisualData.allSublayers.get(u.id);c&&(c.visibility=1)}}catch(h){l.e(h)}finally{l.f()}e._refreshCollections()}))]),this.updatingHandles.addPromise(this._fetchService(this._fetchController.signal)),this._imageReprojector=new L}},{key:"detach",value:function(){this._fetchController.abort(),this._fetchController=null,this._mapImageContainer.removeAllChildren(),this.container.removeAllChildren(),this._bitmapIndex.clear(),this._polygonsView&&(this._polygonsView.destroy(),this._polygonsView=null),this._polylinesView&&(this._polylinesView.destroy(),this._polylinesView=null),this._pointsView&&(this._pointsView.destroy(),this._pointsView=null),this._imageReprojector&&(this._imageReprojector.destroy(),this._imageReprojector=null)}},{key:"moveStart",value:function(){}},{key:"viewChange",value:function(){this._polygonsView.viewChange(),this._polylinesView.viewChange(),this._pointsView.viewChange()}},{key:"moveEnd",value:function(){}},{key:"isUpdating",value:function(){return this._pointsView.updating||this._polygonsView.updating||this._polylinesView.updating}},{key:"_addMapImage",value:function(e){var t=this;(this.view.spatialReference.isWGS84||this.view.spatialReference.isWebMercator)&&this._imageReprojector.loadAndReprojectBitmapData(e.href,g.w.fromJSON(e.extent),this.view.spatialReference).then((function(n){var r=new S.R(n.bitmapData,{immutable:!1,requestRenderOnSourceChangedEnabled:!0});r.x=n.extent.xmin,r.y=n.extent.ymax,r.resolution=n.extent.width/n.bitmapData.width,r.rotation=e.rotation,t._mapImageContainer.addChild(r),t._bitmapIndex.set(e,r)}))}},{key:"_getViewDependentUrl",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t,n){var r,a,s,o,l,c,h,p,f,y,v,x,k,S,V,I,C,P;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.viewFormat,a=t.viewBoundScale,s=t.httpQuery,!(0,m.r)(r)){e.next=20;break}if(!(0,m.t)(n)){e.next=4;break}throw new Error("Loading this network link requires a view state.");case 4:return e.next=6,(0,_.t)();case 6:if(!(0,m.r)(a)||1===a){e.next=11;break}(l=new g.w(n.extent)).expand(a),o=l,e.next=12;break;case 11:o=n.extent;case 12:return o=(0,_.r)(o,w.k.WGS84),c=(0,_.r)(o,w.k.WebMercator),h=o.xmin,p=o.xmax,f=o.ymin,y=o.ymax,v=n.size[0]*n.pixelRatio,x=n.size[1]*n.pixelRatio,k=Math.max(c.width,c.height),S={"[bboxWest]":h.toString(),"[bboxEast]":p.toString(),"[bboxSouth]":f.toString(),"[bboxNorth]":y.toString(),"[lookatLon]":o.center.x.toString(),"[lookatLat]":o.center.y.toString(),"[lookatRange]":k.toString(),"[lookatTilt]":"0","[lookatHeading]":n.rotation.toString(),"[lookatTerrainLon]":o.center.x.toString(),"[lookatTerrainLat]":o.center.y.toString(),"[lookatTerrainAlt]":"0","[cameraLon]":o.center.x.toString(),"[cameraLat]":o.center.y.toString(),"[cameraAlt]":k.toString(),"[horizFov]":"60","[vertFov]":"60","[horizPixels]":v.toString(),"[vertPixels]":x.toString(),"[terrainEnabled]":"0","[clientVersion]":d.a,"[kmlVersion]":"2.2","[clientName]":"ArcGIS API for JavaScript","[language]":"en-US"},V=function(e){for(var t in e)for(var n in S)e[t]=e[t].replace(n,S[n])},I=(0,d.m)(r),V(I),C={},(0,m.r)(s)&&(C=(0,d.m)(s),V(C)),(P=(0,b.f)(t.href)).query=(0,i.Z)((0,i.Z)((0,i.Z)({},P.query),I),C),e.abrupt("return","".concat(P.path,"?").concat((0,d.i)(I)));case 20:return e.abrupt("return",t.href);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_fetchService",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new j,e.next=3,this._loadVisualData(this.layer.url,n,t);case 3:this._kmlVisualData=n,this._refreshCollections();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_refreshCollections",value:function(){var e=this;this.allVisiblePoints.removeAll(),this.allVisiblePolylines.removeAll(),this.allVisiblePolygons.removeAll(),this.allVisibleMapImages.removeAll(),this.allVisiblePoints.addMany(this._kmlVisualData.allPoints.filter((function(t){return e._isSublayerVisible(t.sublayerId)})).map((function(e){return e.item}))),this.allVisiblePolylines.addMany(this._kmlVisualData.allPolylines.filter((function(t){return e._isSublayerVisible(t.sublayerId)})).map((function(e){return e.item}))),this.allVisiblePolygons.addMany(this._kmlVisualData.allPolygons.filter((function(t){return e._isSublayerVisible(t.sublayerId)})).map((function(e){return e.item}))),this.allVisibleMapImages.addMany(this._kmlVisualData.allMapImages.filter((function(t){return e._isSublayerVisible(t.sublayerId)})).map((function(e){return e.item})))}},{key:"_isSublayerVisible",value:function(e){var t=this._kmlVisualData.allSublayers.get(e);return!!t.visibility&&(-1===t.parentFolderId||this._isSublayerVisible(t.parentFolderId))}},{key:"_loadVisualData",value:function(e,t,n){var i=this;return this._fetchParsedKML(e,n).then(function(){var e=(0,c.Z)((0,u.Z)().mark((function e(a){var o,l,c;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(0,s.Z)(a.sublayers),e.prev=1,c=(0,u.Z)().mark((function e(){var a,s,o,c,h,p,f,d,y,m;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=l.value,t.allSublayers.set(h.id,h),!h.points){e.next=8;break}return e.next=5,(0,x.b)(h.points);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=[];case 9:if(p=e.t0,!h.polylines){e.next=16;break}return e.next=13,(0,x.b)(h.polylines);case 13:e.t1=e.sent,e.next=17;break;case 16:e.t1=[];case 17:if(f=e.t1,!h.polygons){e.next=24;break}return e.next=21,(0,x.b)(h.polygons);case 21:e.t2=e.sent,e.next=25;break;case 24:e.t2=[];case 25:if(d=e.t2,y=h.mapImages||[],(a=t.allPoints).push.apply(a,(0,r.Z)(p.map((function(e){return{item:e,sublayerId:h.id}})))),(s=t.allPolylines).push.apply(s,(0,r.Z)(f.map((function(e){return{item:e,sublayerId:h.id}})))),(o=t.allPolygons).push.apply(o,(0,r.Z)(d.map((function(e){return{item:e,sublayerId:h.id}})))),(c=t.allMapImages).push.apply(c,(0,r.Z)(y.map((function(e){return{item:e,sublayerId:h.id}})))),!h.networkLink){e.next=33;break}return e.next=30,i._getViewDependentUrl(h.networkLink,i.view.state);case 30:return m=e.sent,e.next=33,i._loadVisualData(m,t,n);case 33:case"end":return e.stop()}}),e)})),o.s();case 4:if((l=o.n()).done){e.next=8;break}return e.delegateYield(c(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),o.e(e.t1);case 13:return e.prev=13,o.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}())}},{key:"_fetchParsedKML",value:function(e,t){return(0,x.g)(e,this.layer.spatialReference,this.layer.refreshInterval,t).then((function(e){return(0,x.d)(e.data)}))}},{key:"_removeMapImage",value:function(e){var t=this._bitmapIndex.get(e);t&&(this._mapImageContainer.removeChild(t),this._bitmapIndex.delete(e))}}]),n}((0,I.y)(Z.u));(0,f.e)([(0,f.y)()],q.prototype,"_pointsView",void 0),(0,f.e)([(0,f.y)()],q.prototype,"_polylinesView",void 0),(0,f.e)([(0,f.y)()],q.prototype,"_polygonsView",void 0),(0,f.e)([(0,f.y)()],q.prototype,"updating",void 0);var N=q=(0,f.e)([(0,f.n)("esri.views.2d.layers.KMLLayerView2D")],q);t.default=N},64623:function(e,t,n){n.d(t,{o:function(){return o}});var r=n(6994),i=n(55020),a=function(e){var t="";t+=e[0].toUpperCase();for(var n=1;n<e.length;n++){var r=e[n];r===r.toUpperCase()?(t+="_",t+=r):t+=r.toUpperCase()}return t},s=function(e){var t={};for(var n in e)t[a(n)]=e[n];return(0,i.n)(t)},o=function(e,t,n,i){var a=e+e.substring(e.lastIndexOf("/")),o=t+t.substring(t.lastIndexOf("/")),l=s(i);return{attributes:n,shaders:{vertexShader:l+(0,r.n)("".concat(a,".vert")),fragmentShader:l+(0,r.n)("".concat(o,".frag"))}}}},83274:function(e,t,n){n.d(t,{S:function(){return v},b:function(){return _},d:function(){return y},g:function(){return m},j:function(){return x}});var r=n(74165),i=n(15861),a=n(37762),s=n(93661),o=n(40558),l=n(25577),u=n(82474),c=n(93209),h=n(74384),p=n(2959),f=n(68781),d={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function y(e){var t=e.folders||[],n=t.slice(),r=new Map,i=new Map,o=new Map,l=new Map,u=new Map,c={esriGeometryPoint:i,esriGeometryPolyline:o,esriGeometryPolygon:l};(e.featureCollection&&e.featureCollection.layers||[]).forEach((function(e){var t=(0,s.y)(e);t.featureSet.features=[];var n=e.featureSet.geometryType;r.set(n,t);var a=e.layerDefinition.objectIdField;"esriGeometryPoint"===n?g(i,a,e.featureSet.features):"esriGeometryPolyline"===n?g(o,a,e.featureSet.features):"esriGeometryPolygon"===n&&g(l,a,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((function(e){u.set(e.id,e)})),t.forEach((function(t){t.networkLinkIds.forEach((function(r){var i=function(e,t,n){var r=function(e,t){var n;return t.some((function(t){return t.id===e&&(n=t,!0)})),n}(e,n);return r&&(r.parentFolderId=t,r.networkLink=r),r}(r,t.id,e.networkLinks);i&&n.push(i)}))})),n.forEach((function(e){if(e.featureInfos){e.points=(0,s.y)(r.get("esriGeometryPoint")),e.polylines=(0,s.y)(r.get("esriGeometryPolyline")),e.polygons=(0,s.y)(r.get("esriGeometryPolygon")),e.mapImages=[];var t,n=(0,a.Z)(e.featureInfos);try{for(n.s();!(t=n.n()).done;){var i=t.value;switch(i.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":var o=c[i.type].get(i.id);o&&e[d[i.type]].featureSet.features.push(o);break;case"GroundOverlay":var l=u.get(i.id);l&&e.mapImages.push(l)}}}catch(h){n.e(h)}finally{n.f()}e.fullExtent=x([e])}}));var h=x(n);return{folders:t,sublayers:n,extent:h}}function m(e,t,n,r){var i=o.b&&o.b.findCredential(e);e=(0,o.B)(e,{token:i&&i.token});var a=s.s.kmlServiceUrl;return(0,o.U)(a,{query:{url:e,model:"simple",folders:"",refresh:0!==n||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:r})}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=[],a={},s=t.sublayers,o=t.folders.map((function(e){return e.id}));return s.forEach((function(t){var s=new e;if(n?s.read(t,n):s.read(t),r.length&&o.includes(s.id)&&(s.visible=r.includes(s.id)),a[t.id]=s,null!=t.parentFolderId&&-1!==t.parentFolderId){var l=a[t.parentFolderId];l.sublayers||(l.sublayers=[]),l.sublayers.unshift(s)}else i.unshift(s)})),i}function g(e,t,n){n.forEach((function(n){e.set(n.attributes[t],n)}))}function _(e){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,s,o,u,c,h,d,y;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f.default.fromJSON(t.featureSet).features,i=t.layerDefinition,s=(0,p.t)(i.drawingInfo.renderer),o=l.k.fromJSON(t.popupInfo),u=[],c=(0,a.Z)(n),e.prev=2,c.s();case 4:if((h=c.n()).done){e.next=12;break}return d=h.value,e.next=8,s.getSymbolAsync(d);case 8:y=e.sent,d.symbol=y,d.popupTemplate=o,d.visible=!0,u.push(d);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:return e.abrupt("return",u);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})))).apply(this,arguments)}function x(e){var t,n=(0,c.a)(c.C),r=(0,c.a)(c.C),i=(0,a.Z)(e);try{for(i.s();!(t=i.n()).done;){var s=t.value;if(s.polygons&&s.polygons.featureSet&&s.polygons.featureSet.features){var o,l=(0,a.Z)(s.polygons.featureSet.features);try{for(l.s();!(o=l.n()).done;){var p=o.value;(0,h.w)(n,p.geometry),(0,c.f)(r,n)}}catch(b){l.e(b)}finally{l.f()}}if(s.polylines&&s.polylines.featureSet&&s.polylines.featureSet.features){var f,d=(0,a.Z)(s.polylines.featureSet.features);try{for(d.s();!(f=d.n()).done;){var y=f.value;(0,h.w)(n,y.geometry),(0,c.f)(r,n)}}catch(b){d.e(b)}finally{d.f()}}if(s.points&&s.points.featureSet&&s.points.featureSet.features){var m,v=(0,a.Z)(s.points.featureSet.features);try{for(v.s();!(m=v.n()).done;){var g=m.value;(0,h.w)(n,g.geometry),(0,c.f)(r,n)}}catch(b){v.e(b)}finally{v.f()}}if(s.mapImages){var _,w=(0,a.Z)(s.mapImages);try{for(w.s();!(_=w.n()).done;){var x=_.value;(0,h.w)(n,x.extent),(0,c.f)(r,n)}}catch(b){w.e(b)}finally{w.f()}}}}catch(b){i.e(b)}finally{i.f()}return(0,c.S)(r,c.C)?null:{xmin:r[0],ymin:r[1],zmin:r[2],xmax:r[3],ymax:r[4],zmax:r[5],spatialReference:u.k.WGS84}}},55020:function(e,t,n){function r(e){return"number"==typeof e.options[e.value]}function i(e){var t="";for(var n in e){var i=e[n];if("boolean"==typeof i)i&&(t+="#define ".concat(n,"\n"));else if("number"==typeof i)t+="#define ".concat(n," ").concat(i.toFixed(),"\n");else if("object"==typeof i)if(r(i)){var a=i.value,s=i.options,o=i.namespace,l=o?"".concat(o,"_"):"";for(var u in s)t+="#define ".concat(l).concat(u," ").concat(s[u].toFixed(),"\n");t+="#define ".concat(n," ").concat(l).concat(a,"\n")}else{var c=i.options,h=0;for(var p in c)t+="#define ".concat(c[p]," ").concat((h++).toFixed(),"\n");t+="#define ".concat(n," ").concat(c[i.value],"\n")}}return t}n.d(t,{n:function(){return i}})}}]);
//# sourceMappingURL=4308.702ba37e.chunk.js.map