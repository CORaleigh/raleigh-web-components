"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[7793],{57793:function(e,t,n){n.r(t);var r=n(1413),i=n(29439),a=n(15861),u=n(43144),s=n(15671),o=n(37762),l=n(74165),c=(n(91204),n(57714)),f=n(23132),h=n(63022),d=n(7513),p=n(30709),v=n(33642),m=n(86548),y=n(83712),g=n(20880),_=n(81642),x=n(92029),b=n(55827),k=n(50526),M=(n(80262),n(75610),n(21583),n(36460),n(2760),n(44455),n(80175),n(61340),n(33703),n(78311),n(69953),n(70441),n(72820),n(61495),n(30604),n(62268),n(18392),n(86068),n(75370),n(25316),n(1241),n(73554),n(60912),n(47626),n(81019),n(68826),n(61212),n(29709),n(78674),n(66307),n(50448),n(22144),n(75955),n(14739),n(10780),n(14181),n(77470),n(36551),n(50338),n(43920),(0,l.Z)().mark(F)),w=(0,l.Z)().mark(z),S=/^\s*"([\S\s]*)"\s*$/,I=/""/g,Z=[","," ",";","|","\t"];function F(e,t,n){var r,i,a;return(0,l.Z)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:r=0;case 1:if(!(r<=e.length)){u.next=10;break}if(i=e.indexOf(t,r),a=e.substring(r,i>-1?i:void 0),r+=a.length+t.length,u.t0=n&&!a.trim(),u.t0){u.next=8;break}return u.next=8,a;case 8:u.next=1;break;case 10:case"end":return u.stop()}}),M)}function B(e){var t=e.includes("\r\n")?"\r\n":"\n";return F(e,t,!0)}function E(e,t){return F(e,t,!1)}function z(e,t,n){var r,i,a,u,s,c,f,h,d,p,v,m,y,g,_=arguments;return(0,l.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:r=_.length>3&&void 0!==_[3]?_[3]:function(){return Object.create(null)},i="",a="",u=0,s=r(),c=0,f=(0,o.Z)(e),l.prev=3,f.s();case 5:if((h=f.n()).done){l.next=47;break}d=h.value,p=E(d,n),v=(0,o.Z)(p),l.prev=9,v.s();case 11:if((m=v.n()).done){l.next=29;break}if(y=m.value,i+=a+y,a="",(u+=N(y))%2!=0){l.next=26;break}if(!(u>0)){l.next=22;break}if(g=S.exec(i)){l.next=19;break}return s=r(),c=0,i="",u=0,l.abrupt("continue",45);case 19:s[t[c]]=g[1].replace(I,'"'),c++,l.next=23;break;case 22:s[t[c]]=i,c++;case 23:i="",u=0,l.next=27;break;case 26:a=n;case 27:l.next=11;break;case 29:l.next=34;break;case 31:l.prev=31,l.t0=l.catch(9),v.e(l.t0);case 34:return l.prev=34,v.f(),l.finish(34);case 37:if(0!==u){l.next=44;break}return l.next=40,s;case 40:s=r(),c=0,l.next=45;break;case 44:a="\n";case 45:l.next=5;break;case 47:l.next=52;break;case 49:l.prev=49,l.t1=l.catch(3),f.e(l.t1);case 52:return l.prev=52,f.f(),l.finish(52);case 55:case"end":return l.stop()}}),w,null,[[3,49,52,55],[9,31,34,37]])}function N(e){var t=0,n=0;for(n=e.indexOf('"',n);n>=0;)t++,n=e.indexOf('"',n+1);return t}function T(e){var t=e.map((function(e){return e.toLowerCase()}));return{longitudeFieldName:e[t.indexOf(X.find((function(e){return t.includes(e)})))],latitudeFieldName:e[t.indexOf(Y.find((function(e){return t.includes(e)})))]}}function R(e,t,n,r){var i,a=[],u=z(e,n,t),s=[],l=(0,o.Z)(u);try{for(l.s();!(i=l.n()).done;){var c=i.value;if(10===s.length)break;s.push(c)}}catch(p){l.e(p)}finally{l.f()}var f,h=(0,o.Z)(n);try{var d=function(){var e=f.value;if(e===r.longitudeFieldName||e===r.latitudeFieldName)a.push({name:e,type:"esriFieldTypeDouble",alias:e});else{var t=A(s.map((function(t){return t[e]}))),n={name:e,type:null,alias:e};switch(t){case"integer":n.type="esriFieldTypeInteger";break;case"double":n.type="esriFieldTypeDouble";break;case"date":n.type="esriFieldTypeDate",n.length=36;break;default:n.type="esriFieldTypeString",n.length=255}a.push(n)}};for(h.s();!(f=h.n()).done;)d()}catch(p){h.e(p)}finally{h.f()}return a}function A(e){if(!e.length)return"string";var t=/[^+-.,0-9]/;return e.map((function(e){var n=!1;if(""!==e){if(t.test(e))n=!0;else{var r=O(e);if(!isNaN(r))return/[.,]/.test(e)||!Number.isInteger(r)||r>214783647||r<-214783648?"double":"integer";if(e.includes("E")){if(r=Number(e),!isNaN(r))return"double";if(e.includes(",")){if(e=e.replace(",","."),r=Number(e),!isNaN(r))return"double";n=!0}else n=!0}else n=!0}return n?/^[-]?\d*[.,]?\d*$/.test(e)?"string":C(new Date(e),e)?"date":"string":"string"}})).reduce((function(e,t){return void 0===e||e===t?t:"string"===e||"string"===t?"string":"double"===e||"double"===t?"double":void 0}))}function C(e,t){if(!e||"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))return!1;var n=!0;if(!q&&/\d+\W*$/.test(t)){var r=t.match(/[a-zA-Z]{2,}/);if(r){for(var i=!1,a=0;!i&&a<=r.length;)i=!L.test(r[a]),a++;n=!i}}return n}var O=function(){var e=(0,x.a)(),t=new RegExp("^"+e.regexp+"$"),n=new RegExp("["+e.group+"\\s\\xa0]","g"),r=e.factor;return function(i){var a=t.exec(i);if(e.factor=r,!a)return NaN;var u=a[1];if(!a[1]){if(!a[2])return NaN;u=a[2],e.factor*=-1}return+(u=u.replace(n,"").replace(e.decimal,"."))*e.factor}}(),L=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,q=Number.isNaN(new Date("technology 10").getTime()),Y=["lat","latitude","latitude83","latdecdeg","lat_dd","y","ycenter","point-y"],X=["lon","lng","long","longitude","longitude83","longdecdeg","long_dd","x","xcenter","point-x"],j=(0,_.u)("esriGeometryPoint"),P=["csv"],D=[0,0],G=(0,u.Z)((function e(t,n){(0,s.Z)(this,e),this.x=t,this.y=n})),U=function(){function e(){var t=this;(0,s.Z)(this,e),this._queryEngine=null,this._snapshotFeatures=function(){var e=(0,a.Z)((0,l.Z)().mark((function e(n){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._fetch(n);case 2:return r=e.sent,e.abrupt("return",t._createFeatures(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,u.Z)(e,[{key:"destroy",value:function(){var e;null!==(e=this._queryEngine)&&void 0!==e&&e.destroy(),this._queryEngine=null}},{key:"load",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(t){var n,r,a,u,s,o,c,f,h,d,p=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:{},this.loadOptions=t,e.next=4,Promise.all([this._fetch(r.signal),this._checkProjection(null===t||void 0===t||null===(n=t.parsingOptions)||void 0===n?void 0:n.spatialReference)]);case 4:return a=e.sent,u=(0,i.Z)(a,1),s=u[0],o=H(s,t),this.locationInfo=o.locationInfo,this.delimiter=o.delimiter,this._queryEngine=this._createQueryEngine(o),e.next=11,this._createFeatures(s);case 11:return c=e.sent,this._queryEngine.featureStore.addMany(c),o.layerDefinition.extent=this._queryEngine.fullExtent,o.layerDefinition.timeInfo&&(f=this._queryEngine.timeExtent,h=f.start,d=f.end,o.layerDefinition.timeInfo.timeExtent=[h,d]),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new f.a("csv-layer:editing-not-supported","applyEdits() is not supported on CSVLayer");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(){var t,n,r=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQuery(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(){var t,n,r=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForCount(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(){var t,n,r=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForIds(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(){var t,n,r=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForExtent(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(t){var n,r=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this._waitSnapshotComplete();case 3:return e.abrupt("return",this._queryEngine.executeQueryForSnapping(t,n.signal));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(t){var n,r=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadOptions.customParameters=t,null!==(n=this._snapshotTask)&&void 0!==n&&n.abort(),this._snapshotTask=(0,f.al)(this._snapshotFeatures),this._snapshotTask.promise.then((function(e){r._queryEngine.featureStore.clear(),e&&r._queryEngine.featureStore.addMany(e)}),(function(e){r._queryEngine.featureStore.clear(),(0,f.u)(e)||f.s.getLogger("esri.layers.CSVLayer").error(new f.a("csv-layer:refresh","An error occurred during refresh",{error:e}))})),e.next=6,this._waitSnapshotComplete();case 6:return e.abrupt("return",{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitSnapshotComplete",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._snapshotTask||this._snapshotTask.finished){e.next=9;break}return e.prev=1,e.next=4,this._snapshotTask.promise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",this._waitSnapshotComplete());case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(t){var n,i,a,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.loadOptions,i=n.url,a=n.customParameters,i){e.next=3;break}throw new f.a("csv-layer:invalid-source","url not defined");case 3:return u=(0,c.j)(i),e.next=6,(0,c.U)(u.path,{query:(0,r.Z)((0,r.Z)({},u.query),a),responseType:"text",signal:t});case 6:return e.abrupt("return",e.sent.data);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createQueryEngine",value:function(e){var t=e.layerDefinition,n=t.objectIdField,r=t.fields,i=t.extent,a=t.timeInfo,u=new m.u({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1});return new g.Y({fields:r,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:a,objectIdField:n,spatialReference:i.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:u})}},{key:"_createFeatures",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(t){var n,r,a,u,s,c,f,m,y,g,x,b,M,w,S,I,Z,F,E,N,T,R,A,L,q,Y,X,j,P,U,H,V,J,W,Q,$,K;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.locationInfo,r=n.latitudeFieldName,a=n.longitudeFieldName,u=this._queryEngine,s=u.objectIdField,c=u.fieldsIndex,f=u.spatialReference,m=[],y=[],g=c.fields.filter((function(e){return e.name!==s})).map((function(e){return e.name})),x=0,(b=B(t)).next(),M={},w=(0,o.Z)(c.fields);try{for(w.s();!(S=w.n()).done;)"esriFieldTypeOID"!==(I=S.value).type&&"esriFieldTypeGlobalID"!==I.type&&void 0!==(Z=(0,k.P)(I))&&(M[I.name]=Z)}catch(l){w.e(l)}finally{w.f()}F=z(b,g,this.delimiter,(0,_.a)(M,s)),E=(0,o.Z)(F);try{for(E.s();!(N=E.n()).done;)if(T=N.value,R=this._parseCoordinateValue(T[r]),null!=(A=this._parseCoordinateValue(T[a]))&&null!=R&&!isNaN(R)&&!isNaN(A)){for(L in T[r]=R,T[a]=A,T)L!==r&&L!==a&&(c.isDateField(L)?(q=new Date(T[L]),T[L]=C(q,T[L])?q.getTime():null):c.isNumericField(L)&&(Y=O(T[L]),isNaN(Y)?T[L]=null:T[L]=Y));T[s]=x,x++,m.push(new G(A,R)),y.push(T)}}catch(l){E.e(l)}finally{E.f()}if(!(0,p.E)({wkid:4326},f))if((0,p.f)(f)){X=(0,o.Z)(m);try{for(X.s();!(j=X.n()).done;)P=j.value,U=(0,p.y)(P.x,P.y,D),H=(0,i.Z)(U,2),P.x=H[0],P.y=H[1]}catch(l){X.e(l)}finally{X.f()}}else m=(0,h.l)(d.t,m,p.k.WGS84,f,null,null);for(V=[],J=0;J<m.length;J++)W=m[J],Q=W.x,$=W.y,(K=y[J])[s]=J+1,V.push(new v.s(new v.t([],[Q,$]),K,null,K[s]));return e.abrupt("return",V);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_parseCoordinateValue",value:function(e){if(null==e||""===e)return null;var t=O(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}},{key:"_checkProjection",value:function(){var e=(0,a.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.f)(p.n,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new f.a("csv-layer:projection-not-supported","Projection not supported");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function H(e,t){var n=t.parsingOptions||{},r={delimiter:n.delimiter,layerDefinition:null,locationInfo:{latitudeFieldName:n.latitudeField,longitudeFieldName:n.longitudeField}},i=B(e),a=i.next().value;if(!a)throw new f.a("csv-layer:empty-csv","CSV is empty",{csv:e});if(a=a.trim(),!n.delimiter){var u=function(e){var t,n=e.trim(),r=0,i="",a=(0,o.Z)(Z);try{for(a.s();!(t=a.n()).done;){var u=t.value,s=n.split(u).length;s>r&&(r=s,i=u)}}catch(l){a.e(l)}finally{a.f()}return""===i?null:i}(a);if(!u)throw new f.a("csv-layer:invalid-delimiter","Unable to detect the delimiter from CSV");r.delimiter=u}var s=a.split(r.delimiter).filter((function(e){return!!e})),l=r.layerDefinition={name:(0,c.q)(t.url,P)||"csv",drawingInfo:j,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:n.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:n.spatialReference||{wkid:102100}}};if(!n.latitudeField||!n.longitudeField){var h=T(s);if(!n.longitudeField&&!h.longitudeFieldName||!n.latitudeField&&!h.latitudeFieldName)throw new f.a("csv-layer:location-fields-not-found","Unable to identify latitude and longitude fields from the CSV file");r.locationInfo={longitudeFieldName:n.longitudeField||h.longitudeFieldName,latitudeFieldName:n.latitudeField||h.latitudeFieldName}}var d=R(i,r.delimiter,s,r.locationInfo);if(n.fields&&n.fields.length){var p,v=new Map,m=(0,o.Z)(n.fields);try{for(m.s();!(p=m.n()).done;){var y=p.value;v.set(y.name.toLowerCase(),y)}}catch(N){m.e(N)}finally{m.f()}var g,_=(0,o.Z)(d);try{for(_.s();!(g=_.n()).done;){var x=g.value,k=v.get(x.name.toLowerCase());if(k){var M=x.name;Object.assign(x,k),x.name=M}}}catch(N){_.e(N)}finally{_.f()}}if(l.fields=d,!l.fields.some((function(e){return"esriFieldTypeOID"===e.type&&(l.objectIdField=e.name,!0)}))){var w={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1};l.objectIdField=w.name,l.fields.unshift(w)}if(l.timeInfo){var S=new b.d(l.fields),I=l.timeInfo;if(I.startTimeField){var F=S.get(I.startTimeField);F?(I.startTimeField=F.name,F.type="esriFieldTypeDate"):I.startTimeField=null}if(I.endTimeField){var E=S.get(I.endTimeField);E?(I.endTimeField=E.name,E.type="esriFieldTypeDate"):I.endTimeField=null}if(I.trackIdField){var z=S.get(I.trackIdField);I.trackIdField=z?z.name:null}I.startTimeField||I.endTimeField||(l.timeInfo=null)}return r}t.default=U},86548:function(e,t,n){n.d(t,{h:function(){return m},u:function(){return y}});var r=n(37762),i=n(15671),a=n(43144),u=n(23132),s=n(80175),o=n(75610),l=n(72820),c=n(78311),f=n(61495),h=n(62268),d=n(86068),p={minX:0,minY:0,maxX:0,maxY:0};function v(e,t,n){(function(e){p.minX=e[0],p.minY=e[1],p.maxX=e[2],p.maxY=e[3]})(t),e.search(p,n)}var m=function(){function e(){var t=this;(0,i.Z)(this,e),this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new h.h(9,(0,o.a)("esri-csp-restrictions")?function(e){return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}}:["[0]","[1]","[2]","[3]"]),this._loadIndex=function(){if(t._indexInvalid){var e=new Array(t._idByBounds.size),n=0;t._idByBounds.forEach((function(t,r){e[n++]=r})),t._indexInvalid=!1,t._index.clear(),t._index.load(e)}else t._boundsToLoad.length&&(t._index.load(t._boundsToLoad.filter((function(e){return t._idByBounds.has(e)}))),t._boundsToLoad.length=0)}}return(0,a.Z)(e,[{key:"fullBounds",get:function(){if(!this._boundsById.size)return null;var e,t=(0,c.D)(),n=(0,r.Z)(this._boundsById.values());try{for(n.s();!(e=n.n()).done;){var i=e.value;i&&(t[0]=Math.min(i[0],t[0]),t[1]=Math.min(i[1],t[1]),t[2]=Math.max(i[2],t[2]),t[3]=Math.max(i[3],t[3]))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"valid",get:function(){return!this._indexInvalid}},{key:"clear",value:function(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}},{key:"delete",value:function(e){var t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))}},{key:"forEachInBounds",value:function(e,t){var n=this;this._loadIndex(),v(this._index,e,(function(e){return t(n._idByBounds.get(e))}))}},{key:"get",value:function(e){return this._boundsById.get(e)}},{key:"has",value:function(e){return this._boundsById.has(e)}},{key:"invalidateIndex",value:function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}},{key:"set",value:function(e,t){if(!this._indexInvalid){var n=this._boundsById.get(e);n&&(this._index.remove(n),this._idByBounds.delete(n))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>5e4&&this._loadIndex()))}}]),e}(),y=function(){function e(t){(0,i.Z)(this,e),this.geometryInfo=t,this._boundsStore=new m,this._featuresById=new Map,this._markedIds=new Set,this.events=new s.n,this.featureAdapter=d.i}return(0,a.Z)(e,[{key:"geometryType",get:function(){return this.geometryInfo.geometryType}},{key:"hasM",get:function(){return this.geometryInfo.hasM}},{key:"hasZ",get:function(){return this.geometryInfo.hasZ}},{key:"numFeatures",get:function(){return this._featuresById.size}},{key:"fullBounds",get:function(){return this._boundsStore.fullBounds}},{key:"storeStatistics",get:function(){var e=0;return this._featuresById.forEach((function(t){(0,o.r)(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}},{key:"add",value:function(e){this._add(e),this._emitChanged()}},{key:"addMany",value:function(e){var t,n=(0,r.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._add(i)}}catch(a){n.e(a)}finally{n.f()}this._emitChanged()}},{key:"clear",value:function(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}},{key:"removeById",value:function(e){var t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}},{key:"removeManyById",value:function(e){this._boundsStore.invalidateIndex();var t,n=(0,r.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=this._featuresById.get(i);a&&this._remove(a)}}catch(u){n.e(u)}finally{n.f()}this._emitChanged()}},{key:"forEachBounds",value:function(e,t,n){var i,a=(0,r.Z)(e);try{for(a.s();!(i=a.n()).done;){var u=i.value,s=this._boundsStore.get(u.objectId);s&&t((0,l.O)(n,s))}}catch(o){a.e(o)}finally{a.f()}}},{key:"getFeature",value:function(e){return this._featuresById.get(e)}},{key:"has",value:function(e){return this._featuresById.has(e)}},{key:"toArray",value:function(){return Array.from(this._featuresById.values())}},{key:"forEach",value:function(e){this._featuresById.forEach((function(t){return e(t)}))}},{key:"forEachInBounds",value:function(e,t){var n=this;this._boundsStore.forEachInBounds(e,(function(e){t(n._featuresById.get(e))}))}},{key:"startMarkingUsedFeatures",value:function(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}},{key:"sweep",value:function(){var e=this,t=!1;this._featuresById.forEach((function(n,r){e._markedIds.has(r)||(t=!0,e._remove(n))})),this._markedIds.clear(),t&&this._emitChanged()}},{key:"_emitChanged",value:function(){this.events.emit("changed",void 0)}},{key:"_add",value:function(e){if(e){var t=e.objectId;if(null!=t){var n,r=this._featuresById.get(t);if(this._markedIds.add(t),r?(e.displayId=r.displayId,n=this._boundsStore.get(t),this._boundsStore.delete(t)):(0,o.r)(this.onFeatureAdd)&&this.onFeatureAdd(e),(0,o.t)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)return this._boundsStore.set(t,null),void this._featuresById.set(t,e);n=(0,f.g)((0,o.r)(n)?n:(0,c.u)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),(0,o.r)(n)&&this._boundsStore.set(t,n),this._featuresById.set(t,e)}else u.s.getLogger("esri.layers.graphics.data.FeatureStore").error(new u.a("featurestore:invalid-feature","feature id is missing",{feature:e}))}}},{key:"_remove",value:function(e){return(0,o.r)(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}]),e}()},55827:function(e,t,n){n.d(t,{d:function(){return l}});var r=n(37762),i=n(15671),a=n(43144),u=n(50526);function s(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function o(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}var l=function(){function e(t){if((0,i.Z)(this,e),this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,t){var n,a,l=[],f=(0,r.Z)(t);try{for(f.s();!(n=f.n()).done;){var h=n.value,d=h&&h.name;if(d){var p=c(d);this._fieldsMap.set(d,h),this._fieldsMap.set(p,h),l.push(p),"date"===(a=h).type||"esriFieldTypeDate"===a.type?(this.dateFields.push(h),this._dateFieldsSet.add(h)):(0,u.B)(h)&&(this._numericFieldsSet.add(h),this.numericFields.push(h)),s(h)||o(h)||(h.editable=null==h.editable||!!h.editable,h.nullable=null==h.nullable||!!h.nullable)}}}catch(v){f.e(v)}finally{f.f()}l.sort(),this.uid=l.join(",")}}return(0,a.Z)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];var e,t=(0,r.Z)(this.fields);try{for(t.s();!(e=t.n()).done;){var n=e.value;s(n)||o(n)||n.nullable||void 0!==(0,u.P)(n)||this._requiredFields.push(n)}}catch(i){t.e(i)}finally{t.f()}}return this._requiredFields}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(c(e)):void 0}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"isNumericField",value:function(e){return this._numericFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t=this.get(e);if(t)return t.name}}]),e}();function c(e){return e.toLowerCase().trim()}},77470:function(e,t,n){n.d(t,{u:function(){return f}});var r=n(15671),i=n(43144),a=n(60136),u=n(29388),s=n(23132),o=n(80175),l=n(75610),c=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e))._groups=new Map,i}return(0,i.Z)(n,[{key:"destroy",value:function(){this.removeAll()}},{key:"size",get:function(){var e=0;return this._groups.forEach((function(t){e+=t.length})),e}},{key:"add",value:function(e,t){var n=this;if(!this._isHandle(e)&&!Array.isArray(e)&&!o.j.isCollection(e))return this;var r=this._getOrCreateGroup(t);return Array.isArray(e)||o.j.isCollection(e)?e.forEach((function(e){return n._isHandle(e)&&r.push(e)})):r.push(e),this.notifyChange("size"),this}},{key:"forEach",value:function(e,t){if("function"==typeof e)this._groups.forEach((function(t){return t.forEach(e)}));else{var n=this._getGroup(e);n&&t&&n.forEach(t)}}},{key:"has",value:function(e){return this._groups.has(this._ensureGroupKey(e))}},{key:"remove",value:function(e){if(Array.isArray(e)||o.j.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),n=0;n<t.length;n++)t[n].remove();return this._deleteGroup(e),this.notifyChange("size"),this}},{key:"removeAll",value:function(){return this._groups.forEach((function(e){for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}},{key:"_isHandle",value:function(e){return e&&!!e.remove}},{key:"_getOrCreateGroup",value:function(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}},{key:"_getGroup",value:function(e){return(0,l.q)(this._groups.get(this._ensureGroupKey(e)))}},{key:"_deleteGroup",value:function(e){return this._groups.delete(this._ensureGroupKey(e))}},{key:"_ensureGroupKey",value:function(e){return e||"_default_"}}]),n}(s.y);(0,s.e)([(0,s.d)({readOnly:!0})],c.prototype,"size",null);var f=c=(0,s.e)([(0,s.n)("esri.core.Handles")],c)},47626:function(e,t,n){n.d(t,{e:function(){return u}});var r=n(15671),i=n(43144),a=n(25316),u=function(){function e(t,n){(0,r.Z)(this,e),this._storage=new a.h,this._storage.maxSize=t,n&&this._storage.registerRemoveFunc("",n)}return(0,i.Z)(e,[{key:"put",value:function(e,t){this._storage.put(e,t,1,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}}]),e}()},25316:function(e,t,n){n.d(t,{h:function(){return d},i:function(){return r},r:function(){return h},s:function(){return f}});var r,i,a=n(29439),u=n(37762),s=n(15671),o=n(43144),l=n(75610),c=n(23132),f=-3;(i=r||(r={}))[i.ALL=0]="ALL",i[i.SOME=1]="SOME";var h=function(){function e(t,n,r){(0,s.Z)(this,e),this._namespace=t,this._storage=n,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}return(0,o.Z)(e,[{key:"destroy",value:function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}},{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"put",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this._namespace+e,t,n,r)}},{key:"get",value:function(e){var t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,n){this._storage.updateSize(this._namespace+e,t,n)}},{key:"clear",value:function(){this._storage.clear(this._namespace)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"getStats",value:function(){return this._storage.getStats()}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;(0,s.Z)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new c.ab,this._users=new c.ab}return(0,o.Z)(e,[{key:"destroy",value:function(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}},{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs.filterInPlace((function(t){return t[0]!==e}))}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}},{key:"put",value:function(e,t,n,i){var a=this._db.get(e);if(a&&(this._size-=a.size,this._db.delete(e),a.entry!==t&&this._notifyRemove(e,a.entry,r.ALL)),n>this._maxSize)this._notifyRemove(e,t,r.ALL);else if(void 0!==t)if(!n||n<0)console.warn("Refusing to cache entry with invalid size "+n);else{var u=1+Math.max(i,f)-f;this._db.set(e,{entry:t,size:n,lifetime:u,lives:u}),this._size+=n,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,n){var i=this._db.get(e);if(i&&i.entry===t){for(this._size-=i.size;n>this._maxSize;){var a=this._notifyRemove(e,t,r.SOME);if(!((0,l.r)(a)&&a>0))return void this._db.delete(e);n=a}i.size=n,this._size+=n,this._checkSizeLimit()}}},{key:"pop",value:function(e){var t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}},{key:"get",value:function(e){var t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}},{key:"getStats",value:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},n={},r=new Array;this._db.forEach((function(t,i){var a=t.lifetime;r[a]=(r[a]||0)+t.size,e._users.forAll((function(e){var r=e.namespace;if(i.startsWith(r)){var a=n[r]||0;n[r]=a+t.size}}))}));var i={};this._users.forAll((function(e){var t=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){var r=n[t]||0;n[t]=r,i[t]=Math.round(100*e.hitRate)+"%"}else i[t]="0%"}));var a=Object.keys(n);a.sort((function(e,t){return n[t]-n[e]})),a.forEach((function(e){return t[e]=Math.round(n[e]/Math.pow(2,20))+"MB / "+i[e]}));for(var u=r.length-1;u>=0;--u){var s=r[u];s&&(t["Priority "+(u+f-1)]=Math.round(s/this.size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this;this._db.forEach((function(n,i){i.startsWith(e)&&(t._size-=n.size,t._db.delete(i),t._notifyRemove(i,n.entry,r.ALL))}))}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,n){return e._notifyRemove(n,t.entry,r.ALL)})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemove",value:function(e,t,n){var r;return this._removeFuncs.some((function(i){if(e.startsWith(i[0])){var a=i[1](t,n);return"number"==typeof a&&(r=a),!0}return!1})),r}},{key:"_checkSizeLimit",value:function(){if(!(this._size<=this._maxSize)){var e,t=(0,u.Z)(this._db);try{for(t.s();!(e=t.n()).done;){var n=(0,a.Z)(e.value,2),i=n[0],s=n[1];if(this._db.delete(i),s.lives<=1){this._size-=s.size;var o=this._notifyRemove(i,s.entry,r.SOME);(0,l.r)(o)&&o>0&&(this._size+=o,s.lives=s.lifetime,s.size=o,this._db.set(i,s))}else--s.lives,this._db.set(i,s);if(this._size<=.9*this.maxSize)return}}catch(c){t.e(c)}finally{t.f()}}}}]),e}()},62268:function(e,t,n){n.d(t,{h:function(){return f}});var r=n(60136),i=n(29388),a=n(37762),u=n(15671),s=n(43144),o=n(75610),l=n(23132),c=n(18392),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1?arguments[1]:void 0;(0,u.Z)(this,e),this.compareMinX=v,this.compareMinY=m,this._toBBox=function(e){return e},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this._toBBox=n:this._initFormat(n)),this.clear()}return(0,s.Z)(e,[{key:"destroy",value:function(){this.clear(),w.prune(),S.prune(),I.prune(),Z.prune()}},{key:"all",value:function(e){this._all(this.data,e)}},{key:"search",value:function(e,t){var n=this.data,r=this._toBBox;if(k(e,n))for(w.clear();n;){for(var i=0,a=n.children.length;i<a;i++){var u=n.children[i],s=n.leaf?r(u):u;k(e,s)&&(n.leaf?t(u):b(e,s)?this._all(u,t):w.push(u))}n=w.pop()}}},{key:"collides",value:function(e){var t=this.data,n=this._toBBox;if(!k(e,t))return!1;for(w.clear();t;){for(var r=0,i=t.children.length;r<i;r++){var a=t.children[r],u=t.leaf?n(a):a;if(k(e,u)){if(t.leaf||b(e,u))return!0;w.push(a)}}t=w.pop()}return!1}},{key:"load",value:function(e){if(!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(0,e.length),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this}},{key:"insert",value:function(e){return e&&this._insert(e,this.data.height-1),this}},{key:"clear",value:function(){return this.data=new B([]),this}},{key:"remove",value:function(e){if(!e)return this;var t,n=this.data,r=null,i=0,a=!1,u=this._toBBox(e);for(I.clear(),Z.clear();n||I.length>0;){var s;if(n||(n=(0,o.q)(I.pop()),r=I.data[I.length-1],i=null!==(s=Z.pop())&&void 0!==s?s:0,a=!0),n.leaf&&-1!==(t=(0,o.v)(n.children,e,n.children.length,n.indexHint)))return n.children.splice(t,1),I.push(n),this._condense(I),this;a||n.leaf||!b(n,u)?r?(i++,n=r.children[i],a=!1):n=null:(I.push(n),Z.push(i),i=0,r=n,n=n.children[0])}return this}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(e){return this.data=e,this}},{key:"_all",value:function(e,t){var n=e;for(S.clear();n;){var r;if(!0===n.leaf){var i,u=(0,a.Z)(n.children);try{for(u.s();!(i=u.n()).done;){t(i.value)}}catch(s){u.e(s)}finally{u.f()}}else S.pushArray(n.children);n=null!==(r=S.pop())&&void 0!==r?r:null}}},{key:"_build",value:function(e,t,n,r){var i=n-t+1,a=this._maxEntries;if(i<=a){var u=new B(e.slice(t,n+1));return h(u,this._toBBox),u}r||(r=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,r-1)));var s=new E([]);s.height=r;var o=Math.ceil(i/a),l=o*Math.ceil(Math.sqrt(a));M(e,t,n,l,this.compareMinX);for(var c=t;c<=n;c+=l){var f=Math.min(c+l-1,n);M(e,c,f,o,this.compareMinY);for(var d=c;d<=f;d+=o){var p=Math.min(d+o-1,f);s.children.push(this._build(e,d,p,r-1))}}return h(s,this._toBBox),s}},{key:"_chooseSubtree",value:function(e,t,n,r){for(;r.push(t),!0!==t.leaf&&r.length-1!==n;){for(var i=void 0,a=1/0,u=1/0,s=0,o=t.children.length;s<o;s++){var l=t.children[s],c=y(l),f=_(e,l)-c;f<u?(u=f,a=c<a?c:a,i=l):f===u&&c<a&&(a=c,i=l)}t=i||t.children[0]}return t}},{key:"_insert",value:function(e,t,n){var r=this._toBBox,i=n?e:r(e);I.clear();var a=this._chooseSubtree(i,this.data,t,I);for(a.children.push(e),p(a,i);t>=0&&I.data[t].children.length>this._maxEntries;)this._split(I,t),t--;this._adjustParentBBoxes(i,I,t)}},{key:"_split",value:function(e,t){var n=e.data[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r);if(a){var u=n.children.splice(a,n.children.length-a),s=n.leaf?new B(u):new E(u);s.height=n.height,h(n,this._toBBox),h(s,this._toBBox),t?e.data[t-1].children.push(s):this._splitRoot(n,s)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(e,t){this.data=new E([e,t]),this.data.height=e.height+1,h(this.data,this._toBBox)}},{key:"_chooseSplitIndex",value:function(e,t,n){var r,i,a;r=i=1/0;for(var u=t;u<=n-t;u++){var s=d(e,0,u,this._toBBox),o=d(e,u,n,this._toBBox),l=x(s,o),c=y(s)+y(o);l<r?(r=l,a=u,i=c<i?c:i):l===r&&c<i&&(i=c,a=u)}return a}},{key:"_chooseSplitAxis",value:function(e,t,n){var r=e.leaf?this.compareMinX:v,i=e.leaf?this.compareMinY:m;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)}},{key:"_allDistMargin",value:function(e,t,n,r){e.children.sort(r);for(var i=this._toBBox,a=d(e,0,t,i),u=d(e,n-t,n,i),s=g(a)+g(u),o=t;o<n-t;o++){var l=e.children[o];p(a,e.leaf?i(l):l),s+=g(a)}for(var c=n-t-1;c>=t;c--){var f=e.children[c];p(u,e.leaf?i(f):f),s+=g(u)}return s}},{key:"_adjustParentBBoxes",value:function(e,t,n){for(var r=n;r>=0;r--)p(t.data[r],e)}},{key:"_condense",value:function(e){for(var t=e.length-1;t>=0;t--){var n=e.data[t];if(0===n.children.length)if(t>0){var r=e.data[t-1],i=r.children;i.splice((0,o.v)(i,n,i.length,r.indexHint),1)}else this.clear();else h(n,this._toBBox)}}},{key:"_initFormat",value:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}]),e}();function h(e,t){d(e,0,e.children.length,t,e)}function d(e,t,n,r,i){i||(i=new B([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,u=t;u<n;u++)a=e.children[u],p(i,e.leaf?r(a):a);return i}function p(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function v(e,t){return e.minX-t.minX}function m(e,t){return e.minY-t.minY}function y(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function g(e){return e.maxX-e.minX+(e.maxY-e.minY)}function _(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function x(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,a-r)}function b(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function k(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function M(e,t,n,r,i){for(var a=[t,n];a.length;){var u=(0,o.q)(a.pop()),s=(0,o.q)(a.pop());if(!(u-s<=r)){var l=s+Math.ceil((u-s)/r/2)*r;(0,c.a)(e,l,s,u,i),a.push(s,l,l,u)}}}var w=new l.ab,S=new l.ab,I=new l.ab,Z=new l.ab({deallocator:void 0}),F=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments)).height=1,e.indexHint=new o.g,e}return(0,s.Z)(n)}((0,s.Z)((function e(){(0,u.Z)(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}))),B=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).children=e,r.leaf=!0,r}return(0,s.Z)(n)}(F),E=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).children=e,r.leaf=!1,r}return(0,s.Z)(n)}(F)},72820:function(e,t,n){n.d(t,{A:function(){return E},B:function(){return z},C:function(){return L},D:function(){return q},E:function(){return k},F:function(){return x},G:function(){return N},H:function(){return Y},I:function(){return v},M:function(){return h},N:function(){return y},O:function(){return T},R:function(){return S},S:function(){return A},V:function(){return I},Y:function(){return Z},a:function(){return u},b:function(){return M},c:function(){return c},f:function(){return l},g:function(){return g},h:function(){return f},j:function(){return w},k:function(){return C},l:function(){return p},m:function(){return o},p:function(){return _},q:function(){return F},s:function(){return d},u:function(){return s},v:function(){return O},w:function(){return B},y:function(){return m},z:function(){return b}});var r=n(75610),i=n(80262),a=n(78311);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;return[e[0],e[1],e[2],e[3],e[4],e[5]]}function s(e,t,n,r,i,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:u();return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i,s[5]=a,s}function o(e,t){var n=isFinite(e[2])||isFinite(e[5]);return new i.M(n?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function l(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function c(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function f(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function h(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length/3,i=e[0],a=e[1],u=e[2],s=e[3],o=e[4],l=e[5],c=0;c<r;c++)i=Math.min(i,t[n+3*c]),a=Math.min(a,t[n+3*c+1]),u=Math.min(u,t[n+3*c+2]),s=Math.max(s,t[n+3*c]),o=Math.max(o,t[n+3*c+1]),l=Math.max(l,t[n+3*c+2]);e[0]=i,e[1]=a,e[2]=u,e[3]=s,e[4]=o,e[5]=l}function d(e,t,n){var r=t.length,i=e[0],a=e[1],u=e[2],s=e[3],o=e[4],l=e[5];if(n)for(var c=0;c<r;c++){var f=t[c];i=Math.min(i,f[0]),a=Math.min(a,f[1]),u=Math.min(u,f[2]),s=Math.max(s,f[0]),o=Math.max(o,f[1]),l=Math.max(l,f[2])}else for(var h=0;h<r;h++){var d=t[h];i=Math.min(i,d[0]),a=Math.min(a,d[1]),s=Math.max(s,d[0]),o=Math.max(o,d[1])}e[0]=i,e[1]=a,e[2]=u,e[3]=s,e[4]=o,e[5]=l}function p(e){for(var t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function v(e){return e[0]>=e[3]?0:e[3]-e[0]}function m(e){return e[1]>=e[4]?0:e[4]-e[1]}function y(e){return e[2]>=e[5]?0:e[5]-e[2]}function g(e){var t=v(e),n=y(e),r=m(e);return Math.sqrt(t*t+n*n+r*r)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return t[0]=e[0]+v(e)/2,t[1]=e[1]+m(e)/2,t[2]=e[2]+y(e)/2,t}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return t[0]=v(e),t[1]=m(e),t[2]=y(e),t}function b(e){return Math.max(v(e),y(e),m(e))}function k(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function M(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[3]<=e[3]&&t[4]<=e[4]&&t[5]<=e[5]}function w(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function S(e,t){return!!(0,r.t)(t)||w(e,t)}function I(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e;return i[0]=e[0]+t,i[1]=e[1]+n,i[2]=e[2]+r,i[3]=e[3]+t,i[4]=e[4]+n,i[5]=e[5]+r,i}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=e[0]+v(e)/2,i=e[1]+m(e)/2,a=e[2]+y(e)/2;return n[0]=r+(e[0]-r)*t,n[1]=i+(e[1]-i)*t,n[2]=a+(e[2]-a)*t,n[3]=r+(e[3]-r)*t,n[4]=i+(e[4]-i)*t,n[5]=a+(e[5]-a)*t,n}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function E(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function z(e){return e?E(e,q):u(q)}function N(e,t){return t||(t=(0,a.u)()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function T(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function R(e){return 6===e.length}function A(e){return 0===v(e)&&0===m(e)&&0===y(e)}function C(e,t,n){if((0,r.t)(e)||(0,r.t)(t))return e===t;if(!R(e)||!R(t))return!1;if(n){for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1}else for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}function O(e,t,n,r,i,a){return s(e,t,n,r,i,a,X)}var L=[-1/0,-1/0,-1/0,1/0,1/0,1/0],q=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Y=[0,0,0,0,0,0],X=u()},78311:function(e,t,n){n.d(t,{D:function(){return z},E:function(){return I},F:function(){return M},H:function(){return T},I:function(){return R},J:function(){return A},K:function(){return C},M:function(){return v},R:function(){return Z},U:function(){return F},a:function(){return o},b:function(){return x},c:function(){return c},d:function(){return B},e:function(){return s},f:function(){return f},g:function(){return b},h:function(){return d},j:function(){return k},l:function(){return y},m:function(){return h},o:function(){return l},p:function(){return _},q:function(){return S},s:function(){return m},u:function(){return u},w:function(){return w},x:function(){return p},y:function(){return g},z:function(){return E}});var r=n(75610),i=n(2760),a=n(80262);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return[e[0],e[1],e[2],e[3]]}function s(e){return[e[0],e[1],e[2],e[3]]}function o(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function l(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u();return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u();return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function f(e,t){return new a.M({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function h(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function d(e,t,n){if((0,r.t)(t))o(n,e);else if("length"in t)N(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}}function p(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=t.length,i=e[0],a=e[1],u=e[2],s=e[3],o=0;o<r;o++){var l=t[o];i=Math.min(i,l[0]),a=Math.min(a,l[1]),u=Math.max(u,l[0]),s=Math.max(s,l[1])}return n[0]=i,n[1]=a,n[2]=u,n[3]=s,n}function v(e){for(var t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function m(e){return(0,r.t)(e)||e[0]>=e[2]?0:e[2]-e[0]}function y(e){return e[1]>=e[3]?0:e[3]-e[1]}function g(e){return m(e)*y(e)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function x(e,t){return w(e,t[0],t[1])}function b(e,t){var n=t[3],r=.5*(e[0]+e[2]),i=Math.abs(t[0]-r),a=.5*(e[2]-e[0]);if(i>n+a)return!1;var u=.5*(e[1]+e[3]),s=.5*(e[3]-e[1]),o=Math.abs(t[1]-u);if(o>n+s)return!1;if(i<a||o<s)return!0;var l=i-a,c=o-s;return l*l+c*c<=n*n}function k(e,t,n){var r=e[0],i=e[1],a=e[2],u=e[3],s=t.x,o=t.y,l=n.x,c=n.y,f=function(e,t){return(c-o)*e+(s-l)*t+(l*o-s*c)<0},h=f(r,u),d=f(a,u),p=f(a,i),v=f(r,i);return!(h===d&&d===p&&p===v&&v===h||s<r&&l<r||s>a&&l>a||o>u&&c>u||o<i&&c<i)}function M(e,t){return w(e,t.x,t.y)}function w(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function S(e,t,n){return t[0]>=e[0]-n&&t[1]>=e[1]-n&&t[0]<=e[2]+n&&t[1]<=e[3]+n}function I(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function Z(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function F(e,t,n){if((0,r.t)(t))return o(n,e);var a=t[0],u=t[1],s=t[2],l=t[3];return n[0]=(0,i.o)(e[0],a,s),n[1]=(0,i.o)(e[1],u,l),n[2]=(0,i.o)(e[2],a,s),n[3]=(0,i.o)(e[3],u,l),n}function B(e,t){var n=(e[0]+e[2])/2,r=(e[1]+e[3])/2,i=Math.max(Math.abs(t[0]-n)-m(e)/2,0),a=Math.max(Math.abs(t[1]-r)-y(e)/2,0);return Math.sqrt(i*i+a*a)}function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return r[0]=e[0]+t,r[1]=e[1]+n,r[2]=e[2]+t,r[3]=e[3]+n,r}function z(e){return e?o(e,C):u(C)}function N(e){return null!=e&&4===e.length}function T(e){return!(0!==m(e)&&isFinite(e[0])||0!==y(e)&&isFinite(e[1]))}function R(e,t){return N(e)&&N(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}var A=[-1/0,-1/0,1/0,1/0],C=[1/0,1/0,-1/0,-1/0],O=[0,0,0,0]},81642:function(e,t,n){n.d(t,{a:function(){return f},c:function(){return d},l:function(){return h},u:function(){return o}});var r=n(4942),i=n(1413),a=n(75610),u=n(14739),s=n(50338);function o(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.l:"esriGeometryPolyline"===e?s.o:s.S}}}var l=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,c=1;function f(e,t){if((0,a.a)("esri-csp-restrictions"))return function(){return(0,i.Z)((0,r.Z)({},t,null),e)};try{var n="this.".concat(t," = null;");for(var u in e)n+="this".concat(l.test(u)?".".concat(u):'["'.concat(u,'"]')," = ").concat(JSON.stringify(e[u]),";");var s=new Function("\n      return class AttributesClass$".concat(c++," {\n        constructor() {\n          ").concat(n,";\n        }\n      }\n    "))();return function(){return new s}}catch(s){return function(){return(0,i.Z)((0,r.Z)({},t,null),e)}}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,a.m)(e)}}]}function d(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:u.t,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},50338:function(e,t,n){n.d(t,{S:function(){return s},e:function(){return r},i:function(){return i},l:function(){return a},o:function(){return u},r:function(){return l},s:function(){return c},t:function(){return o},y:function(){return f}});var r=[252,146,31,255],i=[153,153,153,255],a={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},u={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},s={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},o={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},f={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},1241:function(e,t,n){n.d(t,{L:function(){return F},i:function(){return v},r:function(){return p},s:function(){return m},z:function(){return E}});var r=n(74165),i=n(1413),a=n(29439),u=n(15861),s=n(37762),o=n(75610),l=n(23132),c=n(36460),f=n(30709),h=n(30604),d=(n(91204),n(57714)),p={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new c.m({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:f.k.WebMercator}),minus180Line:new c.m({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:f.k.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new c.m({paths:[[[180,-180],[180,180]]],spatialReference:f.k.WGS84}),minus180Line:new c.m({paths:[[[-180,-180],[-180,180]]],spatialReference:f.k.WGS84})}};function v(e,t){return Math.ceil((e-t)/(2*t))}function m(e,t){var n,r=y(e),i=(0,s.Z)(r);try{for(i.s();!(n=i.n()).done;){var a,u=n.value,o=(0,s.Z)(u);try{for(o.s();!(a=o.n()).done;){a.value[0]+=t}}catch(l){o.e(l)}finally{o.f()}}}catch(l){i.e(l)}finally{i.f()}return e}function y(e){return(0,h.c)(e)?e.rings:e.paths}function g(e,t,n,r){return _.apply(this,arguments)}function _(){return _=(0,u.Z)((0,r.Z)().mark((function e(t,n,a,u){var s,o,l,c,f,p,v,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="string"==typeof t?(0,d.j)(t):t,o=n[0].spatialReference,l=(0,i.Z)((0,i.Z)({},u),{},{query:(0,i.Z)((0,i.Z)({},s.query),{},{f:"json",sr:JSON.stringify(o),target:JSON.stringify({geometryType:(0,h.v)(n[0]),geometries:n}),cutter:JSON.stringify(a)})}),e.next=5,(0,d.U)(s.path+"/cut",l);case 5:return c=e.sent,f=c.data,p=f.cutIndexes,v=f.geometries,m=void 0===v?[]:v,e.abrupt("return",{cutIndexes:p,geometries:m.map((function(e){var t=(0,h.d)(e);return t.spatialReference=o,t}))});case 11:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function x(e,t,n){return b.apply(this,arguments)}function b(){return b=(0,u.Z)((0,r.Z)().mark((function e(t,n,a){var u,s,o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="string"==typeof t?(0,d.j)(t):t,s=n[0].spatialReference,o=(0,h.v)(n[0]),l=(0,i.Z)((0,i.Z)({},a),{},{query:(0,i.Z)((0,i.Z)({},u.query),{},{f:"json",sr:s.wkid?s.wkid:JSON.stringify(s),geometries:JSON.stringify(k(n))})}),e.t0=M,e.next=4,(0,d.U)(u.path+"/simplify",l);case 4:return e.t1=e.sent.data,e.t2=o,e.t3=s,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function k(e){return{geometryType:(0,h.v)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function M(e,t,n){var r=(0,h.a)(t);return e.map((function(e){var t=r.fromJSON(e);return t.spatialReference=n,t}))}var w=l.s.getLogger("esri.geometry.support.normalizeUtils");function S(e,t,n){if(t){var r=function(e,t){if(!(e instanceof c.m||e instanceof c.v)){var n="straightLineDensify: the input geometry is neither polyline nor polygon";throw w.error(n),new l.a(n)}var r,i=y(e),a=[],u=(0,s.Z)(i);try{for(u.s();!(r=u.n()).done;){var o=r.value,f=[];a.push(f),f.push([o[0][0],o[0][1]]);for(var h=0;h<o.length-1;h++){var d=o[h][0],p=o[h][1],v=o[h+1][0],m=o[h+1][1],g=Math.sqrt((v-d)*(v-d)+(m-p)*(m-p)),_=(m-p)/g,x=(v-d)/g,b=g/t;if(b>1){for(var k=1;k<=b-1;k++){var M=k*t,S=x*M+d,I=_*M+p;f.push([S,I])}var Z=(g+Math.floor(b-1)*t)/2,F=x*Z+d,B=_*Z+p;f.push([F,B])}f.push([v,m])}}}catch(E){u.e(E)}finally{u.f()}return function(e){return"polygon"===e.type}(e)?new c.v({rings:a,spatialReference:e.spatialReference}):new c.m({paths:a,spatialReference:e.spatialReference})}(e,1e6);e=(0,f.a)(r,!0)}return n&&(e=m(e,n)),e}function I(e,t,n){if(Array.isArray(e)){var r=e[0];if(r>t){var i=v(r,t);e[0]=r+i*(-2*t)}else if(r<n){var a=v(r,n);e[0]=r+a*(-2*n)}}else{var u=e.x;if(u>t){var s=v(u,t);e=e.clone().offset(s*(-2*t),0)}else if(u<n){var o=v(u,n);e=e.clone().offset(o*(-2*n),0)}}return e}function Z(e,t){for(var n=-1,r=function(r){for(var i=t.cutIndexes[r],a=t.geometries[r],u=y(a),o=function(e){var t=u[e];t.some((function(n){if(n[0]<180)return!0;for(var r=0,i=0;i<t.length;i++){var u=t[i][0];r=u>r?u:r}for(var s=-360*v(r=Number(r.toFixed(9)),180),o=0;o<t.length;o++){var l=a.getPoint(e,o);a.setPoint(e,o,l.clone().offset(s,0))}return!0}))},l=0;l<u.length;l++)o(l);if(i===n){if(function(e){return"polygon"===e[0].type}(e)){var c,f=(0,s.Z)(y(a));try{for(f.s();!(c=f.n()).done;){var h=c.value;e[i]=e[i].addRing(h)}}catch(g){f.e(g)}finally{f.f()}}else if(function(e){return"polyline"===e[0].type}(e)){var d,p=(0,s.Z)(y(a));try{for(p.s();!(d=p.n()).done;){var m=d.value;e[i]=e[i].addPath(m)}}catch(g){p.e(g)}finally{p.f()}}}else n=i,e[i]=a},i=0;i<t.cutIndexes.length;i++)r(i);return e}function F(e,t,n){return B.apply(this,arguments)}function B(){return B=(0,u.Z)((0,r.Z)().mark((function e(t,n,i){var a,u,l,h,d,y,_,b,k,M,B,E,z,N,T,R,A,C,O,L,q,Y,X,j,P,D,G,U,H,V,J,W,Q,$,K,ee,te,ne,re,ie,ae;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",F([t],n));case 2:n&&"string"!=typeof n&&w.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead"),u="string"==typeof n?n:null!==(a=null===n||void 0===n?void 0:n.url)&&void 0!==a?a:o.b.geometryServiceUrl,B=0,E=[],z=[],N=(0,s.Z)(t);try{for(N.s();!(T=N.n()).done;)R=T.value,(0,o.t)(R)?z.push(R):(l||(l=R.spatialReference,h=(0,f.b)(l),d=l.isWebMercator,y=p[b=d?102100:4326].maxX,_=p[b].minX,k=p[b].plus180Line,M=p[b].minus180Line),h?"mesh"===R.type?z.push(R):"point"===R.type?z.push(I(R.clone(),y,_)):"multipoint"===R.type?((A=R.clone()).points=A.points.map((function(e){return I(e,y,_)})),z.push(A)):"extent"===R.type?(C=R.clone()._normalize(!1,!1,h),z.push(C.rings?new c.v(C):C)):R.extent?(O=R.extent,L=v(O.xmin,_)*(2*y),q=0===L?R.clone():m(R.clone(),L),O.offset(L,0),O.intersects(k)&&O.xmax!==y?(B=O.xmax>B?O.xmax:B,q=S(q,d),E.push(q),z.push("cut")):O.intersects(M)&&O.xmin!==_?(B=O.xmax*(2*y)>B?O.xmax*(2*y):B,q=S(q,d,360),E.push(q),z.push("cut")):z.push(q)):z.push(R.clone()):z.push(R))}catch(r){N.e(r)}finally{N.f()}for(Y=v(B,y),X=-90,j=Y,P=new c.m;Y>0;)D=360*Y-180,P.addPath([[D,X],[D,-1*X]]),X*=-1,Y--;if(!(E.length>0&&j>0)){e.next=29;break}return e.t0=Z,e.t1=E,e.next=16,g(u,E,P,i);case 16:for(e.t2=e.sent,G=(0,e.t0)(e.t1,e.t2),U=[],H=[],V=0;V<z.length;V++)"cut"!==(J=z[V])?H.push(J):(W=G.shift(),Q=t[V],(0,o.r)(Q)&&"polygon"===Q.type&&Q.rings&&Q.rings.length>1&&W.rings.length>=Q.rings.length?(U.push(W),H.push("simplify")):H.push(d?(0,f.R)(W):W));if(U.length){e.next=23;break}return e.abrupt("return",H);case 23:return e.next=25,x(u,U,i);case 25:for($=e.sent,K=[],ee=0;ee<H.length;ee++)"simplify"!==(te=H[ee])?K.push(te):K.push(d?(0,f.R)($.shift()):$.shift());return e.abrupt("return",K);case 29:for(ne=[],re=0;re<z.length;re++)"cut"!==(ie=z[re])?ne.push(ie):(ae=E.shift(),ne.push(!0===d?(0,f.R)(ae):ae));return e.abrupt("return",ne);case 32:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function E(e,t){var n=(0,f.b)(t);if(n){var r=(0,a.Z)(n.valid,2),i=r[0],u=r[1],s=u-i;if(e<i)for(;e<i;)e+=s;if(e>u)for(;e>u;)e-=s}return e}},92029:function(e,t,n){n.d(t,{a:function(){return f},p:function(){return h},s:function(){return l}});var r=n(1413),i=n(29439),a=n(23132),u=n(43920),s={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function o(e){e||(e=(0,u.l)());var t=e in s;if(!t){var n=e.split("-");n.length>1&&n[0]in s&&(e=n[0],t=!0),t||(e="en")}var r=(0,i.Z)(s[e],3),a=r[0],o=r[1],l=r[2];return{decimal:a,group:o,pattern:void 0===l?"#,##0.###":l}}function l(e,t){var n=o((t=(0,r.Z)({},t)).locale);t.customs=n;var i=t.pattern||n.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,n){var r=(n=n||{}).customs.group,i=n.customs.decimal,a=t.split(";"),u=a[0];if((t=a[e<0?1:0]||"-"+u).includes("%"))e*=100;else if(t.includes("\u2030"))e*=1e3;else{if(t.includes("\xa4"))throw new Error("currency notation not supported");if(t.includes("E"))throw new Error("exponential notation not supported")}var s=c,o=u.match(s);if(!o)throw new Error("unable to find a number expression in pattern: "+t);return!1===n.fractional&&(n.places=0),t.replace(s,function(e,t,n){!0===(n=n||{}).places&&(n.places=0),n.places===1/0&&(n.places=6);var r=t.split("."),i="string"==typeof n.places&&n.places.indexOf(","),a=n.places;i?a=n.places.substring(i+1):a>=0||(a=(r[1]||[]).length),n.round<0||(e=Number(e.toFixed(Number(a))));var u=String(Math.abs(e)).split("."),s=u[1]||"";if(r[1]||n.places){i&&(n.places=n.places.substring(0,i));var o=void 0!==n.places?n.places:r[1]&&r[1].lastIndexOf("0")+1;o>s.length&&(u[1]=s.padEnd(Number(o),"0")),a<s.length&&(u[1]=s.substr(0,Number(a)))}else u[1]&&u.pop();var l=r[0].replace(",",""),c=l.indexOf("0");-1!==c&&((c=l.length-c)>u[0].length&&(u[0]=u[0].padStart(c,"0")),l.includes("#")||(u[0]=u[0].substr(u[0].length-c)));var f,h,d=r[0].lastIndexOf(",");if(-1!==d){f=r[0].length-d-1;var p=r[0].substr(0,d);-1!==(d=p.lastIndexOf(","))&&(h=p.length-d-1)}for(var v=[],m=u[0];m;){var y=m.length-f;v.push(y>0?m.substr(y):m),m=y>0?m.slice(0,y):"",h&&(f=h,h=void 0)}return u[0]=v.reverse().join(n.group||","),u.join(n.decimal||".")}(e,o[0],{decimal:i,group:r,places:n.places,round:n.round}))}(e,i,t)}var c=/[#0,]*[#0](?:\.0*#*)?/;function f(e){var t=o((e=e||{}).locale),n=e.pattern||t.pattern,r=t.group,i=t.decimal,u=1;if(n.includes("%"))u/=100;else if(n.includes("\u2030"))u/=1e3;else if(n.includes("\xa4"))throw new Error("currency notation not supported");var s=n.split(";");1===s.length&&s.push("-"+s[0]);var l=p(s,(function(t){return(t="(?:"+(0,a.o)(t,".")+")").replace(c,(function(t){var n={signed:!1,separator:e.strict?r:[r,""],fractional:e.fractional,decimal:i,exponent:!1},a=t.split("."),s=e.places;1===a.length&&1!==u&&(a[1]="###"),1===a.length||0===s?n.fractional=!1:(void 0===s&&(s=e.pattern?a[1].lastIndexOf("0")+1:1/0),s&&null==e.fractional&&(n.fractional=!0),!e.places&&s<a[1].length&&(s+=","+a[1].length),n.places=s);var o=a[0].split(",");return o.length>1&&(n.groupSize=o.pop().length,o.length>1&&(n.groupSize2=o.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=d(e),n=p(e.fractional,(function(t){var n="";return t&&0!==e.places&&(n="\\"+e.decimal,e.places===1/0?n="(?:"+n+"\\d+)?":n+="\\d{"+e.places+"}"),n}),!0),r=t+n;return n&&(r="(?:(?:"+r+")|(?:"+n+"))"),r+p(e.exponent,(function(t){return t?"([eE]"+d({signed:e.eSigned})+")":""}))}(n)+")"}))}),!0);return{regexp:l.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:r,decimal:i,factor:u}}function h(e,t){var n=f(t),r=new RegExp("^"+n.regexp+"$").exec(e);if(!r)return NaN;var i=r[1];if(!r[1]){if(!r[2])return NaN;i=r[2],n.factor*=-1}return i=i.replace(new RegExp("["+n.group+"\\s\\xa0]","g"),"").replace(n.decimal,"."),Number(i)*n.factor}function d(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",p(e.signed,(function(e){return e?"[-+]":""}),!0)+p(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=(0,a.o)(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");var n=e.groupSize,r=e.groupSize2;if(r){var i="(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*["+t+"]\\d{"+n+"})";return n-r>0?"(?:"+i+"|(?:0|[1-9]\\d{0,"+(n-1)+"}))":i}return"(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*)"}),!0)}var p=function(e,t,n){if(!(e instanceof Array))return t(e);for(var r=[],i=0;i<e.length;i++)r.push(t(e[i]));return v(r.join("|"),n)},v=function(e,t){return"("+(t?"?:":"")+e+")"}},86068:function(e,t,n){n.d(t,{i:function(){return u}});var r=n(75610),i=n(75370),a=n(33642),u={getObjectId:function(e){return e.objectId},getAttributes:function(e){return e.attributes},getAttribute:function(e,t){return e.attributes[t]},cloneWithGeometry:function(e,t){return new a.s(t,e.attributes,null,e.objectId)},getGeometry:function(e){return e.geometry},getCentroid:function(e,t){return(0,r.t)(e.centroid)&&(e.centroid=(0,i.e)(new a.t,e.geometry,t.hasZ,t.hasM)),e.centroid}}},60912:function(e,t,n){n.d(t,{B:function(){return w},C:function(){return S},O:function(){return g},U:function(){return b},q:function(){return k},s:function(){return l},v:function(){return M}});var r=n(29439),i=n(75610),a=n(30604),u=function(e,t,n){return[t,n]},s=function(e,t,n){return[t,n,e[2]]},o=function(e,t,n){return[t,n,e[2],e[3]]};function l(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:(0,i.r)(e.extent)?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function c(e,t){var n=e.scale,r=e.translate;return Math.round((t-r[0])/n[0])}function f(e,t){var n=e.scale,r=e.translate;return Math.round((r[1]-t)/n[1])}function h(e,t,n){for(var r,i,a,u,s=[],o=0;o<n.length;o++){var l=n[o];o>0?(a=c(e,l[0]),u=f(e,l[1]),a===r&&u===i||(s.push(t(l,a-r,u-i)),r=a,i=u)):(r=c(e,l[0]),i=f(e,l[1]),s.push(t(l,r,i)))}return s.length>0?s:null}function d(e,t){var n=e.scale,r=e.translate;return t*n[0]+r[0]}function p(e,t){var n=e.scale;return e.translate[1]-t*n[1]}function v(e,t,n){var i=new Array(n.length);if(!n.length)return i;var a=(0,r.Z)(e.scale,2),u=a[0],s=a[1],o=d(e,n[0][0]),l=p(e,n[0][1]);i[0]=t(n[0],o,l);for(var c=1;c<n.length;c++){var f=n[c];o+=f[0]*u,l-=f[1]*s,i[c]=t(f,o,l)}return i}function m(e,t,n){for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=v(e,t,n[i]);return r}function y(e,t,n,r,i){return t.points=function(e,t,n,r){return h(e,n?r?o:s:r?s:u,t)}(e,n.points,r,i),t}function g(e,t,n,r,i){return t.x=c(e,n.x),t.y=f(e,n.y),t!==n&&(r&&(t.z=n.z),i&&(t.m=n.m)),t}function _(e,t,n,r,i){var a=function(e,t,n,r){for(var i=[],a=n?r?o:s:r?s:u,l=0;l<t.length;l++){var c=h(e,a,t[l]);c&&c.length>=3&&i.push(c)}return i.length?i:null}(e,n.rings,r,i);return a?(t.rings=a,t):null}function x(e,t,n,r,i){var a=function(e,t,n,r){for(var i=[],a=n?r?o:s:r?s:u,l=0;l<t.length;l++){var c=h(e,a,t[l]);c&&c.length>=2&&i.push(c)}return i.length?i:null}(e,n.paths,r,i);return a?(t.paths=a,t):null}function b(e,t){return e&&t?(0,a.l)(t)?g(e,{},t,!1,!1):(0,a.y)(t)?x(e,{},t,!1,!1):(0,a.c)(t)?_(e,{},t,!1,!1):(0,a.f)(t)?y(e,{},t,!1,!1):(0,a.s)(t)?function(e,t,n,r,i){return t.xmin=c(e,n.xmin),t.ymin=f(e,n.ymin),t.xmax=c(e,n.xmax),t.ymax=f(e,n.ymax),t!==n&&(r&&(t.zmin=n.zmin,t.zmax=n.zmax),i&&(t.mmin=n.mmin,t.mmax=n.mmax)),t}(e,{},t,!1,!1):null:null}function k(e,t,n,r,a){return(0,i.r)(n)&&(t.points=function(e,t,n,r){return v(e,n?r?o:s:r?s:u,t)}(e,n.points,r,a)),t}function M(e,t,n,r,a){return(0,i.t)(n)||(t.x=d(e,n.x),t.y=p(e,n.y),t!==n&&(r&&(t.z=n.z),a&&(t.m=n.m))),t}function w(e,t,n,r,a){return(0,i.r)(n)&&(t.rings=function(e,t,n,r){return m(e,n?r?o:s:r?s:u,t)}(e,n.rings,r,a)),t}function S(e,t,n,r,a){return(0,i.r)(n)&&(t.paths=function(e,t,n,r){return m(e,n?r?o:s:r?s:u,t)}(e,n.paths,r,a)),t}},36551:function(e,t,n){n.d(t,{P:function(){return h},U:function(){return d},a:function(){return o},f:function(){return u},h:function(){return p},j:function(){return l},l:function(){return a},w:function(){return v}});var r=n(23132),i=n(75610);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,t,n,c)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,t,n,f)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,u=null,s=n.once?function(e,n){a(e)&&((0,i.d)(u),t(e,n))}:function(e,n){a(e)&&t(e,n)};if(u=(0,r.P)(e,s,n.sync,n.equals),n.initial){var o=e();s(o,o)}return u}function o(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=null,o=null,l=null;function c(){var e;s&&o&&(o.remove(),null!==(e=u.onListenerRemove)&&void 0!==e&&e.call(u,s),s=null,o=null)}function f(e){u.once&&u.once&&(0,i.d)(l),n(e)}var h=a(e,(function(e,n){var i;c(),(0,r.c)(e)&&(s=e,o=(0,r.f)(e,t,f),null===(i=u.onListenerAdd)||void 0===i||i.call(u,e))}),{sync:u.sync,initial:!0});return l=(0,r.g)((function(){h.remove(),c()}))}function l(e,t){return function(e,t,n){if((0,r.p)(n))return Promise.reject((0,r.m)());var a=e();if(null!==t&&void 0!==t&&t(a))return Promise.resolve(a);var u=null;function o(){u=(0,i.d)(u)}return new Promise((function(i,a){u=(0,r.h)([(0,r.v)(n,(function(){o(),a((0,r.m)())})),s(e,(function(e){o(),i(e)}),{sync:!1,once:!0},null!==t&&void 0!==t?t:c)])}))}(e,f,t)}function c(e){return!0}function f(e){return!!e}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1,i=a(e,(function(e,n){r||t(e,n)}),n);return{remove:function(){i.remove()},pause:function(){r=!0},resume:function(){r=!1}}}var d={sync:!0},p={initial:!0},v={sync:!0,initial:!0}}}]);
//# sourceMappingURL=7793.f2a324aa.chunk.js.map