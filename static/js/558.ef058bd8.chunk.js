"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[558],{40558:function(e,r,t){t.r(r),t.d(r,{A:function(){return we},B:function(){return Oe},C:function(){return be},D:function(){return se},E:function(){return Ce},F:function(){return V},G:function(){return G},H:function(){return Q},I:function(){return ye},J:function(){return B},K:function(){return X},L:function(){return ge},M:function(){return qr},N:function(){return H},O:function(){return ve},Q:function(){return W},S:function(){return ke},U:function(){return ze},V:function(){return Y},X:function(){return ee},Y:function(){return re},Z:function(){return te},_:function(){return z},a:function(){return Ze},b:function(){return Te},c:function(){return U},d:function(){return Le},e:function(){return oe},f:function(){return ie},g:function(){return $e},h:function(){return _e},i:function(){return j},j:function(){return L},k:function(){return qe},l:function(){return P},m:function(){return E},n:function(){return ae},o:function(){return Tr},p:function(){return Ee},q:function(){return me},r:function(){return He},s:function(){return Cr},t:function(){return Ae},u:function(){return ce},v:function(){return fe},w:function(){return Z},x:function(){return Ne},y:function(){return O},z:function(){return M}});var n=t(74165),a=t(15861),o=t(29439),s=t(1413),i=t(37762),u=t(15671),c=t(43144),l=t(93661),f=t(48848),p=f.a.getLogger("esri.core.urlUtils"),h=l.s.request,d="esri/config: esriConfig.request.proxyUrl is not set.",v=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,m=/^\s*http:/i,b=/^\s*https:/i,g=/^\s*file:/i,x=/:\d+$/,y=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,w=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),k=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),O=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,u.Z)(this,e),this.uri=r,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;var t=(0,l.x)(this.uri.match(w));this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=(0,l.x)(this.authority.match(k)),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}return(0,c.Z)(e,[{key:"toString",value:function(){return this.uri}}]),e}(),q={},C=new O(l.s.applicationUrl),T=function(){var e=(0,l.x)(C.path),r=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return"".concat("".concat(C.scheme,"://").concat(C.host).concat(null!=C.port?":".concat(C.port):""),r)}(),S=T,U=function(){return C},Z=function(){return S};function L(e){if(!e)return null;var r={path:null,query:null},t=new O(e),n=e.indexOf("?");return null===t.query?r.path=e:(r.path=e.substring(0,n),r.query=E(t.query)),t.fragment&&(r.hash=t.fragment,null===t.query&&(r.path=r.path.substring(0,r.path.length-(t.fragment.length+1)))),r}function E(e){var r,t=e.split("&"),n={},a=(0,i.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o){var s=o.indexOf("="),u=void 0,c=void 0;s<0?(u=decodeURIComponent(o),c=""):(u=decodeURIComponent(o.slice(0,s)),c=decodeURIComponent(o.slice(s+1)));var l=n[u];"string"==typeof l&&(l=n[u]=[l]),Array.isArray(l)?l.push(c):n[u]=c}}}catch(f){a.e(f)}finally{a.f()}return n}function _(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function j(e,r){return e?r&&"function"==typeof r?Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(r(t,e[t]))})).join("&"):Object.keys(e).map((function(t){var n=e[t];if(null==n)return"";var a=encodeURIComponent(t)+"=",o=r&&r[t];return o?a+encodeURIComponent(o(n)):Array.isArray(n)?n.map((function(e){return _(e)?a+encodeURIComponent(JSON.stringify(e)):a+encodeURIComponent(e)})).join("&"):_(n)?a+encodeURIComponent(JSON.stringify(n)):a+encodeURIComponent(n)})).filter((function(e){return e})).join("&"):""}function R(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h.proxyUrl;if("string"==typeof r){e=ce(r);var n=B(r);n&&(t=n.proxyUrl)}else e=!!r;if(!t)throw p.warn(d),new f.s("urlutils:proxy-not-set",d);return e&&pe()&&(t=fe(t)),L(t)}function P(e){var r,t,n=B(e);if(n){var a=N(n.proxyUrl);r=a.path,t=a.query?E(a.query):null}if(r){var o=L(e);e=r+"?"+o.path;var i=j((0,s.Z)((0,s.Z)({},t),o.query));i&&(e="".concat(e,"?").concat(i))}return e}var I={path:"",query:""};function N(e){var r=e.indexOf("?");return-1!==r?(I.path=e.slice(0,r),I.query=e.slice(r+1)):(I.path=e,I.query=null),I}function A(e){return(e=he(e=function(e){return e&&"/"===e[e.length-1]?e:"".concat(e,"/")}(e=N(e).path),!0)).toLowerCase()}function D(e){for(var r={proxyUrl:e.proxyUrl,urlPrefix:A(e.urlPrefix)},t=h.proxyRules,n=r.urlPrefix,a=t.length,o=0;o<t.length;o++){var s=t[o].urlPrefix;if(0===n.indexOf(s)){if(n.length===s.length)return-1;a=o;break}0===s.indexOf(n)&&(a=o+1)}return t.splice(a,0,r),a}function B(e){for(var r=h.proxyRules,t=A(e),n=0;n<r.length;n++)if(0===t.indexOf(r[n].urlPrefix))return r[n]}function H(e,r){return e=$(e),r=$(r),he(e)===he(r)}function $(e){var r=(e=V(e)).indexOf("/sharing");return r>0?e.substring(0,r):e.replace(/\/+$/,"")}function J(e){var r=function(r){return null==r||r instanceof RegExp&&r.test(e)||"string"==typeof r&&e.startsWith(r)},t=h.interceptors;if(t){var n,a=(0,i.Z)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(Array.isArray(o.urls)){if(o.urls.some(r))return o}else if(r(o.urls))return o}}catch(s){a.e(s)}finally{a.f()}}return null}function M(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!r)return!1;var n=xe(e),a=xe(r);return!(!t&&n.scheme!==a.scheme)&&null!=n.host&&null!=a.host&&n.host.toLowerCase()===a.host.toLowerCase()&&n.port===a.port}function F(e){if("string"==typeof e){if(!X(e))return!0;e=xe(e)}if(M(e,C))return!0;for(var r=h.trustedServers||[],t=0;t<r.length;t++)for(var n=K(r[t]),a=0;a<n.length;a++)if(M(e,n[a]))return!0;return!1}function K(e){return q[e]||(ue(e)||ie(e)?q[e]=[new O(W(e))]:q[e]=[new O("http://".concat(e)),new O("https://".concat(e))]),q[e]}function W(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,t=arguments.length>2?arguments[2]:void 0;return ie(e)?t&&t.preserveProtocolRelative?e:"http"===C.scheme&&C.authority===Q(e).slice(2)?"http:".concat(e):"https:".concat(e):ue(e)?e:(0,l.x)(G("/"===e[0]?de(r):r,e))}function z(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,t=arguments.length>2?arguments[2]:void 0;if(null==e||!X(e))return e;var n=V(e),a=n.toLowerCase(),o=V(r).toLowerCase().replace(/\/+$/,""),s=t?V(t).toLowerCase().replace(/\/+$/,""):null;if(s&&0!==o.indexOf(s))return e;for(var i=function(e,r,t){return-1===(t=e.indexOf(r,t))?e.length:t},u=i(a,"/",a.indexOf("//")+2),c=-1;a.slice(0,u+1)===o.slice(0,u)+"/"&&(c=u+1,u!==a.length);)u=i(a,"/",u+1);if(-1===c)return e;if(s&&c<s.length)return e;e=n.slice(c);var l=o.slice(c-1).replace(/[^/]+/g,"").length;if(l>0)for(var f=0;f<l;f++)e="../".concat(e);else e="./".concat(e);return e}function V(e){return function(e){var r=h.httpsDomains;if(!function(e){return null!=e&&m.test(e)||"http"===C.scheme&&ie(e)}(e))return e;var t,n=e.indexOf("/",7);if(t=(t=-1===n?e:e.slice(0,n)).toLowerCase().slice(7),x.test(t)){if(!t.endsWith(":80"))return e;t=t.slice(0,-3),e=e.replace(":80","")}return"http"===C.scheme&&t===C.authority&&!y.test(e)||(pe()&&t===C.authority||r&&r.some((function(e){return t===e||t.endsWith(".".concat(e))}))||pe()&&!B(e))&&(e=fe(e)),e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){var r=N(e);e=(e=r.path.replace(/\/{2,}/g,"/")).replace("/","//"),r.query&&(e+="?".concat(r.query))}return e}(e=W(e=e.trim()))))}function G(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=r.filter(l.r);if(n&&n.length){var a=[];if(X(n[0])){var o=n[0],s=o.indexOf("//");-1!==s&&(a.push(o.slice(0,s+1)),le(n[0])&&(a[0]+="/"),n[0]=o.slice(s+2))}else"/"===n[0][0]&&a.push("");for(var i=n.reduce((function(e,r){return r?e.concat(r.split("/")):e}),[]),u=0;u<i.length;u++){var c=i[u];".."===c&&a.length>0&&".."!==a[a.length-1]?a.pop():(!c&&u===i.length-1||c&&("."!==c||0===a.length))&&a.push(c)}return a.join("/")}}function Q(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||Y(e)||ee(e))return null;var t=e.indexOf("://");if(-1===t&&ie(e))t=2;else{if(-1===t)return null;t+=3}var n=e.indexOf("/",t);return-1!==n&&(e=e.slice(0,n)),r&&(e=he(e,!0)),e}function X(e){return ie(e)||ue(e)}function Y(e){return null!=e&&"blob:"===e.slice(0,5)}function ee(e){return null!=e&&"data:"===e.slice(0,5)}function re(e){var r=ae(e);if(!r||!r.isBase64)return null;for(var t=atob(r.data),n=new Uint8Array(t.length),a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n.buffer}function te(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}var ne=/^data:(.*?)(;base64)?,(.*)$/;function ae(e){var r=e.match(ne);if(!r)return null;var t=(0,o.Z)(r,4);return{mediaType:t[1],isBase64:!!t[2],data:t[3]}}function oe(e){return e.isBase64?"data:".concat(e.mediaType,";base64,").concat(e.data):"data:".concat(e.mediaType,",").concat(e.data)}function se(e,r){(function(e,r){if(!e)return!1;var t=document.createElement("a");if(!("download"in t))return!1;var n=URL.createObjectURL(e);return t.download=r,t.href=n,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(n),!0})(e,r)||function(e,r){!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,r)}(e,r)}function ie(e){return null!=e&&"/"===e[0]&&"/"===e[1]}function ue(e){return null!=e&&v.test(e)}function ce(e){return null!=e&&b.test(e)||"https"===C.scheme&&ie(e)}function le(e){return null!=e&&g.test(e)}function fe(e){return ie(e)?"https:".concat(e):e.replace(m,"https:")}function pe(){return"https"===C.scheme}function he(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ie(e)?e.slice(2):(e=e.replace(v,""),r&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function de(e){var r=e.indexOf("//"),t=e.indexOf("/",r+2);return-1===t?e:e.slice(0,t)}function ve(e){var r=0;if(X(e)){var t=e.indexOf("//");-1!==t&&(r=t+2)}var n=e.lastIndexOf("/");return n<r?e:e.slice(0,n+1)}function me(e,r){if(!e)return"";var t=L(e).path.replace(/\/+$/,""),n=t.substring(t.lastIndexOf("/")+1);if(null===r||void 0===r||!r.length)return n;var a=new RegExp(".(".concat(r.join("|"),")$"),"ig");return n.replace(a,"")}function be(e){return e.replace(/\/+$/,"")}function ge(e,r,t){if(!(r&&t&&e&&X(e)))return e;var n=e.indexOf("//"),a=e.indexOf("/",n+2),o=e.indexOf(":",n+2),s=Math.min(a<0?e.length:a,o<0?e.length:o);return e.slice(n+2,s).toLowerCase()!==r.toLowerCase()?e:"".concat(e.slice(0,n+2)).concat(t).concat(e.slice(s))}function xe(e){return"string"==typeof e?new O(W(e)):(e.scheme||(e.scheme=C.scheme),e)}function ye(e){return Ue.test(e)}function we(e,r){var t=L(e),n=Object.keys(t.query||{});return n.length>0&&r&&r.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: ".concat(n.join(", "),".")),t.path}function ke(e,r,t){var n=L(e),a=n.query||{};return a[r]=String(t),"".concat(n.path,"?").concat(j(a))}function Oe(e,r){var t=L(e),n=t.query||{};for(var a in r)n[a]=r[a];var o=j(n);return o?"".concat(t.path,"?").concat(o):t.path}function qe(e){if((0,l.t)(e))return null;var r=e.match(Se);return r?r[2]:null}function Ce(e){if((0,l.t)(e))return null;var r=e.match(Se);return r?{path:r[1],extension:r[2]}:{path:e,extension:null}}var Te,Se=/([^.]*)\.([^\/]*)$/,Ue=/(^data:image\/svg|\.svg$)/i,Ze="4.25",Le={request:function(e,r){return(0,a.Z)((0,n.Z)().mark((function t(){var a,o,s,i,u,c,l,f;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then((function(){return qr}));case 2:return s=t.sent,i=s.default,u=e.options,c=u.responseType,u.signal=null===r||void 0===r?void 0:r.signal,u.responseType="native"===c||"native-request-init"===c?"native-request-init":c&&["blob","json","text"].includes(c)&&null!==(a=J(e.url))&&void 0!==a&&a.after?c:"array-buffer",t.next=9,i(e.url,u);case 9:l=t.sent,f={data:l.data,ssl:l.ssl},t.t0=null===(o=l.requestOptions)||void 0===o?void 0:o.responseType,t.next="native-request-init"===t.t0?14:"blob"===t.t0?15:"json"===t.t0?19:"text"===t.t0?21:22;break;case 14:return t.abrupt("return",(delete f.data.signal,f));case 15:return t.next=17,f.data.arrayBuffer();case 17:return f.data=t.sent,t.abrupt("break",22);case 19:return f.data=(new TextEncoder).encode(JSON.stringify(f.data)).buffer,t.abrupt("break",22);case 21:f.data=(new TextEncoder).encode(f.data).buffer;case 22:return t.abrupt("return",{result:f,transferList:[f.data]});case 23:case"end":return t.stop()}}),t)})))()}};function Ee(e){Te=e}function _e(e){var r=Te&&Te.findCredential(e);return r&&r.token?ke(e,"token",r.token):e}(0,l.h)("host-webworker");var je=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Re={customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},Pe={customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},Ie={customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"};function Ne(e){var r=null===e||void 0===e?void 0:e.match(je);if(!r)return null;var t=(0,o.Z)(r,4),n=t[1],a=t[2],s=t[3];if(!n)return null;var i=null,u=null,c=null,l=Re,f=Pe,p=Ie;if(a)if(i=n,s)switch(s.toLowerCase()){case"devext":u=l.customBaseUrl,c=l.portalHostname;break;case"qa":u=f.customBaseUrl,c=f.portalHostname;break;default:return null}else u=p.customBaseUrl,c=p.portalHostname;else switch(n.toLowerCase()){case"devext":u=l.customBaseUrl,c=l.portalHostname;break;case"qaext":u=f.customBaseUrl,c=f.portalHostname;break;case"www":u=p.customBaseUrl,c=p.portalHostname;break;default:return null}return{customBaseUrl:u,isPortal:!1,portalHostname:c,urlKey:i}}function Ae(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}var De,Be=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function He(e){var r=Q(e,!0);return!!r&&r.endsWith(".arcgis.com")&&!Be.includes(r)&&!e.endsWith("/sharing/rest/generateToken")}function $e(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,o){if((0,f.p)(n))o(Je());else{var s=function(){c(),o(new Error("Unable to load ".concat(r)))},i=function(){var r=e;c(),a(r)},u=function(){if(e){var r=e;c(),r.src="",o(Je())}},c=function(){(0,l.h)("esri-image-decode")||(e.removeEventListener("error",s),e.removeEventListener("load",i)),s=null,i=null,e=null,(0,l.r)(n)&&n.removeEventListener("abort",u),u=null,t&&URL.revokeObjectURL(r)};(0,l.r)(n)&&n.addEventListener("abort",u),(0,l.h)("esri-image-decode")?e.decode().then(i,s):(e.addEventListener("error",s),e.addEventListener("load",i))}}))}function Je(){try{return new DOMException("Aborted","AbortError")}catch(r){var e=new Error;return e.name="AbortError",e}}function Me(e){l.s.request.crossOriginNoCorsDomains||(l.s.request.crossOriginNoCorsDomains={});var r,t=l.s.request.crossOriginNoCorsDomains,n=(0,i.Z)(e);try{for(n.s();!(r=n.n()).done;){var a,o,s,u=r.value;u=u.toLowerCase(),/^https?:\/\//.test(u)?t[null!==(a=Q(u))&&void 0!==a?a:""]=0:(t[null!==(o=Q("http://"+u))&&void 0!==o?o:""]=0,t[null!==(s=Q("https://"+u))&&void 0!==s?s:""]=0)}}catch(c){n.e(c)}finally{n.f()}}function Fe(e){var r=l.s.request.crossOriginNoCorsDomains;if(r){var t=Q(e);if(t)return!M(t=t.toLowerCase(),U())&&r[t]<Date.now()-36e5}return!1}function Ke(e){return We.apply(this,arguments)}function We(){return We=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,o,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.s.request.crossOriginNoCorsDomains,o=Q(r),a&&o&&(a[o.toLowerCase()]=Date.now()),s=L(r),r=s.path,"json"===(null===(t=s.query)||void 0===t?void 0:t.f)&&(r+="?f=json"),e.prev=4,e.next=7,fetch(r,{mode:"no-cors",credentials:"include"});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])}))),We.apply(this,arguments)}function ze(e,r){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,o,i,u,c,p,h,d,v,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ee(r),(u=Y(r))||i||(r=V(r)),c={url:r,requestOptions:(0,s.Z)({},(0,l.e)(t))},!(p=J(r))){e.next=11;break}return e.next=7,vr(p,c);case 7:if(null==(h=e.sent)){e.next=10;break}return e.abrupt("return",{data:h,getHeader:rr,requestOptions:c.requestOptions,url:c.url});case 10:p.after||p.error||(p=null);case 11:if(r=c.url,"image"!==(t=c.requestOptions).responseType){e.next=16;break}if(!(0,l.h)("host-webworker")&&!(0,l.h)("host-node")){e.next=14;break}throw or("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),c);case 14:e.next=18;break;case 16:if(!i){e.next=18;break}throw or("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),c);case 18:if("head"!==t.method){e.next=23;break}if(!t.body){e.next=21;break}throw or("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),c);case 21:if(!i&&!u){e.next=23;break}throw or("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),c);case 23:return e.next=25,sr();case 25:if(!De){e.next=27;break}return e.abrupt("return",De.execute(r,t));case 27:return d=new AbortController,(0,f.v)(t,(function(){return d.abort()})),v={controller:d,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:p,params:c,redoRequest:!1,useIdentity:Ge.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},e.next=32,xr(v);case 32:return m=e.sent,e.abrupt("return",(null!==(a=p)&&void 0!==a&&null!==(o=a.after)&&void 0!==o&&o.call(a,m),m));case 34:case"end":return e.stop()}}),e)}))),Ve.apply(this,arguments)}var Ge=l.s.request,Qe="FormData"in globalThis,Xe=[499,498,403,401],Ye=["COM_0056","COM_0057","SB_0008"],er=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],rr=function(){return null},tr=Symbol();function nr(e){var r=Q(e);r&&!ze._corsServers.includes(r)&&ze._corsServers.push(r)}function ar(e){var r=Q(e);return!r||r.endsWith(".arcgis.com")||ze._corsServers.includes(r)||F(r)}function or(e,r,t,n){var a="Error",o={url:t.url,requestOptions:t.requestOptions,getHeader:rr,ssl:!1};if(r instanceof f.s)return r.details?(r.details=(0,l.y)(r.details),r.details.url=t.url,r.details.requestOptions=t.requestOptions):r.details=o,r;if(r){var s=n&&function(e){return n.headers.get(e)},i=n&&n.status,u=r.message;u&&(a=u),s&&(o.getHeader=s),o.httpStatus=(null!=r.httpCode?r.httpCode:r.code)||i||0,o.subCode=r.subcode,o.messageCode=r.messageCode,"string"==typeof r.details?o.messages=[r.details]:o.messages=r.details,o.raw=tr in r?r[tr]:r}return(0,f.j)(r)?(0,f.d)():new f.s(e,a,o)}function sr(){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,l.h)("host-webworker")){e.next=8;break}if(e.t0=De,e.t0){e.next=6;break}return e.next=5,t.e(6878).then(t.bind(t,6878));case 5:De=e.sent;case 6:e.next=9;break;case 8:ze._abortableFetch||(ze._abortableFetch=globalThis.fetch.bind(globalThis));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ur(){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Te,e.t0){e.next=4;break}return e.next=4,Promise.all([t.e(9325),t.e(2546)]).then(t.bind(t,52546));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lr(e){return fr.apply(this,arguments)}function fr(){return fr=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,o,s,i,u,c,p,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.params.url,s=r.params.requestOptions,i=r.controller.signal,u=s.body,c=null,p=null,Qe&&"HTMLFormElement"in globalThis&&(u instanceof FormData?c=u:u instanceof HTMLFormElement&&(c=new FormData(u))),"string"==typeof u&&(p=u),r.fetchOptions={cache:s.cacheBust&&!ze._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:s.headers||{},method:"head"===s.method?"HEAD":"GET",mode:"cors",priority:Ge.priority,redirect:"follow",signal:i},(c||p)&&(r.fetchOptions.body=c||p),"anonymous"===s.authMode&&(r.useIdentity=!1),r.hasToken=!!(/token=/i.test(o)||null!==(t=s.query)&&void 0!==t&&t.token||null!==(a=c)&&void 0!==a&&a.get("token")),!r.hasToken&&l.s.apiKey&&He(o)&&(s.query||(s.query={}),s.query.token=l.s.apiKey,r.hasToken=!0),!r.useIdentity||r.hasToken||r.credentialToken||pr(o)||(0,f.p)(i)){e.next=23;break}if("immediate"!==s.authMode){e.next=12;break}return e.next=6,ur();case 6:return e.next=8,Te.getCredential(o,{signal:i});case 8:h=e.sent,r.credential=h,e.next=22;break;case 12:if("no-prompt"!==s.authMode){e.next=21;break}return e.next=15,ur();case 15:return e.next=17,Te.getCredential(o,{prompt:!1,signal:i}).catch((function(){}));case 17:h=e.sent,r.credential=h,e.next=22;break;case 21:Te&&(h=Te.findCredential(o));case 22:h&&(r.credentialToken=h.token,r.useSSL=!!h.ssl);case 23:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function pr(e){return er.some((function(r){return r.test(e)}))}function hr(e){return dr.apply(this,arguments)}function dr(){return dr=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,o,i,u,c,p,h,d,v,m,b,g,x,y,w,k,O,q,C,T,S;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.params.url,o=r.params.requestOptions,i=null!==(t=r.fetchOptions)&&void 0!==t?t:{},u=Y(a)||ee(a),c=o.responseType||"json",p=u?0:null!=o.timeout?o.timeout:Ge.timeout,h=!1,u){e.next=28;break}if(r.useSSL&&(a=fe(a)),o.cacheBust&&"default"===i.cache&&(a=ke(a,"request.preventCache",Date.now())),d=(0,s.Z)({},o.query),r.credentialToken&&(d.token=r.credentialToken),v=j(d),(0,l.h)("esri-url-encodes-apostrophe")&&(v=v.replace(/'/g,"%27")),m=a.length+1+v.length,h="delete"===o.method||"post"===o.method||"put"===o.method||!!o.body||m>Ge.maxUrlLength,(g=o.useProxy||!!B(a))&&(x=R(a),b=x.path,!h&&b.length+1+m>Ge.maxUrlLength&&(h=!0),x.query&&(d=(0,s.Z)((0,s.Z)({},x.query),d))),"HEAD"!==i.method||!h&&!g){e.next=20;break}if(!h){e.next=18;break}if(!(m>Ge.maxUrlLength)){e.next=17;break}throw or("request:invalid-parameters",new Error("URL exceeds maximum length"),r.params);case 17:throw or("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),r.params);case 18:if(!g){e.next=20;break}throw or("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),r.params);case 20:if(h?(i.method="delete"===o.method?"DELETE":"put"===o.method?"PUT":"POST",o.body?a=Oe(a,d):(i.body=j(d),i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded")):a=Oe(a,d),g&&(r.useProxy=!0,a="".concat(b,"?").concat(a)),d.token&&Qe&&i.body instanceof FormData&&!Ae(a)&&i.body.set("token",d.token),o.hasOwnProperty("withCredentials")?r.withCredentials=o.withCredentials:M(a,U())||(F(a)||Te&&(y=Te.findServerInfo(a))&&y.webTierAuth)&&(r.withCredentials=!0),e.t0=r.withCredentials,!e.t0){e.next=28;break}if(i.credentials="include",e.t1=Fe(a),!e.t1){e.next=28;break}return e.next=28,Ke(h?Oe(a,d):a);case 28:if(O=0,q=!1,p>0&&(O=setTimeout((function(){q=!0,r.controller.abort()}),p)),e.prev=30,"native-request-init"!==o.responseType){e.next=35;break}(k=i).url=a,e.next=101;break;case 35:if("image"===o.responseType&&"default"===i.cache&&"GET"===i.method&&!h&&!br(o.headers)&&(u||r.useProxy||!Ge.proxyUrl||ar(a))){e.next=98;break}return e.next=38,ze._abortableFetch(a,i);case 38:if(w=e.sent,r.useProxy||nr(a),"native"!==o.responseType){e.next=44;break}k=w,e.next=96;break;case 44:if("HEAD"===i.method){e.next=96;break}if(!w.ok){e.next=93;break}e.t2=c,e.next="array-buffer"===e.t2?49:"blob"===e.t2||"image"===e.t2?53:57;break;case 49:return e.next=51,w.arrayBuffer();case 51:return k=e.sent,e.abrupt("break",60);case 53:return e.next=55,w.blob();case 55:return k=e.sent,e.abrupt("break",60);case 57:return e.next=59,w.text();case 59:k=e.sent;case 60:if(O&&(clearTimeout(O),O=0),"json"!==c&&"xml"!==c&&"document"!==c){e.next=73;break}if(!k){e.next=72;break}e.t3=c,e.next="json"===e.t3?65:"xml"===e.t3?67:"document"===e.t3?69:70;break;case 65:return k=JSON.parse(k),e.abrupt("break",70);case 67:return k=gr(k,"application/xml"),e.abrupt("break",70);case 69:k=gr(k,"text/html");case 70:e.next=73;break;case 72:k=null;case 73:if(!k){e.next=91;break}if("array-buffer"!==c&&"blob"!==c){e.next=86;break}if(!((C=w.headers.get("Content-Type"))&&/application\/json|text\/plain/i.test(C)&&k["blob"===c?"size":"byteLength"]<=750)){e.next=86;break}return e.prev=77,e.next=80,new Response(k).json();case 80:(T=e.sent).error&&(k=T),e.next=86;break;case 84:e.prev=84,e.t4=e.catch(77);case 86:if(e.t5="image"===c&&k instanceof Blob,!e.t5){e.next=91;break}return e.next=90,Or(URL.createObjectURL(k),r,!0);case 90:k=e.sent;case 91:e.next=96;break;case 93:return e.next=95,w.text();case 95:k=e.sent;case 96:e.next=101;break;case 98:return e.next=100,Or(a,r);case 100:k=e.sent;case 101:e.next=112;break;case 103:if(e.prev=103,e.t6=e.catch(30),"AbortError"!==e.t6.name){e.next=109;break}if(!q){e.next=108;break}throw new Error("Timeout exceeded");case 108:throw(0,f.d)("Request canceled");case 109:if(!w&&e.t6 instanceof TypeError&&Ge.proxyUrl&&!o.body&&"delete"!==o.method&&"head"!==o.method&&"post"!==o.method&&"put"!==o.method&&!r.useProxy&&!ar(a)){e.next=111;break}throw e.t6;case 111:r.redoRequest=!0,D({proxyUrl:Ge.proxyUrl,urlPrefix:null!==(S=Q(a))&&void 0!==S?S:""});case 112:return e.prev=112,O&&clearTimeout(O),e.finish(112);case 115:return e.abrupt("return",[w,k]);case 116:case"end":return e.stop()}}),e,null,[[30,103,112,115],[77,84]])}))),dr.apply(this,arguments)}function vr(e,r){return mr.apply(this,arguments)}function mr(){return mr=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==r.responseData){e.next=2;break}return e.abrupt("return",r.responseData);case 2:if(r.headers&&(t.requestOptions.headers=(0,s.Z)((0,s.Z)({},t.requestOptions.headers),r.headers)),r.query&&(t.requestOptions.query=(0,s.Z)((0,s.Z)({},t.requestOptions.query),r.query)),!r.before){e.next=15;break}return e.prev=3,e.next=6,r.before(t);case 6:o=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=or("request:interceptor",e.t0,t);case 12:if((o instanceof Error||o instanceof f.s)&&(a=or("request:interceptor",o,t)),!a){e.next=14;break}throw r.error&&r.error(a),a;case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,null,[[3,9]])}))),mr.apply(this,arguments)}function br(e){if(e){var r,t=(0,i.Z)(Object.getOwnPropertyNames(e));try{for(t.s();!(r=t.n()).done;){if(e[r.value])return!0}}catch(n){t.e(n)}finally{t.f()}}return!1}function gr(e,r){var t;try{t=(new DOMParser).parseFromString(e,r)}catch(n){}if(!t||t.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return t}function xr(e){return yr.apply(this,arguments)}function yr(){return yr=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,s,i,u,c,l,f,p,h,d,v;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(r);case 2:e.prev=2;case 3:return e.next=5,hr(r);case 5:s=e.sent,i=(0,o.Z)(s,2),t=i[0],a=i[1];case 9:return e.next=11,wr(r,t,a);case 11:if(!e.sent){e.next=3;break}case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(2),(u=or("request:server",e.t0,r.params,t)).details.ssl=r.useSSL,r.interceptor&&r.interceptor.error&&r.interceptor.error(u),u;case 18:return c=r.params.url,a&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(c)&&(r.hasToken||r.credentialToken||null===(l=a.user)||void 0===l||!l.username||F(c)||(f=Q(c,!0))&&Ge.trustedServers.push(f),Array.isArray(a.authorizedCrossOriginNoCorsDomains)&&Me(a.authorizedCrossOriginNoCorsDomains)),(p=r.credential)&&Te&&(h=Te.findServerInfo(p.server),(d=h&&h.owningSystemUrl)&&(d=d.replace(/\/?$/,"/sharing"),(v=Te.findCredential(d,p.userId))&&-1===Te._getIdenticalSvcIdx(d,v)&&v.resources.unshift(d))),e.abrupt("return",{data:a,getHeader:t?function(e){var r;return null===(r=t)||void 0===r?void 0:r.headers.get(e)}:rr,requestOptions:r.params.requestOptions,ssl:r.useSSL,url:r.params.url});case 23:case"end":return e.stop()}}),e,null,[[2,14]])}))),yr.apply(this,arguments)}function wr(e,r,t){return kr.apply(this,arguments)}function kr(){return kr=(0,a.Z)((0,n.Z)().mark((function e(r,t,a){var o,i,u,c,l,f,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.redoRequest){e.next=2;break}return e.abrupt("return",(r.redoRequest=!1,!1));case 2:if(o=r.params.requestOptions,t&&"native"!==o.responseType&&"native-request-init"!==o.responseType){e.next=5;break}return e.abrupt("return",!0);case 5:if(t.ok){e.next=7;break}throw(i=new Error("Unable to load ".concat(t.url," status: ").concat(t.status)))[tr]=a,i;case 7:if(a&&(a.error?i=a.error:"error"===a.status&&Array.isArray(a.messages)&&((i=(0,s.Z)({},a))[tr]=a,i.details=a.messages)),l=null,i&&(u=Number(i.code),l=i.hasOwnProperty("subcode")?Number(i.subcode):null,c=(c=i.messageCode)&&c.toUpperCase()),f=o.authMode,403!==u||!(4===l||i.message&&i.message.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){e.next=16;break}if(r.useSSL){e.next=14;break}return e.abrupt("return",(r.useSSL=!0,!1));case 14:e.next=31;break;case 16:if(r.hasToken||!r.useIdentity||"no-prompt"===f&&498!==u||void 0===u||!Xe.includes(u)||pr(r.params.url)||!(403!==u||c&&!Ye.includes(c)&&(null==l||2===l&&r.credentialToken))){e.next=31;break}return e.next=19,ur();case 19:return e.prev=19,e.next=22,Te.getCredential(r.params.url,{error:or("request:server",i,r.params),prompt:"no-prompt"!==f,signal:r.controller.signal,token:r.credentialToken});case 22:return p=e.sent,e.abrupt("return",(r.credential=p,r.credentialToken=p.token,r.useSSL=r.useSSL||p.ssl,!1));case 26:if(e.prev=26,e.t0=e.catch(19),"no-prompt"!==f){e.next=30;break}return e.abrupt("return",(r.credential=void 0,r.credentialToken=void 0,!1));case 30:i=e.t0;case 31:if(!i){e.next=33;break}throw i;case 33:return e.abrupt("return",!0);case 34:case"end":return e.stop()}}),e,null,[[19,26]])}))),kr.apply(this,arguments)}function Or(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r.controller.signal,a=new Image;return r.withCredentials?a.crossOrigin="use-credentials":a.crossOrigin="anonymous",a.alt="",a.fetchPriority=Ge.priority,a.src=e,$e(a,e,t,n)}ze._abortableFetch=null,ze._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];var qr=Object.freeze({__proto__:null,default:ze}),Cr=function(){function e(r){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreUnknown:!1,useNumericKeys:!1};(0,u.Z)(this,e),this._jsonToAPI=r,this._options=n,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(r),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=function(e){return t.fromJSON(e)},this.write=function(e,r,n){var a=t.toJSON(e);void 0!==a&&(0,l.o)(n,a,r)},this.write.isJSONMapWriter=!0}return(0,c.Z)(e,[{key:"toJSON",value:function(e){if(this._apiToJSON.hasOwnProperty(e)){var r=this._apiToJSON[e];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:e}},{key:"fromJSON",value:function(e){return this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}},{key:"_invertMap",value:function(e){var r={};for(var t in e)r[e[t]]=t;return r}},{key:"_getKeysSorted",value:function(e){var r=[];for(var t in e)r.push(t);return r.sort(),r}}]),e}();function Tr(){return function(e,r){return new Cr(e,(0,s.Z)({ignoreUnknown:!0},r))}}}}]);
//# sourceMappingURL=558.ef058bd8.chunk.js.map