{"version":3,"file":"static/js/8210.9f87228d.chunk.js","mappings":"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","sources":["../node_modules/raleigh-stencil-components/dist/esm/CIMSymbol-541e0187.js","../node_modules/raleigh-stencil-components/dist/esm/DictionaryLoader-27079c9f.js"],"sourcesContent":["import { e, d as d$1, n, $ as c } from './cast-c9f1eea6.js';\nimport { m as m$1 } from './find-my-service.water-usage.web-map-6652a32f.js';\nimport { r as r$1 } from './enumeration-7851389e.js';\nimport { o, r } from './Point-25b53807.js';\nimport { b } from './fieldUtils-bf3604c5.js';\nimport { a } from './Symbol-c74c167f.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nvar m;let l=m=class extends a{constructor(r){super(r),this.data=null,this.type=\"cim\";}readData(r,o){return o}writeData(r,o){if(r)for(const t in r)o[t]=r[t];}async collectRequiredFields(r,o){if(\"CIMSymbolReference\"===this.data.type){const t=this.data.primitiveOverrides;if(t){const e=t.map((t=>{const e=t.valueExpressionInfo;return b(r,o,e.expression)}));await Promise.all(e);}}}clone(){return new m({data:m$1(this.data)})}hash(){return c(JSON.stringify(this.data)).toString()}};e([d$1({json:{write:!1}})],l.prototype,\"color\",void 0),e([d$1({json:{write:!0}})],l.prototype,\"data\",void 0),e([o(\"data\",[\"symbol\"])],l.prototype,\"readData\",null),e([r(\"data\",{})],l.prototype,\"writeData\",null),e([r$1({CIMSymbolReference:\"cim\"},{readOnly:!0})],l.prototype,\"type\",void 0),l=m=e([n(\"esri.symbols.CIMSymbol\")],l);const d=l;\n\nexport { d };\n","import { l } from './Color-fe77b5a2.js';\nimport { U } from './request-dcfae9ca.js';\nimport { s, u as g, $ as c, a as s$1 } from './cast-c9f1eea6.js';\nimport { e } from './LRUCache-8b0e560a.js';\nimport { r } from './find-my-service.water-usage.web-map-6652a32f.js';\nimport { a, n } from './fieldUtils-bf3604c5.js';\nimport { d } from './CIMSymbol-541e0187.js';\nimport './colorUtils-5009883d.js';\nimport './mathUtils-a0f2962e.js';\nimport './MemCache-fc020592.js';\nimport './index-26d14c0a.js';\nimport './geometry-e40ba657.js';\nimport './Extent-739112f1.js';\nimport './Point-25b53807.js';\nimport './JSONSupport-a8fff8cd.js';\nimport './Polyline-e1655464.js';\nimport './enumeration-7851389e.js';\nimport './Symbol-c74c167f.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst f=s.getLogger(\"esri.renderers.support.DictionaryLoader\"),h={type:\"CIMSimpleLineCallout\",lineSymbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",width:.5,color:[0,0,0,255]}]}};class y{constructor(e$1,t,s){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new e(100),this.url=e$1,this.config=t,this.fieldMap=s;}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,s){let o;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(s));try{o=await this._dictionaryPromise;}catch(d){if(g(d))return this._dictionaryPromise=null,null}const i={};if(this.fieldMap)for(const e of this._symbolFields){const s=this.fieldMap[e];if(s&&null!=t.attributes[s]){const o=\"\"+t.attributes[s];i[e]=o;}else i[e]=\"\";}const a=o(i,s);if(!a||\"string\"!=typeof a)return null;const c$1=c(a).toString(),m=this._symbolCache.get(c$1);if(m)return m.catch((()=>{this._symbolCache.pop(c$1);})),m;const f=a.split(\";\"),h=[],y=[];for(const r of f)if(r)if(r.includes(\"po:\")){const t=r.substr(3).split(\"|\");if(3===t.length){const s=t[0],o=t[1];let i=t[2];if(\"DashTemplate\"===o)i=i.split(\" \").map((e=>Number(e)));else if(\"Color\"===o){const t=new l(i).toRgba();i=[t[0],t[1],t[2],255*t[3]];}else i=Number(i);y.push({primitiveName:s,propertyName:o,value:i});}}else if(r.includes(\"|\")){for(const e of r.split(\"|\"))if(this._itemNames.has(e)){h.push(e);break}}else this._itemNames.has(r)&&h.push(r);const u=!r(t.geometry)||!t.geometry.hasZ&&\"point\"===t.geometry.type,p=this._cimPartsToCIMSymbol(h,y,u,s);return this._symbolCache.put(c$1,p,1),p}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void f.error(\"no valid URL!\");const o=U(this.url+\"/resources/styles/dictionary-info.json\",{responseType:\"json\",query:{f:\"json\"},signal:r(e)?e.signal:null}),[{data:i}]=await Promise.all([o,a()]);if(!i)throw this._dictionaryPromise=null,new s$1(\"esri.renderers.DictionaryRenderer\",\"Bad dictionary data!\");const n$1=i.expression,l=i.authoringInfo;this._refSymbolUrlTemplate=this.url+\"/\"+i.cimRefTemplateUrl,this._itemNames=new Set(i.itemsNames),this._symbolFields=l.symbol;const m={};if(this.config){const e=this.config;for(const t in e)m[t]=e[t];}if(l.configuration)for(const t of l.configuration)m.hasOwnProperty(t.name)||(m[t.name]=t.value);const h=[];if(r(e)&&e.fields&&this.fieldMap)for(const t of this._symbolFields){const s=this.fieldMap[t],o=e.fields.filter((e=>e.name===s));o.length>0&&h.push({...o[0],name:t});}return this._dictionaryPromise=n(n$1,r(e)?e.spatialReference:null,h,m).then((e=>{const t={scale:0};return (s,o)=>{const i=e.repurposeFeature({geometry:null,attributes:s});return t.scale=r(o)?o.scale:void 0,e.evaluate({$feature:i,$view:t})}})).catch((e=>(f.error(\"Creating dictinoary expression failed:\",e),null))),this._dictionaryPromise}async _cimPartsToCIMSymbol(e,t,s,o){const i=new Array(e.length);for(let l=0;l<e.length;l++)i[l]=this._getSymbolPart(e[l],o);const r=await Promise.all(i),n=this.fieldMap;for(const l of r)u(l,n);return new d({data:this._combineSymbolParts(r,t,s)})}async _getSymbolPart(e,s){if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then((e=>e.data));const o=this._refSymbolUrlTemplate.replace(/\\{itemName\\}/gi,e),i=U(o,{responseType:\"json\",query:{f:\"json\"},...s});this._ongoingRequests.set(e,i);try{return (await i).data}catch(r){throw this._ongoingRequests.delete(e),r}}_combineSymbolParts(e,t,s){if(!e||0===e.length)return null;const o={...e[0]};if(e.length>1){o.symbolLayers=[];for(const t of e){const e=t;o.symbolLayers.unshift(...e.symbolLayers);}}return s&&(o.callout=h),{type:\"CIMSymbolReference\",symbol:o,primitiveOverrides:t}}}function u(e,t){if(!e)return;const s=e.symbolLayers;if(!s)return;let o=s.length;for(;o--;){const e=s[o];if(e&&!1!==e.enable&&\"CIMVectorMarker\"===e.type)p(e,t);}}function p(e,t){const s=e.markerGraphics;if(s)for(const o of s){if(!o)continue;const e=o.symbol;if(e)switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":u(e,t);break;case\"CIMTextSymbol\":e.fieldMap=t;}}}\n\nexport { y as DictionaryLoader };\n"],"names":["m","l","r","data","type","o","t","this","primitiveOverrides","e","map","valueExpressionInfo","b","expression","Promise","all","m$1","c","JSON","stringify","toString","a","d$1","json","write","prototype","r$1","CIMSymbolReference","readOnly","d","n","f","s","h","lineSymbol","symbolLayers","width","color","y","e$1","config","fieldMap","url","_ongoingRequests","Map","_symbolCache","_symbolFields","_dictionaryPromise","fetchResources","g","i","attributes","c$1","get","catch","pop","split","includes","substr","length","Number","toRgba","push","primitiveName","propertyName","value","_itemNames","has","u","geometry","hasZ","p","_cimPartsToCIMSymbol","put","error","U","responseType","query","signal","s$1","n$1","authoringInfo","_refSymbolUrlTemplate","cimRefTemplateUrl","Set","itemsNames","symbol","configuration","hasOwnProperty","name","fields","filter","spatialReference","then","scale","repurposeFeature","evaluate","$feature","$view","Array","_getSymbolPart","_combineSymbolParts","replace","set","delete","unshift","callout","enable","markerGraphics"],"sourceRoot":""}