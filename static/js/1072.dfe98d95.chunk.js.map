{"version":3,"file":"static/js/1072.dfe98d95.chunk.js","mappings":"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","sources":["../node_modules/raleigh-map-components/dist/esm/ImageryLayerView-794bd402.js","../node_modules/raleigh-map-components/dist/esm/ImageryLayerView3D-ef0e16d1.js","../node_modules/raleigh-map-components/dist/esm/popupUtils-df92f7d2.js"],"sourcesContent":["import { e, y, n, s } from './cast-c3f45b36.js';\nimport { t, r } from './config-1ffdf45e.js';\nimport { w } from './Point-6cb878d9.js';\nimport { g } from './commonProperties-2f1c0287.js';\nimport { x } from './Query-780641ee.js';\nimport { s as s$1 } from './popupUtils-df92f7d2.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst m=m=>{let c=class extends m{constructor(){super(...arguments),this.view=null;}async fetchPopupFeatures(e,s$2){const{layer:p}=this;if(!e)throw new s(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:p});const{popupEnabled:a}=p,m=s$1(p,s$2);if(!a||t(m))throw new s(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:m});const c=await m.getRequiredFields(),l=new x;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=c,l.outSpatialReference=e.spatialReference;const y=this.view.resolution,w$1=\"2d\"===this.view.type?new w(y,y,this.view.spatialReference):new w(.5*y,.5*y,this.view.spatialReference),{returnTopmostRaster:d,showNoDataRecords:h}=m.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},f={returnDomainValues:!0,returnTopmostRaster:d,pixelSize:w$1,showNoDataRecords:h,signal:r(s$2)?s$2.signal:null};return p.queryVisibleRasters(l,f).then((e=>e))}canResume(){return !!super.canResume()&&!this.timeExtent?.isEmpty}};return e([y()],c.prototype,\"layer\",void 0),e([y()],c.prototype,\"suspended\",void 0),e([y(g)],c.prototype,\"timeExtent\",void 0),e([y()],c.prototype,\"view\",void 0),c=e([n(\"esri.views.layers.ImageryLayerView\")],c),c};\n\nexport { m };\n","import { a1 as x, e, n as n$1 } from './cast-c3f45b36.js';\nimport { t } from './config-1ffdf45e.js';\nimport { f } from './reactiveUtils-f60c7d41.js';\nimport { F } from './DynamicLayerView3D-7587f504.js';\nimport { m } from './ImageryLayerView-794bd402.js';\nimport './asyncUtils-15e103d5.js';\nimport './Extent-f175f54a.js';\nimport './Point-6cb878d9.js';\nimport './JSONSupport-db08a3d3.js';\nimport './aaBoundingRect-9f5a81b4.js';\nimport './mathUtils-2bc3dc3d.js';\nimport './SceneView-4d6236c8.js';\nimport './Viewpoint-0d264da8.js';\nimport './Clonable-79c9df5b.js';\nimport './Cyclical-2263ebcb.js';\nimport './geometry-af7a1990.js';\nimport './jsonMap-ad5a21ba.js';\nimport './jsonUtils-470c2f30.js';\nimport './Graphic-aef63bc9.js';\nimport './PopupTemplate-c2890491.js';\nimport './Collection-4ef916ef.js';\nimport './Evented-cb187462.js';\nimport './SimpleObservable-8d982b09.js';\nimport './fieldUtils-f2a7c3b5.js';\nimport './enumeration-76da1a7a.js';\nimport './number-4308b0e0.js';\nimport './locale-3aaf7fdb.js';\nimport './ActionToggle-bc7e075a.js';\nimport './Identifiable-8ce6a5f3.js';\nimport './symbols-3a08d111.js';\nimport './CIMSymbol-1f8126b1.js';\nimport './Symbol-4a036564.js';\nimport './Color-037179a4.js';\nimport './colorUtils-a7d54473.js';\nimport './screenUtils-bb784636.js';\nimport './opacityUtils-30b62658.js';\nimport './aaBoundingBox-854003da.js';\nimport './persistableUrlUtils-0c388149.js';\nimport './collectionUtils-7fc43c51.js';\nimport './Portal-52394bca.js';\nimport './jsxFactory-51986b60.js';\nimport './intl-bb87b713.js';\nimport './messages-27a8a537.js';\nimport './assets-746d5f3f.js';\nimport './uuid-933f7c64.js';\nimport './index-636901b3.js';\nimport './workers-bf2fb148.js';\nimport './GraphicsCollection-124a78ff.js';\nimport './HandleOwner-f847f884.js';\nimport './HeightModelInfo-b4b3e187.js';\nimport './unitUtils-d3ad6907.js';\nimport './projection-de20ca09.js';\nimport './mat4-7a77be1b.js';\nimport './zscale-2913aefa.js';\nimport './viewpointUtils-bf8e6ff5.js';\nimport './mat3-8b5f2a3e.js';\nimport './mat3f64-5bb98c6a.js';\nimport './mat4f64-20b7de7b.js';\nimport './frustum-da8f0441.js';\nimport './sphere-b0080673.js';\nimport './vec4f64-0cbfbafc.js';\nimport './byteSizeEstimations-e412d399.js';\nimport './quatf64-18e7325e.js';\nimport './vec2f64-2b32ef68.js';\nimport './plane-be613b06.js';\nimport './scaleUtils-d1482ded.js';\nimport './ViewingMode-c18edf83.js';\nimport './Util-a0f3f257.js';\nimport './utils-b1fad4e4.js';\nimport './quat-40d4cc25.js';\nimport './vec3f32-5d024d4d.js';\nimport './doublePrecisionUtils-1f5e718b.js';\nimport './DefaultUI-f769a0ce.js';\nimport './Feature-0442dc50.js';\nimport './executeQueryJSON-c0164a9e.js';\nimport './utils-eeff8894.js';\nimport './query-93a528bb.js';\nimport './normalizeUtils-74d8e52f.js';\nimport './utils-d63b1730.js';\nimport './pbfQueryUtils-9299e700.js';\nimport './pbf-92340a3b.js';\nimport './OptimizedFeature-be5c501a.js';\nimport './OptimizedFeatureSet-0aa3ab12.js';\nimport './queryZScale-81f42491.js';\nimport './FeatureSet-ce28eb95.js';\nimport './Field-043c648d.js';\nimport './fieldType-9178e8c8.js';\nimport './Query-780641ee.js';\nimport './TimeExtent-d95e7159.js';\nimport './FullTextSearch-934480e3.js';\nimport './RelationshipQuery-c750bdd4.js';\nimport './utils-66e4fc30.js';\nimport './ColorStop-afcf247d.js';\nimport './utils-c665fab2.js';\nimport './jsonUtils-455358fc.js';\nimport './ItemCache-715e440d.js';\nimport './MemCache-9c58a9ba.js';\nimport './utils-098dd1c6.js';\nimport './jsonUtils-c54f74d8.js';\nimport './UniqueValueRenderer-21b16b46.js';\nimport './diffUtils-598489c1.js';\nimport './colorRamps-8e2bd50b.js';\nimport './sizeVariableUtils-014555cd.js';\nimport './ElevationInfo-9a324c2d.js';\nimport './jsonUtils-cbdf3449.js';\nimport './styleUtils-f226cb74.js';\nimport './DictionaryLoader-7add7619.js';\nimport './LRUCache-e39bc5c2.js';\nimport './deprecate-948be60f.js';\nimport './heatmapUtils-aeff2740.js';\nimport './widget-f233b907.js';\nimport './featureConversionUtils-02732a82.js';\nimport './TopFeaturesQuery-920d5bc3.js';\nimport './FeatureLayer-bf6bea25.js';\nimport './MultiOriginJSONSupport-b7c31392.js';\nimport './sql-6be18290.js';\nimport './FeatureLayerBase-ba041128.js';\nimport './arcgisLayerUrl-1bef44f9.js';\nimport './commonProperties-2f1c0287.js';\nimport './LayerFloorInfo-b654f9e0.js';\nimport './Layer-b2cef6de.js';\nimport './editsZScale-110eb301.js';\nimport './APIKeyMixin-7023b145.js';\nimport './ArcGISService-e620fa89.js';\nimport './BlendLayer-88347a4e.js';\nimport './CustomParametersMixin-d1501bd8.js';\nimport './EditBusLayer-449157cb.js';\nimport './FeatureReductionLayer-21eddd97.js';\nimport './labelingInfo-b14ee030.js';\nimport './labelUtils-cf5aedd2.js';\nimport './defaultsJSON-328dd2e8.js';\nimport './OperationalLayer-b6090624.js';\nimport './OrderedLayer-33f292c5.js';\nimport './PortalLayer-f0735332.js';\nimport './PortalItem-b743ed5c.js';\nimport './RefreshableLayer-23e95045.js';\nimport './ScaleRangeLayer-6593d0fd.js';\nimport './TemporalLayer-7b1f5622.js';\nimport './TimeInfo-025435a6.js';\nimport './FeatureTemplate-51735ca5.js';\nimport './FeatureType-99f455c2.js';\nimport './fieldProperties-ede1f03f.js';\nimport './FieldsIndex-8c76f591.js';\nimport './versionUtils-844387ec.js';\nimport './styleUtils-1108b197.js';\nimport './popupUtils-3b0b228b.js';\nimport './symbolUtils-830c8daa.js';\nimport './colorUtils-8a16f416.js';\nimport './mat2d-b0b916ac.js';\nimport './GoTo-26bc79ac.js';\nimport './accessibleHandler-7c4fe302.js';\nimport './vmEvent-6dea929f.js';\nimport './Map-17ac82c7.js';\nimport './Basemap-08fa3492.js';\nimport './loadAll-1c571fb5.js';\nimport './writeUtils-4086edf3.js';\nimport './layerUtils-22c13265.js';\nimport './CollectionFlattener-b92f2afd.js';\nimport './TablesMixin-5c1c1494.js';\nimport './Scheduler-115055d8.js';\nimport './heightModelInfoUtils-c9483a88.js';\nimport './mat3f32-42811e80.js';\nimport './vec2-c45237df.js';\nimport './vec2f32-bf50d22f.js';\nimport './capabilities-6fbf68e6.js';\nimport './context-util-2cfc3c15.js';\nimport './ElevationSamplerData-8f9c385b.js';\nimport './TileInfo-c35f6ddd.js';\nimport './TileKey-883c0022.js';\nimport './objectResourceUtils-4859b7ab.js';\nimport './devEnvironmentUtils-7a8d4a2f.js';\nimport './BufferView-0c09c1c8.js';\nimport './vec33-f245b861.js';\nimport './DefaultMaterial_COLOR_GAMMA-d8df0aa1.js';\nimport './types-22830e4f.js';\nimport './enums-39ca0456.js';\nimport './Version-60ca3196.js';\nimport './requestImageUtils-29b0c7f4.js';\nimport './OrderIndependentTransparency-d46763ae.js';\nimport './VertexAttribute-11e250ea.js';\nimport './Texture-eb557a77.js';\nimport './FramebufferObject-3c39c713.js';\nimport './VertexElementDescriptor-26861b4e.js';\nimport './InterleavedLayout-44aa6f8c.js';\nimport './symbolColorUtils-cbc95835.js';\nimport './edgeProcessing-14fa6358.js';\nimport './deduplicate-031443ba.js';\nimport './projection-d54a2ea4.js';\nimport './resources-5f1926c6.js';\nimport './floatRGBA-3d6e6416.js';\nimport './dehydratedFeatures-be1d6f6b.js';\nimport './quantizationUtils-43f10b38.js';\nimport './labelFormatUtils-41123808.js';\nimport './I3SUtil-214e2808.js';\nimport './I3SBinaryReader-b20f9b11.js';\nimport './earcut-d7f8e4d3.js';\nimport './SnappingCandidate-bc41f7f5.js';\nimport './MeshComponent-b18040c4.js';\nimport './imageUtils-cef249ef.js';\nimport './ProgramCache-3ebb52cb.js';\nimport './Program-cfc2ac6a.js';\nimport './Octree-7f4584df.js';\nimport './callExpressionWithFeature-b6ca438f.js';\nimport './DefaultVertexAttributeLayouts-628c4128.js';\nimport './geometryServiceUtils-81d0f769.js';\nimport './project-fd6b7e14.js';\nimport './LercDecoder-0ed5ac3a.js';\nimport './VectorTile-319b410f.js';\nimport './enums-caf3e430.js';\nimport './config-9a7f1231.js';\nimport './TiledDisplayObject-1902681f.js';\nimport './DisplayObject-7536b955.js';\nimport './TileKey-cf11edbc.js';\nimport './workerHelper-012b260c.js';\nimport './RenderingContext-97aec3c8.js';\nimport './LayerView3D-b0005708.js';\nimport './projectExtentUtils-8d6c7de3.js';\nimport './ImageMaterial-29754e11.js';\nimport './LayerView-2def927c.js';\nimport './RefreshableLayerView-faf61099.js';\nimport './popupUtils-df92f7d2.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nlet n=class extends(m(F)){constructor(){super(...arguments),this.type=\"imagery-3d\",this.redrawDebounced=x((async e=>{this.redraw(((e,a)=>this._redrawImage(e,a)),e);}),2e3);}initialize(){this.handles.add([f((()=>this.view.basemapTerrain.ready),(()=>this._initializeMaximumDataResolution()),{once:!0,initial:!0}),this.layer.on(\"redraw\",(()=>this.updatingHandles.addPromise(this.redrawDebounced())))]),this.updatingHandles.add((()=>this.layer?.exportImageServiceParameters?.version),(()=>{this.updatingHandles.addPromise(this.refreshDebounced());})),this.updatingHandles.add((()=>this.layer?.renderer),(()=>{this.updatingHandles.addPromise(this.refreshDebounced());})),this.updatingHandles.add((()=>this.timeExtent),(()=>this.updatingHandles.addPromise(this.refreshDebounced())));}_initializeMaximumDataResolution(){this.maximumDataResolution=this.layer.loaded?this.layer.serviceRasterInfo.pixelSize:null;}getFetchOptions(){return {timeExtent:this.timeExtent}}async processResult(e,a,t){a.imageOrCanvasElement?e.image=a.imageOrCanvasElement:(e.image=document.createElement(\"canvas\"),e.pixelData=a.pixelData,await this._redrawImage(e,t));}async _redrawImage(e,t$1){if(!(e.image instanceof HTMLCanvasElement)||t(e.pixelData))throw new Error;const i=e.image,r=i.getContext(\"2d\"),s=await this.layer.applyRenderer(e.pixelData,{signal:t$1}),o=this.layer.applyFilter(s).pixelBlock;if(t(o))throw new Error;i.width=o.width,i.height=o.height;const n=r.createImageData(o.width,o.height);n.data.set(o.getAsRGBA()),r.putImageData(n,0,0);}};n=e([n$1(\"esri.views.3d.layers.ImageryLayerView3D\")],n);const d=n;\n\nexport default d;\n","import { t, r } from './config-1ffdf45e.js';\nimport { C, T } from './fieldUtils-f2a7c3b5.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nasync function d(l,d=l.popupTemplate){if(t(d))return [];const s=await d.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=d,{objectIdField:n,typeIdField:u,globalIdField:a,relationships:o}=l;if(s.includes(\"*\"))return [\"*\"];const r=i?await C(l):[],f=T(l.fieldsIndex,[...s,...r]);return u&&f.push(u),f&&n&&l.fieldsIndex.has(n)&&!f.includes(n)&&f.push(n),f&&a&&l.fieldsIndex.has(a)&&!f.includes(a)&&f.push(a),o&&o.forEach((e=>{const{keyField:p}=e;f&&p&&l.fieldsIndex.has(p)&&!f.includes(p)&&f.push(p);})),f}function s(e,p){return e.popupTemplate?e.popupTemplate:r(p)&&p.defaultPopupTemplateEnabled&&r(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}\n\nexport { d, s };\n"],"names":["m","c","arguments","view","e","s$2","a","p","this","layer","s","popupEnabled","s$1","t","popupTemplate","getRequiredFields","l","x","timeExtent","geometry","outFields","outSpatialReference","spatialReference","y","resolution","w$1","type","w","layerOptions","returnTopmostRaster","showNoDataRecords","d","h","f","returnDomainValues","pixelSize","signal","r","queryVisibleRasters","then","isEmpty","prototype","g","n","redrawDebounced","redraw","_redrawImage","handles","add","basemapTerrain","ready","_initializeMaximumDataResolution","once","initial","on","updatingHandles","addPromise","exportImageServiceParameters","version","refreshDebounced","renderer","maximumDataResolution","loaded","serviceRasterInfo","imageOrCanvasElement","image","document","createElement","pixelData","t$1","HTMLCanvasElement","Error","i","getContext","applyRenderer","o","applyFilter","pixelBlock","width","height","createImageData","data","set","getAsRGBA","putImageData","F","n$1","fieldsIndex","lastEditInfoEnabled","objectIdField","u","typeIdField","globalIdField","relationships","includes","C","T","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}