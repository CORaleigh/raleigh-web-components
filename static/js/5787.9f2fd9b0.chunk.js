"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[5787],{45787:function(e,t,n){n.r(t),n.d(t,{FeatureServiceSnappingSource:function(){return J}});var r=n(1413),i=n(74165),a=n(15861),o=n(29439),l=n(37762),s=n(15671),u=n(43144),d=n(60136),c=n(29388),f=n(23132),p=n(97033),h=n(75610),v=n(36551),y=n(2760),g=n(3969),w=n(97627),k=n(38425),b=n(58687),m=n(24789),I=n(77470),S=n(36460),O=n(78311),Z=n(12079),H=n(21924),_=n(91204),T=n(30709),P=n(4720),x=n(14181);n(21583),n(70441),n(50448),n(57714),n(78674),n(66307),n(24980),n(3114),n(50526),n(22144),n(88370),n(72820),n(80262),n(96349),n(80175),n(9055),n(79611),n(43920),n(2157),n(10815),n(55269),n(30604),n(83822),n(51451),n(41742),n(1773),n(77196),n(38304),n(96401),n(71573),n(57952),n(63022),n(44455),n(61340),n(33703),n(69953),n(58394),n(44344),n(48561),n(84192),n(55806),n(47672),n(64296),n(14432),n(6243),n(37783),n(74021),n(56864),n(64004),n(84538),n(49580),n(54841),n(92870),n(6794),n(81663),n(83996),n(40273),n(72692),n(77389),n(32568),n(69202),n(27597),n(1241),n(67417),n(15181),n(33642),n(28999),n(15612),n(43124),n(69797),n(34860),n(36638),n(10590),n(19948),n(96636),n(30664),n(83024),n(47626),n(25316),n(407),n(67154),n(79054),n(29709),n(47642),n(18411),n(43782),n(33976),n(28210),n(17436),n(53373),n(94872),n(79042),n(61495),n(16485),n(92029),n(74575),n(9575),n(53249),n(72763),n(28681),n(38929),n(97866),n(68890),n(31513),n(25838),n(54539),n(19967),n(50338),n(28623),n(10312),n(95254),n(61099),n(12158),n(93874),n(62446),n(27264),n(50905),n(78945),n(55827),n(70516),n(25279),n(22268),n(40452),n(60424),n(22225),n(42471),n(78470),n(1665),n(38843),n(24892),n(48889),n(30150),n(53647),n(86270),n(87833),n(21523),n(71710),n(45332),n(83059),n(91309),n(25715),n(83262),n(2822),n(61349),n(32990),n(6819),n(52376),n(45414),n(94867),n(97566),n(90138),n(50982),n(21165),n(21984),n(48373),n(61473),n(14946),n(44365),n(90584),n(86148),n(60912),n(98907),n(66156),n(10534),n(25459),n(78556),n(77787),n(85511),n(87603),n(22051),n(46123),n(75777),n(76071),n(42446),n(59819),n(64571),n(56292),n(80584),n(35773),n(34284),n(28194),n(23218),n(33898),n(42860),n(68433),n(73554),n(81019),n(68826),n(61212),n(83712),n(7513),n(75955),n(29009);function C(e,t){return(0,w.ab)(t.extent,E),(0,w.ac)(E,(0,y.f)(z,e.x,e.y,0))}var E=(0,w.G)(),z=(0,g.n)(),F=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).pointOfInterest=null,r}return(0,u.Z)(n,[{key:"tiles",get:function(){var e=this.tilesCoveringView,t=(0,h.r)(this.pointOfInterest)?this.pointOfInterest:this.view.center;return e.sort((function(e,n){return C(t,e)-C(t,n)})),e}},{key:"_scaleEnabled",value:function(){return(0,k.c)(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}},{key:"tilesCoveringView",get:function(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||(0,h.t)(this.tileInfo))return[];if(!this._scaleEnabled)return[];var e,t=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),n=t.spans,r=t.lodInfo,i=r.level,a=[],o=(0,l.Z)(n);try{for(o.s();!(e=o.n()).done;)for(var s=e.value,u=s.row,d=s.colFrom,c=s.colTo,f=d;f<=c;f++){var p={id:null,level:i,row:u,col:r.normalizeCol(f)};this.tileInfo.updateTileInfo(p),a.push(p)}}catch(v){o.e(v)}finally{o.f()}return a}},{key:"tileInfo",get:function(){var e,t;return null!==(e=null===(t=this.view.featuresTilingScheme)||void 0===t?void 0:t.tileInfo)&&void 0!==e?e:null}},{key:"tileSize",get:function(){return(0,h.r)(this.tileInfo)?this.tileInfo.size[0]:256}},{key:"initialize",value:function(){var e=this;this.own((0,v.l)((function(){var t,n;return null===(t=e.view)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.viewpoint}),(function(){return e.notifyChange("tilesCoveringView")}),v.U))}}]),n}(f.y);(0,f.e)([(0,f.d)({readOnly:!0})],F.prototype,"tiles",null),(0,f.e)([(0,f.d)({readOnly:!0})],F.prototype,"_scaleEnabled",null),(0,f.e)([(0,f.d)({readOnly:!0})],F.prototype,"tilesCoveringView",null),(0,f.e)([(0,f.d)({readOnly:!0})],F.prototype,"tileInfo",null),(0,f.e)([(0,f.d)({readOnly:!0})],F.prototype,"tileSize",null),(0,f.e)([(0,f.d)({constructOnly:!0})],F.prototype,"view",void 0),(0,f.e)([(0,f.d)({constructOnly:!0})],F.prototype,"layer",void 0),(0,f.e)([(0,f.d)()],F.prototype,"pointOfInterest",void 0),F=(0,f.e)([(0,f.n)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D")],F);var M=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).pointOfInterest=null,r}return(0,u.Z)(n,[{key:"tiles",get:function(){var e=this.tilesCoveringView,t=this.effectivePointOfInterest;if((0,h.r)(t))for(var n=e.map((function(e){return C(t,e)})),r=1;r<n.length;r++)if(n[r-1]>n[r])return e.sort((function(e,n){return C(t,e)-C(t,n)})),e.slice();return e}},{key:"tilesCoveringView",get:function(){var e,t;return this._filterTiles(null===(e=this.view.featureTiles)||void 0===e||null===(t=e.tiles)||void 0===t?void 0:t.toArray()).map(N)}},{key:"tileInfo",get:function(){var e,t;return null!==(e=null===(t=this.view.featureTiles)||void 0===t?void 0:t.tilingScheme.toTileInfo())&&void 0!==e?e:null}},{key:"tileSize",get:function(){var e,t;return null!==(e=null===(t=this.view.featureTiles)||void 0===t?void 0:t.tileSize)&&void 0!==e?e:256}},{key:"effectivePointOfInterest",get:function(){var e,t=this.pointOfInterest;return(0,h.r)(t)?t:null===(e=this.view.pointsOfInterest)||void 0===e?void 0:e.focus.location}},{key:"initialize",value:function(){var e=this;this.handles.add((0,v.l)((function(){return e.view.featureTiles}),(function(t){e.handles.remove(j),t&&e.handles.add(t.addClient(),j)}),v.h))}},{key:"_filterTiles",value:function(e){return(0,h.t)(e)?[]:e.filter((function(e){return Math.abs(e.measures.screenRect[3]-e.measures.screenRect[1])>R&&e.measures.visibility===b.b_.VISIBLE_ON_SURFACE}))}}]),n}(p.d);function N(e){var t=(0,o.Z)(e.lij,3),n=t[0],r=t[1],i=t[2],a=e.extent;return{id:"".concat(n,"/").concat(r,"/").concat(i),level:n,row:r,col:i,extent:a}}(0,f.e)([(0,f.d)({readOnly:!0})],M.prototype,"tiles",null),(0,f.e)([(0,f.d)({readOnly:!0})],M.prototype,"tilesCoveringView",null),(0,f.e)([(0,f.d)({readOnly:!0})],M.prototype,"tileInfo",null),(0,f.e)([(0,f.d)({readOnly:!0})],M.prototype,"tileSize",null),(0,f.e)([(0,f.d)({constructOnly:!0})],M.prototype,"view",void 0),(0,f.e)([(0,f.d)()],M.prototype,"pointOfInterest",void 0),(0,f.e)([(0,f.d)()],M.prototype,"effectivePointOfInterest",null),M=(0,f.e)([(0,f.n)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D")],M);var R=50,j="feature-tiles",U=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).handles=new I.u,r}return(0,u.Z)(n,[{key:"initialize",value:function(){var e=this,t=setInterval((function(){return e._fetchDebugInfo()}),2e3);this.handles.add((0,f.g)((function(){return clearInterval(t)})))}},{key:"destroy",value:function(){this.handles.destroy()}},{key:"getTiles",value:function(){var e=this;if(!this.debugInfo)return[];var t=new Map,n=new Map;this.debugInfo.storedTiles.forEach((function(e){t.set(e.data.id,e.featureCount)})),this.debugInfo.pendingTiles.forEach((function(e){t.set(e.data.id,e.featureCount),n.set(e.data.id,e.state)}));var r=function(e){var r,i=n.get(e),a=null!==(r=t.get(e))&&void 0!==r?r:"?";return i?"".concat(i,":").concat(a,"\n").concat(e):"store:".concat(a,"\n").concat(e)},i=new Map;return this.debugInfo.storedTiles.forEach((function(e){i.set(e.data.id,e.data)})),this.debugInfo.pendingTiles.forEach((function(e){i.set(e.data.id,e.data)})),Array.from(i.values()).map((function(t){return{lij:[t.level,t.row,t.col],geometry:S.v.fromExtent((0,O.f)(t.extent,e.view.spatialReference)),label:r(t.id)}}))}},{key:"_fetchDebugInfo",value:function(){var e=this;this.handle.getDebugInfo(null).then((function(t){e.debugInfo=t,e.update()}))}}]),n}(Z.b);(0,f.e)([(0,f.d)({constructOnly:!0})],U.prototype,"handle",void 0),U=(0,f.e)([(0,f.n)("esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger")],U);var V=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).availability=0,r.workerHandleUpdating=!0,r.editId=0,r}return(0,u.Z)(n,[{key:"updating",get:function(){return this.updatingHandles.updating||this.workerHandleUpdating}},{key:"destroy",value:function(){this.workerHandle.destroy()}},{key:"initialize",value:function(){var e=this;this.workerHandle=new A(this.schedule),this.handles.add([this.workerHandle.on("notify-updating",(function(t){var n=t.updating;return e.workerHandleUpdating=n})),this.workerHandle.on("notify-availability",(function(t){var n=t.availability;return e._set("availability",n)}))])}},{key:"setup",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._serviceInfoFromLayer(t.layer),!(0,h.t)(r)){e.next=3;break}return e.abrupt("return");case 3:return a={configuration:this._convertConfiguration(t.configuration),serviceInfo:r,spatialReference:t.spatialReference.toJSON()},e.next=6,this.updatingHandles.addPromise(this.workerHandle.invokeMethod("setup",a,n));case 6:this.updatingHandles.addPromise(this.workerHandle.invokeMethod("whenNotUpdating",{},n));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"configure",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._convertConfiguration(t),e.next=3,this.updatingHandles.addPromise(this.workerHandle.invokeMethod("configure",r,n));case 3:this.updatingHandles.addPromise(this.workerHandle.invokeMethod("whenNotUpdating",{},n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updatingHandles.addPromise(this.workerHandle.invokeMethod("refresh",{},t));case 2:this.updatingHandles.addPromise(this.workerHandle.invokeMethod("whenNotUpdating",{},t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchCandidates",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={distance:t.distance,point:t.coordinateHelper.vectorToPoint(t.point).toJSON(),types:t.types,filter:(0,h.r)(t.filter)?t.filter.createQuery().toJSON():null},e.abrupt("return",this.workerHandle.invoke(r,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTiles",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={tiles:t.tiles,tileInfo:(0,h.r)(t.tileInfo)?t.tileInfo.toJSON():null,tileSize:t.tileSize},e.next=3,this.updatingHandles.addPromise(this.workerHandle.invokeMethod("updateTiles",r,n));case 3:this.updatingHandles.addPromise(this.workerHandle.invokeMethod("whenNotUpdating",{},n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r,a,o,l,s,u,d,c,p,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=this.editId++,c={id:d},e.next=3,this.updatingHandles.addPromise(this.workerHandle.invokeMethod("beginApplyEdits",c,n));case 3:return e.next=5,this.updatingHandles.addPromise((0,f.a6)(t.result,n));case 5:return p=e.sent,h={id:d,edits:{addedFeatures:null!==(r=null===(a=p.addedFeatures)||void 0===a?void 0:a.map((function(e){return e.objectId})))&&void 0!==r?r:[],deletedFeatures:null!==(o=null===(l=p.deletedFeatures)||void 0===l?void 0:l.map((function(e){return{objectId:e.objectId,globalId:e.globalId}})))&&void 0!==o?o:[],updatedFeatures:null!==(s=null===(u=p.updatedFeatures)||void 0===u?void 0:u.map((function(e){return e.objectId})))&&void 0!==s?s:[]}},e.next=9,this.updatingHandles.addPromise(this.workerHandle.invokeMethod("endApplyEdits",h,n));case 9:this.updatingHandles.addPromise(this.workerHandle.invokeMethod("whenNotUpdating",{},n));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getDebugInfo",value:function(e){return this.workerHandle.invokeMethod("getDebugInfo",{},e)}},{key:"_convertConfiguration",value:function(e){return{filter:(0,h.r)(e.filter)?e.filter.toJSON():null,customParameters:e.customParameters}}},{key:"_serviceInfoFromLayer",value:function(e){var t;return"multipatch"===e.geometryType||"mesh"===e.geometryType?null:{url:e.parsedUrl.path,fields:e.fields.map((function(e){return e.toJSON()})),geometryType:_.a.toJSON(e.geometryType),capabilities:e.capabilities,objectIdField:e.objectIdField,globalIdField:e.globalIdField,spatialReference:e.spatialReference.toJSON(),timeInfo:null===(t=e.timeInfo)||void 0===t?void 0:t.toJSON()}}}]),n}(p.d);(0,f.e)([(0,f.d)({constructOnly:!0})],V.prototype,"schedule",void 0),(0,f.e)([(0,f.d)({readOnly:!0})],V.prototype,"updating",null),(0,f.e)([(0,f.d)({readOnly:!0})],V.prototype,"availability",void 0),(0,f.e)([(0,f.d)()],V.prototype,"workerHandleUpdating",void 0),V=(0,f.e)([(0,f.n)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorkerHandle")],V);var A=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(e){return(0,s.Z)(this,n),t.call(this,"FeatureServiceSnappingSourceWorker","fetchCandidates",{},e,{strategy:"dedicated"})}return(0,u.Z)(n)}(H.a),D=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).pointOfInterest=null,r}return(0,u.Z)(n,[{key:"tiles",get:function(){return[{id:"0/0/0",level:0,row:0,col:0,extent:(0,O.o)(-1e8,-1e8,1e8,1e8)}]}},{key:"tileInfo",get:function(){return new P.S({origin:new T.j({x:-1e8,y:1e8,spatialReference:this.layer.spatialReference}),size:[512,512],lods:[new P.p({level:0,scale:1,resolution:390625})],spatialReference:this.layer.spatialReference})}},{key:"tileSize",get:function(){return this.tileInfo.size[0]}}]),n}(f.y);(0,f.e)([(0,f.d)({readOnly:!0})],D.prototype,"tiles",null),(0,f.e)([(0,f.d)({readOnly:!0})],D.prototype,"tileInfo",null),(0,f.e)([(0,f.d)({readOnly:!0})],D.prototype,"tileSize",null),(0,f.e)([(0,f.d)({constructOnly:!0})],D.prototype,"layer",void 0),(0,f.e)([(0,f.d)()],D.prototype,"pointOfInterest",void 0),D=(0,f.e)([(0,f.n)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTilesSimple")],D);var J=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(e){return(0,s.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"updateTilesParameters",get:function(){return{tiles:this.tilesOfInterest.tiles,tileInfo:this.tilesOfInterest.tileInfo,tileSize:this.tilesOfInterest.tileSize}}},{key:"updating",get:function(){return this.workerHandle.updating||this.updatingHandles.updating}},{key:"configuration",get:function(){return{filter:this.layer.createQuery(),customParameters:this.layer.customParameters}}},{key:"availability",get:function(){return this.workerHandle.availability}},{key:"layer",get:function(){return this.layerSource.layer}},{key:"initialize",value:function(){var e=this,t=this.view;if((0,h.r)(t))switch(t.type){case"2d":this.tilesOfInterest=new F({view:t,layer:this.layer}),this.workerHandle=new V;break;case"3d":var n=t.resourceController;this.tilesOfInterest=new M({view:t}),this.workerHandle=new V({schedule:function(e){return n.schedule(e)}})}else this.tilesOfInterest=new D({layer:this.layer}),this.workerHandle=new V;this.handles.add([(0,f.aF)(this.workerHandle)]),this.workerHandle.setup({layer:this.layer,spatialReference:this.spatialReference,configuration:this.configuration},null),this.updatingHandles.add((function(){return e.updateTilesParameters}),(function(){return e.workerHandle.updateTiles(e.updateTilesParameters,null)}),v.h),this.handles.add([(0,v.l)((function(){return e.configuration}),(function(t){return e.workerHandle.configure(t,null)}),v.U)]),(0,h.r)(t)&&this.handles.add((0,v.l)((function(){return x.p.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES}),(function(n){n&&!e.debug?(e.debug=new U({view:t,handle:e.workerHandle}),e.handles.add((0,f.aF)(e.debug),"debug")):!n&&e.debug&&e.handles.remove("debug")}),v.h)),this.handles.add(this.layerSource.layer.on("apply-edits",(function(t){e.workerHandle.applyEdits(t,null)})))}},{key:"refresh",value:function(){this.workerHandle.refresh(null)}},{key:"fetchCandidates",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.tilesOfInterest.pointOfInterest=t.coordinateHelper.vectorToPoint(t.point),e.next=3,this.workerHandle.fetchCandidates((0,r.Z)((0,r.Z)({},t),{},{filter:null}),n);case 3:return e.abrupt("return",e.sent.candidates.map((function(e){return(0,m.o)(e,t.coordinateHelper,t.elevationInfo)})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getDebugInfo",value:function(e){return this.workerHandle.getDebugInfo(e)}}]),n}((0,p.a)(f.y));(0,f.e)([(0,f.d)({constructOnly:!0})],J.prototype,"spatialReference",void 0),(0,f.e)([(0,f.d)({constructOnly:!0})],J.prototype,"layerSource",void 0),(0,f.e)([(0,f.d)({constructOnly:!0})],J.prototype,"view",void 0),(0,f.e)([(0,f.d)()],J.prototype,"tilesOfInterest",void 0),(0,f.e)([(0,f.d)({readOnly:!0})],J.prototype,"updateTilesParameters",null),(0,f.e)([(0,f.d)({readOnly:!0})],J.prototype,"updating",null),(0,f.e)([(0,f.d)({readOnly:!0})],J.prototype,"configuration",null),(0,f.e)([(0,f.d)({readOnly:!0})],J.prototype,"availability",null),J=(0,f.e)([(0,f.n)("esri.views.interactive.snapping.featureSources.FeatureServiceSnappingSource")],J)},12079:function(e,t,n){n.d(t,{b:function(){return h}});var r=n(15671),i=n(43144),a=n(60136),o=n(29388),l=n(23132),s=n(78674),u=n(83822),d=n(2760),c=n(75610),f=n(24980),p=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]],h=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).updating=!1,i.enablePolygons=!0,i.enableLabels=!0,i._polygons=new Map,i._labels=new Map,i._enabled=!0,i}return(0,i.Z)(n,[{key:"initialize",value:function(){this._symbols=p.map((function(e){return new f.S({color:[e[0],e[1],e[2],.6],outline:{color:"black",width:1}})})),this.update()}},{key:"destroy",value:function(){this._enabled=!1,this.clear()}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.update())}},{key:"update",value:function(){var e=this;if(this._enabled){var t=this.getTiles(),n=new Array,r=new Set(this._labels.keys());t.forEach((function(i,a){var o=i.lij.toString();r.delete(o);var l=i.lij[0],p=i.geometry;if(e.enablePolygons&&!e._polygons.has(o)){var h=new u.g({geometry:p,symbol:e._symbols[l%e._symbols.length]});e._polygons.set(o,h),n.push(h)}if(e.enableLabels){var v=function(e){if((0,c.r)(e.label))return e.label;var t=e.lij.toString();return(0,c.r)(e.loadPriority)&&(t+=" (".concat(e.loadPriority,")")),t}(i),y=a/(t.length-1),g=(0,d.Z)(0,200,y),w=(0,d.Z)(20,6,y)/.75,k=(0,c.r)(i.loadPriority)&&i.loadPriority>=t.length,b=new s.l([g,k?0:g,k?0:g]),m="3d"===e.view.type?function(){return new f.e({verticalOffset:{screenLength:40/.75},callout:{type:"line",color:"white",border:{color:"black"}},symbolLayers:[new f.w({text:v,halo:{color:"white",size:1/.75},material:{color:b},size:w})]})}:function(){return new f.a({text:v,haloColor:"white",haloSize:1/.75,color:b,size:w})};if(e._labels.has(o)){var I=e._labels.get(o),S=m();((0,c.t)(I.symbol)||JSON.stringify(S)!==JSON.stringify(I.symbol))&&(I.symbol=S)}else{var O=new u.g({geometry:p.extent.center,symbol:m()});e._labels.set(o,O),n.push(O)}}}));var i=new Array;r.forEach((function(t){e._polygons.has(t)&&(i.push(e._polygons.get(t)),e._polygons.delete(t)),e._labels.has(t)&&(i.push(e._labels.get(t)),e._labels.delete(t))})),this.view.graphics.removeMany(i),this.view.graphics.addMany(n)}else this.clear()}},{key:"clear",value:function(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}}]),n}(l.y);(0,l.e)([(0,l.d)({constructOnly:!0})],h.prototype,"view",void 0),(0,l.e)([(0,l.d)({readOnly:!0})],h.prototype,"updating",void 0),(0,l.e)([(0,l.d)()],h.prototype,"enabled",null),h=(0,l.e)([(0,l.n)("esri.views.support.TileTreeDebugger")],h)},24789:function(e,t,n){n.d(t,{o:function(){return i}});var r=n(56292);function i(e,t,n){switch(e.type){case"edge":return new r.e({coordinateHelper:t,edgeStart:t.pointToVector(e.start),edgeEnd:t.pointToVector(e.end),targetPoint:t.pointToVector(e.target),objectId:e.objectId,elevationInfo:n});case"vertex":return new r.r({coordinateHelper:t,targetPoint:t.pointToVector(e.target),objectId:e.objectId,elevationInfo:n})}}}}]);
//# sourceMappingURL=5787.9f2fd9b0.chunk.js.map