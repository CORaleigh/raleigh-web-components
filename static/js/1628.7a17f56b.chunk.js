"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[1628],{31628:function(e,t,n){n.r(t);var r=n(74165),i=n(15861),a=n(15671),o=n(43144),s=n(11752),u=n(61120),l=n(60136),c=n(29388),d=n(48848),p=n(93661),v=n(50690),f=n(72770),h=n(96278),y=n(25431),g=n(3393),m=n(57791),b=n(52195),k=(n(70522),n(82396),n(40558),n(40114),n(47855),n(82474),n(1685),n(46337),n(74384),n(46817),n(43406),n(43955),n(93209),n(25456),n(71802),n(45184),n(56162),n(69641),n(20302),n(15436),n(52638),n(15529),n(59984),n(28390),n(17455),n(62610),n(1500),n(64998),n(25577),n(93314),n(37856),n(15751),n(53586),n(65094),n(60369),n(92072),n(37944),n(86086),n(21385),n(89794),n(48200),n(85253),n(81556),n(93116),n(42467),n(46737),n(52113),n(75255),n(42667),n(61118),n(85113),n(23585),n(630),n(95249),n(79557),n(65415),n(25747),n(59389),n(26313),n(37077),n(49228),n(41723),n(64772),n(91681),n(76291),n(13239),n(24093),n(6189),n(17332),n(87750),n(20846),n(67430),n(87424),n(10464),n(32043),n(98598),n(19941),n(39994),n(49871),n(63212),n(69717),n(53409),n(35182),n(62466),n(51816),n(68781),n(35237),n(89181),n(69768),n(35865),n(51219),n(66577),n(95643),n(33795),n(43976),n(6762),n(2959),n(2821),n(33794),n(71147),n(84186),n(70449),n(22603),n(56546),n(39926),n(8141),n(26151),n(90429),n(52559),n(95399),n(98987),n(99795),n(87753),n(29130),n(12953),n(74797),n(45999),n(72973),n(62710),n(52721),n(61903),n(23444),n(40811),n(51920),n(63393),n(90442),n(64854),n(24623),n(64264),n(6379),n(21015),n(23341),n(41820),n(20086),n(92982),n(61416),n(77880),n(74494),n(77755),n(71645),n(89311),n(67066),n(39769),n(70607),n(85700),n(3719),n(32161),n(37686),n(16641),n(62642),n(90316),n(19891),n(47748),n(43066),n(29048),n(68136),n(50253),n(27205),n(16263),n(3356),n(70381),n(20675),n(85026),n(33973),n(42233),n(93122),n(70288),n(95414),n(43345),n(75833),n(31698),n(94777),n(4937),n(87440),n(21744),n(18936),n(4397),n(25217),n(72361),n(22159),n(73911),n(87917),n(46018),n(70863),n(62312),n(24648),n(63999),n(1797),n(5526),n(2473),n(59929),n(2467),n(75257),n(26789),n(64095),n(51732),n(2851),n(70285),n(76419),n(25874),n(44581),n(44513),n(90325),n(53921),function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,a.Z)(this,n),(e=t.apply(this,arguments)).type="graphics-3d",e.symbologySnappingSupported=!0,e.slicePlaneEnabled=!1,e.fullExtentInLocalViewSpatialReference=null,e}return(0,o.Z)(n,[{key:"initialize",value:function(){var e=this;this._set("processor",new y.A({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.initializePromise),this.handles.add(this.layer.on("graphic-update",(function(t){return e.processor.graphicsCore.graphicUpdateHandler(t)}))),this.addResolvingPromise((0,g.l)(this).then((function(t){return e.fullExtentInLocalViewSpatialReference=t}))),this.layer.internal?this.notifyChange("updating"):this.handles.add((0,v.f)((function(){var t,n;return null===(t=e.view)||void 0===t||null===(n=t.basemapTerrain)||void 0===n?void 0:n.ready}),(function(){return function(){return e.notifyChange("updating")}}),{once:!0}))}},{key:"destroy",value:function(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set("processor",(0,p.g)(this.processor))}},{key:"loadedGraphics",get:function(){return this.layer.graphics}},{key:"legendEnabled",get:function(){var e;return this.canResume()&&!(null!==(e=this.processor)&&void 0!==e&&e.frustumVisibilitySuspended)}},{key:"getSuspendInfo",value:function(){var e,t,r,i,a=(0,s.Z)((0,u.Z)(n.prototype),"getSuspendInfo",this).call(this);return a.outsideScaleRange=null!==(e=null===(t=this.processor)||void 0===t?void 0:t.scaleVisibilitySuspended)&&void 0!==e&&e,a.outsideOfView=null!==(r=null===(i=this.processor)||void 0===i?void 0:i.frustumVisibilitySuspended)&&void 0!==r&&r,a}},{key:"fetchPopupFeatures",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.r)(n)?n.clientGraphics:null);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getHit",value:function(e){return this.processor.getHit(e)}},{key:"whenGraphicBounds",value:function(e,t){return this.processor.whenGraphicBounds(e,t)}},{key:"computeAttachmentOrigin",value:function(e,t){var n;return null===(n=this.processor)||void 0===n?void 0:n.computeAttachmentOrigin(e,t)}},{key:"getSymbolLayerSize",value:function(e,t){return this.processor.getSymbolLayerSize(e,t)}},{key:"queryGraphics",value:function(){return Promise.resolve(this.loadedGraphics)}},{key:"maskOccludee",value:function(e){return this.processor.maskOccludee(e)}},{key:"highlight",value:function(e){return this.processor.highlight(e)}},{key:"elevationAlignPointsInFeatures",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.processor,!(0,p.t)(i)){e.next=3;break}throw new d.s("graphicslayerview3d:missing-processor","A Graphics3D processor is needed to resolve graphics elevation.");case 3:return e.abrupt("return",(0,h.m)(this.view,this.layer,(function(e){return"number"==typeof e?i.graphics3DGraphics.get(e):null}),t,n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"queryForSymbologySnapping",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.a)(this.processor,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updatePolicy",get:function(){var e;return(null===(e=this.processor)||void 0===e?void 0:e.graphicsCore.effectiveUpdatePolicy)||m.i.SYNC}},{key:"canResume",value:function(){var e;return(0,s.Z)((0,u.Z)(n.prototype),"canResume",this).call(this)&&!(null!==(e=this.processor)&&void 0!==e&&e.scaleVisibilitySuspended)}},{key:"isUpdating",value:function(){var e,t,n;return!((null===(e=this.processor)||void 0===e||!e.updating)&&(this.layer.internal||null!==(t=this.view)&&void 0!==t&&null!==(n=t.basemapTerrain)&&void 0!==n&&n.ready))}},{key:"performanceInfo",get:function(){var e,t,n;return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:-1,totalNumberOfFeatures:-1,nodes:0,core:null,updating:this.updating,elevationUpdating:null!==(e=null===(t=this.processor)||void 0===t?void 0:t.elevationAlignment.updating)&&void 0!==e&&e,visibilityFrustum:!(null!==(n=this.processor)&&void 0!==n&&n.frustumVisibilitySuspended)}}},{key:"getUsedMemory",value:function(){var e,t,n;return null!==(e=null===(t=this.processor)||void 0===t||null===(n=t.graphicsCore)||void 0===n?void 0:n.usedMemory)&&void 0!==e?e:0}},{key:"getUnloadedMemory",value:function(){var e,t;return null===(e=this.processor)||void 0===e||null===(t=e.graphicsCore)||void 0===t?void 0:t.unprocessedMemoryEstimate}},{key:"ignoresMemoryFactor",value:function(){return!0}}]),n}((0,f.n)(b.u)));(0,d.e)([(0,d.y)()],k.prototype,"loadedGraphics",null),(0,d.e)([(0,d.y)({readOnly:!0})],k.prototype,"legendEnabled",null),(0,d.e)([(0,d.y)()],k.prototype,"layer",void 0),(0,d.e)([(0,d.y)({readOnly:!0})],k.prototype,"processor",void 0),(0,d.e)([(0,d.y)({type:Boolean})],k.prototype,"slicePlaneEnabled",void 0);var w=k=(0,d.e)([(0,d.n)("esri.views.3d.layers.GraphicsLayerView3D")],k);t.default=w},52195:function(e,t,n){n.d(t,{u:function(){return f}});var r=n(15671),i=n(43144),a=n(60136),o=n(29388),s=n(48848),u=n(37856),l=n(630),c=n(92072),d=n(93661),p=n(65094),v=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).layer=null,i.parent=null,i}return(0,i.Z)(n,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){if("layerview:create-error"!==t.name){var n=e.layer&&e.layer.id||"no id",r=e.layer&&e.layer.title||"no title";s.a.getLogger(e.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '".concat(r,"', id: '").concat(n,"')"),t)}}))}},{key:"fullOpacity",get:function(){return(0,d.v)(this.get("layer.opacity"),1)*(0,d.v)(this.get("parent.fullOpacity"),1)}},{key:"suspended",get:function(){return!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){var e;return!this.suspended&&!0===(null===(e=this.layer)||void 0===e?void 0:e.legendEnabled)}},{key:"updating",get:function(){var e;return!((null===(e=this.updatingHandles)||void 0===e||!e.updating)&&!this.isUpdating())}},{key:"updatingProgress",get:function(){return this.updating?0:1}},{key:"visible",get:function(){var e;return!0===(null===(e=this.layer)||void 0===e?void 0:e.visible)},set:function(e){this._overrideIfSome("visible",e)}},{key:"canResume",value:function(){var e,t,n;return this.visible&&(null===(e=this.layer)||void 0===e?void 0:e.loaded)&&!(null!==(t=this.parent)&&void 0!==t&&t.suspended)&&(null===(n=this.view)||void 0===n?void 0:n.ready)||!1}},{key:"getSuspendInfo",value:function(){var e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}},{key:"isUpdating",value:function(){return!1}}]),n}((0,l.a)((0,c.s)((0,p.m)(u.n.EventedMixin(s.m)))));(0,s.e)([(0,s.y)()],v.prototype,"fullOpacity",null),(0,s.e)([(0,s.y)()],v.prototype,"layer",void 0),(0,s.e)([(0,s.y)()],v.prototype,"parent",void 0),(0,s.e)([(0,s.y)({readOnly:!0})],v.prototype,"suspended",null),(0,s.e)([(0,s.y)({readOnly:!0})],v.prototype,"suspendInfo",null),(0,s.e)([(0,s.y)({readOnly:!0})],v.prototype,"legendEnabled",null),(0,s.e)([(0,s.y)({type:Boolean,readOnly:!0})],v.prototype,"updating",null),(0,s.e)([(0,s.y)({readOnly:!0})],v.prototype,"updatingProgress",null),(0,s.e)([(0,s.y)()],v.prototype,"visible",null),(0,s.e)([(0,s.y)()],v.prototype,"view",void 0);var f=v=(0,s.e)([(0,s.n)("esri.views.layers.LayerView")],v)},72770:function(e,t,n){n.d(t,{n:function(){return f}});var r=n(74165),i=n(15861),a=n(15671),o=n(43144),s=n(11752),u=n(61120),l=n(60136),c=n(29388),d=n(48848),p=n(50690),v=(n(93661),n(70522)),f=function(e){var t=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,a.Z)(this,n),(e=t.apply(this,arguments)).slicePlaneEnabled=!1,e.supportsHeightUnitConversion=!1,e}return(0,o.Z)(n,[{key:"postscript",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"postscript",this).call(this,e),(0,v.g)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}},{key:"_validateHeightModelInfo",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,n=t.signal,this.handles.add((0,d.D)((function(){return t.abort()}))),e.next=4,(0,p.j)((function(){var e;return null===(e=a.view.defaultsFromMap)||void 0===e?void 0:e.heightModelInfoReady}),n);case 4:if((0,d.f)(n),!(i=(0,v.o)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion))){e.next=8;break}throw i;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"canResume",value:function(){var e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return(0,s.Z)((0,u.Z)(n.prototype),"canResume",this).call(this)&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}},{key:"getSuspendInfo",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"getSuspendInfo",this).call(this),t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return t&&t.minScale&&t.maxScale&&t.minScale<t.maxScale&&(e.outsideScaleRange=!0),e}}]),n}(e);return(0,d.e)([(0,d.y)()],t.prototype,"view",void 0),(0,d.e)([(0,d.y)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,d.e)([(0,d.n)("esri.views.3d.layers.LayerView3D")],t)}},52638:function(e,t,n){n.d(t,{E:function(){return h},a:function(){return s},b:function(){return p},f:function(){return u},g:function(){return l},h:function(){return c},i:function(){return o},x:function(){return g},y:function(){return f}});var r=n(93661),i=n(15529);function a(e){return e?h:y}function o(e,t){return function(e,t){return(0,r.t)(t)||!t.mode?a(e).mode:t.mode}(!!(0,r.r)(e)&&e.hasZ,t)}function s(e,t){return function(e,t){return(0,r.r)(t)?t:a(e)}(!!(0,r.r)(e)&&e.hasZ,t)}function u(e){var t=function(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}(e),n=o(e.geometry,t);return{mode:n,offset:(0,r.r)(t)&&"on-the-ground"!==n?(0,r.v)(t.offset,0)*(0,i.r)((0,r.v)(t.unit,"meters")):0}}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,n,r)}function c(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return d(e,t[0],t[1],t.length>2?t[2]:0,n,r,i)}function d(e,t,n,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(!(0,r.t)(o)){var u=(0,r.r)(s)?s.mode:"absolute-height";if("on-the-ground"===u)return 0;var l=p(t,n,i,a,e,o),c=l.absoluteZ;return v(c,t,n,i,a,e,s,u)}}function p(e,t,n,i,a,o){var s=(0,r.r)(o.offset)?o.offset:0;switch(o.mode){case"absolute-height":return{absoluteZ:n+s,elevation:0};case"on-the-ground":var u=(0,r.v)(a.elevationProvider.getElevation(e,t,0,i,"ground"),0);return{absoluteZ:u,elevation:u};case"relative-to-ground":var l=(0,r.v)(a.elevationProvider.getElevation(e,t,n,i,"ground"),0);return{absoluteZ:n+l+s,elevation:l};case"relative-to-scene":var c=(0,r.v)(a.elevationProvider.getElevation(e,t,n,i,"scene"),0);return{absoluteZ:n+c+s,elevation:c}}}function v(e,t,n,i,a,o,s,u){var l=(0,r.r)(s)&&(0,r.r)(s.offset)?s.offset:0;switch(u){case"absolute-height":return e-l;case"relative-to-ground":return e-((0,r.v)(o.elevationProvider.getElevation(t,n,i,a,"ground"),0)+l);case"relative-to-scene":return e-((0,r.v)(o.elevationProvider.getElevation(t,n,i,a,"scene"),0)+l)}}function f(e,t){if((0,r.t)(t))return!1;var n=t.mode;return(0,r.r)(n)&&("scene"===e&&"relative-to-scene"===n||"ground"===e&&"absolute-height"!==n)}var h={mode:"absolute-height",offset:0},y={mode:"on-the-ground",offset:null};function g(e,t){return e===t||(0,r.r)(e)&&(0,r.r)(t)&&e.mode===t.mode&&e.offset===t.offset}},3393:function(e,t,n){n.d(t,{l:function(){return o}});var r=n(93661),i=n(82474),a=n(5526);function o(e){var t=e.view.spatialReference,n=e.layer.fullExtent,o=(0,r.r)(n)&&n.spatialReference;if((0,r.t)(n)||!o)return Promise.resolve(null);if(o.equals(t))return Promise.resolve(n.clone());var s=(0,i.M)(n,t);return(0,r.r)(s)?Promise.resolve(s):e.view.state.isLocal?(0,a.projectGeometry)(n,t,e.layer.portalItem).then((function(t){return!e.destroyed&&t?t:void 0})).catch((function(){return null})):Promise.resolve(null)}},96278:function(e,t,n){n.d(t,{a:function(){return m},m:function(){return v}});var r=n(74165),i=n(37762),a=n(15861),o=(n(74384),n(93661)),s=n(48848),u=n(43406),l=n(52638),c=n(28390),d=n(82474),p=n(59984);function v(e,t,n,r,i){return f.apply(this,arguments)}function f(){return f=(0,a.Z)((0,r.Z)().mark((function e(t,n,a,u,d){var p,v,f,m,b,k,w,Z,S,x,I,R,P,E,O,C,G,F,M,V,D,A,H,L,U;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=t.elevationProvider,v=t.renderCoordsHelper,f=t.spatialReference,m=n.elevationInfo,b=(0,c.m)(m,!0),e.next=7,(0,c.u)(b,f,d);case 7:k=e.sent,(0,s.f)(d),w=[],Z=new Set,S=new Set,x=(0,i.Z)(u),e.prev=11,x.s();case 13:if((I=x.n()).done){e.next=28;break}if(R=I.value,P=R.objectId,E=R.points,O=a(P),!(0,o.t)(O)){e.next=21;break}C=(0,i.Z)(E);try{for(C.s();!(G=C.n()).done;)F=G.value,w.push(F[2])}catch(r){C.e(r)}finally{C.f()}return Z.add(P),e.abrupt("continue",26);case 21:O.isDraped&&S.add(P),M=O.graphic.geometry,h.setFromElevationInfo((0,l.a)(M,m)),h.updateFeatureExpressionInfoContext(k,O.graphic,n),y.spatialReference=t.spatialReference,V=(0,i.Z)(E);try{for(V.s();!(D=V.n()).done;)A=D.value,H=A.x,L=A.y,U=A.z,y.x=H,y.y=L,y.z=null!==U&&void 0!==U?U:0,(0,c.Z)(y,p,h,v,g),w.push(g.z)}catch(r){V.e(r)}finally{V.f()}case 26:e.next=13;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(11),x.e(e.t0);case 33:return e.prev=33,x.f(),e.finish(33);case 36:return e.abrupt("return",{elevations:w,drapedObjectIds:S,failedObjectIds:Z});case 37:case"end":return e.stop()}}),e,null,[[11,30,33,36]])}))),f.apply(this,arguments)}var h=new c.M,y=(0,u.v)(0,0,0,d.k.WGS84),g=new c._;function m(e,t,n){return b.apply(this,arguments)}function b(){return b=(0,a.Z)((0,r.Z)().mark((function e(t,n,u){var l,c,d,v,f,h,y,g,m,b,w,Z,S,x,I,R,P,E,O,C,G,F;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.t)(t)&&0!==n.candidates.length){e.next=2;break}return e.abrupt("return",k);case 2:c=null!==(l=t.graphics3DGraphicsByObjectID)&&void 0!==l?l:t.graphics3DGraphics,d=[],v=[],f=t.renderer,h=(0,o.r)(f)&&"arcadeRequired"in f&&f.arcadeRequired?(0,p.i)():null,y=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,i){var a,s,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.graphic,s=i.graphics3DSymbol,e.next=3,h;case 3:return l=e.sent,e.next=6,t.getRenderingInfoAsync(a,f,l,{signal:u});case 6:return c=e.sent,e.abrupt("return",(0,o.t)(c)?[]:s.queryForSnapping(n,m,c,u));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=n.candidates,m=n.spatialReference,b=0;case 4:if(!(b<g.length)){e.next=13;break}if(w=g[b],Z=w.objectId,S="number"==typeof Z?c.get(Z):void 0,!(0,o.t)(S)){e.next=8;break}return e.abrupt("continue",10);case 8:S.graphics3DSymbol.symbologySnappingSupported&&(d.push(y(w,S)),v.push(b));case 10:++b,e.next=4;break;case 13:if(0!==d.length){e.next=15;break}return e.abrupt("return",k);case 15:return e.next=17,Promise.all(d);case 17:for(x=e.sent,(0,s.f)(u),I=[],R=[],P=0;P<x.length;++P){E=x[P],O=v[P],C=(0,i.Z)(E);try{for(C.s();!(G=C.n()).done;)F=G.value,I.push(F),R.push(O)}catch(M){C.e(M)}finally{C.f()}}return e.abrupt("return",{candidates:I,sourceCandidateIndices:R});case 22:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}var k={candidates:[],sourceCandidateIndices:[]}}}]);
//# sourceMappingURL=1628.7a17f56b.chunk.js.map