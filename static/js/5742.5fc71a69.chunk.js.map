{"version":3,"file":"static/js/5742.5fc71a69.chunk.js","mappings":"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","sources":["../node_modules/raleigh-stencil-components/dist/esm/BaseProcessor-8f1e4053.js","../node_modules/raleigh-stencil-components/dist/esm/HeatmapProcessor-14b247c2.js","../node_modules/raleigh-stencil-components/dist/esm/heatmapUtils-feafb65d.js","../node_modules/raleigh-stencil-components/dist/esm/tileUtils-79328634.js","../node_modules/raleigh-stencil-components/dist/esm/vec4f64-d5206b79.js"],"sourcesContent":["import { e, d, n } from './cast-c9f1eea6.js';\nimport { d as d$1 } from './HandleOwner-f0cf7eb8.js';\nimport './find-my-service.water-usage.web-map-6652a32f.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nlet s=class extends d$1{initialize(){}destroy(){}get supportsTileUpdates(){return !1}get spatialReference(){const e=this.get(\"tileStore.tileScheme.spatialReference\");return e&&e.toJSON()||null}};e([d({readOnly:!0})],s.prototype,\"supportsTileUpdates\",null),e([d({constructOnly:!0})],s.prototype,\"remoteClient\",void 0),e([d({constructOnly:!0})],s.prototype,\"service\",void 0),e([d()],s.prototype,\"spatialReference\",null),e([d({constructOnly:!0})],s.prototype,\"tileInfo\",void 0),e([d({constructOnly:!0})],s.prototype,\"tileStore\",void 0),s=e([n(\"esri.views.2d.layers.features.processors.BaseProcessor\")],s);const p=s;\n\nexport { p };\n","import { e, n } from './cast-c9f1eea6.js';\nimport { r, h as o } from './find-my-service.water-usage.web-map-6652a32f.js';\nimport { m } from './diffUtils-0d7b9013.js';\nimport { l as l$2 } from './heatmapUtils-feafb65d.js';\nimport { o as o$1 } from './enums-6ac2a162.js';\nimport { p as p$1 } from './BaseProcessor-8f1e4053.js';\nimport { l as l$1 } from './tileUtils-79328634.js';\nimport './index-26d14c0a.js';\nimport './Collection-8b402ffc.js';\nimport './mathUtils-a0f2962e.js';\nimport './screenUtils-d18b35cd.js';\nimport './vec4f64-d5206b79.js';\nimport './HandleOwner-f0cf7eb8.js';\nimport './Handles-6253e4a9.js';\nimport './reactiveUtils-06cbe5c2.js';\nimport './Extent-739112f1.js';\nimport './Point-25b53807.js';\nimport './JSONSupport-a8fff8cd.js';\nimport './Query-b9b5dbbd.js';\nimport './geometry-e40ba657.js';\nimport './Polyline-e1655464.js';\nimport './request-dcfae9ca.js';\nimport './TimeExtent-9ffd6008.js';\nimport './enumeration-7851389e.js';\nimport './jsonUtils-a4aa547e.js';\nimport './Field-73b735ba.js';\nimport './fieldType-b66b36cb.js';\nimport './TileKey-9dc68315.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass p{constructor(e,t){this.offset=e,this.extent=t;}}function c(e){const t=e.key,s=new Map,r=256,i=o$1,o=e.tileInfoView.tileInfo.isWrappable;return s.set(l$1(t,-1,-1,o).id,new p([-i,-i],[i-r,i-r,i,i])),s.set(l$1(t,0,-1,o).id,new p([0,-i],[0,i-r,i,i])),s.set(l$1(t,1,-1,o).id,new p([i,-i],[0,i-r,r,i])),s.set(l$1(t,-1,0,o).id,new p([-i,0],[i-r,0,i,i])),s.set(l$1(t,1,0,o).id,new p([i,0],[0,0,r,i])),s.set(l$1(t,-1,1,o).id,new p([-i,i],[i-r,0,i,r])),s.set(l$1(t,0,1,o).id,new p([0,i],[0,0,i,r])),s.set(l$1(t,1,1,o).id,new p([i,i],[0,0,r,r])),s}let l=class extends p$1{constructor(){super(...arguments),this.type=\"heatmap\",this._tileKeyToFeatureSets=new Map;}initialize(){this.handles.add([this.tileStore.on(\"update\",this.onTileUpdate.bind(this))]);}async update(e,t){const s=t.schema.processors[0];if(\"heatmap\"!==s.type)return;m(this._schema,s)&&(e.mesh=!0,this._schema=s);}onTileUpdate(e){for(const t of e.removed)this._tileKeyToFeatureSets.delete(t.key.id);}onTileClear(e){const t={clear:!0};return this._tileKeyToFeatureSets.delete(e.key.id),this.remoteClient.invoke(\"tileRenderer.onTileData\",{tileKey:e.id,data:t})}async onTileMessage(e,r$1,i){this._tileKeyToFeatureSets.has(e.key.id)||this._tileKeyToFeatureSets.set(e.key.id,new Map);const a=this._tileKeyToFeatureSets.get(e.key.id);if(r(r$1.addOrUpdate)&&r$1.addOrUpdate.hasFeatures&&a.set(r$1.addOrUpdate.instance,r$1),r$1.end){const t=[],r=c(e);this._tileKeyToFeatureSets.forEach(((i,o$1)=>{if(o$1===e.key.id)i.forEach((e=>o(e.addOrUpdate,(e=>t.push(e)))));else if(r.has(o$1)){const e=r.get(o$1),[a,n]=e.offset;i.forEach((e=>o(e.addOrUpdate,(e=>{const s=e.transform(a,n,1,1);t.push(s);}))));}}));const a=l$2(t,this._schema.mesh,512,512),n={tileKey:e.key.id,intensityInfo:a},d=[a.matrix];return this.remoteClient.invoke(\"tileRenderer.onTileData\",n,{...i,transferList:d})}}onTileError(e,t,s){return this.remoteClient.invoke(\"tileRenderer.onTileError\",{tileKey:e.id,error:t},s)}};l=e([n(\"esri.views.2d.layers.features.processors.HeatmapProcessor\")],l);const h=l;\n\nexport default h;\n","import { j, o } from './mathUtils-a0f2962e.js';\nimport { u, e } from './screenUtils-d18b35cd.js';\nimport { n } from './vec4f64-d5206b79.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst a=2.4;function i(t){return e(t*a)}function f(t){return u(t)/a}function c(r,n,e,a){let{color:i,ratio:f}=n,{color:c,ratio:s}=e;if(s===f){const t=1e-6;1===s?f-=t:s+=t;}const u=o((a-f)/(s-f),0,1);j(r,i.toArray(),c.toArray(),u);}function s(t){const r=512,n$1=new Uint8ClampedArray(4*r);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,r)=>t.ratio-r.ratio)).map((({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))),t.length<1)return n$1;let o=t[0],a=t[0],i=1;const f=n();for(let e=0;e<r;e++){const s=(e+.5)/r;for(;s>a.ratio&&i<t.length;)o=a,a=t[i++];c(f,o,a,s),n$1.set(f,4*e);}return n$1}function l(t,r,o,e){const{radius:a,fieldOffset:i,field:f}=r,c=Math.round(u(a)),s=new Float64Array(o*e);let u$1,l=Number.NEGATIVE_INFINITY;const m=x(f,i),h=new Set;for(const n of t){const t=n.getCursor();for(;t.next();){const r=t.getObjectId();if(h.has(r))continue;h.add(r);const n=t.readLegacyPointGeometry(),a=128;if(n.x<-a||n.x>=o+a||n.y<-a||n.y>e+a)continue;const i=+m(t),f=Math.max(0,Math.round(n.x)-c),d=Math.max(0,Math.round(n.y)-c),x=Math.min(e,Math.round(n.y)+c),M=Math.min(o,Math.round(n.x)+c);for(let t=d;t<x;t++)for(let r=f;r<M;r++){const e=t*o+r,a=y(n.x-r,n.y-t,c);u$1=s[e]+=a*i,u$1>l&&(l=u$1);}}}return {matrix:s.buffer,max:l}}function m(t,r,n,o,e,a){t.canvas.width=t.canvas.height=r,t.clearRect(0,0,r,r);const i=t.getImageData(0,0,r,r);n&&o&&i.data.set(new Uint8ClampedArray(h(r,n,o,e,a))),t.putImageData(i,0,0);}function h(r,n,o$1,e,a){const i=new Uint32Array(r*r),f=\"buffer\"in n?n:new Float64Array(n),c=\"buffer\"in o$1?new Uint32Array(o$1.buffer):new Uint32Array(new Uint8Array(o$1).buffer),s=c.length/(a-e);for(let u=0;u<f.length;u++){const r=f[u],n=Math.floor((r-e)*s);i[u]=c[o(n,0,c.length-1)];}return i.buffer}function y(t,r,n){const o=Math.sqrt(t**2+r**2)/n;return o>1?0:3/(Math.PI*n**2)*(1-o**2)**2}function d(t,r){return \"function\"==typeof t?t:t?\"string\"==typeof r?r=>-1*+r[t]:n=>+n[t]+r:()=>1}function x(t,r){return null!=t?\"string\"==typeof r?r=>-1*+r.readAttribute(t):n=>+n.readAttribute(t)+r:t=>1}\n\nexport { a, d, f, i, l, m, s, y };\n","import './cast-c9f1eea6.js';\nimport './Extent-739112f1.js';\nimport './find-my-service.water-usage.web-map-6652a32f.js';\nimport './mathUtils-a0f2962e.js';\nimport './Query-b9b5dbbd.js';\nimport './TileKey-9dc68315.js';\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction l(o,e,l,n){const r=o.clone(),t=1<<r.level,i=r.col+e,c=r.row+l;return n&&i<0?(r.col=i+t,r.world-=1):i>=t?(r.col=i-t,r.world+=1):r.col=i,r.row=c,r}\n\nexport { l };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction n(){return [0,0,0,0]}function t(n){return [n[0],n[1],n[2],n[3]]}function r(n,t,r,e){return [n,t,r,e]}function e(t){const r=n(),e=Math.min(4,t.length);for(let n=0;n<e;++n)r[n]=t[n];return r}function u(n,t){return new Float64Array(n,t,4)}function a(){return n()}function o(){return r(1,1,1,1)}function s(){return r(1,0,0,0)}function i(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function f(){return r(0,0,0,1)}const l=a(),_=o(),N=s(),O=i(),T=c(),U=f();Object.freeze(Object.defineProperty({__proto__:null,create:n,clone:t,fromValues:r,fromArray:e,createView:u,zeros:a,ones:o,unitX:s,unitY:i,unitZ:c,unitW:f,ZEROS:l,ONES:_,UNIT_X:N,UNIT_Y:O,UNIT_Z:T,UNIT_W:U},Symbol.toStringTag,{value:\"Module\"}));\n\nexport { _, e, l, n, r, t, u };\n"],"names":["s","e","this","get","toJSON","d$1","d","readOnly","prototype","constructOnly","p","n","t","offset","extent","c","key","Map","r","i","o$1","o","tileInfoView","tileInfo","isWrappable","set","l$1","id","l","arguments","type","_tileKeyToFeatureSets","handles","add","tileStore","on","onTileUpdate","bind","schema","processors","m","_schema","mesh","removed","delete","remoteClient","invoke","tileKey","data","clear","r$1","a","has","addOrUpdate","hasFeatures","instance","end","forEach","push","transform","l$2","intensityInfo","matrix","transferList","error","p$1","h","f","u","color","ratio","j","toArray","n$1","Uint8ClampedArray","filter","sort","map","Math","max","length","u$1","radius","fieldOffset","field","round","Float64Array","Number","NEGATIVE_INFINITY","readAttribute","x","Set","getCursor","next","getObjectId","readLegacyPointGeometry","y","min","M","buffer","canvas","width","height","clearRect","getImageData","Uint32Array","Uint8Array","floor","putImageData","sqrt","PI","clone","level","col","row","world","_","N","O","T","U","Object","freeze","defineProperty","__proto__","create","fromValues","fromArray","createView","zeros","ones","unitX","unitY","unitZ","unitW","ZEROS","ONES","UNIT_X","UNIT_Y","UNIT_Z","UNIT_W","Symbol","toStringTag","value"],"sourceRoot":""}