"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[3169],{65087:function(e,t,r){r.d(t,{l:function(){return p}});var i=r(15671),a=r(43144),n=r(60136),s=r(29388),o=r(23132),u=r(97033),l=(r(75610),{visible:"visibleSublayers"}),p=function(e){(0,n.Z)(r,e);var t=(0,s.Z)(r);function r(e){var a;return(0,i.Z)(this,r),(a=t.call(this,e)).scale=0,a}return(0,a.Z)(r,[{key:"layer",set:function(e){var t=this;this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.sublayers.on("change",(function(){return t.notifyChange("visibleSublayers")})),e.on("wms-sublayer-update",(function(e){return t.notifyChange(l[e.propertyName])}))],"layer"))}},{key:"layers",get:function(){return this.visibleSublayers.filter((function(e){return e.name})).map((function(e){return e.name})).join(",")}},{key:"version",get:function(){this.commitProperty("layers");var e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}},{key:"visibleSublayers",get:function(){var e=this.layer,t=this.scale,r=null===e||void 0===e?void 0:e.sublayers,i=[];return null!==r&&void 0!==r&&r.forEach((function e(r){var a=r.minScale,n=r.maxScale,s=r.sublayers;r.visible&&(0===t||(0===a||t<=a)&&(0===n||t>=n))&&(s?s.forEach(e):i.unshift(r))})),i}},{key:"toJSON",value:function(){var e=this.layer,t=this.layers;return{format:e.imageFormat,request:"GetMap",service:"WMS",styles:"",transparent:e.imageTransparency?"TRUE":"FALSE",version:e.version,layers:t}}}]),r}((0,u.a)(o.y));(0,o.e)([(0,o.d)()],p.prototype,"layer",null),(0,o.e)([(0,o.d)({readOnly:!0})],p.prototype,"layers",null),(0,o.e)([(0,o.d)({type:Number})],p.prototype,"scale",void 0),(0,o.e)([(0,o.d)({readOnly:!0})],p.prototype,"version",null),(0,o.e)([(0,o.d)({readOnly:!0})],p.prototype,"visibleSublayers",null),p=(0,o.e)([(0,o.n)("esri.layers.support.ExportWMSImageParameters")],p)},84467:function(e,t,r){r.d(t,{a:function(){return p}});var i=r(15671),a=r(43144),n=r(60136),s=r(29388),o=r(23132),u=(r(75610),r(18411)),l=r(65087),p=function(e){var t=function(e){(0,n.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"initialize",value:function(){this.exportImageParameters=new l.l({layer:this.layer})}},{key:"destroy",value:function(){this.exportImageParameters.destroy(),this.exportImageParameters=null}},{key:"exportImageVersion",get:function(){var e;return null!==(e=this.exportImageParameters)&&void 0!==e&&e.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}},{key:"fetchPopupFeatures",value:function(e){var t=this.layer;if(!e)return Promise.reject(new o.a("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:t}));var r=t.popupEnabled;if(!r)return Promise.reject(new o.a("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:r}));var i=this.createFetchPopupFeaturesQuery(e);if(!i)return Promise.resolve([]);var a=i.extent,n=i.width,s=i.height,u=i.x,l=i.y;if(!(a&&n&&s))throw new o.a("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:a,width:n,height:s});var p=t.fetchFeatureInfo(a,n,s,u,l);return Promise.resolve(p?[p]:[])}}]),r}(e);return(0,o.e)([(0,o.d)()],t.prototype,"exportImageParameters",void 0),(0,o.e)([(0,o.d)({readOnly:!0})],t.prototype,"exportImageVersion",null),(0,o.e)([(0,o.d)()],t.prototype,"layer",void 0),(0,o.e)([(0,o.d)(u.g)],t.prototype,"timeExtent",void 0),t=(0,o.e)([(0,o.n)("esri.layers.mixins.WMSLayerView")],t)}},73169:function(e,t,r){r.r(t);var i=r(15671),a=r(43144),n=r(60136),s=r(29388),o=r(23132),u=(r(75610),r(80262)),l=r(99465),p=r(84467),y=(r(21583),r(30709),r(70441),r(38304),r(36551),r(78311),r(2760),r(58687),r(10815),r(2157),r(55269),r(91204),r(36460),r(57714),r(30604),r(83822),r(51451),r(80175),r(50526),r(50448),r(41742),r(43920),r(1773),r(77196),r(24980),r(3114),r(22144),r(78674),r(66307),r(88370),r(72820),r(96349),r(9055),r(79611),r(84538),r(49580),r(54841),r(33703),r(77470),r(92870),r(6794),r(81663),r(97033),r(83996),r(44455),r(63022),r(61340),r(69953),r(97627),r(96401),r(71573),r(57952),r(58394),r(44344),r(48561),r(84192),r(3969),r(55806),r(47672),r(64296),r(14432),r(6243),r(37783),r(74021),r(56864),r(64004),r(40273),r(72692),r(77389),r(32568),r(69202),r(27597),r(1241),r(67417),r(15181),r(33642),r(28999),r(15612),r(43124),r(69797),r(34860),r(36638),r(10590),r(19948),r(96636),r(30664),r(83024),r(47626),r(25316),r(407),r(67154),r(79054),r(29709),r(47642),r(18411),r(43782),r(33976),r(28210),r(17436),r(53373),r(94872),r(79042),r(61495),r(16485),r(92029),r(74575),r(9575),r(53249),r(72763),r(28681),r(38929),r(97866),r(68890),r(31513),r(25838),r(54539),r(19967),r(50338),r(28623),r(10312),r(95254),r(61099),r(12158),r(93874),r(62446),r(27264),r(50905),r(78945),r(55827),r(70516),r(25279),r(22268),r(40452),r(60424),r(22225),r(38425),r(42471),r(78470),r(1665),r(38843),r(24892),r(48889),r(30150),r(53647),r(14181),r(86270),r(87833),r(21523),r(71710),r(45332),r(83059),r(4720),r(91309),r(25715),r(83262),r(2822),r(61349),r(32990),r(6819),r(52376),r(45414),r(94867),r(97566),r(90138),r(50982),r(21165),r(21984),r(48373),r(61473),r(14946),r(44365),r(90584),r(86148),r(60912),r(98907),r(66156),r(10534),r(25459),r(78556),r(77787),r(85511),r(87603),r(22051),r(21924),r(46123),r(75777),r(76071),r(42446),r(59819),r(64571),r(3964),r(91034),r(7214),r(5900),r(19231),r(65087),function(e){(0,n.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.apply(this,arguments)).type="wms-3d",e}return(0,a.Z)(r,[{key:"initialize",value:function(){var e=this;this.layer.serviceSupportsSpatialReference(this.view.spatialReference)||this.addResolvingPromise(Promise.reject(new o.a("layerview:spatial-reference-incompatible","The spatial references supported by this WMS layer are incompatible with the spatial reference of the view"))),this.updatingHandles.add((function(){var t;return null===(t=e.exportImageParameters)||void 0===t?void 0:t.version}),(function(){e.updatingHandles.addPromise(e.refreshDebounced())}))}},{key:"createFetchPopupFeaturesQuery",value:function(e){var t=this.findExtentInfoAt(e),r=t.extent,i=new u.M(r[0],r[1],r[2],r[3],this._spatialReference),a=t.imageSize,n=a.width,s=a.height,o=i.width/n;return{extent:i,width:n,height:s,x:Math.round((e.x-i.xmin)/o),y:Math.round((i.ymax-e.y)/o)}}},{key:"getFetchOptions",value:function(){return{timeExtent:this.timeExtent}}}]),r}((0,p.a)(l.q))),h=y=(0,o.e)([(0,o.n)("esri.views.3d.layers.WMSLayerView3D")],y);t.default=h}}]);
//# sourceMappingURL=3169.6b10607c.chunk.js.map