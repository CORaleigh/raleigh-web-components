"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[8765],{90316:function(e,t,n){n.d(t,{l:function(){return y}});var r=n(37762),a=n(15671),i=n(43144),o=n(60136),u=n(29388),l=n(48848),s=n(93314),c=n(93661),f=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).getCollections=null,r}return(0,i.Z)(n,[{key:"initialize",value:function(){var e=this;this.own((0,l.U)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this.getCollections=null}},{key:"_refresh",value:function(){var e=(0,c.r)(this.getCollections)?this.getCollections():null;if((0,c.t)(e))this.removeAll();else{var t,n=0,a=(0,r.Z)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;(0,c.r)(i)&&(n=this._processCollection(n,i))}}catch(o){a.e(o)}finally{a.f()}this.splice(n,this.length)}}},{key:"_createNewInstance",value:function(e){return new s.j(e)}},{key:"_processCollection",value:function(e,t){if(!t)return e;var n,a=this.itemFilterFunction?this.itemFilterFunction:function(e){return!!e},i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o){if(a(o)){var u=this.indexOf(o,e);u>=0?u!==e&&this.reorder(o,e):this.add(o,e),++e}if(this.getChildrenFunction){var l=this.getChildrenFunction(o);if(Array.isArray(l)){var s,c=(0,r.Z)(l);try{for(c.s();!(s=c.n()).done;){var f=s.value;e=this._processCollection(e,f)}}catch(y){c.e(y)}finally{c.f()}}else e=this._processCollection(e,l)}}}}catch(y){i.e(y)}finally{i.f()}return e}}]),n}(s.j);(0,l.e)([(0,l.y)()],f.prototype,"getCollections",void 0),(0,l.e)([(0,l.y)()],f.prototype,"getChildrenFunction",void 0),(0,l.e)([(0,l.y)()],f.prototype,"itemFilterFunction",void 0);var y=f=(0,l.e)([(0,l.n)("esri.core.CollectionFlattener")],f)},92072:function(e,t,n){n.d(t,{i:function(){return f},o:function(){return y},s:function(){return c}});var r=n(43144),a=n(15671),i=n(97326),o=n(60136),u=n(29388),l=n(48848),s=0,c=function(e){var t=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),Object.defineProperty((0,i.Z)(e),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+s++}),e}return(0,r.Z)(n)}(e);return t=(0,l.e)([(0,l.n)("esri.core.Identifiable")],t)},f=function(e){var t=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),Object.defineProperty((0,i.Z)(e),"uid",{writable:!1,configurable:!1,value:s++}),e}return(0,r.Z)(n)}(e);return t=(0,l.e)([(0,l.n)("esri.core.NumericIdentifiable")],t),t},y=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n)}(c(function(){return(0,r.Z)((function e(){(0,a.Z)(this,e)}))}()));y=(0,l.e)([(0,l.n)("esri.core.Identifiable")],y)},45999:function(e,t,n){n.d(t,{b:function(){return _}});var r=n(74165),a=n(15671),i=n(43144),o=n(60136),u=n(29388),l=n(15861),s=n(48848),c=(n(74384),n(40558)),f=n(37856),y=n(92072),d=n(93116),p=n(93661),v=n(46817),h=n(82474);function b(){return b=(0,l.Z)((0,r.Z)().mark((function e(t){var a,i,o,u,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="portalItem"in t?t:{portalItem:t},e.next=3,Promise.all([n.e(9557),n.e(5249),n.e(5224),n.e(6471),n.e(75)]).then(n.bind(n,16471));case 3:return i=e.sent,e.prev=4,e.next=7,i.fromItem(a);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),o=a&&a.portalItem,u=o&&o.id||"unset",l=o&&o.portal&&o.portal.url||p.s.portalUrl,s.a.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+l+"', id: '"+u+"')",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])}))),b.apply(this,arguments)}var m=0,E=function(e){(0,o.Z)(f,e);var t=(0,u.Z)(f);function f(){var e;return(0,a.Z)(this,f),(e=t.apply(this,arguments)).attributionDataUrl=null,e.fullExtent=new v.w(-180,-90,180,90,h.k.WGS84),e.id=Date.now().toString(16)+"-layer-"+m++,e.legendEnabled=!0,e.listMode="show",e.opacity=1,e.parent=null,e.popupEnabled=!0,e.attributionVisible=!0,e.spatialReference=h.k.WGS84,e.title=null,e.type=null,e.url=null,e.visible=!0,e}return(0,i.Z)(f,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var n,r;(0,s.j)(t)||s.a.getLogger(e.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!==(n=e.title)&&void 0!==n?n:"no title","', id: '").concat(null!==(r=e.id)&&void 0!==r?r:"no id","')"),{error:t})}))}},{key:"destroy",value:function(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){return(0,c.j)(this.url)}},{key:"fetchAttributionData",value:function(){var e=(0,l.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.attributionDataUrl,!this.hasAttributionData||!t){e.next=5;break}return e.next=4,(0,c.U)(t,{query:{f:"json"},responseType:"json"});case 4:return e.abrupt("return",e.sent.data);case 5:throw new s.s("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromArcGISServerUrl",value:function(){var e=(0,l.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="string"==typeof t?{url:t}:t,e.next=3,Promise.all([n.e(5224),n.e(3795)]).then(n.bind(n,3795));case 3:return e.abrupt("return",e.sent.fromUrl(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromPortalItem",value:function(e){return function(e){return b.apply(this,arguments)}(e)}}]),f}(f.n.EventedMixin((0,y.s)(d.m)));(0,s.e)([(0,s.y)({type:String})],E.prototype,"attributionDataUrl",void 0),(0,s.e)([(0,s.y)({type:v.w})],E.prototype,"fullExtent",void 0),(0,s.e)([(0,s.y)({readOnly:!0})],E.prototype,"hasAttributionData",null),(0,s.e)([(0,s.y)({type:String,clonable:!1})],E.prototype,"id",void 0),(0,s.e)([(0,s.y)({type:Boolean,nonNullable:!0})],E.prototype,"legendEnabled",void 0),(0,s.e)([(0,s.y)({type:["show","hide","hide-children"]})],E.prototype,"listMode",void 0),(0,s.e)([(0,s.y)({type:Number,range:{min:0,max:1},nonNullable:!0})],E.prototype,"opacity",void 0),(0,s.e)([(0,s.y)({clonable:!1})],E.prototype,"parent",void 0),(0,s.e)([(0,s.y)({readOnly:!0})],E.prototype,"parsedUrl",null),(0,s.e)([(0,s.y)({type:Boolean})],E.prototype,"popupEnabled",void 0),(0,s.e)([(0,s.y)({type:Boolean})],E.prototype,"attributionVisible",void 0),(0,s.e)([(0,s.y)({type:h.k})],E.prototype,"spatialReference",void 0),(0,s.e)([(0,s.y)({type:String})],E.prototype,"title",void 0),(0,s.e)([(0,s.y)({readOnly:!0,json:{read:!1}})],E.prototype,"type",void 0),(0,s.e)([(0,s.y)()],E.prototype,"url",void 0),(0,s.e)([(0,s.y)({type:Boolean,nonNullable:!0})],E.prototype,"visible",void 0);var _=E=(0,s.e)([(0,s.n)("esri.layers.Layer")],E)},32161:function(e,t,n){n.r(t),n.d(t,{L:function(){return ee},S:function(){return V},_:function(){return te},a:function(){return U},d:function(){return j},h:function(){return Y},m:function(){return P},n:function(){return N},t:function(){return k},v:function(){return G}});var r,a=n(29439),i=n(74165),o=n(15861),u=n(1413),l=n(37762),s=n(97326),c=n(11752),f=n(61120),y=n(15671),d=n(43144),p=n(60136),v=n(29388),h=n(48848),b=n(37686),m=n(89794),E=n(93314),_=n(81556),g=n(93661),S=n(40114),M=n(93116),I=n(16641),T=n(82474),L=n(20302),R=n(85253),O=n(90316),A=n(37856),Z=n(40558),w=n(19891);function N(e){}var C=r=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this,e)).type="none",r}return(0,d.Z)(n,[{key:"clone",value:function(){return new r({type:this.type})}}]),n}(S.l);(0,h.e)([(0,L.r)({none:"none",stayAbove:"stay-above"})],C.prototype,"type",void 0),C=r=(0,h.e)([(0,h.n)("esri.ground.NavigationConstraint")],C);var D=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;return(0,y.Z)(this,n),(e=t.apply(this,arguments)).SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,e.DECONFLICTOR_SHOW_VISIBLE=!1,e.DECONFLICTOR_SHOW_INVISIBLE=!1,e.DECONFLICTOR_SHOW_GRID=!1,e.LABELS_SHOW_BORDER=!1,e.TEXT_SHOW_BASELINE=!1,e.TEXT_SHOW_BORDER=!1,e.OVERLAY_DRAW_DEBUG_TEXTURE=!1,e.OVERLAY_SHOW_CENTER=!1,e.SHOW_POI=!1,e.TESTS_DISABLE_OPTIMIZATIONS=!1,e.TESTS_DISABLE_FAST_UPDATES=!1,e.DRAW_MESH_GEOMETRY_NORMALS=!1,e.FEATURE_TILE_FETCH_SHOW_TILES=!1,e.FEATURE_TILE_TREE_SHOW_TILES=!1,e.TERRAIN_TILE_TREE_SHOW_TILES=!1,e.I3S_TREE_SHOW_TILES=!1,e.I3S_SHOW_MODIFICATIONS=!1,e.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,e.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,e.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,e.LINE_WIREFRAMES=!1,e.TERRAIN_USE_LEGACY_SHADING=!1,e}return(0,d.Z)(n)}(h.m);(0,h.e)([(0,h.y)()],D.prototype,"SCENEVIEW_HITTEST_RETURN_INTERSECTOR",void 0),(0,h.e)([(0,h.y)()],D.prototype,"DECONFLICTOR_SHOW_VISIBLE",void 0),(0,h.e)([(0,h.y)()],D.prototype,"DECONFLICTOR_SHOW_INVISIBLE",void 0),(0,h.e)([(0,h.y)()],D.prototype,"DECONFLICTOR_SHOW_GRID",void 0),(0,h.e)([(0,h.y)()],D.prototype,"LABELS_SHOW_BORDER",void 0),(0,h.e)([(0,h.y)()],D.prototype,"TEXT_SHOW_BASELINE",void 0),(0,h.e)([(0,h.y)()],D.prototype,"TEXT_SHOW_BORDER",void 0),(0,h.e)([(0,h.y)()],D.prototype,"OVERLAY_DRAW_DEBUG_TEXTURE",void 0),(0,h.e)([(0,h.y)()],D.prototype,"OVERLAY_SHOW_CENTER",void 0),(0,h.e)([(0,h.y)()],D.prototype,"SHOW_POI",void 0),(0,h.e)([(0,h.y)()],D.prototype,"TESTS_DISABLE_OPTIMIZATIONS",void 0),(0,h.e)([(0,h.y)()],D.prototype,"TESTS_DISABLE_FAST_UPDATES",void 0),(0,h.e)([(0,h.y)()],D.prototype,"DRAW_MESH_GEOMETRY_NORMALS",void 0),(0,h.e)([(0,h.y)()],D.prototype,"FEATURE_TILE_FETCH_SHOW_TILES",void 0),(0,h.e)([(0,h.y)()],D.prototype,"FEATURE_TILE_TREE_SHOW_TILES",void 0),(0,h.e)([(0,h.y)()],D.prototype,"TERRAIN_TILE_TREE_SHOW_TILES",void 0),(0,h.e)([(0,h.y)()],D.prototype,"I3S_TREE_SHOW_TILES",void 0),(0,h.e)([(0,h.y)()],D.prototype,"I3S_SHOW_MODIFICATIONS",void 0),(0,h.e)([(0,h.y)()],D.prototype,"LOD_INSTANCE_RENDERER_DISABLE_UPDATES",void 0),(0,h.e)([(0,h.y)()],D.prototype,"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL",void 0),(0,h.e)([(0,h.y)()],D.prototype,"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES",void 0),(0,h.e)([(0,h.y)()],D.prototype,"LINE_WIREFRAMES",void 0),(0,h.e)([(0,h.y)()],D.prototype,"TERRAIN_USE_LEGACY_SHADING",void 0);var x,k=new(D=(0,h.e)([(0,h.n)("esri.views.3d.support.DebugFlags")],D)),F=x=function(e){(0,p.Z)(r,e);var t=(0,v.Z)(r);function r(e){var n;(0,y.Z)(this,r),(n=t.call(this,e)).opacity=1,n.shading=!k.TERRAIN_USE_LEGACY_SHADING,n.surfaceColor=null,n.navigationConstraint=null,n.layers=new E.j;return n.layers.on("after-add",(function(e){return function(e){e.parent&&e.parent!==(0,s.Z)(n)&&"remove"in e.parent&&e.parent.remove(e),e.parent=(0,s.Z)(n),"elevation"!==e.type&&"base-elevation"!==e.type&&h.a.getLogger(n.declaredClass).error("Layer '".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported."))}(e.item)})),n.layers.on("after-remove",(function(e){return function(e){e.parent=null}(e.item)})),n}return(0,d.Z)(r,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){h.a.getLogger(e.declaredClass).error("#load()","Failed to load ground",t)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}},{key:"destroy",value:function(){var e,t=this.layers.removeAll(),n=(0,l.Z)(t);try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(r){n.e(r)}finally{n.f()}this.layers.destroy()}},{key:"normalizeCtorArgs",value:function(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=(0,u.Z)({},e)).resourceInfo),e}},{key:"layers",set:function(e){this._set("layers",(0,_.n)(e,this._get("layers")))}},{key:"writeLayers",value:function(e,t,n,r){var a=[];e?(r=(0,u.Z)((0,u.Z)({},r),{},{layerContainerType:"ground"}),e.forEach((function(e){if("write"in e){var t={};(function(e){return function(){return e}})(e)().write(t,r)&&a.push(t)}else r&&r.messages&&r.messages.push(new h.s("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted in the ground"),{layer:e}))})),t.layers=a):t.layers=a}},{key:"load",value:function(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return(0,I.n)(this,(function(t){t(e.layers)}))}},{key:"queryElevation",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,r){var a,o,u,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load({signal:null===r||void 0===r?void 0:r.signal});case 2:return e.next=4,Promise.all([n.e(9557),n.e(5249),n.e(2583),n.e(5246)]).then(n.bind(n,42583));case 4:return a=e.sent,o=a.ElevationQuery,(0,h.f)(r),u=new o,l=this.layers.filter(B).toArray(),e.abrupt("return",u.queryAll(l,t,r));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createElevationSampler",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,r){var a,o,u,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load({signal:null===r||void 0===r?void 0:r.signal});case 2:return e.next=4,Promise.all([n.e(9557),n.e(5249),n.e(2583),n.e(5246)]).then(n.bind(n,42583));case 4:return a=e.sent,o=a.ElevationQuery,(0,h.f)(r),u=new o,l=this.layers.filter(B).toArray(),e.abrupt("return",u.createSamplerAll(l,t,r));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clone",value:function(){var e={opacity:this.opacity,surfaceColor:(0,g.y)(this.surfaceColor),navigationConstraint:(0,g.y)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new x({resourceInfo:this.resourceInfo}).set(e)}},{key:"read",value:function(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),(0,c.Z)((0,f.Z)(r.prototype),"read",this).call(this,e,t)}},{key:"_loadFromSource",value:function(e){var t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}},{key:"_loadLayersFromJSON",value:function(e,t,r){var a=this,i=t&&t.origin||"web-scene",o=t&&t.portal||null,u=t&&t.url||null;return Promise.all([n.e(9557),n.e(5249),n.e(5224),n.e(6471),n.e(2924)]).then(n.bind(n,11318)).then((function(t){var n=t.populateOperationalLayers;(0,h.f)(r);var l=[];if(e.layers&&Array.isArray(e.layers)){var s={context:{origin:i,url:u,portal:o,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};l.push(n(a.layers,e.layers,s))}return(0,h.E)(l)})).then((function(){}))}}]),r}((0,S.u)(M.m));function B(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}(0,h.e)([(0,h.y)({json:{read:!1}})],F.prototype,"layers",null),(0,h.e)([(0,T.r)("layers")],F.prototype,"writeLayers",null),(0,h.e)([(0,h.y)({readOnly:!0})],F.prototype,"resourceInfo",void 0),(0,h.e)([(0,h.y)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:h.T,read:{reader:R.r,source:"transparency"},write:{writer:function(e,t){t.transparency=(0,R.n)(e)},target:"transparency"}}})],F.prototype,"opacity",void 0),(0,h.e)([(0,h.y)({type:Boolean,nonNullable:!0,json:{read:!1}})],F.prototype,"shading",void 0),(0,h.e)([(0,h.y)({type:m.l,json:{type:[h.T],write:function(e,t){t.surfaceColor=e.toJSON().slice(0,3)}}})],F.prototype,"surfaceColor",void 0),(0,h.e)([(0,h.y)({type:C,json:{write:!0}})],F.prototype,"navigationConstraint",void 0);var U=F=x=(0,h.e)([(0,h.n)("esri.Ground")],F);function W(e){var t;return!!(e&&e.loaded&&"capabilities"in e&&null!==e&&void 0!==e&&null!==(t=e.capabilities)&&void 0!==t&&t.operations&&"supportsEditing"in e.capabilities.operations&&!0===e.capabilities.operations.supportsEditing)&&!("editingEnabled"in e&&!e.editingEnabled)}var H=h.a.getLogger("esri.support.basemapUtils");function P(e,t){var n,r;if("string"==typeof e){if(!(e in b.s)){var i=Object.entries(b.s).filter((function(e){var t=(0,a.Z)(e,2),n=(t[0],t[1]);return g.s.apiKey&&!n.classic||!g.s.apiKey&&n.classic&&!n.deprecated})).map((function(e){var t=(0,a.Z)(e,1)[0];return'"'.concat(t,'"')})).join(", ");return H.warn("Unable to find basemap definition for: ".concat(e,". Try one of these: ").concat(i)),null}t&&(r=t[e]),r||(r=b.x.fromId(e),t&&(t[e]=r))}else r=(0,h.b)(b.x,e);return null!==(n=r)&&void 0!==n&&n.destroyed&&(H.warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=P(e);if(!n)return null;var r=new b.x({id:n.id,title:n.title,baseLayers:n.baseLayers.slice(),referenceLayers:n.referenceLayers.slice()});return t&&(r.baseLayers=q(r.baseLayers,t.baseLayers),r.referenceLayers=q(r.referenceLayers,t.referenceLayers)),r.load().catch((function(){})),r.portalItem=n.portalItem,r}function q(e,t){var n=new E.j;return e.forEach((function(e){var r=t.find((function(t){return function(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity)return!1;if((0,g.r)(e.activeLayerId)||(0,g.r)(t.activeLayerId))return e.activeLayerId===t.activeLayerId;if((0,g.r)(e.sublayers)||(0,g.r)(t.sublayers)){if((0,g.t)(e.sublayers)||(0,g.t)(t.sublayers)||e.sublayers.length!==t.sublayers.length)return!1;for(var n=0;n<e.sublayers.length;n++){var r=e.sublayers.at(n),a=t.sublayers.at(n);if(r.id!==a.id||r.visible!==a.visible)return!1}}return!0}(Q(e),Q(t))}))||e;n.includes(r)?n.push(e):n.push(r)})),n}function G(e){return!(null===e||void 0===e||!e.baseLayers.concat(e.referenceLayers).some(V))}function V(e){if(X(e.url))return!0;if("vector-tile"===e.type)for(var t in e.sourceNameToSource){var n;if(X(null===(n=e.sourceNameToSource[t])||void 0===n?void 0:n.sourceUrl))return!0}return!1}function Y(e,t){var n,r,a;if((0,g.t)(t)||(0,g.t)(e))return{spatialReference:null,updating:!1};if("not-loaded"===t.loadStatus)return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(0===t.baseLayers.length)return{spatialReference:null,updating:!1};var i=t.baseLayers.getItemAt(0);switch(i.loadStatus){case"not-loaded":i.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}var o=(("supportedSpatialReferences"in i?i.supportedSpatialReferences:null)||["tileInfo"in i?null===(n=i.tileInfo)||void 0===n?void 0:n.spatialReference:i.spatialReference]).filter(Boolean);return e.spatialReference?{spatialReference:null!==(r=null!==(a=o.find((function(t){return e.spatialReference.equals(t)})))&&void 0!==a?a:o[0])&&void 0!==r?r:null,updating:!1}:{spatialReference:o[0],updating:!1}}var z=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function X(e){if(!e)return!1;var t=new Z.y((0,Z.Q)(e));return z.test(t.authority)}function Q(e){var t,n;return{type:e.type,url:J("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible,sublayers:"map-image"!==e.type&&"wms"!==e.type||!(0,g.r)(e.sublayers)||null===(t=e.sublayers)||void 0===t?void 0:t.map((function(e){return{id:e.id,visible:e.visible}})),activeLayerId:"wmts"===e.type?null===(n=e.activeLayer)||void 0===n?void 0:n.id:void 0}}function J(e){return e?(0,Z.F)(e).replace(/^\s*https?:/i,"").toLowerCase():""}var K={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var $=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this,e)).allLayers=new O.l({getCollections:function(){var e,t,n;return[null===(e=r.basemap)||void 0===e?void 0:e.baseLayers,null===(t=r.ground)||void 0===t?void 0:t.layers,r.layers,null===(n=r.basemap)||void 0===n?void 0:n.referenceLayers]},getChildrenFunction:function(e){return"layers"in e?e.layers:null}}),r.allTables=(0,w.t)((0,s.Z)(r)),r.basemap=null,r.editableLayers=new O.l({getCollections:function(){return[r.allLayers]},itemFilterFunction:W}),r.ground=new U,r._basemapCache={},r}return(0,d.Z)(n,[{key:"destroy",value:function(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null!==(e=this.ground)&&void 0!==e&&e.destroy(),null!==(t=this.basemap)&&void 0!==t&&t.destroy(),function(e){for(var t in e){var n=e[t];!1===(null===n||void 0===n?void 0:n.destroyed)&&n.destroy(),delete e[t]}}(this._basemapCache),this._basemapCache=null}},{key:"castBasemap",value:function(e){return P(e,this._basemapCache)}},{key:"castGround",value:function(e){var t=function(e){var t=null;return"string"==typeof e?e in K?t=new U({resourceInfo:{data:{layers:[K[e]]}}}):h.a.getLogger("esri.support.groundUtils").warn("Unable to find ground definition for: ".concat(e,'. Try "world-elevation"')):t=(0,h.b)(U,e),t}(e);return(0,g.t)(t)?this._get("ground"):t}},{key:"findLayerById",value:function(e){return this.allLayers.find((function(t){return t.id===e}))}},{key:"findTableById",value:function(e){return this.allTables.find((function(t){return t.id===e}))}}]),n}((0,w.l)((0,w.d)(A.n.EventedMixin(h.m))));(0,h.e)([(0,h.y)({readOnly:!0,dependsOn:[]})],$.prototype,"allLayers",void 0),(0,h.e)([(0,h.y)({readOnly:!0})],$.prototype,"allTables",void 0),(0,h.e)([(0,h.y)({type:b.x})],$.prototype,"basemap",void 0),(0,h.e)([(0,h.c)("basemap")],$.prototype,"castBasemap",null),(0,h.e)([(0,h.y)({readOnly:!0})],$.prototype,"editableLayers",void 0),(0,h.e)([(0,h.y)({type:U,nonNullable:!0})],$.prototype,"ground",void 0),(0,h.e)([(0,h.c)("ground")],$.prototype,"castGround",null);var ee=$=(0,h.e)([(0,h.n)("esri.Map")],$),te=Object.freeze({__proto__:null,default:ee})},19891:function(e,t,n){n.d(t,{d:function(){return h},l:function(){return m},t:function(){return p}});var r=n(37762),a=n(15671),i=n(43144),o=n(97326),u=n(60136),l=n(29388),s=n(90316),c=n(48848),f=n(93314),y=n(81556),d=(n(93661),n(45999));function p(e){return new s.l({getCollections:function(){return[e.tables,e.layers]},getChildrenFunction:function(e){var t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:function(e){var t=e.parent;return t&&"tables"in t&&t.tables.includes(e)}})}function v(e,t,n){var r,a;if(e)for(var i=0,o=e.length;i<o;i++){var u;if((r=e.getItemAt(i))[t]===n)return r;if("group"===(null===(u=r)||void 0===u?void 0:u.type)&&(a=v(r.layers,t,n)))return a}}var h=function(e){var t=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];(e=t.call.apply(t,[this].concat(i))).layers=new f.j;var l=function(e){e.parent&&"remove"in e.parent&&e.parent.remove(e)},s=function(t){t.parent=(0,o.Z)(e),e.layerAdded(t),"elevation"!==t.type&&"base-elevation"!==t.type||c.a.getLogger(e.declaredClass).error("Layer 'title:".concat(t.title,", id:").concat(t.id,"' of type '").concat(t.type,"' is not supported as an operational layer and will therefore be ignored."))},y=function(t){t.parent=null,e.layerRemoved(t)};return e.layers.on("before-add",(function(e){return l(e.item)})),e.layers.on("after-add",(function(e){return s(e.item)})),e.layers.on("after-remove",(function(e){return y(e.item)})),e}return(0,i.Z)(n,[{key:"destroy",value:function(){var e,t=this.layers.removeAll(),n=(0,r.Z)(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;this.layerRemoved(a),a.destroy()}}catch(i){n.e(i)}finally{n.f()}this.layers.destroy()}},{key:"layers",set:function(e){this._set("layers",(0,y.n)(e,this._get("layers")))}},{key:"add",value:function(e,t){var n=this,r=this.layers;if(t=r.getNextIndex(t),e instanceof d.b){var a=e;a.parent===this?this.reorder(a,t):r.add(a,t)}else(0,c.V)(e)?e.then((function(e){n.destroyed||n.add(e,t)})):c.a.getLogger(this.declaredClass).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}},{key:"addMany",value:function(e,t){var n=this,r=this.layers;t=r.getNextIndex(t),e.slice().forEach((function(e){e.parent!==n?(r.add(e,t),t+=1):n.reorder(e,t)}))}},{key:"findLayerById",value:function(e){return v(this.layers,"id",e)}},{key:"findLayerByUid",value:function(e){return v(this.layers,"uid",e)}},{key:"remove",value:function(e){return this.layers.remove(e)}},{key:"removeMany",value:function(e){return this.layers.removeMany(e)}},{key:"removeAll",value:function(){return this.layers.removeAll()}},{key:"reorder",value:function(e,t){return this.layers.reorder(e,t)}},{key:"layerAdded",value:function(e){}},{key:"layerRemoved",value:function(e){}}]),n}(e);return(0,c.e)([(0,c.y)()],t.prototype,"layers",null),t=(0,c.e)([(0,c.n)("esri.support.LayersMixin")],t)};function b(e,t,n){if(e)for(var r=0,a=e.length;r<a;r++){var i=e.getItemAt(r);if(i[t]===n)return i;if("group"===(null===i||void 0===i?void 0:i.type)){var o=b(i.tables,t,n);if(o)return o}}}var m=function(e){var t=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).tables=new f.j,e.tables.on("after-add",(function(t){var n=t.item;n.parent&&n.parent!==(0,o.Z)(e)&&"tables"in n.parent&&n.parent.tables.remove(n),n.parent=(0,o.Z)(e),"feature"!==n.type&&c.a.getLogger(e.declaredClass).error("Layer 'title:".concat(n.title,", id:").concat(n.id,"' of type '").concat(n.type,"' is not supported as a table and will therefore be ignored."))})),e.tables.on("after-remove",(function(e){e.item.parent=null})),e}return(0,i.Z)(n,[{key:"destroy",value:function(){var e,t=this.tables.removeAll(),n=(0,r.Z)(t);try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(a){n.e(a)}finally{n.f()}this.tables.destroy()}},{key:"tables",set:function(e){this._set("tables",(0,y.n)(e,this._get("tables")))}},{key:"findTableById",value:function(e){return b(this.tables,"id",e)}},{key:"findTableByUid",value:function(e){return b(this.tables,"uid",e)}}]),n}(e);return(0,c.e)([(0,c.y)()],t.prototype,"tables",null),t=(0,c.e)([(0,c.n)("esri.support.TablesMixin")],t)}},71802:function(e,t,n){function r(){return[0,0,0]}function a(e){return[e[0],e[1],e[2]]}function i(e,t,n){return[e,t,n]}function o(e){for(var t=[0,0,0],n=Math.min(3,e.length),r=0;r<n;++r)t[r]=e[r];return t}function u(e,t){return new Float64Array(e,t,3)}function l(){return[0,0,0]}function s(){return i(1,1,1)}function c(){return i(1,0,0)}function f(){return i(0,1,0)}function y(){return i(0,0,1)}n.d(t,{$:function(){return Ke},A:function(){return G},B:function(){return se},C:function(){return ce},D:function(){return fe},E:function(){return z},F:function(){return K},G:function(){return ve},H:function(){return ee},I:function(){return ge},J:function(){return me},K:function(){return Ee},L:function(){return $e},M:function(){return _e},N:function(){return Ge},O:function(){return V},P:function(){return j},Q:function(){return Ie},R:function(){return Te},S:function(){return Y},T:function(){return Ve},U:function(){return ae},V:function(){return Xe},W:function(){return Qe},X:function(){return nt},Y:function(){return oe},Z:function(){return We},_:function(){return q},a:function(){return ke},a0:function(){return te},a1:function(){return N},a2:function(){return $},a3:function(){return ie},a4:function(){return be},a5:function(){return ue},a6:function(){return o},a7:function(){return d},a8:function(){return xe},a9:function(){return Z},aa:function(){return je},ab:function(){return F},ac:function(){return y},ad:function(){return Fe},ae:function(){return le},af:function(){return Ce},ag:function(){return w},ah:function(){return X},ai:function(){return C},aj:function(){return x},ak:function(){return D},al:function(){return Be},am:function(){return Ue},an:function(){return et},ao:function(){return I},ap:function(){return tt},b:function(){return Pe},c:function(){return i},d:function(){return E},e:function(){return A},f:function(){return M},g:function(){return k},h:function(){return _},i:function(){return qe},j:function(){return Se},k:function(){return b},l:function(){return p},m:function(){return He},n:function(){return r},o:function(){return R},p:function(){return U},q:function(){return H},r:function(){return L},s:function(){return T},t:function(){return a},u:function(){return O},v:function(){return W},w:function(){return Me},x:function(){return B},y:function(){return u},z:function(){return P}});var d=[0,0,0],p=s(),v=c(),h=f(),b=y();Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:a,fromValues:i,fromArray:o,createView:u,zeros:l,ones:s,unitX:c,unitY:f,unitZ:y,ZEROS:d,ONES:p,UNIT_X:v,UNIT_Y:h,UNIT_Z:b},Symbol.toStringTag,{value:"Module"}));var m=1e-6;function E(){return m}var _=Math.random,g=Math.PI/180,S=180/Math.PI;function M(e){return e*g}function I(e){return e*S}function T(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function L(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function R(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function O(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function A(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Z(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function w(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function N(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function C(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function D(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function x(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function k(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function F(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function B(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(n*n+r*r+a*a)}function U(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return n*n+r*r+a*a}function W(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function H(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function P(e,t){var n=t[0],r=t[1],a=t[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function j(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function q(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],u=n[1],l=n[2];return e[0]=a*l-i*u,e[1]=i*o-r*l,e[2]=r*u-a*o,e}function G(e,t,n,r){var a=t[0],i=t[1],o=t[2];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}function V(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12],e[1]=n[1]*r+n[5]*a+n[9]*i+n[13],e[2]=n[2]*r+n[6]*a+n[10]*i+n[14],e}function Y(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8],e}function z(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],u=t[0],l=t[1],s=t[2],c=a*s-i*l,f=i*u-r*s,y=r*l-a*u,d=a*y-i*f,p=i*c-r*y,v=r*f-a*c,h=2*o;return c*=h,f*=h,y*=h,d*=2,p*=2,v*=2,e[0]=u+c+d,e[1]=l+f+p,e[2]=s+y+v,e}function X(e,t){L(Q,e),L(J,t),P(Q,Q),P(J,J);var n=j(Q,J);return n>1?0:n<-1?Math.PI:Math.acos(n)}Object.freeze(Object.defineProperty({__proto__:null,getEpsilon:E,setEpsilon:function(e){m=e},RANDOM:_,toRadian:M,toDegree:I,equals:function(e,t){return Math.abs(e-t)<=m*Math.max(1,Math.abs(e),Math.abs(t))}},Symbol.toStringTag,{value:"Module"}));var Q=[0,0,0],J=[0,0,0];function K(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function $(e,t){if(e===t)return!0;var n=e[0],r=e[1],a=e[2],i=t[0],o=t[1],u=t[2],l=E();return Math.abs(n-i)<=l*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-u)<=l*Math.max(1,Math.abs(a),Math.abs(u))}function ee(e,t,n){var r=n[0]-t[0],a=n[1]-t[1],i=n[2]-t[2],o=r*r+a*a+i*i;return o>0?(o=1/Math.sqrt(o),e[0]=r*o,e[1]=a*o,e[2]=i*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}var te=A,ne=Z,re=w,ae=B,ie=U,oe=T,ue=W,le=Object.freeze(Object.defineProperty({__proto__:null,length:T,copy:L,set:R,add:O,subtract:A,multiply:Z,divide:w,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:N,abs:C,sign:D,min:x,max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:k,scaleAndAdd:F,distance:B,squaredDistance:U,squaredLength:W,negate:H,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:P,dot:j,cross:q,lerp:G,hermite:function(e,t,n,r,a,i){var o=i*i,u=o*(2*i-3)+1,l=o*(i-2)+i,s=o*(i-1),c=o*(3-2*i);return e[0]=t[0]*u+n[0]*l+r[0]*s+a[0]*c,e[1]=t[1]*u+n[1]*l+r[1]*s+a[1]*c,e[2]=t[2]*u+n[2]*l+r[2]*s+a[2]*c,e},bezier:function(e,t,n,r,a,i){var o=1-i,u=o*o,l=i*i,s=u*o,c=3*i*u,f=3*l*o,y=l*i;return e[0]=t[0]*s+n[0]*c+r[0]*f+a[0]*y,e[1]=t[1]*s+n[1]*c+r[1]*f+a[1]*y,e[2]=t[2]*s+n[2]*c+r[2]*f+a[2]*y,e},random:function(e,t){t=t||1;var n=_,r=2*n()*Math.PI,a=2*n()-1,i=Math.sqrt(1-a*a)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=a*t,e},transformMat4:V,transformMat3:Y,transformQuat:z,rotateX:function(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},rotateY:function(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},rotateZ:function(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},angle:X,str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:K,equals:$,direction:ee,sub:te,mul:ne,div:re,dist:ae,sqrDist:ie,len:oe,sqrLen:ue},Symbol.toStringTag,{value:"Module"}));function se(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function ce(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function fe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function ye(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function de(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function pe(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function ve(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function he(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(n*n+r*r+a*a+i*i)}function be(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+a*a+i*i}function me(e){var t=e[0],n=e[1],r=e[2],a=e[3];return Math.sqrt(t*t+n*n+r*r+a*a)}function Ee(e){var t=e[0],n=e[1],r=e[2],a=e[3];return t*t+n*n+r*r+a*a}function _e(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=n*o,e[1]=r*o,e[2]=a*o,e[3]=i*o),e}function ge(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Se(e,t,n,r){var a=t[0],i=t[1],o=t[2],u=t[3];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e[3]=u+r*(n[3]-u),e}function Me(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e}function Ie(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Te(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],u=t[1],l=t[2],s=t[3],c=E();return Math.abs(n-o)<=c*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=c*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-l)<=c*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-s)<=c*Math.max(1,Math.abs(i),Math.abs(s))}var Le=ye,Re=de,Oe=pe,Ae=he,Ze=be,we=me,Ne=Ee,Ce=Object.freeze(Object.defineProperty({__proto__:null,copy:se,set:ce,add:fe,subtract:ye,multiply:de,divide:pe,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:ve,scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},distance:he,squaredDistance:be,length:me,squaredLength:Ee,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},normalize:_e,dot:ge,lerp:Se,random:function(e,t){var n,r,a,i,o,u,l=_;t=t||1;do{o=(n=2*l()-1)*n+(r=2*l()-1)*r}while(o>=1);do{u=(a=2*l()-1)*a+(i=2*l()-1)*i}while(u>=1);var s=Math.sqrt((1-o)/u);return e[0]=t*n,e[1]=t*r,e[2]=t*a*s,e[3]=t*i*s,e},transformMat4:Me,transformQuat:function(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],u=n[1],l=n[2],s=n[3],c=s*r+u*i-l*a,f=s*a+l*r-o*i,y=s*i+o*a-u*r,d=-o*r-u*a-l*i;return e[0]=c*s+d*-o+f*-l-y*-u,e[1]=f*s+d*-u+y*-o-c*-l,e[2]=y*s+d*-l+c*-u-f*-o,e[3]=t[3],e},str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},exactEquals:Ie,equals:Te,sub:Le,mul:Re,div:Oe,dist:Ae,sqrDist:Ze,len:we,sqrLen:Ne},Symbol.toStringTag,{value:"Module"})),De=new Float32Array(1);function xe(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1}function ke(e,t,n){return Math.min(Math.max(e,t),n)}function Fe(e){return 0==(e&e-1)}function Be(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function Ue(e){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(e)))}function We(e,t,n){return e+(t-e)*n}function He(e){return e*Math.PI/180}function Pe(e){return 180*e/Math.PI}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6;return(e<0?-1:1)/Math.max(Math.abs(e),t)}function qe(e){return Math.acos(ke(e,-1,1))}function Ge(e){return Math.asin(ke(e,-1,1))}function Ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return e===t||!(!Number.isFinite(e)||!Number.isFinite(t))&&(e>t?e-t:t-e)<=n}var Ye=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));var ze=BigInt("1000000");function Xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;var r=Math.abs(e-t),a=Math.abs(e),i=Math.abs(t);if(0===e||0===t||a<1e-12&&i<1e-12){if(r>.01*n)return!1}else if(r/(a+i)>n)return!1;return!0}function Qe(e){return Je(Math.max(-nt,Math.min(e,nt)))}function Je(e){return De[0]=e,De[0]}function Ke(e,t,n){var r=ke((n-e)/(t-e),0,1);return r*r*(3-2*r)}function $e(e,t){var n=T(e);return R(t,n,Ge(e[2]/n),Math.atan2(e[1]/n,e[0]/n)),t}function et(e,t,n){return ce(e,t[0],t[1],t[2],t[3]*n)}function tt(e){var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Ve(t,1)&&Ve(n,1)&&Ve(r,1))}!function(e){var t=function(e){return Ye.setFloat64(0,e),Ye.getBigInt64(0)}(e=Math.abs(e)),n=function(e){return Ye.setBigInt64(0,e),Ye.getFloat64(0)}(t<=ze?ze:t-ze);Math.abs(e-n)}(1);var nt=Je(34028234663852886e22)}}]);
//# sourceMappingURL=8765.8f66423d.chunk.js.map