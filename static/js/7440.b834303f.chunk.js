"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[7440],{94777:function(e,n,t){t.d(n,{T:function(){return c}});var i=t(37762),r=t(15671),o=t(43144),u=t(85026),a=t(54017),f=function(){function e(n,t){(0,r.Z)(this,e),this.layout=n,this.buffer="number"==typeof t?new ArrayBuffer(t*n.stride):t;var o,u=(0,i.Z)(n.fieldNames);try{for(u.s();!(o=u.n()).done;){var a=o.value,f=n.fields.get(a);this[a]=new f.constructor(this.buffer,f.offset,this.stride)}}catch(s){u.e(s)}finally{u.f()}}return(0,o.Z)(e,[{key:"stride",get:function(){return this.layout.stride}},{key:"count",get:function(){return this.buffer.byteLength/this.stride}},{key:"byteLength",get:function(){return this.buffer.byteLength}},{key:"getField",value:function(e,n){var t=this[e];return t&&t.elementCount===n.ElementCount&&t.elementType===n.ElementType?t:null}},{key:"slice",value:function(n,t){return new e(this.layout,this.buffer.slice(n*this.stride,t*this.stride))}},{key:"copyFrom",value:function(e,n,t,i){var r=this.stride;if(r%4==0){var o=new Uint32Array(e.buffer,n*r,i*r/4);new Uint32Array(this.buffer,t*r,i*r/4).set(o)}else{var u=new Uint8Array(e.buffer,n*r,i*r);new Uint8Array(this.buffer,t*r,i*r).set(u)}}}]),e}(),s=function(){function e(){(0,r.Z)(this,e),this.stride=0,this.fields=new Map,this.fieldNames=[]}return(0,o.Z)(e,[{key:"vec2f",value:function(e,n){return this._appendField(e,u.u,n),this}},{key:"vec2f64",value:function(e,n){return this._appendField(e,u.m,n),this}},{key:"vec3f",value:function(e,n){return this._appendField(e,u.i,n),this}},{key:"vec3f64",value:function(e,n){return this._appendField(e,u.T,n),this}},{key:"vec4f",value:function(e,n){return this._appendField(e,u.c,n),this}},{key:"vec4f64",value:function(e,n){return this._appendField(e,u.h,n),this}},{key:"mat3f",value:function(e,n){return this._appendField(e,u.l,n),this}},{key:"mat3f64",value:function(e,n){return this._appendField(e,u.a,n),this}},{key:"mat4f",value:function(e,n){return this._appendField(e,u.p,n),this}},{key:"mat4f64",value:function(e,n){return this._appendField(e,u.b,n),this}},{key:"vec4u8",value:function(e,n){return this._appendField(e,u.x,n),this}},{key:"f32",value:function(e,n){return this._appendField(e,u.y,n),this}},{key:"f64",value:function(e,n){return this._appendField(e,u.o,n),this}},{key:"u8",value:function(e,n){return this._appendField(e,u.d,n),this}},{key:"u16",value:function(e,n){return this._appendField(e,u.g,n),this}},{key:"i8",value:function(e,n){return this._appendField(e,u.j,n),this}},{key:"vec2i8",value:function(e,n){return this._appendField(e,u.V,n),this}},{key:"vec2i16",value:function(e,n){return this._appendField(e,u.q,n),this}},{key:"vec2u8",value:function(e,n){return this._appendField(e,u.A,n),this}},{key:"vec4u16",value:function(e,n){return this._appendField(e,u.L,n),this}},{key:"u32",value:function(e,n){return this._appendField(e,u.B,n),this}},{key:"_appendField",value:function(e,n,t){var i=n.ElementCount*(0,a.e)(n.ElementType),r=this.stride;this.fields.set(e,{size:i,constructor:n,offset:r,optional:t}),this.stride+=i,this.fieldNames.push(e)}},{key:"alignTo",value:function(e){return this.stride=Math.floor((this.stride+e-1)/e)*e,this}},{key:"hasField",value:function(e){return this.fieldNames.includes(e)}},{key:"createBuffer",value:function(e){return new f(this,e)}},{key:"createView",value:function(e){return new f(this,e)}},{key:"clone",value:function(){var n=new e;return n.stride=this.stride,n.fields=new Map,this.fields.forEach((function(e,t){return n.fields.set(t,e)})),n.fieldNames=this.fieldNames.slice(),n.BufferType=this.BufferType,n}}]),e}();function c(){return new s}},11448:function(e,n,t){t.d(n,{t:function(){return o}});var i=t(43144),r=t(15671),o=(0,i.Z)((function e(n,t,i,o,u){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;(0,r.Z)(this,e),this.name=n,this.count=t,this.type=i,this.offset=o,this.stride=u,this.normalized=a,this.divisor=f}))},21744:function(e,n,t){t.d(n,{n:function(){return r}});var i=t(71802);function r(e,n,t){var r,s=e.byteLength/(4*n),c=new Uint32Array(e,0,s*n),l=new Uint32Array(s),v=null!==(r=null===t||void 0===t?void 0:t.minReduction)&&void 0!==r?r:0,h=(null===t||void 0===t?void 0:t.originalIndices)||null,d=h?h.length:0,p=(null===t||void 0===t?void 0:t.componentOffsets)||null,g=0;if(p)for(var y=0;y<p.length-1;y++){var m=p[y+1]-p[y];m>g&&(g=m)}else g=s;var O=Math.floor(1.1*g)+1;(null==f||f.length<2*O)&&(f=new Uint32Array((0,i.a8)(2*O)));for(var N=0;N<2*O;N++)f[N]=0;for(var w=0,A=!!p&&!!h,I=A?d:s,k=A?new Uint32Array(d):null,T=1.96,S=0!==v?Math.ceil(4*T*T/(v*v)*v*(1-v)):I,_=1,E=p?p[1]:I,F=0;F<I;F++){if(F===S){var b=1-w/F;if(b+T*Math.sqrt(b*(1-b)/F)<v)return null;S*=2}if(F===E){for(var P=0;P<2*O;P++)f[P]=0;if(h)for(var L=p[_-1];L<p[_];L++)k[L]=l[h[L]];E=p[++_]}for(var M=A?h[F]:F,D=M*n,U=a(c,D,n),C=U%O,V=w;0!==f[2*C+1];){if(f[2*C]===U){var R=f[2*C+1]-1;if(o(c,D,R*n,n)){V=l[R];break}}++C>=O&&(C-=O)}V===w&&(f[2*C]=U,f[2*C+1]=M+1,w++),l[M]=V}if(0!==v&&1-w/s<v)return null;if(A){for(var Z=p[_-1];Z<k.length;Z++)k[Z]=l[h[Z]];l=k}var B=new Uint32Array(n*w);w=0;for(var x=0;x<I;x++)l[x]===w&&(u(c,(A?h[x]:x)*n,B,w*n,n),w++);if(h&&!A){for(var W=new Uint32Array(d),G=0;G<W.length;G++)W[G]=l[h[G]];l=W}return{buffer:B.buffer,indices:l,uniqueCount:w}}function o(e,n,t,i){for(var r=0;r<i;r++)if(e[n+r]!==e[t+r])return!1;return!0}function u(e,n,t,i,r){for(var o=0;o<r;o++)t[i+o]=e[n+o]}function a(e,n,t){for(var i=0,r=0;r<t;r++)i=(i=e[n+r]+i|0)+(i<<11)+(i>>>2)|0;return i>>>0}var f=null},87440:function(e,n,t){t.d(n,{A:function(){return p},T:function(){return y},a:function(){return w},b:function(){return X},c:function(){return j},d:function(){return b},e:function(){return g},f:function(){return H},h:function(){return C},m:function(){return J},o:function(){return v},u:function(){return L},w:function(){return P}});var i=t(15671),r=t(43144),o=t(21744),u=t(94777),a=t(43345),f=t(93122),s=t(11448),c=t(93661),l=t(71802);function v(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=e.stride;return e.fieldNames.filter((function(n){var t=e.fields.get(n).optional;return!(t&&t.glPadding)})).map((function(i){var r=e.fields.get(i),o=r.constructor.ElementCount,u=h(r.constructor.ElementType),a=r.offset,f=!(!r.optional||!r.optional.glNormalized);return new s.t(i,o,u,a,t,f,n)}))}function h(e){var n=d[e];if(n)return n;throw new Error("BufferType not supported in WebGL")}var d={u8:f.C.UNSIGNED_BYTE,u16:f.C.UNSIGNED_SHORT,u32:f.C.UNSIGNED_INT,i8:f.C.BYTE,i16:f.C.SHORT,i32:f.C.INT,f32:f.C.FLOAT},p=(0,u.T)().vec3f(a.O.POSITION).u16(a.O.COMPONENTINDEX).u16(a.O.U16PADDING),g=(0,u.T)().vec2u8(a.O.SIDENESS),y=v(g),m=(0,u.T)().vec3f(a.O.POSITION0).vec3f(a.O.POSITION1).u16(a.O.COMPONENTINDEX).u8(a.O.VARIANTOFFSET,{glNormalized:!0}).u8(a.O.VARIANTSTROKE).u8(a.O.VARIANTEXTENSION,{glNormalized:!0}).u8(a.O.U8PADDING,{glPadding:!0}).u16(a.O.U16PADDING,{glPadding:!0}),O=m.clone().vec3f(a.O.NORMAL),N=m.clone().vec3f(a.O.NORMALA).vec3f(a.O.NORMALB),w=new Map([[a.O.POSITION0,0],[a.O.POSITION1,1],[a.O.COMPONENTINDEX,2],[a.O.VARIANTOFFSET,3],[a.O.VARIANTSTROKE,4],[a.O.VARIANTEXTENSION,5],[a.O.NORMAL,6],[a.O.NORMALA,6],[a.O.NORMALB,7],[a.O.SIDENESS,8]]);function A(e,n,t){for(var i=n/3,r=new Uint32Array(t+1),o=new Uint32Array(t+1),u=function(e,n){e<n?r[e+1]++:o[n+1]++},a=0;a<i;a++){var f=e[3*a],s=e[3*a+1],c=e[3*a+2];u(f,s),u(s,c),u(c,f)}for(var l=0,v=0,h=0;h<t;h++){var d=r[h+1],p=o[h+1];r[h+1]=l,o[h+1]=v,l+=d,v+=p}for(var g=new Uint32Array(6*i),y=r[t],m=function(e,n,t){if(e<n){var i=r[e+1]++;g[2*i]=n,g[2*i+1]=t}else{var u=o[n+1]++;g[2*y+2*u]=e,g[2*y+2*u+1]=t}},O=0;O<i;O++){var N=e[3*O],w=e[3*O+1],A=e[3*O+2];m(N,w,O),m(w,A,O),m(A,N,O)}for(var I=function(e,n){for(var t=2*e,i=n-e,r=1;r<i;r++){for(var o=g[t+2*r],u=g[t+2*r+1],a=r-1;a>=0&&g[t+2*a]>o;a--)g[t+2*a+2]=g[t+2*a],g[t+2*a+3]=g[t+2*a+1];g[t+2*a+2]=o,g[t+2*a+3]=u}},k=0;k<t;k++)I(r[k],r[k+1]),I(y+o[k],y+o[k+1]);for(var T=new Int32Array(3*i),S=function(n,t){return n===e[3*t]?0:n===e[3*t+1]?1:n===e[3*t+2]?2:-1},_=function(e,n){var t=S(e,n);T[3*n+t]=-1},E=function(e,n,t,i){var r=S(e,n);T[3*n+r]=i;var o=S(t,i);T[3*i+o]=n},F=0;F<t;F++){for(var b=r[F],P=r[F+1],L=o[F],M=o[F+1];b<P&&L<M;){var D=g[2*b],U=g[2*y+2*L];D===U?(E(F,g[2*b+1],U,g[2*y+2*L+1]),b++,L++):D<U?(_(F,g[2*b+1]),b++):(_(U,g[2*y+2*L+1]),L++)}for(;b<P;)_(F,g[2*b+1]),b++;for(;L<M;)_(g[2*y+2*L],g[2*y+2*L+1]),L++}return T}var I=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,[{key:"updateSettings",value:function(e){this.settings=e,this._edgeHashFunction=e.reducedPrecision?E:_}},{key:"write",value:function(e,n,t){var i=this._edgeHashFunction(t);D.seed=i;var r=D.getIntRange(0,255),o=D.getIntRange(0,this.settings.variants-1),u=D.getFloat(),a=255*(.5*function(e,n){var t=e<0?-1:1;return Math.pow(Math.abs(e),n)*t}(-(1-Math.min(u/.7,1))+Math.max(0,u-.7)/(1-.7),1.2)+.5);e.position0.setVec(n,t.position0),e.position1.setVec(n,t.position1),e.componentIndex.set(n,t.componentIndex),e.variantOffset.set(n,r),e.variantStroke.set(n,o),e.variantExtension.set(n,a)}},{key:"trim",value:function(e,n){return e.slice(0,n)}}]),e}(),k=new Float32Array(6),T=new Uint32Array(k.buffer),S=new Uint32Array(1);function _(e){var n=k;n[0]=e.position0[0],n[1]=e.position0[1],n[2]=e.position0[2],n[3]=e.position1[0],n[4]=e.position1[1],n[5]=e.position1[2],S[0]=5381;for(var t=0;t<T.length;t++)S[0]=31*S[0]+T[t];return S[0]}function E(e){var n=k;n[0]=F(e.position0[0]),n[1]=F(e.position0[1]),n[2]=F(e.position0[2]),n[3]=F(e.position1[0]),n[4]=F(e.position1[1]),n[5]=F(e.position1[2]),S[0]=5381;for(var t=0;t<T.length;t++)S[0]=31*S[0]+T[t];return S[0]}function F(e){return Math.round(1e4*e)/1e4}var b=function(){function e(){(0,i.Z)(this,e),this._commonWriter=new I}return(0,r.Z)(e,[{key:"updateSettings",value:function(e){this._commonWriter.updateSettings(e)}},{key:"allocate",value:function(e){return O.createBuffer(e)}},{key:"write",value:function(e,n,t){this._commonWriter.write(e,n,t),(0,l.u)(M,t.faceNormal0,t.faceNormal1),(0,l.z)(M,M),e.normal.setVec(n,M)}},{key:"trim",value:function(e,n){return this._commonWriter.trim(e,n)}}]),e}();b.Layout=O,b.glLayout=v(O,1);var P=function(){function e(){(0,i.Z)(this,e),this._commonWriter=new I}return(0,r.Z)(e,[{key:"updateSettings",value:function(e){this._commonWriter.updateSettings(e)}},{key:"allocate",value:function(e){return N.createBuffer(e)}},{key:"write",value:function(e,n,t){this._commonWriter.write(e,n,t),e.normalA.setVec(n,t.faceNormal0),e.normalB.setVec(n,t.faceNormal1)}},{key:"trim",value:function(e,n){return this._commonWriter.trim(e,n)}}]),e}();P.Layout=N,P.glLayout=v(N,1);var L,M=(0,l.n)(),D=new c.W,U=-1;function C(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z,r=e.vertices.position,o=e.vertices.componentIndex,u=(0,l.m)(i.anglePlanar),a=(0,l.m)(i.angleSignificantEdge),f=Math.cos(a),s=Math.cos(u),v=W.edge,h=v.position0,d=v.position1,p=v.faceNormal0,g=v.faceNormal1,y=x(e),m=B(e),O=m.length/4,N=n.allocate(O),w=0,A=O,I=t.allocate(A),k=0,T=0,S=0,_=(0,c.X)(0,O),E=new Float32Array(O);(0,c.Y)(E,(function(e,n,t){r.getVec(m[4*n+0],h),r.getVec(m[4*n+1],d),t[n]=(0,l.x)(h,d)})),_.sort((function(e,n){return E[n]-E[e]}));for(var F=new Array,b=new Array,P=0;P<O;P++){var L=_[P],M=E[L],D=m[4*L+0],C=m[4*L+1],G=m[4*L+2],H=m[4*L+3],X=H===U;if(r.getVec(D,h),r.getVec(C,d),X)(0,l.o)(p,y[3*G+0],y[3*G+1],y[3*G+2]),(0,l.r)(g,p),v.componentIndex=o.get(D),v.cosAngle=(0,l.P)(p,g);else{if((0,l.o)(p,y[3*G+0],y[3*G+1],y[3*G+2]),(0,l.o)(g,y[3*H+0],y[3*H+1],y[3*H+2]),v.componentIndex=o.get(D),v.cosAngle=(0,l.P)(p,g),R(v,s))continue;v.cosAngle<-.9999&&(0,l.r)(g,p)}T+=M,S++,X||V(v,f)?(n.write(N,w++,v),F.push(M)):Z(v,u)&&(t.write(I,k++,v),b.push(M))}var q=new Float32Array(F.reverse()),K=new Float32Array(b.reverse());return{regular:{instancesData:n.trim(N,w),lodInfo:{lengths:q}},silhouette:{instancesData:t.trim(I,k),lodInfo:{lengths:K}},averageEdgeLength:T/S}}function V(e,n){return e.cosAngle<n}function R(e,n){return e.cosAngle>n}function Z(e,n){var t=(0,l.i)(e.cosAngle),i=W.fwd,r=W.ortho;return(0,l.H)(i,e.position1,e.position0),t*((0,l.P)((0,l._)(r,e.faceNormal0,e.faceNormal1),i)>0?-1:1)>n}function B(e){for(var n=e.faces.length/3,t=e.faces,i=e.neighbors,r=0,o=0;o<n;o++){var u=i[3*o+0],a=i[3*o+1],f=i[3*o+2],s=t[3*o+0],c=t[3*o+1],l=t[3*o+2];r+=u===U||s<c?1:0,r+=a===U||c<l?1:0,r+=f===U||l<s?1:0}for(var v=new Int32Array(4*r),h=0,d=0;d<n;d++){var p=i[3*d+0],g=i[3*d+1],y=i[3*d+2],m=t[3*d+0],O=t[3*d+1],N=t[3*d+2];(p===U||m<O)&&(v[h++]=m,v[h++]=O,v[h++]=d,v[h++]=p),(g===U||O<N)&&(v[h++]=O,v[h++]=N,v[h++]=d,v[h++]=g),(y===U||N<m)&&(v[h++]=N,v[h++]=m,v[h++]=d,v[h++]=y)}return v}function x(e){for(var n=e.faces.length/3,t=e.vertices.position,i=e.faces,r=G.v0,o=G.v1,u=G.v2,a=new Float32Array(3*n),f=0;f<n;f++){var s=i[3*f+0],c=i[3*f+1],v=i[3*f+2];t.getVec(s,r),t.getVec(c,o),t.getVec(v,u),(0,l.e)(o,o,r),(0,l.e)(u,u,r),(0,l._)(r,o,u),(0,l.z)(r,r),a[3*f+0]=r[0],a[3*f+1]=r[1],a[3*f+2]=r[2]}return a}!function(e){e[e.SOLID=0]="SOLID",e[e.SKETCH=1]="SKETCH"}(L||(L={}));var W={edge:{position0:(0,l.n)(),position1:(0,l.n)(),faceNormal0:(0,l.n)(),faceNormal1:(0,l.n)(),componentIndex:0,cosAngle:0},ortho:(0,l.n)(),fwd:(0,l.n)()},G={v0:(0,l.n)(),v1:(0,l.n)(),v2:(0,l.n)()},z={anglePlanar:4,angleSignificantEdge:35};function H(e){var n=X(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return K.updateSettings(e.writerSettings),Y.updateSettings(e.writerSettings),C(n,K,Y)}function X(e,n,t,i){if(n){var r=A(t,i,e.count);return new q(t,i,r,e)}var u=(0,o.n)(e.buffer,e.stride/4,{originalIndices:t,originalIndicesLength:i}),a=A(u.indices,i,u.uniqueCount);return{faces:u.indices,facesLength:u.indices.length,neighbors:a,vertices:p.createView(u.buffer)}}var q=(0,r.Z)((function e(n,t,r,o){(0,i.Z)(this,e),this.faces=n,this.facesLength=t,this.neighbors=r,this.vertices=o})),K=new b,Y=new P,j=(0,u.T)().vec3f(a.O.POSITION0).vec3f(a.O.POSITION1),J=(0,u.T)().vec3f(a.O.POSITION0).vec3f(a.O.POSITION1).u16(a.O.COMPONENTINDEX).u16(a.O.U16PADDING,{glPadding:!0})}}]);
//# sourceMappingURL=7440.b834303f.chunk.js.map