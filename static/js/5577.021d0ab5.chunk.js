"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[5577],{25577:function(t,e,n){n.d(e,{I:function(){return Tt},a:function(){return V},b:function(){return q},c:function(){return bt},d:function(){return Dt},e:function(){return Q},f:function(){return Mt},g:function(){return M},i:function(){return b},k:function(){return $t},u:function(){return Y}});var o=n(74165),r=n(93433),i=n(15861),a=n(37762),l=n(1413),s=n(43144),p=n(15671),u=n(60136),d=n(29388),y=n(48848),c=n(62610),h=n(93314),f=n(40114),v=n(93661),m=n(82474),w=n(59984),Z=n(40558),g=n(20302),I=n(53586),x=n(60369),F=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).type=null,o}return(0,s.Z)(n)}(f.l);(0,y.e)([(0,y.y)({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],F.prototype,"type",void 0);var S,j=F=(0,y.e)([(0,y.n)("esri.popup.content.Content")],F),T=S=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).description=null,o.displayType="auto",o.title=null,o.type="attachments",o}return(0,s.Z)(n,[{key:"clone",value:function(){return new S({description:this.description,displayType:this.displayType,title:this.title})}}]),n}(j);(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],T.prototype,"description",void 0),(0,y.e)([(0,y.y)({type:["auto","preview","list"],json:{write:!0}})],T.prototype,"displayType",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],T.prototype,"title",void 0),(0,y.e)([(0,y.y)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],T.prototype,"type",void 0);var k,b=T=S=(0,y.e)([(0,y.n)("esri.popup.content.AttachmentsContent")],T),N=k=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).creator=null,o.destroyer=null,o.outFields=null,o.type="custom",o}return(0,s.Z)(n,[{key:"clone",value:function(){return new k({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,v.y)(this.outFields):null})}}]),n}(j);(0,y.e)([(0,y.y)()],N.prototype,"creator",void 0),(0,y.e)([(0,y.y)()],N.prototype,"destroyer",void 0),(0,y.e)([(0,y.y)()],N.prototype,"outFields",void 0),(0,y.e)([(0,y.y)({type:["custom"],readOnly:!0})],N.prototype,"type",void 0);var _,O=N=k=(0,y.e)([(0,y.n)("esri.popup.content.CustomContent")],N),R=_=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).title=null,o.expression=null,o.returnType="dictionary",o}return(0,s.Z)(n,[{key:"clone",value:function(){return new _({title:this.title,expression:this.expression})}}]),n}(f.l);(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],R.prototype,"title",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],R.prototype,"expression",void 0),(0,y.e)([(0,y.y)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],R.prototype,"returnType",void 0);var C,M=R=_=(0,y.e)([(0,y.n)("esri.popup.ElementExpressionInfo")],R),A=C=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).expressionInfo=null,o.type="expression",o}return(0,s.Z)(n,[{key:"clone",value:function(){var t;return new C({expressionInfo:null===(t=this.expressionInfo)||void 0===t?void 0:t.clone()})}}]),n}(j);(0,y.e)([(0,y.y)({type:M,json:{write:!0}})],A.prototype,"expressionInfo",void 0),(0,y.e)([(0,y.y)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],A.prototype,"type",void 0);var E,L=A=C=(0,y.e)([(0,y.n)("esri.popup.content.ExpressionContent")],A),D=(0,Z.o)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});D.toJSON.bind(D),D.fromJSON.bind(D);var B=E=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).dateFormat=null,o.dateTimeFormatOptions=null,o.digitSeparator=!1,o.places=null,o}return(0,s.Z)(n,[{key:"clone",value:function(){return new E({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}},{key:"format",value:function(t){return this.dateFormat?(0,I.L)(t,(0,l.Z)((0,l.Z)({},(0,I.S)(this.dateFormat)),this.dateTimeFormatOptions)):(0,I.m)(t,(0,I.u)(this))}},{key:"formatRasterPixelValue",value:function(t){return t.includes("-")?t:t.trim().includes(",")?(n=(e=",")+" ",this._formatDelimitedString(t,e,n,this)):t.trim().includes(";")?(n=(e=";")+" ",this._formatDelimitedString(t,e,n,this)):t.trim().includes(" ")?(e=n=" ",this._formatDelimitedString(t,e,n,this)):this.format(Number(t));var e,n}},{key:"_formatDelimitedString",value:function(t,e,n,o){var r=this;return t&&e&&n&&o?t.trim().split(e).map((function(t){return r.format(Number(t))})).join(n):t}}]),n}(f.l);(0,y.e)([(0,g.r)(D)],B.prototype,"dateFormat",void 0),(0,y.e)([(0,y.y)({type:Object,json:{read:!1}})],B.prototype,"dateTimeFormatOptions",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],B.prototype,"digitSeparator",void 0),(0,y.e)([(0,y.y)({type:y.T,json:{write:!0}})],B.prototype,"places",void 0);var J,Y=B=E=(0,y.e)([(0,y.n)("esri.popup.support.FieldInfoFormat")],B),U=J=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).fieldName=null,o.format=null,o.isEditable=!1,o.label=null,o.stringFieldOption="text-box",o.statisticType=null,o.tooltip=null,o.visible=!0,o}return(0,s.Z)(n,[{key:"clone",value:function(){return new J({fieldName:this.fieldName,format:this.format?(0,v.y)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}}]),n}(f.l);(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],U.prototype,"fieldName",void 0),(0,y.e)([(0,y.y)({type:Y,json:{write:!0}})],U.prototype,"format",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0,default:!1}})],U.prototype,"isEditable",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],U.prototype,"label",void 0),(0,y.e)([(0,g.r)(new Z.s({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],U.prototype,"stringFieldOption",void 0),(0,y.e)([(0,y.y)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],U.prototype,"statisticType",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],U.prototype,"tooltip",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],U.prototype,"visible",void 0);var P,V=U=J=(0,y.e)([(0,y.n)("esri.popup.FieldInfo")],U),z=P=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).attributes=null,o.description=null,o.fieldInfos=null,o.title=null,o.type="fields",o}return(0,s.Z)(n,[{key:"writeFieldInfos",value:function(t,e){e.fieldInfos=t&&t.map((function(t){return t.toJSON()}))}},{key:"clone",value:function(){return new P((0,v.y)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}}]),n}(j);(0,y.e)([(0,y.y)({type:Object,json:{write:!0}})],z.prototype,"attributes",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],z.prototype,"description",void 0),(0,y.e)([(0,y.y)({type:[V]})],z.prototype,"fieldInfos",void 0),(0,y.e)([(0,m.r)("fieldInfos")],z.prototype,"writeFieldInfos",null),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],z.prototype,"title",void 0),(0,y.e)([(0,y.y)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],z.prototype,"type",void 0);var q=z=P=(0,y.e)([(0,y.n)("esri.popup.content.FieldsContent")],z),W=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).altText=null,o.caption="",o.title="",o.type=null,o}return(0,s.Z)(n)}(f.l);(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],W.prototype,"altText",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],W.prototype,"caption",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],W.prototype,"title",void 0),(0,y.e)([(0,y.y)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],W.prototype,"type",void 0);var G,K=W=(0,y.e)([(0,y.n)("esri.popup.content.mixins.MediaInfo")],W),H=G=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).fieldName=null,o.tooltip=null,o.value=null,o}return(0,s.Z)(n,[{key:"clone",value:function(){return new G({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}}]),n}(y.m);(0,y.e)([(0,y.y)()],H.prototype,"fieldName",void 0),(0,y.e)([(0,y.y)()],H.prototype,"tooltip",void 0),(0,y.e)([(0,y.y)()],H.prototype,"value",void 0);var $,Q=H=G=(0,y.e)([(0,y.n)("esri.popup.content.support.ChartMediaInfoValueSeries")],H),X=$=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).fields=[],o.normalizeField=null,o.series=[],o.tooltipField=null,o}return(0,s.Z)(n,[{key:"clone",value:function(){return new $({fields:(0,v.y)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}}]),n}(f.l);(0,y.e)([(0,y.y)({type:[String],json:{write:!0}})],X.prototype,"fields",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],X.prototype,"normalizeField",void 0),(0,y.e)([(0,y.y)({type:[Q],json:{read:!1}})],X.prototype,"series",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],X.prototype,"tooltipField",void 0);var tt=X=$=(0,y.e)([(0,y.n)("esri.popup.content.support.ChartMediaInfoValue")],X),et=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).type=null,o.value=null,o}return(0,s.Z)(n)}(K);(0,y.e)([(0,y.y)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],et.prototype,"type",void 0),(0,y.e)([(0,y.y)({type:tt,json:{write:!0}})],et.prototype,"value",void 0);var nt,ot=et=(0,y.e)([(0,y.n)("esri.popup.content.mixins.ChartMediaInfo")],et),rt=(0,Z.o)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"}),it=nt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).type="bar-chart",o}return(0,s.Z)(n,[{key:"clone",value:function(){return new nt({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(ot);(0,y.e)([(0,y.y)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:rt.write}})],it.prototype,"type",void 0);var at,lt=it=nt=(0,y.e)([(0,y.n)("esri.popup.content.BarChartMediaInfo")],it),st=at=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).type="column-chart",o}return(0,s.Z)(n,[{key:"clone",value:function(){return new at({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(ot);(0,y.e)([(0,y.y)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:rt.write}})],st.prototype,"type",void 0);var pt,ut=st=at=(0,y.e)([(0,y.n)("esri.popup.content.ColumnChartMediaInfo")],st),dt=pt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).linkURL=null,o.sourceURL=null,o}return(0,s.Z)(n,[{key:"clone",value:function(){return new pt({linkURL:this.linkURL,sourceURL:this.sourceURL})}}]),n}(f.l);(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],dt.prototype,"linkURL",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],dt.prototype,"sourceURL",void 0);var yt,ct=dt=pt=(0,y.e)([(0,y.n)("esri.popup.content.support.ImageMediaInfoValue")],dt),ht=yt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).refreshInterval=null,o.type="image",o.value=null,o}return(0,s.Z)(n,[{key:"clone",value:function(){return new yt({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}}]),n}(K);(0,y.e)([(0,y.y)({type:Number,json:{write:!0}})],ht.prototype,"refreshInterval",void 0),(0,y.e)([(0,y.y)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],ht.prototype,"type",void 0),(0,y.e)([(0,y.y)({type:ct,json:{write:!0}})],ht.prototype,"value",void 0);var ft,vt=ht=yt=(0,y.e)([(0,y.n)("esri.popup.content.ImageMediaInfo")],ht),mt=ft=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).type="line-chart",o}return(0,s.Z)(n,[{key:"clone",value:function(){return new ft({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(ot);(0,y.e)([(0,y.y)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:rt.write}})],mt.prototype,"type",void 0);var wt,Zt=mt=ft=(0,y.e)([(0,y.n)("esri.popup.content.LineChartMediaInfo")],mt),gt=wt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).type="pie-chart",o}return(0,s.Z)(n,[{key:"clone",value:function(){return new wt({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(ot);(0,y.e)([(0,y.y)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:rt.write}})],gt.prototype,"type",void 0);var It,xt=gt=wt=(0,y.e)([(0,y.n)("esri.popup.content.PieChartMediaInfo")],gt),Ft={base:K,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":lt,"column-chart":ut,"line-chart":Zt,"pie-chart":xt,image:vt}},St=It=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).activeMediaInfoIndex=null,o.attributes=null,o.description=null,o.mediaInfos=null,o.title=null,o.type="media",o}return(0,s.Z)(n,[{key:"readMediaInfos",value:function(t){return t&&t.map((function(t){return"image"===t.type?vt.fromJSON(t):"barchart"===t.type?lt.fromJSON(t):"columnchart"===t.type?ut.fromJSON(t):"linechart"===t.type?Zt.fromJSON(t):"piechart"===t.type?xt.fromJSON(t):void 0})).filter(Boolean)}},{key:"writeMediaInfos",value:function(t,e){e.mediaInfos=t&&t.map((function(t){return t.toJSON()}))}},{key:"clone",value:function(){return new It((0,v.y)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}}]),n}(j);(0,y.e)([(0,y.y)()],St.prototype,"activeMediaInfoIndex",void 0),(0,y.e)([(0,y.y)({type:Object,json:{write:!0}})],St.prototype,"attributes",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],St.prototype,"description",void 0),(0,y.e)([(0,y.y)({types:[Ft]})],St.prototype,"mediaInfos",void 0),(0,y.e)([(0,m.o)("mediaInfos")],St.prototype,"readMediaInfos",null),(0,y.e)([(0,m.r)("mediaInfos")],St.prototype,"writeMediaInfos",null),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],St.prototype,"title",void 0),(0,y.e)([(0,y.y)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],St.prototype,"type",void 0);var jt,Tt=St=It=(0,y.e)([(0,y.n)("esri.popup.content.MediaContent")],St),kt=jt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).field=null,o.order=null,o}return(0,s.Z)(n,[{key:"clone",value:function(){return new jt({field:this.field,order:this.order})}}]),n}(f.l);(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],kt.prototype,"field",void 0),(0,y.e)([(0,y.y)({type:["asc","desc"],json:{write:!0}})],kt.prototype,"order",void 0);var bt=kt=jt=(0,y.e)([(0,y.n)("esri.popup.support.RelatedRecordsInfoFieldOrder")],kt),Nt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).description=null,o.displayCount=null,o.displayType="list",o.orderByFields=null,o.relationshipId=null,o.title=null,o.type="relationship",o}return(0,s.Z)(n)}((0,c.i)(j));(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],Nt.prototype,"description",void 0),(0,y.e)([(0,y.y)({type:Number,json:{type:y.T,write:!0}})],Nt.prototype,"displayCount",void 0),(0,y.e)([(0,y.y)({type:["list"],json:{write:!0}})],Nt.prototype,"displayType",void 0),(0,y.e)([(0,y.y)({type:[bt],json:{write:!0}})],Nt.prototype,"orderByFields",void 0),(0,y.e)([(0,y.y)({type:Number,json:{type:y.T,write:!0}})],Nt.prototype,"relationshipId",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],Nt.prototype,"title",void 0),(0,y.e)([(0,y.y)({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Nt.prototype,"type",void 0);var _t,Ot=Nt=(0,y.e)([(0,y.n)("esri.popup.content.RelationshipContent")],Nt),Rt=_t=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).text=null,o.type="text",o}return(0,s.Z)(n,[{key:"clone",value:function(){return new _t({text:this.text})}}]),n}(j);(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],Rt.prototype,"text",void 0),(0,y.e)([(0,y.y)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Rt.prototype,"type",void 0);var Ct,Mt=Rt=_t=(0,y.e)([(0,y.n)("esri.popup.content.TextContent")],Rt),At={base:null,key:"type",typeMap:{attachment:b,media:Tt,text:Mt,expression:L,field:q,relationship:Ot}},Et=Ct=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).name=null,o.title=null,o.expression=null,o.returnType=null,o}return(0,s.Z)(n,[{key:"clone",value:function(){return new Ct({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}]),n}(f.l);(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],Et.prototype,"name",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],Et.prototype,"title",void 0),(0,y.e)([(0,y.y)({type:String,json:{write:!0}})],Et.prototype,"expression",void 0),(0,y.e)([(0,y.y)({type:["string","number"],json:{write:!0}})],Et.prototype,"returnType",void 0);var Lt,Dt=Et=Ct=(0,y.e)([(0,y.n)("esri.popup.ExpressionInfo")],Et),Bt=Lt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).returnTopmostRaster=null,o.showNoDataRecords=null,o}return(0,s.Z)(n,[{key:"clone",value:function(){return new Lt({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}}]),n}(f.l);(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],Bt.prototype,"returnTopmostRaster",void 0),(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],Bt.prototype,"showNoDataRecords",void 0);var Jt,Yt=Bt=Lt=(0,y.e)([(0,y.n)("esri.popup.LayerOptions")],Bt),Ut=Jt=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(t){var o;return(0,p.Z)(this,n),(o=e.call(this,t)).showRelatedRecords=null,o.orderByFields=null,o}return(0,s.Z)(n,[{key:"clone",value:function(){return new Jt({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,v.y)(this.orderByFields):null})}}]),n}(f.l);(0,y.e)([(0,y.y)({type:Boolean,json:{write:!0}})],Ut.prototype,"showRelatedRecords",void 0),(0,y.e)([(0,y.y)({type:[bt],json:{write:!0}})],Ut.prototype,"orderByFields",void 0);var Pt=Ut=Jt=(0,y.e)([(0,y.n)("esri.popup.RelatedRecordsInfo")],Ut),Vt=y.a.getLogger("esri.PopupTemplate"),zt="relationships/",qt="expression/",Wt=h.j.ofType({key:"type",defaultKeyValue:"button",base:x.c,typeMap:{button:x.a,toggle:x.b}}),Gt={base:j,key:"type",typeMap:{media:Tt,custom:O,text:Mt,attachments:b,fields:q,expression:L,relationship:Ot}},Kt=["attachments","fields","media","text","expression","relationship"],Ht=function(t){(0,u.Z)(n,t);var e=(0,d.Z)(n);function n(){var t;return(0,p.Z)(this,n),(t=e.apply(this,arguments)).actions=null,t.content="",t.expressionInfos=null,t.fieldInfos=null,t.layerOptions=null,t.lastEditInfoEnabled=!0,t.outFields=null,t.overwriteActions=!1,t.returnGeometry=!1,t.title="",t}return(0,s.Z)(n,[{key:"castContent",value:function(t){return Array.isArray(t)?t.map((function(t){return(0,y.S)(Gt,t)})):"string"==typeof t||"function"==typeof t||t instanceof HTMLElement||(0,y.V)(t)?t:(Vt.error("content error","unsupported content value",{value:t}),null)}},{key:"readContent",value:function(t,e){var n=e.popupElements;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(e.description,e.mediaInfos,n):this._readPopupInfo(e)}},{key:"writeContent",value:function(t,e,n,o){var r=this;"string"!=typeof t?Array.isArray(t)&&(e.popupElements=t.filter((function(t){return Kt.includes(t.type)})).map((function(t){return t&&t.toJSON(o)})),e.popupElements.forEach((function(t){"attachments"===t.type?r._writeAttachmentContent(e):"media"===t.type?r._writeMediaContent(t,e):"text"===t.type?r._writeTextContent(t,e):"relationship"===t.type&&r._writeRelationshipContent(t,e)}))):e.description=t}},{key:"writeFieldInfos",value:function(t,e,n,o){var r=this.content,i=Array.isArray(r)?r:null;if(t){var l=i?i.filter((function(t){return"fields"===t.type})):[],s=l.length&&l.every((function(t){var e;return null===(e=t.fieldInfos)||void 0===e?void 0:e.length}));e.fieldInfos=t.filter(Boolean).map((function(t){var e=t.toJSON(o);return s&&(e.visible=!1),e}))}if(i){var p,u=(0,a.Z)(i);try{for(u.s();!(p=u.n()).done;){var d=p.value;"fields"===d.type&&this._writeFieldsContent(d,e)}}catch(y){u.e(y)}finally{u.f()}}}},{key:"writeLayerOptions",value:function(t,e,n,o){e[n]=!t||null===t.showNoDataRecords&&null===t.returnTopmostRaster?null:t.toJSON(o)}},{key:"writeTitle",value:function(t,e){e.title=t||""}},{key:"collectRequiredFields",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e,n){var i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.expressionInfos||[],t.next=3,this._collectExpressionInfoFields(e,n,[].concat((0,r.Z)(i),(0,r.Z)(this._getContentExpressionInfos(this.content,i))));case 3:(0,w.h)(e,n,[].concat((0,r.Z)(this.outFields||[]),(0,r.Z)(this._getActionsFields(this.actions)),(0,r.Z)(this._getTitleFields(this.title)),(0,r.Z)(this._getContentFields(this.content))));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getRequiredFields",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e){var n;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Set,t.next=3,this.collectRequiredFields(n,e);case 3:return t.abrupt("return",(0,r.Z)(n).sort());case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_writeFieldsContent",value:function(t,e){if(Array.isArray(t.fieldInfos)&&t.fieldInfos.length){var n=(0,v.y)(t.fieldInfos);Array.isArray(e.fieldInfos)?n.forEach((function(t){var n=e.fieldInfos.find((function(e){return e.fieldName.toLowerCase()===t.fieldName.toLowerCase()}));n?n.visible=!0:e.fieldInfos.push(t)})):e.fieldInfos=n}}},{key:"_writeAttachmentContent",value:function(t){t.showAttachments||(t.showAttachments=!0)}},{key:"_writeRelationshipContent",value:function(t,e){var n,o,i=this,a=(null===(n=t.orderByFields)||void 0===n?void 0:n.map((function(e){return i._toFieldOrderJSON(e,t.relationshipId)})))||[],s=[].concat((0,r.Z)((null===(o=e.relatedRecordsInfo)||void 0===o?void 0:o.orderByFields)||[]),(0,r.Z)(a));e.relatedRecordsInfo=(0,l.Z)({showRelatedRecords:!0},(null===s||void 0===s?void 0:s.length)&&{orderByFields:s})}},{key:"_writeTextContent",value:function(t,e){!e.description&&t.text&&(e.description=t.text)}},{key:"_writeMediaContent",value:function(t,e){if(Array.isArray(t.mediaInfos)&&t.mediaInfos.length){var n=(0,v.y)(t.mediaInfos);Array.isArray(e.mediaInfos)?e.mediaInfos=[].concat((0,r.Z)(e.mediaInfos),(0,r.Z)(n)):e.mediaInfos=n}}},{key:"_readPopupInfoElements",value:function(t,e,n){var o={description:!1,mediaInfos:!1};return n.map((function(n){return"media"===n.type?(n.mediaInfos||!e||o.mediaInfos||(n.mediaInfos=e,o.mediaInfos=!0),Tt.fromJSON(n)):"text"===n.type?(n.text||!t||o.description||(n.text=t,o.description=!0),Mt.fromJSON(n)):"attachments"===n.type?b.fromJSON(n):"fields"===n.type?q.fromJSON(n):"expression"===n.type?L.fromJSON(n):"relationship"===n.type?Ot.fromJSON(n):void 0})).filter(Boolean)}},{key:"_toRelationshipContent",value:function(t){var e=t.field,n=t.order;if(null===e||void 0===e||!e.startsWith(zt))return null;var o=e.replace(zt,"").split("/");if(2!==o.length)return null;var r=parseInt(o[0],10),i=o[1];return"number"==typeof r&&i?Ot.fromJSON({relationshipId:r,orderByFields:[{field:i,order:n}]}):null}},{key:"_toFieldOrderJSON",value:function(t,e){var n=t.order,o=t.field;return{field:"".concat(zt).concat(e,"/").concat(o),order:n}}},{key:"_readPopupInfo",value:function(t){var e=this,n=t.description,o=t.mediaInfos,r=t.showAttachments,i=t.relatedRecordsInfo,a=void 0===i?{showRelatedRecords:!1}:i,l=[];n?l.push(new Mt({text:n})):l.push(new q),Array.isArray(o)&&o.length&&l.push(Tt.fromJSON({mediaInfos:o})),r&&l.push(b.fromJSON({displayType:"auto"}));var s=a.showRelatedRecords,p=a.orderByFields;return s&&null!==p&&void 0!==p&&p.length&&p.forEach((function(t){var n=e._toRelationshipContent(t);n&&l.push(n)})),l.length?l:n}},{key:"_getContentElementFields",value:function(t){var e,n=this,o=null===t||void 0===t?void 0:t.type;if("attachments"===o)return[].concat((0,r.Z)(this._extractFieldNames(t.title)),(0,r.Z)(this._extractFieldNames(t.description)));if("custom"===o)return t.outFields||[];if("fields"===o)return[].concat((0,r.Z)(this._extractFieldNames(t.title)),(0,r.Z)(this._extractFieldNames(t.description)),(0,r.Z)(this._getFieldInfoFields(null!==(e=t.fieldInfos)&&void 0!==e?e:this.fieldInfos)));if("media"===o){var i=t.mediaInfos||[];return[].concat((0,r.Z)(this._extractFieldNames(t.title)),(0,r.Z)(this._extractFieldNames(t.description)),(0,r.Z)(i.reduce((function(t,e){return[].concat((0,r.Z)(t),(0,r.Z)(n._getMediaInfoFields(e)))}),[])))}return"text"===o?this._extractFieldNames(t.text):[]}},{key:"_getMediaInfoFields",value:function(t){var e=t.caption,n=t.title,o=t.value||{},i=o.fields,a=o.normalizeField,l=o.tooltipField,s=o.sourceURL,p=o.linkURL,u=[].concat((0,r.Z)(this._extractFieldNames(n)),(0,r.Z)(this._extractFieldNames(e)),(0,r.Z)(this._extractFieldNames(s)),(0,r.Z)(this._extractFieldNames(p)),(0,r.Z)(null!==i&&void 0!==i?i:[]));return a&&u.push(a),l&&u.push(l),u}},{key:"_getContentExpressionInfos",value:function(t,e){return Array.isArray(t)?t.reduce((function(t,e){return[].concat((0,r.Z)(t),(0,r.Z)("expression"===e.type&&e.expressionInfo?[e.expressionInfo]:[]))}),e):[]}},{key:"_getContentFields",value:function(t){var e=this;return"string"==typeof t?this._extractFieldNames(t):Array.isArray(t)?t.reduce((function(t,n){return[].concat((0,r.Z)(t),(0,r.Z)(e._getContentElementFields(n)))}),[]):[]}},{key:"_collectExpressionInfoFields",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e,n,r){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r,!t.t0){t.next=4;break}return t.next=4,Promise.all(r.map((function(t){return(0,w.S)(e,n,t.expression)})));case 4:case"end":return t.stop()}}),t)})));return function(e,n,o){return t.apply(this,arguments)}}()},{key:"_getFieldInfoFields",value:function(t){return t?t.filter((function(t){return void 0===t.visible||!!t.visible})).map((function(t){return t.fieldName})).filter((function(t){return!t.startsWith(zt)&&!t.startsWith(qt)})):[]}},{key:"_getActionsFields",value:function(t){var e=this;return t?t.toArray().reduce((function(t,n){return[].concat((0,r.Z)(t),(0,r.Z)(e._getActionFields(n)))}),[]):[]}},{key:"_getActionFields",value:function(t){var e=t.className,n=t.title,o=t.type,i="button"===o||"toggle"===o?t.image:"";return[].concat((0,r.Z)(this._extractFieldNames(n)),(0,r.Z)(this._extractFieldNames(e)),(0,r.Z)(this._extractFieldNames(i)))}},{key:"_getTitleFields",value:function(t){return"string"==typeof t?this._extractFieldNames(t):[]}},{key:"_extractFieldNames",value:function(t){if(!t||"string"!=typeof t)return[];var e=t.match(/{[^}]*}/g);if(!e)return[];var n=/\{(\w+):.+\}/,o=e.filter((function(t){return!(0===t.indexOf("{".concat(zt))||0===t.indexOf("{".concat(qt)))})).map((function(t){return t.replace(n,"{$1}")}));return o?o.map((function(t){return t.slice(1,-1)})):[]}}]),n}((0,c.i)(f.l));(0,y.e)([(0,y.y)({type:Wt})],Ht.prototype,"actions",void 0),(0,y.e)([(0,y.y)()],Ht.prototype,"content",void 0),(0,y.e)([(0,y.c)("content")],Ht.prototype,"castContent",null),(0,y.e)([(0,m.o)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ht.prototype,"readContent",null),(0,y.e)([(0,m.r)("content",{popupElements:{type:h.j.ofType(At)},showAttachments:{type:Boolean},mediaInfos:{type:h.j.ofType(Ft)},description:{type:String},relatedRecordsInfo:{type:Pt}})],Ht.prototype,"writeContent",null),(0,y.e)([(0,y.y)({type:[Dt],json:{write:!0}})],Ht.prototype,"expressionInfos",void 0),(0,y.e)([(0,y.y)({type:[V]})],Ht.prototype,"fieldInfos",void 0),(0,y.e)([(0,m.r)("fieldInfos")],Ht.prototype,"writeFieldInfos",null),(0,y.e)([(0,y.y)({type:Yt})],Ht.prototype,"layerOptions",void 0),(0,y.e)([(0,m.r)("layerOptions")],Ht.prototype,"writeLayerOptions",null),(0,y.e)([(0,y.y)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ht.prototype,"lastEditInfoEnabled",void 0),(0,y.e)([(0,y.y)()],Ht.prototype,"outFields",void 0),(0,y.e)([(0,y.y)()],Ht.prototype,"overwriteActions",void 0),(0,y.e)([(0,y.y)()],Ht.prototype,"returnGeometry",void 0),(0,y.e)([(0,y.y)({json:{type:String}})],Ht.prototype,"title",void 0),(0,y.e)([(0,m.r)("title")],Ht.prototype,"writeTitle",null);var $t=Ht=(0,y.e)([(0,y.n)("esri.PopupTemplate")],Ht)}}]);
//# sourceMappingURL=5577.021d0ab5.chunk.js.map