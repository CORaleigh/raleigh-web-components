"use strict";(self.webpackChunkraleighnc_web_component=self.webpackChunkraleighnc_web_component||[]).push([[4781],{91483:function(e,t,r){r.d(t,{l:function(){return y}});var i=r(15671),n=r(43144),a=r(60136),s=r(29388),o=r(48848),u=r(630),l=(r(93661),{visible:"visibleSublayers"}),y=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).scale=0,n}return(0,n.Z)(r,[{key:"layer",set:function(e){var t=this;this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.sublayers.on("change",(function(){return t.notifyChange("visibleSublayers")})),e.on("wms-sublayer-update",(function(e){return t.notifyChange(l[e.propertyName])}))],"layer"))}},{key:"layers",get:function(){return this.visibleSublayers.filter((function(e){return e.name})).map((function(e){return e.name})).join()}},{key:"version",get:function(){this.commitProperty("layers");var e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}},{key:"visibleSublayers",get:function(){var e=this.layer,t=this.scale,r=null===e||void 0===e?void 0:e.sublayers,i=[];return null!==r&&void 0!==r&&r.forEach((function e(r){var n=r.minScale,a=r.maxScale,s=r.sublayers;r.visible&&(0===t||(0===n||t<=n)&&(0===a||t>=a))&&(s?s.forEach(e):i.push(r))})),i}},{key:"toJSON",value:function(){var e=this.layer,t=this.layers;return{format:e.imageFormat,request:"GetMap",service:"WMS",styles:"",transparent:e.imageTransparency?"TRUE":"FALSE",version:e.version,layers:t}}}]),r}((0,u.a)(o.m));(0,o.e)([(0,o.y)()],y.prototype,"layer",null),(0,o.e)([(0,o.y)({readOnly:!0})],y.prototype,"layers",null),(0,o.e)([(0,o.y)({type:Number})],y.prototype,"scale",void 0),(0,o.e)([(0,o.y)({readOnly:!0})],y.prototype,"version",null),(0,o.e)([(0,o.y)({readOnly:!0})],y.prototype,"visibleSublayers",null),y=(0,o.e)([(0,o.n)("esri.layers.support.ExportWMSImageParameters")],y)},84643:function(e,t,r){r.d(t,{a:function(){return y}});var i=r(15671),n=r(43144),a=r(60136),s=r(29388),o=r(48848),u=(r(93661),r(12953)),l=r(91483),y=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"initialize",value:function(){this.exportImageParameters=new l.l({layer:this.layer})}},{key:"destroy",value:function(){this.exportImageParameters.destroy(),this.exportImageParameters=null}},{key:"exportImageVersion",get:function(){var e;return null!==(e=this.exportImageParameters)&&void 0!==e&&e.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}},{key:"fetchPopupFeatures",value:function(e){var t=this.layer;if(!e)return Promise.reject(new o.s("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:t}));var r=t.popupEnabled;if(!r)return Promise.reject(new o.s("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:r}));var i=this.createFetchPopupFeaturesQuery(e);if(!i)return Promise.resolve([]);var n=i.extent,a=i.width,s=i.height,u=i.x,l=i.y;if(!(n&&a&&s))throw new o.s("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:n,width:a,height:s});return t.fetchFeatureInfo(n,a,s,u,l)}}]),r}(e);return(0,o.e)([(0,o.y)()],t.prototype,"exportImageParameters",void 0),(0,o.e)([(0,o.y)({readOnly:!0})],t.prototype,"exportImageVersion",null),(0,o.e)([(0,o.y)()],t.prototype,"layer",void 0),(0,o.e)([(0,o.y)(u.g)],t.prototype,"timeExtent",void 0),t=(0,o.e)([(0,o.n)("esri.layers.mixins.WMSLayerView")],t)}},24781:function(e,t,r){r.r(t);var i=r(15671),n=r(43144),a=r(60136),s=r(29388),o=r(48848),u=(r(93661),r(46817)),l=r(23602),y=r(84643),p=(r(82474),r(40114),r(59389),r(50690),r(25456),r(71802),r(28390),r(17455),r(62610),r(1500),r(74384),r(40558),r(56162),r(64998),r(25577),r(93314),r(37856),r(15751),r(59984),r(20302),r(53586),r(65094),r(60369),r(92072),r(37944),r(86086),r(21385),r(89794),r(48200),r(85253),r(93209),r(46337),r(81556),r(93116),r(42467),r(46737),r(52113),r(75255),r(42667),r(61118),r(85113),r(23585),r(630),r(82396),r(47855),r(95249),r(79557),r(65415),r(25747),r(26313),r(37077),r(49228),r(41723),r(64772),r(91681),r(43955),r(76291),r(13239),r(24093),r(6189),r(17332),r(87750),r(20846),r(67430),r(87424),r(10464),r(32043),r(98598),r(19941),r(39994),r(49871),r(63212),r(69717),r(53409),r(35182),r(62466),r(51816),r(68781),r(69641),r(15436),r(35237),r(89181),r(69768),r(35865),r(51219),r(66577),r(95643),r(33795),r(43976),r(6762),r(2959),r(2821),r(33794),r(71147),r(84186),r(15529),r(70449),r(22603),r(56546),r(39926),r(8141),r(26151),r(90429),r(52559),r(95399),r(98987),r(99795),r(87753),r(29130),r(1685),r(12953),r(74797),r(45999),r(72973),r(62710),r(52721),r(61903),r(23444),r(40811),r(51920),r(63393),r(90442),r(64854),r(24623),r(64264),r(6379),r(21015),r(23341),r(41820),r(20086),r(92982),r(61416),r(77880),r(74494),r(77755),r(71645),r(89311),r(67066),r(39769),r(70607),r(85700),r(3719),r(32161),r(37686),r(16641),r(62642),r(90316),r(19891),r(47748),r(70522),r(43066),r(29048),r(68136),r(50253),r(27205),r(16263),r(3356),r(70381),r(20675),r(85026),r(33973),r(42233),r(93122),r(70288),r(95414),r(57791),r(43345),r(75833),r(31698),r(94777),r(4937),r(87440),r(21744),r(18936),r(4397),r(25217),r(43406),r(45184),r(72361),r(22159),r(73911),r(87917),r(46018),r(70863),r(62312),r(24648),r(63999),r(1797),r(5526),r(2473),r(59929),r(2467),r(75257),r(26789),r(64095),r(51732),r(2851),r(70285),r(72770),r(3393),r(42947),r(52195),r(35264),r(91483),function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.apply(this,arguments)).type="wms-3d",e}return(0,n.Z)(r,[{key:"initialize",value:function(){var e=this;this.layer.serviceSupportsSpatialReference(this.view.spatialReference)||this.addResolvingPromise(Promise.reject(new o.s("layerview:spatial-reference-incompatible","The spatial references supported by this WMS layer are incompatible with the spatial reference of the view"))),this.updatingHandles.add((function(){var t;return null===(t=e.exportImageParameters)||void 0===t?void 0:t.version}),(function(){e.updatingHandles.addPromise(e.refreshDebounced())}))}},{key:"createFetchPopupFeaturesQuery",value:function(e){var t=this.findExtentInfoAt(e),r=t.extent,i=new u.w(r[0],r[1],r[2],r[3],this._spatialReference),n=t.imageSize,a=n.width,s=n.height,o=i.width/a;return{extent:i,width:a,height:s,x:Math.round((e.x-i.xmin)/o),y:Math.round((i.ymax-e.y)/o)}}},{key:"getFetchOptions",value:function(){return{timeExtent:this.timeExtent}}}]),r}((0,y.a)(l.F))),h=p=(0,o.e)([(0,o.n)("esri.views.3d.layers.WMSLayerView3D")],p);t.default=h}}]);
//# sourceMappingURL=4781.8eae33f1.chunk.js.map